# Comparing `tmp/omero-web-5.9.1.tar.gz` & `tmp/omero-web-5.9.2.tar.gz`

## filetype from file(1)

```diff
@@ -1 +1 @@
-gzip compressed data, was "omero-web-5.9.1.tar", last modified: Thu Mar 18 10:45:59 2021, max compression
+gzip compressed data, was "omero-web-5.9.2.tar", last modified: Mon May 31 10:03:53 2021, max compression
```

## Comparing `omero-web-5.9.1.tar` & `omero-web-5.9.2.tar`

### file list

```diff
@@ -1,916 +1,912 @@
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-03-18 10:45:59.035392 omero-web-5.9.1/
--rw-r--r--   0 runner    (1001) docker     (121)      455 2021-03-18 10:45:55.000000 omero-web-5.9.1/MANIFEST.in
--rw-r--r--   0 runner    (1001) docker     (121)     6494 2021-03-18 10:45:59.035392 omero-web-5.9.1/PKG-INFO
--rw-r--r--   0 runner    (1001) docker     (121)     4483 2021-03-18 10:45:55.000000 omero-web-5.9.1/README.rst
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-03-18 10:45:58.931385 omero-web-5.9.1/omero/
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-03-18 10:45:58.935386 omero-web-5.9.1/omero/plugins/
--rw-r--r--   0 runner    (1001) docker     (121)    26405 2021-03-18 10:45:55.000000 omero-web-5.9.1/omero/plugins/web.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-03-18 10:45:58.935386 omero-web-5.9.1/omero_web.egg-info/
--rw-r--r--   0 runner    (1001) docker     (121)     6494 2021-03-18 10:45:58.000000 omero-web-5.9.1/omero_web.egg-info/PKG-INFO
--rw-r--r--   0 runner    (1001) docker     (121)    51404 2021-03-18 10:45:58.000000 omero-web-5.9.1/omero_web.egg-info/SOURCES.txt
--rw-r--r--   0 runner    (1001) docker     (121)        1 2021-03-18 10:45:58.000000 omero-web-5.9.1/omero_web.egg-info/dependency_links.txt
--rw-r--r--   0 runner    (1001) docker     (121)      101 2021-03-18 10:45:58.000000 omero-web-5.9.1/omero_web.egg-info/requires.txt
--rw-r--r--   0 runner    (1001) docker     (121)       15 2021-03-18 10:45:58.000000 omero-web-5.9.1/omero_web.egg-info/top_level.txt
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-03-18 10:45:58.939386 omero-web-5.9.1/omeroweb/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/__init__.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-03-18 10:45:58.939386 omero-web-5.9.1/omeroweb/api/
--rw-r--r--   0 runner    (1001) docker     (121)      843 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/api/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     2221 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/api/api_exceptions.py
--rw-r--r--   0 runner    (1001) docker     (121)     2417 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/api/api_marshal.py
--rw-r--r--   0 runner    (1001) docker     (121)     5246 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/api/api_query.py
--rw-r--r--   0 runner    (1001) docker     (121)     2102 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/api/api_settings.py
--rw-r--r--   0 runner    (1001) docker     (121)     4199 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/api/decorators.py
--rw-r--r--   0 runner    (1001) docker     (121)    10900 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/api/urls.py
--rw-r--r--   0 runner    (1001) docker     (121)    33661 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/api/views.py
--rw-r--r--   0 runner    (1001) docker     (121)     8999 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/connector.py
--rw-r--r--   0 runner    (1001) docker     (121)      300 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/custom_context_processor.py
--rw-r--r--   0 runner    (1001) docker     (121)     3365 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/custom_forms.py
--rw-r--r--   0 runner    (1001) docker     (121)    24988 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/decorators.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-03-18 10:45:58.939386 omero-web-5.9.1/omeroweb/feedback/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/feedback/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     1546 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/feedback/forms.py
--rw-r--r--   0 runner    (1001) docker     (121)     3758 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/feedback/sendfeedback.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-03-18 10:45:58.931385 omero-web-5.9.1/omeroweb/feedback/static/
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-03-18 10:45:58.931385 omero-web-5.9.1/omeroweb/feedback/static/feedback/
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-03-18 10:45:58.939386 omero-web-5.9.1/omeroweb/feedback/static/feedback/css/
--rw-r--r--   0 runner    (1001) docker     (121)      565 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/feedback/static/feedback/css/layout.css
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-03-18 10:45:58.939386 omero-web-5.9.1/omeroweb/feedback/templates/
--rw-r--r--   0 runner    (1001) docker     (121)      366 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/feedback/templates/404.html
--rw-r--r--   0 runner    (1001) docker     (121)      608 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/feedback/templates/500-nosubmit.html
--rw-r--r--   0 runner    (1001) docker     (121)     1589 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/feedback/templates/500.html
--rw-r--r--   0 runner    (1001) docker     (121)      629 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/feedback/templates/base_error.html
--rw-r--r--   0 runner    (1001) docker     (121)     2922 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/feedback/templates/comment.html
--rw-r--r--   0 runner    (1001) docker     (121)      831 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/feedback/templates/disabled.html
--rw-r--r--   0 runner    (1001) docker     (121)      671 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/feedback/templates/error.html
--rw-r--r--   0 runner    (1001) docker     (121)      674 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/feedback/templates/thanks.html
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-03-18 10:45:58.939386 omero-web-5.9.1/omeroweb/feedback/templatetags/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/feedback/templatetags/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     1455 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/feedback/templatetags/feedback_tags.py
--rw-r--r--   0 runner    (1001) docker     (121)     1343 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/feedback/urls.py
--rw-r--r--   0 runner    (1001) docker     (121)     7529 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/feedback/views.py
--rw-r--r--   0 runner    (1001) docker     (121)     8780 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/filesessionstore.py
--rw-r--r--   0 runner    (1001) docker     (121)     1370 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/httprsp.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-03-18 10:45:58.943386 omero-web-5.9.1/omeroweb/license/
--rw-r--r--   0 runner    (1001) docker     (121)    34520 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/license/agpl-3.0.txt
--rw-r--r--   0 runner    (1001) docker     (121)     2579 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/manage.py
--rw-r--r--   0 runner    (1001) docker     (121)    56359 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/settings.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-03-18 10:45:58.943386 omero-web-5.9.1/omeroweb/templates/
--rw-r--r--   0 runner    (1001) docker     (121)     1854 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/templates/nginx-development.conf.template
--rw-r--r--   0 runner    (1001) docker     (121)     1102 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/templates/nginx-location.conf.template
--rw-r--r--   0 runner    (1001) docker     (121)     1077 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/templates/nginx.conf.template
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-03-18 10:45:58.943386 omero-web-5.9.1/omeroweb/testlib/
--rw-r--r--   0 runner    (1001) docker     (121)    15489 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/testlib/__init__.py
--rwxr-xr-x   0 runner    (1001) docker     (121)     4254 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/urls.py
--rw-r--r--   0 runner    (1001) docker     (121)     1581 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/utils.py
--rw-r--r--   0 runner    (1001) docker     (121)      288 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/version.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-03-18 10:45:58.943386 omero-web-5.9.1/omeroweb/webadmin/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webadmin/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)    16836 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webadmin/custom_forms.py
--rw-r--r--   0 runner    (1001) docker     (121)    23972 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webadmin/forms.py
--rw-r--r--   0 runner    (1001) docker     (121)       74 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webadmin/models.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-03-18 10:45:58.931385 omero-web-5.9.1/omeroweb/webadmin/static/
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-03-18 10:45:58.931385 omero-web-5.9.1/omeroweb/webadmin/static/webadmin/
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-03-18 10:45:58.943386 omero-web-5.9.1/omeroweb/webadmin/static/webadmin/css/
--rw-r--r--   0 runner    (1001) docker     (121)     1073 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webadmin/static/webadmin/css/chosen.css
--rw-r--r--   0 runner    (1001) docker     (121)     2009 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webadmin/static/webadmin/css/drivespace.css
--rw-r--r--   0 runner    (1001) docker     (121)      101 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webadmin/static/webadmin/css/dusty.css
--rw-r--r--   0 runner    (1001) docker     (121)     1285 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webadmin/static/webadmin/css/picklist.css
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-03-18 10:45:58.943386 omero-web-5.9.1/omeroweb/webadmin/static/webadmin/image/
--rw-r--r--   0 runner    (1001) docker     (121)      875 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webadmin/static/webadmin/image/active.png
--rw-r--r--   0 runner    (1001) docker     (121)      521 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webadmin/static/webadmin/image/add.png
--rw-r--r--   0 runner    (1001) docker     (121)      761 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webadmin/static/webadmin/image/admin.png
--rw-r--r--   0 runner    (1001) docker     (121)      874 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webadmin/static/webadmin/image/del.png
--rw-r--r--   0 runner    (1001) docker     (121)     1736 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webadmin/static/webadmin/image/edit.png
--rw-r--r--   0 runner    (1001) docker     (121)      992 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webadmin/static/webadmin/image/editing.png
--rwxr-xr-x   0 runner    (1001) docker     (121)     3616 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webadmin/static/webadmin/image/frame_edit.png
--rw-r--r--   0 runner    (1001) docker     (121)      830 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webadmin/static/webadmin/image/guest.png
--rw-r--r--   0 runner    (1001) docker     (121)     1181 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webadmin/static/webadmin/image/icon_edit.png
--rw-r--r--   0 runner    (1001) docker     (121)     1037 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webadmin/static/webadmin/image/ldap.png
--rw-r--r--   0 runner    (1001) docker     (121)      533 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webadmin/static/webadmin/image/notactive.png
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-03-18 10:45:58.931385 omero-web-5.9.1/omeroweb/webadmin/static/webadmin/javascript/
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-03-18 10:45:58.943386 omero-web-5.9.1/omeroweb/webadmin/static/webadmin/javascript/jquery.imgareaselect-0.9.10/
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-03-18 10:45:58.947386 omero-web-5.9.1/omeroweb/webadmin/static/webadmin/javascript/jquery.imgareaselect-0.9.10/css/
--rw-r--r--   0 runner    (1001) docker     (121)      219 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webadmin/static/webadmin/javascript/jquery.imgareaselect-0.9.10/css/border-anim-h.gif
--rw-r--r--   0 runner    (1001) docker     (121)      219 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webadmin/static/webadmin/javascript/jquery.imgareaselect-0.9.10/css/border-anim-v.gif
--rw-r--r--   0 runner    (1001) docker     (121)       72 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webadmin/static/webadmin/javascript/jquery.imgareaselect-0.9.10/css/border-h.gif
--rw-r--r--   0 runner    (1001) docker     (121)       72 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webadmin/static/webadmin/javascript/jquery.imgareaselect-0.9.10/css/border-v.gif
--rw-r--r--   0 runner    (1001) docker     (121)      789 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webadmin/static/webadmin/javascript/jquery.imgareaselect-0.9.10/css/imgareaselect-animated.css
--rw-r--r--   0 runner    (1001) docker     (121)      775 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webadmin/static/webadmin/javascript/jquery.imgareaselect-0.9.10/css/imgareaselect-default.css
--rw-r--r--   0 runner    (1001) docker     (121)      651 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webadmin/static/webadmin/javascript/jquery.imgareaselect-0.9.10/css/imgareaselect-deprecated.css
--rw-r--r--   0 runner    (1001) docker     (121)    21413 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webadmin/static/webadmin/javascript/jquery.imgareaselect-0.9.10/jquery.imgareaselect.js
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-03-18 10:45:58.931385 omero-web-5.9.1/omeroweb/webadmin/templates/
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-03-18 10:45:58.947386 omero-web-5.9.1/omeroweb/webadmin/templates/webadmin/
--rw-r--r--   0 runner    (1001) docker     (121)     1886 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webadmin/templates/webadmin/admin_base.html
--rw-r--r--   0 runner    (1001) docker     (121)     5601 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webadmin/templates/webadmin/avatar.html
--rw-r--r--   0 runner    (1001) docker     (121)     2738 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webadmin/templates/webadmin/base.html
--rw-r--r--   0 runner    (1001) docker     (121)     3982 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webadmin/templates/webadmin/email.html
--rw-r--r--   0 runner    (1001) docker     (121)    16692 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webadmin/templates/webadmin/experimenter_form.html
--rw-r--r--   0 runner    (1001) docker     (121)     5146 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webadmin/templates/webadmin/experimenters.html
--rw-r--r--   0 runner    (1001) docker     (121)     4411 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webadmin/templates/webadmin/forgotten_password.html
--rw-r--r--   0 runner    (1001) docker     (121)     6428 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webadmin/templates/webadmin/group_form.html
--rw-r--r--   0 runner    (1001) docker     (121)     5588 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webadmin/templates/webadmin/group_form_owner.html
--rw-r--r--   0 runner    (1001) docker     (121)     4999 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webadmin/templates/webadmin/groups.html
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-03-18 10:45:58.947386 omero-web-5.9.1/omeroweb/webadmin/templates/webadmin/includes/
--rw-r--r--   0 runner    (1001) docker     (121)     2253 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webadmin/templates/webadmin/includes/drivespaceStats.html
--rw-r--r--   0 runner    (1001) docker     (121)     3830 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webadmin/templates/webadmin/includes/drivespaceStats.js
--rw-r--r--   0 runner    (1001) docker     (121)    14818 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webadmin/templates/webadmin/myaccount.html
--rw-r--r--   0 runner    (1001) docker     (121)     1315 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webadmin/templates/webadmin/noemail.html
--rw-r--r--   0 runner    (1001) docker     (121)     1035 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webadmin/templates/webadmin/password.html
--rw-r--r--   0 runner    (1001) docker     (121)     5390 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webadmin/templates/webadmin/statistics.html
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-03-18 10:45:58.947386 omero-web-5.9.1/omeroweb/webadmin/templatetags/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webadmin/templatetags/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     1462 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webadmin/templatetags/webadmin_tags.py
--rw-r--r--   0 runner    (1001) docker     (121)     2989 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webadmin/urls.py
--rw-r--r--   0 runner    (1001) docker     (121)    43593 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webadmin/views.py
--rw-r--r--   0 runner    (1001) docker     (121)     1039 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webadmin/webadmin_utils.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-03-18 10:45:58.951387 omero-web-5.9.1/omeroweb/webclient/
--rwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/__init__.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-03-18 10:45:58.951387 omero-web-5.9.1/omeroweb/webclient/controller/
--rwxr-xr-x   0 runner    (1001) docker     (121)     2124 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/controller/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)    35194 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/controller/container.py
--rw-r--r--   0 runner    (1001) docker     (121)     1030 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/controller/help.py
--rwxr-xr-x   0 runner    (1001) docker     (121)     8921 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/controller/history.py
--rwxr-xr-x   0 runner    (1001) docker     (121)     1032 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/controller/impexp.py
--rw-r--r--   0 runner    (1001) docker     (121)     5876 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/controller/search.py
--rw-r--r--   0 runner    (1001) docker     (121)     7703 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/controller/share.py
--rw-r--r--   0 runner    (1001) docker     (121)    13740 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/custom_forms.py
--rw-r--r--   0 runner    (1001) docker     (121)     8660 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/decorators.py
--rw-r--r--   0 runner    (1001) docker     (121)   141931 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/forms.py
--rw-r--r--   0 runner    (1001) docker     (121)    37277 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/show.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-03-18 10:45:58.931385 omero-web-5.9.1/omeroweb/webclient/static/
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-03-18 10:45:58.931385 omero-web-5.9.1/omeroweb/webclient/static/webclient/
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-03-18 10:45:58.951387 omero-web-5.9.1/omeroweb/webclient/static/webclient/css/
--rwxr-xr-x   0 runner    (1001) docker     (121)     4609 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/css/calendar.css
--rwxr-xr-x   0 runner    (1001) docker     (121)     3481 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/css/calendar_ie.css
--rwxr-xr-x   0 runner    (1001) docker     (121)    36993 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/css/dusty.css
--rwxr-xr-x   0 runner    (1001) docker     (121)    16938 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/css/dusty_ie.css
--rw-r--r--   0 runner    (1001) docker     (121)     1394 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/css/help.css
--rw-r--r--   0 runner    (1001) docker     (121)     2463 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/css/index.css
--rw-r--r--   0 runner    (1001) docker     (121)    70996 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/css/layout.css
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-03-18 10:45:58.971388 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/
--rw-r--r--   0 runner    (1001) docker     (121)      163 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/OME-Interface-Playground.png
--rw-r--r--   0 runner    (1001) docker     (121)     1043 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/Sidebar_19.png
--rwxr-xr-x   0 runner    (1001) docker     (121)     1458 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/XPButtonUploadText_61x22.png
--rwxr-xr-x   0 runner    (1001) docker     (121)      612 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/apply16.png
--rw-r--r--   0 runner    (1001) docker     (121)      615 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/basket.png
--rw-r--r--   0 runner    (1001) docker     (121)      636 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/basket16.png
--rw-r--r--   0 runner    (1001) docker     (121)      823 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/basket32.png
--rw-r--r--   0 runner    (1001) docker     (121)     1179 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/calendar_arrow_left.png
--rw-r--r--   0 runner    (1001) docker     (121)     1191 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/calendar_arrow_right.png
--rw-r--r--   0 runner    (1001) docker     (121)      652 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/cancel12.png
--rwxr-xr-x   0 runner    (1001) docker     (121)      792 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/cancel16.png
--rw-r--r--   0 runner    (1001) docker     (121)     1111 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/color_line12.png
--rw-r--r--   0 runner    (1001) docker     (121)     3238 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/color_line12_old.png
--rwxr-xr-x   0 runner    (1001) docker     (121)      857 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/color_line16.png
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-03-18 10:45:58.971388 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/comment/
--rw-r--r--   0 runner    (1001) docker     (121)     1127 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/comment/comment_cap.png
--rw-r--r--   0 runner    (1001) docker     (121)     1202 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/comment/comment_cap_rev.png
--rw-r--r--   0 runner    (1001) docker     (121)     1210 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/comment/comment_foot.png
--rw-r--r--   0 runner    (1001) docker     (121)     1202 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/comment/comment_foot_rev.png
--rw-r--r--   0 runner    (1001) docker     (121)      140 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/comment/comment_repeater.png
--rw-r--r--   0 runner    (1001) docker     (121)      140 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/comment/comment_repeater_rev.png
--rw-r--r--   0 runner    (1001) docker     (121)     2792 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/custom_login_logo.png
--rw-r--r--   0 runner    (1001) docker     (121)     1024 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/cut16.png
--rw-r--r--   0 runner    (1001) docker     (121)     3611 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/date.png
--rw-r--r--   0 runner    (1001) docker     (121)     2853 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/drag_handle_arrows_up-down.png
--rw-r--r--   0 runner    (1001) docker     (121)      164 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/dropdown_right_arrow.png
--rw-r--r--   0 runner    (1001) docker     (121)      426 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/eclipse_copy_edit12.png
--rw-r--r--   0 runner    (1001) docker     (121)      532 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/eclipse_copy_edit16.png
--rw-r--r--   0 runner    (1001) docker     (121)      463 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/eclipse_paste_edit12.png
--rw-r--r--   0 runner    (1001) docker     (121)      605 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/eclipse_paste_edit16.png
--rw-r--r--   0 runner    (1001) docker     (121)     1575 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/edit.png
--rw-r--r--   0 runner    (1001) docker     (121)      232 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/f.png
--rwxr-xr-x   0 runner    (1001) docker     (121)     3158 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/file_locked16.png
--rw-r--r--   0 runner    (1001) docker     (121)     1205 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/folder16.png
--rwxr-xr-x   0 runner    (1001) docker     (121)      659 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/folder16_old.png
--rwxr-xr-x   0 runner    (1001) docker     (121)     3586 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/folder64.png
--rw-r--r--   0 runner    (1001) docker     (121)      914 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/folder_html16.png
--rw-r--r--   0 runner    (1001) docker     (121)     2414 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/folder_html32.png
--rwxr-xr-x   0 runner    (1001) docker     (121)     6672 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/folder_html64.png
--rw-r--r--   0 runner    (1001) docker     (121)     1791 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/folder_html_locked16.png
--rw-r--r--   0 runner    (1001) docker     (121)     1187 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/folder_image16.png
--rwxr-xr-x   0 runner    (1001) docker     (121)      716 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/folder_image16_old.png
--rwxr-xr-x   0 runner    (1001) docker     (121)     3826 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/folder_image64.png
--rw-r--r--   0 runner    (1001) docker     (121)     3061 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/folder_image_locked16.png
--rw-r--r--   0 runner    (1001) docker     (121)     3060 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/folder_locked16.png
--rw-r--r--   0 runner    (1001) docker     (121)     1879 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/folder_locked32.png
--rw-r--r--   0 runner    (1001) docker     (121)      382 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/folder_plate16.png
--rw-r--r--   0 runner    (1001) docker     (121)      940 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/folder_plate16_old.png
--rw-r--r--   0 runner    (1001) docker     (121)     2430 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/folder_plate32.png
--rw-r--r--   0 runner    (1001) docker     (121)     7068 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/folder_plate64.png
--rw-r--r--   0 runner    (1001) docker     (121)     3152 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/folder_plate_locked16.png
--rw-r--r--   0 runner    (1001) docker     (121)     1289 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/folder_screen16.png
--rw-r--r--   0 runner    (1001) docker     (121)     1960 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/folder_screen32.png
--rw-r--r--   0 runner    (1001) docker     (121)     5230 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/folder_screen64.png
--rw-r--r--   0 runner    (1001) docker     (121)     3141 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/folder_screen_locked16.png
--rw-r--r--   0 runner    (1001) docker     (121)     1186 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/folder_yellow16.png
--rw-r--r--   0 runner    (1001) docker     (121)      770 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/folder_yellow16_old.png
--rw-r--r--   0 runner    (1001) docker     (121)     1619 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/folder_yellow32.png
--rw-r--r--   0 runner    (1001) docker     (121)     4021 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/folder_yellow64.png
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-03-18 10:45:58.975388 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/googiespell/
--rwxr-xr-x   0 runner    (1001) docker     (121)       55 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/googiespell/blank.gif
--rwxr-xr-x   0 runner    (1001) docker     (121)       70 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/googiespell/change_lang.gif
--rwxr-xr-x   0 runner    (1001) docker     (121)      722 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/googiespell/indicator.gif
--rwxr-xr-x   0 runner    (1001) docker     (121)     6678 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/googiespell/logo.png
--rwxr-xr-x   0 runner    (1001) docker     (121)      143 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/googiespell/ok.gif
--rwxr-xr-x   0 runner    (1001) docker     (121)      354 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/googiespell/spellc.gif
--rw-r--r--   0 runner    (1001) docker     (121)     1142 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/group_dropdown_arrow.png
--rw-r--r--   0 runner    (1001) docker     (121)     1708 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/group_green16.png
--rw-r--r--   0 runner    (1001) docker     (121)     1694 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/group_orange16.png
--rw-r--r--   0 runner    (1001) docker     (121)     1723 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/group_red16.png
--rw-r--r--   0 runner    (1001) docker     (121)     1006 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/handle.horizontal.gif
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-03-18 10:45:58.975388 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/help/
--rw-r--r--   0 runner    (1001) docker     (121)    46663 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/help/basket1.gif
--rw-r--r--   0 runner    (1001) docker     (121)     1189 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/icon_arrow_left.png
--rw-r--r--   0 runner    (1001) docker     (121)     1203 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/icon_arrow_right.png
--rw-r--r--   0 runner    (1001) docker     (121)     1201 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/icon_basic_basket_16.png
--rw-r--r--   0 runner    (1001) docker     (121)     1162 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/icon_basic_copy_16.png
--rw-r--r--   0 runner    (1001) docker     (121)     1314 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/icon_basic_cut_16.png
--rw-r--r--   0 runner    (1001) docker     (121)     1218 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/icon_basic_delete.png
--rw-r--r--   0 runner    (1001) docker     (121)     1179 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/icon_basic_delete_16.png
--rw-r--r--   0 runner    (1001) docker     (121)     1135 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/icon_basic_newwindow_16.png
--rw-r--r--   0 runner    (1001) docker     (121)     1163 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/icon_basic_paste_16.png
--rw-r--r--   0 runner    (1001) docker     (121)     1118 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/icon_basic_remove_16.png
--rw-r--r--   0 runner    (1001) docker     (121)     1225 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/icon_basic_user_16.png
--rw-r--r--   0 runner    (1001) docker     (121)     1181 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/icon_edit.png
--rw-r--r--   0 runner    (1001) docker     (121)     2852 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/icon_layout.png
--rw-r--r--   0 runner    (1001) docker     (121)     3273 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/icon_openwith.png
--rw-r--r--   0 runner    (1001) docker     (121)     3241 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/icon_openwith_toolbar.png
--rw-r--r--   0 runner    (1001) docker     (121)     3310 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/icon_redo16.png
--rw-r--r--   0 runner    (1001) docker     (121)     3134 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/icon_save.png
--rw-r--r--   0 runner    (1001) docker     (121)     2339 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/icon_scientist_36.png
--rw-r--r--   0 runner    (1001) docker     (121)     3435 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/icon_scientist_group_36.png
--rw-r--r--   0 runner    (1001) docker     (121)     3884 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/icon_settings_drivespace.png
--rw-r--r--   0 runner    (1001) docker     (121)     3442 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/icon_settings_groups.png
--rw-r--r--   0 runner    (1001) docker     (121)     3034 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/icon_settings_mail.png
--rw-r--r--   0 runner    (1001) docker     (121)     2350 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/icon_settings_user.png
--rw-r--r--   0 runner    (1001) docker     (121)     1099 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/icon_tag_delete.png
--rw-r--r--   0 runner    (1001) docker     (121)     2813 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/icon_tag_remove.png
--rw-r--r--   0 runner    (1001) docker     (121)     2934 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/icon_toolbar_add.png
--rw-r--r--   0 runner    (1001) docker     (121)     1348 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/icon_toolbar_basket.png
--rw-r--r--   0 runner    (1001) docker     (121)     1383 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/icon_toolbar_chat.png
--rw-r--r--   0 runner    (1001) docker     (121)     1475 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/icon_toolbar_chat2.png
--rw-r--r--   0 runner    (1001) docker     (121)     1527 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/icon_toolbar_clean.png
--rw-r--r--   0 runner    (1001) docker     (121)     1642 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/icon_toolbar_clean2.png
--rw-r--r--   0 runner    (1001) docker     (121)     1297 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/icon_toolbar_copy.png
--rw-r--r--   0 runner    (1001) docker     (121)     1534 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/icon_toolbar_cut.png
--rw-r--r--   0 runner    (1001) docker     (121)     1334 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/icon_toolbar_delete.png
--rw-r--r--   0 runner    (1001) docker     (121)     1250 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/icon_toolbar_paste.png
--rw-r--r--   0 runner    (1001) docker     (121)     1473 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/icon_toolbar_refresh.png
--rw-r--r--   0 runner    (1001) docker     (121)     1586 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/icon_toolbar_refresh2.png
--rw-r--r--   0 runner    (1001) docker     (121)     1216 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/icon_toolbar_remove.png
--rw-r--r--   0 runner    (1001) docker     (121)     1264 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/icon_toolbar_remove2.png
--rw-r--r--   0 runner    (1001) docker     (121)     1656 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/icon_toolbar_share.png
--rw-r--r--   0 runner    (1001) docker     (121)     1895 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/icon_toolbar_share2.png
--rw-r--r--   0 runner    (1001) docker     (121)     3314 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/icon_undo16.png
--rw-r--r--   0 runner    (1001) docker     (121)     1657 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/icon_user.png
--rw-r--r--   0 runner    (1001) docker     (121)     1736 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/icon_user_select.png
--rw-r--r--   0 runner    (1001) docker     (121)      219 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/image16.png
--rw-r--r--   0 runner    (1001) docker     (121)     1197 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/image_16.png
--rw-r--r--   0 runner    (1001) docker     (121)     7820 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/image_deleted_thumbnail.png
--rw-r--r--   0 runner    (1001) docker     (121)     2979 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/image_locked16.png
--rw-r--r--   0 runner    (1001) docker     (121)      648 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/image_locked16_old.png
--rw-r--r--   0 runner    (1001) docker     (121)      619 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/info12.png
--rw-r--r--   0 runner    (1001) docker     (121)      978 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/info16.png
--rw-r--r--   0 runner    (1001) docker     (121)      653 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/kgpg12.png
--rw-r--r--   0 runner    (1001) docker     (121)     1002 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/kgpg16.png
--rw-r--r--   0 runner    (1001) docker     (121)      504 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/kgpg_key16.png
--rw-r--r--   0 runner    (1001) docker     (121)      569 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/knotes12.png
--rwxr-xr-x   0 runner    (1001) docker     (121)     4344 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/knotes64.png
--rw-r--r--   0 runner    (1001) docker     (121)     3483 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/knotesred16.png
--rw-r--r--   0 runner    (1001) docker     (121)      478 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/kpresenter12.png
--rw-r--r--   0 runner    (1001) docker     (121)      593 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/kpresenter16.png
--rw-r--r--   0 runner    (1001) docker     (121)      553 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/kuser12.gif
--rw-r--r--   0 runner    (1001) docker     (121)      672 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/kuser12.png
--rw-r--r--   0 runner    (1001) docker     (121)     1173 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/kuser16.png
--rw-r--r--   0 runner    (1001) docker     (121)      608 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/kview12.png
--rw-r--r--   0 runner    (1001) docker     (121)      725 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/kview16.png
--rw-r--r--   0 runner    (1001) docker     (121)     3457 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/left_sidebar_icon_map.png
--rw-r--r--   0 runner    (1001) docker     (121)     1759 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/left_sidebar_icon_public.png
--rw-r--r--   0 runner    (1001) docker     (121)     1414 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/left_sidebar_icon_tag.png
--rw-r--r--   0 runner    (1001) docker     (121)     3299 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/left_sidebar_icon_tags.png
--rw-r--r--   0 runner    (1001) docker     (121)     5886 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/loadingAnimation.gif
--rw-r--r--   0 runner    (1001) docker     (121)      309 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/lock.png
--rw-r--r--   0 runner    (1001) docker     (121)      559 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/locked12.png
--rw-r--r--   0 runner    (1001) docker     (121)     1484 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/logo.png
--rw-r--r--   0 runner    (1001) docker     (121)    13829 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/logo_login_web.png
--rw-r--r--   0 runner    (1001) docker     (121)      207 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/macFFBgHack.png
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-03-18 10:45:58.975388 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/menu/
--rw-r--r--   0 runner    (1001) docker     (121)     2755 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/menu/contact.png
--rw-r--r--   0 runner    (1001) docker     (121)     4202 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/menu/help.png
--rw-r--r--   0 runner    (1001) docker     (121)     3912 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/menu/history.png
--rw-r--r--   0 runner    (1001) docker     (121)     3252 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/menu/home.png
--rw-r--r--   0 runner    (1001) docker     (121)     3699 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/menu/import.png
--rw-r--r--   0 runner    (1001) docker     (121)    30879 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/menu/menu.png
--rw-r--r--   0 runner    (1001) docker     (121)    34907 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/menu/menu_with_import.png
--rw-r--r--   0 runner    (1001) docker     (121)     2969 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/menu/person.png
--rw-r--r--   0 runner    (1001) docker     (121)     3113 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/menu/search.png
--rw-r--r--   0 runner    (1001) docker     (121)     3259 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/menu/share.png
--rw-r--r--   0 runner    (1001) docker     (121)     4211 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/menu/userdata.png
--rw-r--r--   0 runner    (1001) docker     (121)     2563 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/message_nodata.png
--rwxr-xr-x   0 runner    (1001) docker     (121)     2972 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/minus_11.png
--rw-r--r--   0 runner    (1001) docker     (121)     3210 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/minus_15.png
--rw-r--r--   0 runner    (1001) docker     (121)      668 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/network12.png
--rwxr-xr-x   0 runner    (1001) docker     (121)     3707 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/network16.png
--rw-r--r--   0 runner    (1001) docker     (121)     1192 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/nuvola_apply22.png
--rw-r--r--   0 runner    (1001) docker     (121)     3574 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/nuvola_cancel16.png
--rw-r--r--   0 runner    (1001) docker     (121)      986 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/nuvola_download_manager16.png
--rw-r--r--   0 runner    (1001) docker     (121)     3642 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/nuvola_script-run16.png
--rw-r--r--   0 runner    (1001) docker     (121)     3642 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/nuvola_script-run16_old.png
--rw-r--r--   0 runner    (1001) docker     (121)     4706 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/oav_16.png
--rw-r--r--   0 runner    (1001) docker     (121)      618 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/personal12.png
--rw-r--r--   0 runner    (1001) docker     (121)     1310 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/personal16.png
--rw-r--r--   0 runner    (1001) docker     (121)      871 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/personal16_old.png
--rw-r--r--   0 runner    (1001) docker     (121)     4439 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/personal32.png
--rwxr-xr-x   0 runner    (1001) docker     (121)     3329 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/plus.png
--rwxr-xr-x   0 runner    (1001) docker     (121)     2987 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/plus_11.png
--rw-r--r--   0 runner    (1001) docker     (121)     3006 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/rating0.png
--rw-r--r--   0 runner    (1001) docker     (121)     3161 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/rating1.png
--rw-r--r--   0 runner    (1001) docker     (121)     3198 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/rating2.png
--rw-r--r--   0 runner    (1001) docker     (121)     3372 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/rating3.png
--rw-r--r--   0 runner    (1001) docker     (121)     3445 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/rating4.png
--rw-r--r--   0 runner    (1001) docker     (121)     3354 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/rating5.png
--rwxr-xr-x   0 runner    (1001) docker     (121)     3425 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/rdef16.png
--rw-r--r--   0 runner    (1001) docker     (121)     1195 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/rdef32.png
--rwxr-xr-x   0 runner    (1001) docker     (121)     1045 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/reload16.png
--rw-r--r--   0 runner    (1001) docker     (121)      604 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/reset-grey.png
--rw-r--r--   0 runner    (1001) docker     (121)      920 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/reset.png
--rw-r--r--   0 runner    (1001) docker     (121)     3315 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/root_user16.png
--rw-r--r--   0 runner    (1001) docker     (121)     1197 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/run16.png
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-03-18 10:45:58.975388 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/scroller/
--rw-r--r--   0 runner    (1001) docker     (121)     5449 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/scroller/productbrowser_background_20070622.jpg
--rw-r--r--   0 runner    (1001) docker     (121)     3842 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/scroller/productbrowser_scrollbar_20070622.png
--rw-r--r--   0 runner    (1001) docker     (121)     1503 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/scroller/productbrowser_scroller_20080115.png
--rw-r--r--   0 runner    (1001) docker     (121)      313 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/search.png
--rw-r--r--   0 runner    (1001) docker     (121)     1118 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/select_dropdown_arrow.png
--rw-r--r--   0 runner    (1001) docker     (121)      451 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/success.png
--rw-r--r--   0 runner    (1001) docker     (121)      381 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/tab_icon_tag.png
--rw-r--r--   0 runner    (1001) docker     (121)     1149 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/table_arrow_down.png
--rw-r--r--   0 runner    (1001) docker     (121)     1148 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/table_arrow_up.png
--rw-r--r--   0 runner    (1001) docker     (121)     3018 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/table_arrow_up_down.png
--rw-r--r--   0 runner    (1001) docker     (121)     2839 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/table_layout.png
--rw-r--r--   0 runner    (1001) docker     (121)      793 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/tango_text-x-python16.png
--rw-r--r--   0 runner    (1001) docker     (121)      556 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/unknown16.png
--rw-r--r--   0 runner    (1001) docker     (121)      854 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/view_detailed16.png
--rw-r--r--   0 runner    (1001) docker     (121)      868 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/view_icon16.png
--rw-r--r--   0 runner    (1001) docker     (121)      802 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/view_tag16.png
--rw-r--r--   0 runner    (1001) docker     (121)      732 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/view_tree16.png
--rw-r--r--   0 runner    (1001) docker     (121)     2884 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/well16.png
--rw-r--r--   0 runner    (1001) docker     (121)      857 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/window_new16.png
--rw-r--r--   0 runner    (1001) docker     (121)     1599 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/wp_protocol16.png
--rwxr-xr-x   0 runner    (1001) docker     (121)     2412 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/wp_protocol32.png
--rw-r--r--   0 runner    (1001) docker     (121)     5896 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/wp_protocol64.png
--rw-r--r--   0 runner    (1001) docker     (121)     1689 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/wp_protocol_locked16.png
--rw-r--r--   0 runner    (1001) docker     (121)     2428 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/wp_protocol_locked32.png
--rw-r--r--   0 runner    (1001) docker     (121)     6752 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/wp_protocol_locked64.png
--rwxr-xr-x   0 runner    (1001) docker     (121)       49 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/image/x.gif
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-03-18 10:45:58.979389 omero-web-5.9.1/omeroweb/webclient/static/webclient/javascript/
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-03-18 10:45:58.979389 omero-web-5.9.1/omeroweb/webclient/static/webclient/javascript/ie8_pngfix/
--rw-r--r--   0 runner    (1001) docker     (121)     1446 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/javascript/ie8_pngfix/supersleight-min.js
--rw-r--r--   0 runner    (1001) docker     (121)     9498 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/javascript/jquery.editinplace-0.1.2.js
--rw-r--r--   0 runner    (1001) docker     (121)    43891 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/javascript/jquery.form-3.51.js
--rwxr-xr-x   0 runner    (1001) docker     (121)     3867 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/javascript/jquery.infieldlabel-0.1.js
--rw-r--r--   0 runner    (1001) docker     (121)     1074 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/javascript/jquery.jstree.childcount_plugin.js
--rw-r--r--   0 runner    (1001) docker     (121)      696 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/javascript/jquery.jstree.conditionalselect_plugin.js
--rw-r--r--   0 runner    (1001) docker     (121)     2689 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/javascript/jquery.jstree.fields_plugin.js
--rw-r--r--   0 runner    (1001) docker     (121)    12875 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/javascript/jquery.jstree.locate_plugin.js
--rw-r--r--   0 runner    (1001) docker     (121)    11529 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/javascript/jquery.jstree.omecut_plugin.js
--rw-r--r--   0 runner    (1001) docker     (121)     2210 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/javascript/jquery.jstree.ometools_plugin.js
--rw-r--r--   0 runner    (1001) docker     (121)     2723 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/javascript/jquery.jstree.pagination_plugin.js
--rw-r--r--   0 runner    (1001) docker     (121)     1762 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/javascript/jquery.jstree.truncatetext_plugin.js
--rw-r--r--   0 runner    (1001) docker     (121)     9159 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/javascript/modernizr-2.5.3.js
--rw-r--r--   0 runner    (1001) docker     (121)     9474 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/javascript/ome.center_plugin_filter.js
--rw-r--r--   0 runner    (1001) docker     (121)    18937 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/javascript/ome.chgrp.js
--rw-r--r--   0 runner    (1001) docker     (121)     9373 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/javascript/ome.chown.js
--rw-r--r--   0 runner    (1001) docker     (121)     4729 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/javascript/ome.make_movie.js
--rw-r--r--   0 runner    (1001) docker     (121)     1425 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/javascript/ome.openwith_viewer.js
--rw-r--r--   0 runner    (1001) docker     (121)     5456 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/javascript/ome.right_panel_comments_pane.js
--rw-r--r--   0 runner    (1001) docker     (121)     4821 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/javascript/ome.right_panel_customanns_pane.js
--rw-r--r--   0 runner    (1001) docker     (121)     9170 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/javascript/ome.right_panel_fileanns_pane.js
--rw-r--r--   0 runner    (1001) docker     (121)     8469 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/javascript/ome.right_panel_mapanns_pane.js
--rw-r--r--   0 runner    (1001) docker     (121)     4482 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/javascript/ome.right_panel_ratings_pane.js
--rw-r--r--   0 runner    (1001) docker     (121)     8020 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/javascript/ome.right_panel_tags_pane.js
--rw-r--r--   0 runner    (1001) docker     (121)    10946 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/javascript/ome.split_view_figure.js
--rw-r--r--   0 runner    (1001) docker     (121)    29218 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/javascript/ome.tagging_form.js
--rw-r--r--   0 runner    (1001) docker     (121)    10487 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/javascript/ome.thumbnail_figure.js
--rw-r--r--   0 runner    (1001) docker     (121)    64808 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/javascript/ome.tree.js
--rw-r--r--   0 runner    (1001) docker     (121)    44027 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/javascript/ome.webclient.actions.js
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-03-18 10:45:58.979389 omero-web-5.9.1/omeroweb/webclient/static/webclient/javascript/slider/
--rw-r--r--   0 runner    (1001) docker     (121)     5540 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/javascript/slider/range.js
--rw-r--r--   0 runner    (1001) docker     (121)    15423 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/javascript/slider/slider.js
--rw-r--r--   0 runner    (1001) docker     (121)     2931 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/static/webclient/javascript/slider/timer.js
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-03-18 10:45:58.935386 omero-web-5.9.1/omeroweb/webclient/templates/
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-03-18 10:45:58.979389 omero-web-5.9.1/omeroweb/webclient/templates/webclient/
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-03-18 10:45:58.979389 omero-web-5.9.1/omeroweb/webclient/templates/webclient/activities/
--rw-r--r--   0 runner    (1001) docker     (121)    20856 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/templates/webclient/activities/activitiesContent.html
--rw-r--r--   0 runner    (1001) docker     (121)     2005 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/templates/webclient/activities/fileset_check_dialog_content.html
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-03-18 10:45:58.979389 omero-web-5.9.1/omeroweb/webclient/templates/webclient/ajax_form/
--rw-r--r--   0 runner    (1001) docker     (121)     1108 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/templates/webclient/ajax_form/container_form_ajax.html
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-03-18 10:45:58.983389 omero-web-5.9.1/omeroweb/webclient/templates/webclient/annotations/
--rw-r--r--   0 runner    (1001) docker     (121)    12246 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/templates/webclient/annotations/annotations_share.html
--rw-r--r--   0 runner    (1001) docker     (121)     6666 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/templates/webclient/annotations/batch_annotate.html
--rw-r--r--   0 runner    (1001) docker     (121)     2332 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/templates/webclient/annotations/comment.html
--rw-r--r--   0 runner    (1001) docker     (121)     1368 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/templates/webclient/annotations/comments_underscore.html
--rw-r--r--   0 runner    (1001) docker     (121)     1155 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/templates/webclient/annotations/custom_ann_tooltip.html
--rw-r--r--   0 runner    (1001) docker     (121)     1106 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/templates/webclient/annotations/customanns_underscore.html
--rw-r--r--   0 runner    (1001) docker     (121)     4182 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/templates/webclient/annotations/download_placeholder.html
--rw-r--r--   0 runner    (1001) docker     (121)     3089 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/templates/webclient/annotations/fileanns_underscore.html
--rw-r--r--   0 runner    (1001) docker     (121)     2696 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/templates/webclient/annotations/files_form.html
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-03-18 10:45:58.983389 omero-web-5.9.1/omeroweb/webclient/templates/webclient/annotations/includes/
--rw-r--r--   0 runner    (1001) docker     (121)     5425 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/templates/webclient/annotations/includes/core_metadata.html
--rw-r--r--   0 runner    (1001) docker     (121)     1564 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/templates/webclient/annotations/includes/description.html
--rw-r--r--   0 runner    (1001) docker     (121)     1290 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/templates/webclient/annotations/includes/figure_scripts_menu.html
--rw-r--r--   0 runner    (1001) docker     (121)    16696 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/templates/webclient/annotations/includes/mapannotations.html
--rw-r--r--   0 runner    (1001) docker     (121)     2143 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/templates/webclient/annotations/includes/metadata_general_comment.html
--rw-r--r--   0 runner    (1001) docker     (121)     2430 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/templates/webclient/annotations/includes/metadata_general_file.html
--rw-r--r--   0 runner    (1001) docker     (121)     1211 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/templates/webclient/annotations/includes/metadata_general_map.html
--rw-r--r--   0 runner    (1001) docker     (121)     1183 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/templates/webclient/annotations/includes/metadata_general_other.html
--rw-r--r--   0 runner    (1001) docker     (121)     1427 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/templates/webclient/annotations/includes/metadata_general_rating.html
--rw-r--r--   0 runner    (1001) docker     (121)     1330 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/templates/webclient/annotations/includes/metadata_general_table.html
--rw-r--r--   0 runner    (1001) docker     (121)     1909 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/templates/webclient/annotations/includes/metadata_general_tag.html
--rw-r--r--   0 runner    (1001) docker     (121)     2619 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/templates/webclient/annotations/includes/name.html
--rw-r--r--   0 runner    (1001) docker     (121)    18492 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/templates/webclient/annotations/includes/toolbar.html
--rw-r--r--   0 runner    (1001) docker     (121)     3705 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/templates/webclient/annotations/mapanns_underscore.html
--rw-r--r--   0 runner    (1001) docker     (121)    19640 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/templates/webclient/annotations/metadata_acquisition.html
--rw-r--r--   0 runner    (1001) docker     (121)    34416 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/templates/webclient/annotations/metadata_general.html
--rw-r--r--   0 runner    (1001) docker     (121)     3628 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/templates/webclient/annotations/metadata_hierarchy.html
--rw-r--r--   0 runner    (1001) docker     (121)    20716 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/templates/webclient/annotations/metadata_preview.html
--rw-r--r--   0 runner    (1001) docker     (121)     3919 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/templates/webclient/annotations/omero_table.html
--rw-r--r--   0 runner    (1001) docker     (121)     2721 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/templates/webclient/annotations/original_metadata.html
--rw-r--r--   0 runner    (1001) docker     (121)      823 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/templates/webclient/annotations/ratings_underscore.html
--rw-r--r--   0 runner    (1001) docker     (121)     4037 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/templates/webclient/annotations/tags_form.html
--rw-r--r--   0 runner    (1001) docker     (121)     1959 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/templates/webclient/annotations/tags_underscore.html
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-03-18 10:45:58.983389 omero-web-5.9.1/omeroweb/webclient/templates/webclient/base/
--rwxr-xr-x   0 runner    (1001) docker     (121)     8184 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/templates/webclient/base/base.html
--rw-r--r--   0 runner    (1001) docker     (121)    17307 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/templates/webclient/base/base_container.html
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-03-18 10:45:58.987389 omero-web-5.9.1/omeroweb/webclient/templates/webclient/base/includes/
--rw-r--r--   0 runner    (1001) docker     (121)     7587 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/templates/webclient/base/includes/activities_info.html
--rw-r--r--   0 runner    (1001) docker     (121)     5783 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/templates/webclient/base/includes/group_user_content.html
--rw-r--r--   0 runner    (1001) docker     (121)     1322 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/templates/webclient/base/includes/group_user_dropdown.html
--rw-r--r--   0 runner    (1001) docker     (121)     3903 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/templates/webclient/base/includes/group_user_dropdown2.html
--rw-r--r--   0 runner    (1001) docker     (121)     1040 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/templates/webclient/base/includes/logo.html
--rw-r--r--   0 runner    (1001) docker     (121)      966 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/templates/webclient/base/includes/logout.html
--rw-r--r--   0 runner    (1001) docker     (121)     1331 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/templates/webclient/base/includes/menu.html
--rw-r--r--   0 runner    (1001) docker     (121)     1569 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/templates/webclient/base/includes/ping.html
--rw-r--r--   0 runner    (1001) docker     (121)     1244 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/templates/webclient/base/includes/script_launch.html
--rw-r--r--   0 runner    (1001) docker     (121)     2228 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/templates/webclient/base/includes/script_launch_head.html
--rw-r--r--   0 runner    (1001) docker     (121)     1096 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/templates/webclient/base/includes/search_field.html
--rw-r--r--   0 runner    (1001) docker     (121)     1756 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/templates/webclient/base/includes/toolbar_forms.html
--rw-r--r--   0 runner    (1001) docker     (121)     1862 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/templates/webclient/base/includes/user_dropdown.html
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-03-18 10:45:58.987389 omero-web-5.9.1/omeroweb/webclient/templates/webclient/data/
--rw-r--r--   0 runner    (1001) docker     (121)     4295 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/templates/webclient/data/chgrp_target_tree.html
--rw-r--r--   0 runner    (1001) docker     (121)     1780 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/templates/webclient/data/container_paging.html
--rw-r--r--   0 runner    (1001) docker     (121)    42005 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/templates/webclient/data/containers.html
--rw-r--r--   0 runner    (1001) docker     (121)     2390 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/templates/webclient/data/icon_header_underscore.html
--rw-r--r--   0 runner    (1001) docker     (121)     2680 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/templates/webclient/data/icon_thumbnails_underscore.html
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-03-18 10:45:58.987389 omero-web-5.9.1/omeroweb/webclient/templates/webclient/data/includes/
--rw-r--r--   0 runner    (1001) docker     (121)    43029 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/templates/webclient/data/includes/center_plugin.thumbs.js.html
--rw-r--r--   0 runner    (1001) docker     (121)     1904 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/templates/webclient/data/includes/center_plugin_init.js.html
--rw-r--r--   0 runner    (1001) docker     (121)     1741 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/templates/webclient/data/includes/right_plugin.acquisition.js.html
--rw-r--r--   0 runner    (1001) docker     (121)     6972 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/templates/webclient/data/includes/right_plugin.general.js.html
--rw-r--r--   0 runner    (1001) docker     (121)     2502 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/templates/webclient/data/includes/right_plugin.preview.js.html
--rw-r--r--   0 runner    (1001) docker     (121)    16513 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/templates/webclient/data/plate.html
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-03-18 10:45:58.987389 omero-web-5.9.1/omeroweb/webclient/templates/webclient/history/
--rw-r--r--   0 runner    (1001) docker     (121)     5239 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/templates/webclient/history/calendar.html
--rwxr-xr-x   0 runner    (1001) docker     (121)     2598 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/templates/webclient/history/history.html
--rwxr-xr-x   0 runner    (1001) docker     (121)     7476 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/templates/webclient/history/history_details.html
--rw-r--r--   0 runner    (1001) docker     (121)     1711 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/templates/webclient/history/history_paging.html
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-03-18 10:45:58.987389 omero-web-5.9.1/omeroweb/webclient/templates/webclient/index/
--rwxr-xr-x   0 runner    (1001) docker     (121)     2027 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/templates/webclient/index/index.html
--rw-r--r--   0 runner    (1001) docker     (121)     1492 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/templates/webclient/index/index_last_imports.html
--rw-r--r--   0 runner    (1001) docker     (121)     2028 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/templates/webclient/index/index_most_recent.html
--rw-r--r--   0 runner    (1001) docker     (121)     1407 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/templates/webclient/index/index_tag_cloud.html
--rw-r--r--   0 runner    (1001) docker     (121)     1401 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/templates/webclient/index.html
--rwxr-xr-x   0 runner    (1001) docker     (121)     5982 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/templates/webclient/login.html
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-03-18 10:45:58.987389 omero-web-5.9.1/omeroweb/webclient/templates/webclient/public/
--rw-r--r--   0 runner    (1001) docker     (121)    23506 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/templates/webclient/public/public.html
--rwxr-xr-x   0 runner    (1001) docker     (121)     2795 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/templates/webclient/public/share_form.html
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-03-18 10:45:58.991389 omero-web-5.9.1/omeroweb/webclient/templates/webclient/scripts/
--rw-r--r--   0 runner    (1001) docker     (121)     5947 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/templates/webclient/scripts/base_custom_dialog.html
--rw-r--r--   0 runner    (1001) docker     (121)     4072 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/templates/webclient/scripts/include_param.html
--rw-r--r--   0 runner    (1001) docker     (121)     1295 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/templates/webclient/scripts/list_scripts.html
--rw-r--r--   0 runner    (1001) docker     (121)     6162 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/templates/webclient/scripts/make_movie.html
--rw-r--r--   0 runner    (1001) docker     (121)      473 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/templates/webclient/scripts/no_processor.html
--rw-r--r--   0 runner    (1001) docker     (121)     1319 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/templates/webclient/scripts/original_file_text.html
--rw-r--r--   0 runner    (1001) docker     (121)     8792 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/templates/webclient/scripts/script_ui.html
--rw-r--r--   0 runner    (1001) docker     (121)    11208 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/templates/webclient/scripts/split_view_figure.html
--rw-r--r--   0 runner    (1001) docker     (121)     5583 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/templates/webclient/scripts/thumbnail_figure.html
--rw-r--r--   0 runner    (1001) docker     (121)     8713 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/templates/webclient/scripts/upload_script.html
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-03-18 10:45:58.991389 omero-web-5.9.1/omeroweb/webclient/templates/webclient/search/
--rw-r--r--   0 runner    (1001) docker     (121)    20624 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/templates/webclient/search/search.html
--rw-r--r--   0 runner    (1001) docker     (121)    12442 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/templates/webclient/search/search_details.html
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-03-18 10:45:58.991389 omero-web-5.9.1/omeroweb/webclient/templatetags/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/templatetags/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     1550 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/templatetags/webclient_tags.py
--rw-r--r--   0 runner    (1001) docker     (121)    64180 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/tree.py
--rw-r--r--   0 runner    (1001) docker     (121)    14244 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/urls.py
--rwxr-xr-x   0 runner    (1001) docker     (121)   185250 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/views.py
--rw-r--r--   0 runner    (1001) docker     (121)    99394 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/webclient_gateway.py
--rw-r--r--   0 runner    (1001) docker     (121)     2370 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webclient/webclient_utils.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-03-18 10:45:58.991389 omero-web-5.9.1/omeroweb/webgateway/
--rw-r--r--   0 runner    (1001) docker     (121)      841 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)      850 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/admin.py
--rw-r--r--   0 runner    (1001) docker     (121)    21359 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/marshal.py
--rw-r--r--   0 runner    (1001) docker     (121)     2046 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/middleware.py
--rw-r--r--   0 runner    (1001) docker     (121)     1843 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/models.py
--rw-r--r--   0 runner    (1001) docker     (121)     3332 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/plategrid.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-03-18 10:45:58.935386 omero-web-5.9.1/omeroweb/webgateway/static/
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-03-18 10:45:58.991389 omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-03-18 10:45:58.991389 omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/JQuerySpinBtn-1.3a/
--rw-r--r--   0 runner    (1001) docker     (121)     2246 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/JQuerySpinBtn-1.3a/JQuerySpinBtn.css
--rw-r--r--   0 runner    (1001) docker     (121)     6607 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/JQuerySpinBtn-1.3a/JQuerySpinBtn.js
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-03-18 10:45:58.991389 omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/JQuerySpinBtn-1.3a/img/
--rw-r--r--   0 runner    (1001) docker     (121)     1041 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/JQuerySpinBtn-1.3a/img/spinbtn_updn.gif
--rw-r--r--   0 runner    (1001) docker     (121)    14808 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/aop-1.3.js
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-03-18 10:45:58.995390 omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/d3-3.5.17/
--rw-r--r--   0 runner    (1001) docker     (121)     1429 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/d3-3.5.17/LICENSE
--rw-r--r--   0 runner    (1001) docker     (121)   337945 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/d3-3.5.17/d3.js
--rw-r--r--   0 runner    (1001) docker     (121)   151725 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/d3-3.5.17/d3.min.js
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-03-18 10:45:58.995390 omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/farbtastic-1.2/
--rw-r--r--   0 runner    (1001) docker     (121)      576 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/farbtastic-1.2/farbtastic.css
--rw-r--r--   0 runner    (1001) docker     (121)     9220 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/farbtastic-1.2/farbtastic.js
--rw-r--r--   0 runner    (1001) docker     (121)      652 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/farbtastic-1.2/marker.png
--rw-r--r--   0 runner    (1001) docker     (121)     2020 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/farbtastic-1.2/mask.png
--rw-r--r--   0 runner    (1001) docker     (121)    11733 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/farbtastic-1.2/wheel.png
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-03-18 10:45:58.995390 omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/hammer-2.0.2/
--rw-r--r--   0 runner    (1001) docker     (121)    17325 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/hammer-2.0.2/hammer.min.js
--rw-r--r--   0 runner    (1001) docker     (121)   282766 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery-1.11.1.js
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-03-18 10:45:58.935386 omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-03-18 10:45:58.995390 omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/js/
--rwxr-xr-x   0 runner    (1001) docker     (121)   436715 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/js/jquery-ui-1.10.4.js
--rwxr-xr-x   0 runner    (1001) docker     (121)   228539 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/js/jquery-ui-1.10.4.min.js
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-03-18 10:45:58.935386 omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-03-18 10:45:58.995390 omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-03-18 10:45:58.999390 omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/images/
--rwxr-xr-x   0 runner    (1001) docker     (121)     1738 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/images/animated-overlay.gif
--rwxr-xr-x   0 runner    (1001) docker     (121)      180 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/images/ui-bg_flat_0_aaaaaa_40x100.png
--rwxr-xr-x   0 runner    (1001) docker     (121)      178 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/images/ui-bg_flat_75_ffffff_40x100.png
--rwxr-xr-x   0 runner    (1001) docker     (121)      120 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/images/ui-bg_glass_55_fbf9ee_1x400.png
--rwxr-xr-x   0 runner    (1001) docker     (121)      105 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/images/ui-bg_glass_65_ffffff_1x400.png
--rwxr-xr-x   0 runner    (1001) docker     (121)      111 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/images/ui-bg_glass_75_dadada_1x400.png
--rwxr-xr-x   0 runner    (1001) docker     (121)      110 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/images/ui-bg_glass_75_e6e6e6_1x400.png
--rwxr-xr-x   0 runner    (1001) docker     (121)      119 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/images/ui-bg_glass_95_fef1ec_1x400.png
--rwxr-xr-x   0 runner    (1001) docker     (121)      101 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/images/ui-bg_highlight-soft_75_cccccc_1x100.png
--rwxr-xr-x   0 runner    (1001) docker     (121)     4369 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/images/ui-icons_222222_256x240.png
--rwxr-xr-x   0 runner    (1001) docker     (121)     4369 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/images/ui-icons_2e83ff_256x240.png
--rwxr-xr-x   0 runner    (1001) docker     (121)     4369 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/images/ui-icons_454545_256x240.png
--rwxr-xr-x   0 runner    (1001) docker     (121)     4369 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/images/ui-icons_888888_256x240.png
--rwxr-xr-x   0 runner    (1001) docker     (121)     4369 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/images/ui-icons_cd0a0a_256x240.png
--rwxr-xr-x   0 runner    (1001) docker     (121)    32397 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/jquery-ui.css
--rwxr-xr-x   0 runner    (1001) docker     (121)      839 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/jquery.ui.accordion.css
--rwxr-xr-x   0 runner    (1001) docker     (121)      300 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/jquery.ui.all.css
--rwxr-xr-x   0 runner    (1001) docker     (121)      321 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/jquery.ui.autocomplete.css
--rwxr-xr-x   0 runner    (1001) docker     (121)      779 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/jquery.ui.base.css
--rwxr-xr-x   0 runner    (1001) docker     (121)     2540 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/jquery.ui.button.css
--rwxr-xr-x   0 runner    (1001) docker     (121)     1472 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/jquery.ui.core.css
--rwxr-xr-x   0 runner    (1001) docker     (121)     3636 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/jquery.ui.datepicker.css
--rwxr-xr-x   0 runner    (1001) docker     (121)     1322 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/jquery.ui.dialog.css
--rwxr-xr-x   0 runner    (1001) docker     (121)     1453 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/jquery.ui.menu.css
--rwxr-xr-x   0 runner    (1001) docker     (121)      617 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/jquery.ui.progressbar.css
--rwxr-xr-x   0 runner    (1001) docker     (121)     1157 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/jquery.ui.resizable.css
--rwxr-xr-x   0 runner    (1001) docker     (121)      277 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/jquery.ui.selectable.css
--rwxr-xr-x   0 runner    (1001) docker     (121)     1313 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/jquery.ui.slider.css
--rwxr-xr-x   0 runner    (1001) docker     (121)     1184 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/jquery.ui.spinner.css
--rwxr-xr-x   0 runner    (1001) docker     (121)     1222 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/jquery.ui.tabs.css
--rwxr-xr-x   0 runner    (1001) docker     (121)    17619 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/jquery.ui.theme.css
--rwxr-xr-x   0 runner    (1001) docker     (121)      422 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/jquery.ui.tooltip.css
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-03-18 10:45:58.999390 omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/minified/
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-03-18 10:45:59.003390 omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/minified/images/
--rwxr-xr-x   0 runner    (1001) docker     (121)     1738 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/minified/images/animated-overlay.gif
--rwxr-xr-x   0 runner    (1001) docker     (121)      180 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/minified/images/ui-bg_flat_0_aaaaaa_40x100.png
--rwxr-xr-x   0 runner    (1001) docker     (121)      178 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/minified/images/ui-bg_flat_75_ffffff_40x100.png
--rwxr-xr-x   0 runner    (1001) docker     (121)      120 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/minified/images/ui-bg_glass_55_fbf9ee_1x400.png
--rwxr-xr-x   0 runner    (1001) docker     (121)      105 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/minified/images/ui-bg_glass_65_ffffff_1x400.png
--rwxr-xr-x   0 runner    (1001) docker     (121)      111 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/minified/images/ui-bg_glass_75_dadada_1x400.png
--rwxr-xr-x   0 runner    (1001) docker     (121)      110 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/minified/images/ui-bg_glass_75_e6e6e6_1x400.png
--rwxr-xr-x   0 runner    (1001) docker     (121)      119 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/minified/images/ui-bg_glass_95_fef1ec_1x400.png
--rwxr-xr-x   0 runner    (1001) docker     (121)      101 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/minified/images/ui-bg_highlight-soft_75_cccccc_1x100.png
--rwxr-xr-x   0 runner    (1001) docker     (121)     4369 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/minified/images/ui-icons_222222_256x240.png
--rwxr-xr-x   0 runner    (1001) docker     (121)     4369 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/minified/images/ui-icons_2e83ff_256x240.png
--rwxr-xr-x   0 runner    (1001) docker     (121)     4369 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/minified/images/ui-icons_454545_256x240.png
--rwxr-xr-x   0 runner    (1001) docker     (121)     4369 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/minified/images/ui-icons_888888_256x240.png
--rwxr-xr-x   0 runner    (1001) docker     (121)     4369 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/minified/images/ui-icons_cd0a0a_256x240.png
--rwxr-xr-x   0 runner    (1001) docker     (121)    25763 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/minified/jquery-ui.min.css
--rwxr-xr-x   0 runner    (1001) docker     (121)      647 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/minified/jquery.ui.accordion.min.css
--rwxr-xr-x   0 runner    (1001) docker     (121)      198 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/minified/jquery.ui.autocomplete.min.css
--rwxr-xr-x   0 runner    (1001) docker     (121)     1875 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/minified/jquery.ui.button.min.css
--rwxr-xr-x   0 runner    (1001) docker     (121)      924 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/minified/jquery.ui.core.min.css
--rwxr-xr-x   0 runner    (1001) docker     (121)     3090 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/minified/jquery.ui.datepicker.min.css
--rwxr-xr-x   0 runner    (1001) docker     (121)     1067 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/minified/jquery.ui.dialog.min.css
--rwxr-xr-x   0 runner    (1001) docker     (121)     1092 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/minified/jquery.ui.menu.min.css
--rwxr-xr-x   0 runner    (1001) docker     (121)      466 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/minified/jquery.ui.progressbar.min.css
--rwxr-xr-x   0 runner    (1001) docker     (121)      925 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/minified/jquery.ui.resizable.min.css
--rwxr-xr-x   0 runner    (1001) docker     (121)      211 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/minified/jquery.ui.selectable.min.css
--rwxr-xr-x   0 runner    (1001) docker     (121)     1042 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/minified/jquery.ui.slider.min.css
--rwxr-xr-x   0 runner    (1001) docker     (121)      807 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/minified/jquery.ui.spinner.min.css
--rwxr-xr-x   0 runner    (1001) docker     (121)      892 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/minified/jquery.ui.tabs.min.css
--rwxr-xr-x   0 runner    (1001) docker     (121)      144 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/minified/jquery.ui.theme.min.css
--rwxr-xr-x   0 runner    (1001) docker     (121)      296 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/minified/jquery.ui.tooltip.min.css
--rw-r--r--   0 runner    (1001) docker     (121)    19910 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery.blockUI-2.66.0.js
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-03-18 10:45:59.003390 omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery.chosen-1.2.0/
--rwxr-xr-x   0 runner    (1001) docker     (121)      538 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery.chosen-1.2.0/chosen-sprite.png
--rwxr-xr-x   0 runner    (1001) docker     (121)      738 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery.chosen-1.2.0/chosen-sprite@2x.png
--rwxr-xr-x   0 runner    (1001) docker     (121)    12927 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery.chosen-1.2.0/chosen.css
--rwxr-xr-x   0 runner    (1001) docker     (121)    43067 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery.chosen-1.2.0/chosen.jquery.js
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-03-18 10:45:59.003390 omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery.flot-0.7/
--rw-r--r--   0 runner    (1001) docker     (121)    45285 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery.flot-0.7/API.txt
--rw-r--r--   0 runner    (1001) docker     (121)     1069 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery.flot-0.7/LICENSE.txt
--rw-r--r--   0 runner    (1001) docker     (121)     4305 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery.flot-0.7/PLUGINS.txt
--rw-r--r--   0 runner    (1001) docker     (121)     3116 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery.flot-0.7/README.txt
--rw-r--r--   0 runner    (1001) docker     (121)    41784 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery.flot-0.7/excanvas.js
--rw-r--r--   0 runner    (1001) docker     (121)     6110 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery.flot-0.7/jquery.colorhelpers.js
--rw-r--r--   0 runner    (1001) docker     (121)     5191 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery.flot-0.7/jquery.flot.crosshair.js
--rw-r--r--   0 runner    (1001) docker     (121)     6771 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery.flot-0.7/jquery.flot.fillbetween.js
--rw-r--r--   0 runner    (1001) docker     (121)     7351 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery.flot-0.7/jquery.flot.image.js
--rw-r--r--   0 runner    (1001) docker     (121)   106797 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery.flot-0.7/jquery.flot.js
--rw-r--r--   0 runner    (1001) docker     (121)    37554 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery.flot-0.7/jquery.flot.min.js
--rw-r--r--   0 runner    (1001) docker     (121)    13634 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery.flot-0.7/jquery.flot.navigate.js
--rw-r--r--   0 runner    (1001) docker     (121)    22589 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery.flot-0.7/jquery.flot.pie.js
--rw-r--r--   0 runner    (1001) docker     (121)     2458 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery.flot-0.7/jquery.flot.resize.js
--rw-r--r--   0 runner    (1001) docker     (121)    12018 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery.flot-0.7/jquery.flot.selection.js
--rw-r--r--   0 runner    (1001) docker     (121)     6968 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery.flot-0.7/jquery.flot.stack.js
--rw-r--r--   0 runner    (1001) docker     (121)     2441 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery.flot-0.7/jquery.flot.symbol.js
--rw-r--r--   0 runner    (1001) docker     (121)     3291 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery.flot-0.7/jquery.flot.threshold.js
--rwxr-xr-x   0 runner    (1001) docker     (121)     3178 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery.hotkeys-0.8.js
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-03-18 10:45:59.003390 omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery.jstree-3.0.8/
--rwxr-xr-x   0 runner    (1001) docker     (121)   251780 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery.jstree-3.0.8/jstree.js
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-03-18 10:45:58.935386 omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery.jstree-3.0.8/themes/
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-03-18 10:45:59.007390 omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery.jstree-3.0.8/themes/default/
--rwxr-xr-x   0 runner    (1001) docker     (121)     3121 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery.jstree-3.0.8/themes/default/32px.png
--rwxr-xr-x   0 runner    (1001) docker     (121)     1880 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery.jstree-3.0.8/themes/default/40px.png
--rw-r--r--   0 runner    (1001) docker     (121)     1720 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery.jstree-3.0.8/themes/default/throbber.gif
--rwxr-xr-x   0 runner    (1001) docker     (121)     2396 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery.mousewheel-3.0.6.js
--rw-r--r--   0 runner    (1001) docker     (121)     4179 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery.quicksearch-1.0.js
--rw-r--r--   0 runner    (1001) docker     (121)    13652 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery.selectboxes-2.2.6.js
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-03-18 10:45:59.007390 omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery.tablesorter-2.0.3/
--rw-r--r--   0 runner    (1001) docker     (121)      176 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery.tablesorter-2.0.3/asc-big.gif
--rw-r--r--   0 runner    (1001) docker     (121)      824 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery.tablesorter-2.0.3/asc.gif
--rw-r--r--   0 runner    (1001) docker     (121)       56 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery.tablesorter-2.0.3/bg.gif
--rw-r--r--   0 runner    (1001) docker     (121)      180 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery.tablesorter-2.0.3/desc-big.gif
--rw-r--r--   0 runner    (1001) docker     (121)      824 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery.tablesorter-2.0.3/desc.gif
--rw-r--r--   0 runner    (1001) docker     (121)     1149 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery.tablesorter-2.0.3/jquery.tablesorter.css
--rw-r--r--   0 runner    (1001) docker     (121)    23376 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery.tablesorter-2.0.3/jquery.tablesorter.js
--rw-r--r--   0 runner    (1001) docker     (121)     1291 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery.ui.touch-punch-0.2.3.min.js
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-03-18 10:45:59.007390 omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/panojs-2.0.0/
--rwxr-xr-x   0 runner    (1001) docker     (121)    45948 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/panojs-2.0.0/PanoJS.js
--rwxr-xr-x   0 runner    (1001) docker     (121)     2856 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/panojs-2.0.0/control_info.js
--rw-r--r--   0 runner    (1001) docker     (121)     2163 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/panojs-2.0.0/control_roi.js
--rw-r--r--   0 runner    (1001) docker     (121)     1166 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/panojs-2.0.0/control_scalebar.js
--rwxr-xr-x   0 runner    (1001) docker     (121)     1340 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/panojs-2.0.0/control_svg.js
--rwxr-xr-x   0 runner    (1001) docker     (121)    12808 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/panojs-2.0.0/control_thumbnail.js
--rwxr-xr-x   0 runner    (1001) docker     (121)     4662 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/panojs-2.0.0/controls.js
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-03-18 10:45:59.007390 omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/panojs-2.0.0/extjs/
--rwxr-xr-x   0 runner    (1001) docker     (121)    85836 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/panojs-2.0.0/extjs/ext-core.js
--rwxr-xr-x   0 runner    (1001) docker     (121)     2712 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/panojs-2.0.0/extjs/ext-core.jsb2
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-03-18 10:45:59.011391 omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/panojs-2.0.0/images/
--rwxr-xr-x   0 runner    (1001) docker     (121)     3080 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/panojs-2.0.0/images/16px_minus.png
--rwxr-xr-x   0 runner    (1001) docker     (121)     3089 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/panojs-2.0.0/images/16px_plus.png
--rwxr-xr-x   0 runner    (1001) docker     (121)     4011 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/panojs-2.0.0/images/32px_11.png
--rwxr-xr-x   0 runner    (1001) docker     (121)     3943 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/panojs-2.0.0/images/32px_minus.png
--rwxr-xr-x   0 runner    (1001) docker     (121)     4168 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/panojs-2.0.0/images/32px_plus.png
--rwxr-xr-x   0 runner    (1001) docker     (121)     4375 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/panojs-2.0.0/images/32px_show.png
--rwxr-xr-x   0 runner    (1001) docker     (121)     5052 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/panojs-2.0.0/images/64px_11.png
--rwxr-xr-x   0 runner    (1001) docker     (121)     4843 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/panojs-2.0.0/images/64px_minus.png
--rwxr-xr-x   0 runner    (1001) docker     (121)     5224 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/panojs-2.0.0/images/64px_plus.png
--rwxr-xr-x   0 runner    (1001) docker     (121)     5890 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/panojs-2.0.0/images/64px_show.png
--rwxr-xr-x   0 runner    (1001) docker     (121)      266 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/panojs-2.0.0/images/blank.gif
--rwxr-xr-x   0 runner    (1001) docker     (121)      326 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/panojs-2.0.0/images/grab.cur
--rwxr-xr-x   0 runner    (1001) docker     (121)      326 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/panojs-2.0.0/images/grabbing.cur
--rwxr-xr-x   0 runner    (1001) docker     (121)    36292 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/panojs-2.0.0/images/progress.gif
--rwxr-xr-x   0 runner    (1001) docker     (121)    21649 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/panojs-2.0.0/images/progress_128.gif
--rwxr-xr-x   0 runner    (1001) docker     (121)    36292 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/panojs-2.0.0/images/progress_256.gif
--rwxr-xr-x   0 runner    (1001) docker     (121)    42378 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/panojs-2.0.0/images/progress_512.gif
--rwxr-xr-x   0 runner    (1001) docker     (121)     2680 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/panojs-2.0.0/panojs.css
--rwxr-xr-x   0 runner    (1001) docker     (121)     3270 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/panojs-2.0.0/pyramid_Bisque.js
--rwxr-xr-x   0 runner    (1001) docker     (121)     2182 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/panojs-2.0.0/pyramid_Zoomify.js
--rwxr-xr-x   0 runner    (1001) docker     (121)     3026 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/panojs-2.0.0/pyramid_imgcnv.js
--rwxr-xr-x   0 runner    (1001) docker     (121)     3334 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/panojs-2.0.0/utils.js
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-03-18 10:45:59.011391 omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/raphael-2.1.0/
--rw-r--r--   0 runner    (1001) docker     (121)    90647 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/raphael-2.1.0/raphael-min.js
--rw-r--r--   0 runner    (1001) docker     (121)   221137 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/raphael-2.1.0/raphael.js
--rw-r--r--   0 runner    (1001) docker     (121)     3213 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/raphael-2.1.0/scale.raphael.js
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-03-18 10:45:59.011391 omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/underscore/
--rw-r--r--   0 runner    (1001) docker     (121)    16449 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/underscore/underscore-1.8.3-min.js
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-03-18 10:45:58.935386 omero-web-5.9.1/omeroweb/webgateway/static/webgateway/
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-03-18 10:45:59.015391 omero-web-5.9.1/omeroweb/webgateway/static/webgateway/css/
--rw-r--r--   0 runner    (1001) docker     (121)     5414 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/webgateway/css/base.css
--rw-r--r--   0 runner    (1001) docker     (121)     3038 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/webgateway/css/ome.body.css
--rw-r--r--   0 runner    (1001) docker     (121)     1123 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/webgateway/css/ome.colorbtn.css
--rw-r--r--   0 runner    (1001) docker     (121)     3361 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/webgateway/css/ome.gs_slider.css
--rw-r--r--   0 runner    (1001) docker     (121)    31447 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/webgateway/css/ome.header.css
--rw-r--r--   0 runner    (1001) docker     (121)      610 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/webgateway/css/ome.iehacks.css
--rw-r--r--   0 runner    (1001) docker     (121)    26125 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/webgateway/css/ome.jstree_theme.css
--rwxr-xr-x   0 runner    (1001) docker     (121)     7553 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/webgateway/css/ome.login.css
--rwxr-xr-x   0 runner    (1001) docker     (121)     7557 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/webgateway/css/ome.login_notgoingtofly.css
--rw-r--r--   0 runner    (1001) docker     (121)     6898 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/webgateway/css/ome.plateview.css
--rw-r--r--   0 runner    (1001) docker     (121)     2487 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/webgateway/css/ome.postit.css
--rw-r--r--   0 runner    (1001) docker     (121)      633 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/webgateway/css/ome.snippet_header_logo.css
--rw-r--r--   0 runner    (1001) docker     (121)     6378 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/webgateway/css/ome.table.css
--rw-r--r--   0 runner    (1001) docker     (121)     5002 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/webgateway/css/ome.toolbar.css
--rw-r--r--   0 runner    (1001) docker     (121)     3477 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/webgateway/css/ome.viewport.css
--rw-r--r--   0 runner    (1001) docker     (121)     9365 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/webgateway/css/omero_image.css
--rw-r--r--   0 runner    (1001) docker     (121)     1137 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/webgateway/css/reset.css
--rw-r--r--   0 runner    (1001) docker     (121)     1092 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/webgateway/css/reset_old.css
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-03-18 10:45:59.027392 omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/
--rw-r--r--   0 runner    (1001) docker     (121)      891 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/1_1.gif
--rw-r--r--   0 runner    (1001) docker     (121)     5378 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/OME_logo_grey_110.png
--rw-r--r--   0 runner    (1001) docker     (121)     7439 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/activity_light_24.png
--rw-r--r--   0 runner    (1001) docker     (121)    10819 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/ajax-loader-ovl.gif
--rw-r--r--   0 runner    (1001) docker     (121)     1924 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/ajax-loader.gif
--rw-r--r--   0 runner    (1001) docker     (121)     3961 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/arrowDown_grey.png
--rw-r--r--   0 runner    (1001) docker     (121)     3964 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/arrowRight_grey.png
--rw-r--r--   0 runner    (1001) docker     (121)      101 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/arrow_down.gif
--rw-r--r--   0 runner    (1001) docker     (121)      196 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/arrow_down.png
--rw-r--r--   0 runner    (1001) docker     (121)      126 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/arrow_left.gif
--rw-r--r--   0 runner    (1001) docker     (121)      127 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/arrow_right.gif
--rw-r--r--   0 runner    (1001) docker     (121)      103 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/arrow_up.gif
--rw-r--r--   0 runner    (1001) docker     (121)      187 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/arrow_up.png
--rw-r--r--   0 runner    (1001) docker     (121)     6661 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/basket_light_24.png
--rw-r--r--   0 runner    (1001) docker     (121)    17331 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/bg2.png
--rw-r--r--   0 runner    (1001) docker     (121)   125897 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/bg_thataintgonnafly.jpg
--rw-r--r--   0 runner    (1001) docker     (121)      110 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/blank_tile.png
--rw-r--r--   0 runner    (1001) docker     (121)       58 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/blue_arrow_down.gif
--rw-r--r--   0 runner    (1001) docker     (121)       58 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/blue_arrow_left.gif
--rw-r--r--   0 runner    (1001) docker     (121)       58 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/blue_arrow_right.gif
--rw-r--r--   0 runner    (1001) docker     (121)       57 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/blue_arrow_up.gif
--rw-r--r--   0 runner    (1001) docker     (121)       61 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/blue_play_down.gif
--rw-r--r--   0 runner    (1001) docker     (121)       64 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/blue_play_left.gif
--rw-r--r--   0 runner    (1001) docker     (121)       63 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/blue_play_right.gif
--rw-r--r--   0 runner    (1001) docker     (121)       61 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/blue_play_up.gif
--rw-r--r--   0 runner    (1001) docker     (121)       58 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/blue_square.gif
--rw-r--r--   0 runner    (1001) docker     (121)     2192 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/broken.gif
--rw-r--r--   0 runner    (1001) docker     (121)       72 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/close.gif
--rw-r--r--   0 runner    (1001) docker     (121)     1521 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/close.png
--rw-r--r--   0 runner    (1001) docker     (121)     3344 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/colorpicker_16.png
--rw-r--r--   0 runner    (1001) docker     (121)      179 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/contextbox_arrowup.png
--rw-r--r--   0 runner    (1001) docker     (121)      210 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/contextbox_arrowup2.png
--rw-r--r--   0 runner    (1001) docker     (121)     1190 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/datepicker_next.png
--rw-r--r--   0 runner    (1001) docker     (121)     1190 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/datepicker_prev.png
--rw-r--r--   0 runner    (1001) docker     (121)     2824 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/drag_handle_5.png
--rw-r--r--   0 runner    (1001) docker     (121)      152 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/dropdown_arrow.png
--rw-r--r--   0 runner    (1001) docker     (121)     2878 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/dropdown_left_arrow.png
--rw-r--r--   0 runner    (1001) docker     (121)     2827 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/dropdown_left_arrow_hover.png
--rw-r--r--   0 runner    (1001) docker     (121)      200 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/dropdown_right_arrow.png
--rw-r--r--   0 runner    (1001) docker     (121)      143 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/dropdown_right_arrow_hover.png
--rw-r--r--   0 runner    (1001) docker     (121)     1189 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/ellipse16.png
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-03-18 10:45:59.031392 omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/emots/
--rw-r--r--   0 runner    (1001) docker     (121)      354 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/emots/tinymce_smiley-cool18.gif
--rw-r--r--   0 runner    (1001) docker     (121)      329 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/emots/tinymce_smiley-cry18.gif
--rw-r--r--   0 runner    (1001) docker     (121)      331 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/emots/tinymce_smiley-embarassed18.gif
--rw-r--r--   0 runner    (1001) docker     (121)      340 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/emots/tinymce_smiley-frown18.gif
--rw-r--r--   0 runner    (1001) docker     (121)      338 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/emots/tinymce_smiley-kiss18.gif
--rw-r--r--   0 runner    (1001) docker     (121)      344 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/emots/tinymce_smiley-laughing18.gif
--rw-r--r--   0 runner    (1001) docker     (121)      345 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/emots/tinymce_smiley-smile18.gif
--rw-r--r--   0 runner    (1001) docker     (121)      342 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/emots/tinymce_smiley-surprised18.gif
--rw-r--r--   0 runner    (1001) docker     (121)      328 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/emots/tinymce_smiley-tongue-out18.gif
--rw-r--r--   0 runner    (1001) docker     (121)      337 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/emots/tinymce_smiley-undecided18.gif
--rw-r--r--   0 runner    (1001) docker     (121)      351 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/emots/tinymce_smiley-wink18.gif
--rw-r--r--   0 runner    (1001) docker     (121)      336 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/emots/tinymce_smiley-yell18.gif
--rw-r--r--   0 runner    (1001) docker     (121)      142 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/exclamation.gif
--rw-r--r--   0 runner    (1001) docker     (121)      337 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/fail.png
--rw-r--r--   0 runner    (1001) docker     (121)      342 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/failed.png
--rw-r--r--   0 runner    (1001) docker     (121)      342 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/failerd.png
--rw-r--r--   0 runner    (1001) docker     (121)     1150 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/favicon.ico
--rw-r--r--   0 runner    (1001) docker     (121)     1205 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/folder16.png
--rwxr-xr-x   0 runner    (1001) docker     (121)     1431 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/folder32.png
--rw-r--r--   0 runner    (1001) docker     (121)      159 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/folder_closed.png
--rw-r--r--   0 runner    (1001) docker     (121)     1187 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/folder_image16.png
--rwxr-xr-x   0 runner    (1001) docker     (121)     1604 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/folder_image32.png
--rw-r--r--   0 runner    (1001) docker     (121)      164 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/folder_open.png
--rw-r--r--   0 runner    (1001) docker     (121)     1186 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/folder_yellow16.png
--rw-r--r--   0 runner    (1001) docker     (121)      889 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/fs.gif
--rw-r--r--   0 runner    (1001) docker     (121)     9355 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/glencoe_drop_logo.gif
--rw-r--r--   0 runner    (1001) docker     (121)      186 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/header_bg.png
--rw-r--r--   0 runner    (1001) docker     (121)     2839 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/header_bg2.png
--rw-r--r--   0 runner    (1001) docker     (121)     2871 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/header_bg_30.png
--rw-r--r--   0 runner    (1001) docker     (121)      484 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/help16.png
--rw-r--r--   0 runner    (1001) docker     (121)     1491 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/icon_activity.png
--rw-r--r--   0 runner    (1001) docker     (121)     1181 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/icon_add.png
--rw-r--r--   0 runner    (1001) docker     (121)     1344 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/icon_basket.png
--rw-r--r--   0 runner    (1001) docker     (121)     1404 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/icon_download.png
--rw-r--r--   0 runner    (1001) docker     (121)     2862 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/icon_download2.png
--rw-r--r--   0 runner    (1001) docker     (121)     1181 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/icon_edit.png
--rw-r--r--   0 runner    (1001) docker     (121)      917 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/icon_external_link.svg
--rw-r--r--   0 runner    (1001) docker     (121)     2821 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/icon_figure_scripts.png
--rw-r--r--   0 runner    (1001) docker     (121)     1184 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/icon_filetype.png
--rw-r--r--   0 runner    (1001) docker     (121)     1346 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/icon_folder.png
--rw-r--r--   0 runner    (1001) docker     (121)     2902 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/icon_fs_path.png
--rw-r--r--   0 runner    (1001) docker     (121)     1362 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/icon_help.png
--rw-r--r--   0 runner    (1001) docker     (121)     1320 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/icon_help_hover.png
--rw-r--r--   0 runner    (1001) docker     (121)     1502 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/icon_info.png
--rw-r--r--   0 runner    (1001) docker     (121)     2996 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/icon_link.png
--rw-r--r--   0 runner    (1001) docker     (121)     1095 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/icon_logout.png
--rw-r--r--   0 runner    (1001) docker     (121)     1094 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/icon_logout_hover.png
--rw-r--r--   0 runner    (1001) docker     (121)     1538 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/icon_script.png
--rw-r--r--   0 runner    (1001) docker     (121)     1430 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/icon_script_dark.png
--rw-r--r--   0 runner    (1001) docker     (121)     1103 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/icon_settings.png
--rw-r--r--   0 runner    (1001) docker     (121)     1099 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/icon_settings_hover.png
--rw-r--r--   0 runner    (1001) docker     (121)     1469 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/icon_view.png
--rw-r--r--   0 runner    (1001) docker     (121)     1459 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/icon_view_error.png
--rw-r--r--   0 runner    (1001) docker     (121)     3037 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/iconmonstr-sitemap-6-icon-16.png
--rw-r--r--   0 runner    (1001) docker     (121)     3450 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/image128.png
--rw-r--r--   0 runner    (1001) docker     (121)      954 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/knotes16.png
--rw-r--r--   0 runner    (1001) docker     (121)     1189 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/line16.png
--rw-r--r--   0 runner    (1001) docker     (121)     4343 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/login_ome.png
--rw-r--r--   0 runner    (1001) docker     (121)     4273 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/logo2.png
--rw-r--r--   0 runner    (1001) docker     (121)    18159 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/logo_login2.png
--rw-r--r--   0 runner    (1001) docker     (121)     1558 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/logout.png
--rw-r--r--   0 runner    (1001) docker     (121)    19356 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/luts_10.png
--rw-r--r--   0 runner    (1001) docker     (121)     3110 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/mail_send.png
--rw-r--r--   0 runner    (1001) docker     (121)     3076 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/mail_send_hover.png
--rw-r--r--   0 runner    (1001) docker     (121)     2875 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/mask16.png
--rw-r--r--   0 runner    (1001) docker     (121)     1778 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/message_nodata.png
--rw-r--r--   0 runner    (1001) docker     (121)      208 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/navigator_back.png
--rw-r--r--   0 runner    (1001) docker     (121)      202 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/navigator_forward.png
--rw-r--r--   0 runner    (1001) docker     (121)      272 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/nuvola_encrypted_grey16.png
--rw-r--r--   0 runner    (1001) docker     (121)     3412 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/nuvola_encrypted_grey16_old.png
--rw-r--r--   0 runner    (1001) docker     (121)      405 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/nuvola_script-run16.png
--rw-r--r--   0 runner    (1001) docker     (121)     1150 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/ome.ico
--rw-r--r--   0 runner    (1001) docker     (121)     3801 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/ome_text_109.png
--rw-r--r--   0 runner    (1001) docker     (121)    19664 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/personal32.png
--rw-r--r--   0 runner    (1001) docker     (121)     1207 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/point16.png
--rw-r--r--   0 runner    (1001) docker     (121)     1189 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/polygon16.png
--rw-r--r--   0 runner    (1001) docker     (121)      833 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/question.png
--rw-r--r--   0 runner    (1001) docker     (121)     1189 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/rectangle16.png
--rw-r--r--   0 runner    (1001) docker     (121)      126 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/resize.gif
--rw-r--r--   0 runner    (1001) docker     (121)      313 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/search.png
--rw-r--r--   0 runner    (1001) docker     (121)      451 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/settings.png
--rwxr-xr-x   0 runner    (1001) docker     (121)       43 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/spacer.gif
--rwxr-xr-x   0 runner    (1001) docker     (121)     1553 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/spinner)old.gif
--rw-r--r--   0 runner    (1001) docker     (121)      664 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/spinner.gif
--rw-r--r--   0 runner    (1001) docker     (121)    18566 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/spinner_big.gif
--rw-r--r--   0 runner    (1001) docker     (121)    33816 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/spinner_big2.gif
--rw-r--r--   0 runner    (1001) docker     (121)      508 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/success.png
--rw-r--r--   0 runner    (1001) docker     (121)      181 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/t_axis.gif
--rw-r--r--   0 runner    (1001) docker     (121)     1537 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/t_axis_revert.gif
--rw-r--r--   0 runner    (1001) docker     (121)      381 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/tab_icon_tag.png
--rw-r--r--   0 runner    (1001) docker     (121)      381 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/tab_tag.png
--rw-r--r--   0 runner    (1001) docker     (121)     1155 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/table_arrow_down.png
--rw-r--r--   0 runner    (1001) docker     (121)     1143 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/table_arrow_up.png
--rw-r--r--   0 runner    (1001) docker     (121)      381 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/tag.png
--rw-r--r--   0 runner    (1001) docker     (121)     1207 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/text16.png
--rw-r--r--   0 runner    (1001) docker     (121)     1045 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/tray_collapse_left.png
--rw-r--r--   0 runner    (1001) docker     (121)     1035 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/tray_collapse_right.png
--rw-r--r--   0 runner    (1001) docker     (121)     1459 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/ui-anim_basic_16x16.gif
--rw-r--r--   0 runner    (1001) docker     (121)      202 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/up_down.png
--rw-r--r--   0 runner    (1001) docker     (121)     2180 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/upload_grey.png
--rw-r--r--   0 runner    (1001) docker     (121)       63 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/white_arrow_down.gif
--rw-r--r--   0 runner    (1001) docker     (121)       62 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/white_arrow_up.gif
--rwxr-xr-x   0 runner    (1001) docker     (121)       49 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/x.gif
--rw-r--r--   0 runner    (1001) docker     (121)      177 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/z_axis.gif
--rw-r--r--   0 runner    (1001) docker     (121)     1520 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/z_axis_revert.gif
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-03-18 10:45:59.031392 omero-web-5.9.1/omeroweb/webgateway/static/webgateway/js/
--rw-r--r--   0 runner    (1001) docker     (121)     3623 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/webgateway/js/jshint.json
--rw-r--r--   0 runner    (1001) docker     (121)     8446 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/webgateway/js/ome.colorbtn.js
--rw-r--r--   0 runner    (1001) docker     (121)     3570 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/webgateway/js/ome.csrf.js
--rw-r--r--   0 runner    (1001) docker     (121)    10509 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/webgateway/js/ome.gs_slider.js
--rw-r--r--   0 runner    (1001) docker     (121)    11085 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/webgateway/js/ome.gs_utils.js
--rw-r--r--   0 runner    (1001) docker     (121)     7987 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/webgateway/js/ome.histogram.js
--rw-r--r--   0 runner    (1001) docker     (121)     6306 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/webgateway/js/ome.nav.js
--rw-r--r--   0 runner    (1001) docker     (121)     8815 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/webgateway/js/ome.plateview.js
--rw-r--r--   0 runner    (1001) docker     (121)    35727 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/webgateway/js/ome.popup.js
--rw-r--r--   0 runner    (1001) docker     (121)     3541 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/webgateway/js/ome.postit.js
--rw-r--r--   0 runner    (1001) docker     (121)    48762 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/webgateway/js/ome.roidisplay.js
--rw-r--r--   0 runner    (1001) docker     (121)     6268 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/webgateway/js/ome.roiutils.js
--rw-r--r--   0 runner    (1001) docker     (121)     2762 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/webgateway/js/ome.scalebardisplay.js
--rw-r--r--   0 runner    (1001) docker     (121)     2848 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/webgateway/js/ome.smartdialog.js
--rw-r--r--   0 runner    (1001) docker     (121)     7111 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/webgateway/js/ome.spwgridview.js
--rw-r--r--   0 runner    (1001) docker     (121)    41559 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/webgateway/js/ome.viewport.js
--rw-r--r--   0 runner    (1001) docker     (121)    24512 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/webgateway/js/ome.viewportImage.js
--rw-r--r--   0 runner    (1001) docker     (121)    24543 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/static/webgateway/js/omero_image.js
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-03-18 10:45:58.935386 omero-web-5.9.1/omeroweb/webgateway/templates/
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-03-18 10:45:59.031392 omero-web-5.9.1/omeroweb/webgateway/templates/webgateway/
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-03-18 10:45:59.031392 omero-web-5.9.1/omeroweb/webgateway/templates/webgateway/base/
--rw-r--r--   0 runner    (1001) docker     (121)     1234 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/templates/webgateway/base/base_frame.html
--rw-r--r--   0 runner    (1001) docker     (121)     2596 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/templates/webgateway/base/base_header.html
--rw-r--r--   0 runner    (1001) docker     (121)     1777 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/templates/webgateway/base/base_main.html
--rw-r--r--   0 runner    (1001) docker     (121)     1709 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/templates/webgateway/base/container2.html
--rw-r--r--   0 runner    (1001) docker     (121)     2495 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/templates/webgateway/base/container3.html
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-03-18 10:45:59.035392 omero-web-5.9.1/omeroweb/webgateway/templates/webgateway/base/includes/
--rw-r--r--   0 runner    (1001) docker     (121)      897 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/templates/webgateway/base/includes/css_link_body.html
--rw-r--r--   0 runner    (1001) docker     (121)     1422 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/templates/webgateway/base/includes/jquery-ui.html
--rw-r--r--   0 runner    (1001) docker     (121)      946 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/templates/webgateway/base/includes/post_form.html
--rw-r--r--   0 runner    (1001) docker     (121)      983 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/templates/webgateway/base/includes/script_src_jquery.html
--rw-r--r--   0 runner    (1001) docker     (121)      894 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/templates/webgateway/base/includes/script_src_popup.html
--rw-r--r--   0 runner    (1001) docker     (121)      886 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/templates/webgateway/base/includes/shortcut_icon.html
--rw-r--r--   0 runner    (1001) docker     (121)     3316 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/templates/webgateway/base_site.html
--rw-r--r--   0 runner    (1001) docker     (121)     2173 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/templates/webgateway/core_html.html
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-03-18 10:45:59.035392 omero-web-5.9.1/omeroweb/webgateway/templates/webgateway/viewport/
--rw-r--r--   0 runner    (1001) docker     (121)    63651 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/templates/webgateway/viewport/omero_image.html
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-03-18 10:45:59.035392 omero-web-5.9.1/omeroweb/webgateway/templatetags/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/templatetags/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     7509 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/templatetags/common_filters.py
--rw-r--r--   0 runner    (1001) docker     (121)     4041 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/templatetags/common_tags.py
--rw-r--r--   0 runner    (1001) docker     (121)     1458 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/templatetags/defaulttags.py
--rw-r--r--   0 runner    (1001) docker     (121)     5850 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/templatetags/wikitags.py
--rw-r--r--   0 runner    (1001) docker     (121)    17951 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/urls.py
--rw-r--r--   0 runner    (1001) docker     (121)     8102 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/util.py
--rw-r--r--   0 runner    (1001) docker     (121)   114433 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/views.py
--rw-r--r--   0 runner    (1001) docker     (121)    34585 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webgateway/webgateway_cache.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-03-18 10:45:59.035392 omero-web-5.9.1/omeroweb/webredirect/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webredirect/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)      999 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webredirect/urls.py
--rw-r--r--   0 runner    (1001) docker     (121)     1877 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/webredirect/views.py
--rw-r--r--   0 runner    (1001) docker     (121)     1698 2021-03-18 10:45:55.000000 omero-web-5.9.1/omeroweb/wsgi.py
--rw-r--r--   0 runner    (1001) docker     (121)       38 2021-03-18 10:45:59.035392 omero-web-5.9.1/setup.cfg
--rwxr-xr-x   0 runner    (1001) docker     (121)     1942 2021-03-18 10:45:55.000000 omero-web-5.9.1/setup.py
+drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-05-31 10:03:53.810582 omero-web-5.9.2/
+-rw-r--r--   0 runner    (1001) docker     (121)      455 2021-05-31 10:03:52.000000 omero-web-5.9.2/MANIFEST.in
+-rw-r--r--   0 runner    (1001) docker     (121)     6494 2021-05-31 10:03:53.810582 omero-web-5.9.2/PKG-INFO
+-rw-r--r--   0 runner    (1001) docker     (121)     4483 2021-05-31 10:03:52.000000 omero-web-5.9.2/README.rst
+drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-05-31 10:03:53.698578 omero-web-5.9.2/omero/
+drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-05-31 10:03:53.706578 omero-web-5.9.2/omero/plugins/
+-rw-r--r--   0 runner    (1001) docker     (121)    26405 2021-05-31 10:03:52.000000 omero-web-5.9.2/omero/plugins/web.py
+drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-05-31 10:03:53.706578 omero-web-5.9.2/omero_web.egg-info/
+-rw-r--r--   0 runner    (1001) docker     (121)     6494 2021-05-31 10:03:53.000000 omero-web-5.9.2/omero_web.egg-info/PKG-INFO
+-rw-r--r--   0 runner    (1001) docker     (121)    50994 2021-05-31 10:03:53.000000 omero-web-5.9.2/omero_web.egg-info/SOURCES.txt
+-rw-r--r--   0 runner    (1001) docker     (121)        1 2021-05-31 10:03:53.000000 omero-web-5.9.2/omero_web.egg-info/dependency_links.txt
+-rw-r--r--   0 runner    (1001) docker     (121)      101 2021-05-31 10:03:53.000000 omero-web-5.9.2/omero_web.egg-info/requires.txt
+-rw-r--r--   0 runner    (1001) docker     (121)       15 2021-05-31 10:03:53.000000 omero-web-5.9.2/omero_web.egg-info/top_level.txt
+drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-05-31 10:03:53.710578 omero-web-5.9.2/omeroweb/
+-rw-r--r--   0 runner    (1001) docker     (121)        0 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/__init__.py
+drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-05-31 10:03:53.710578 omero-web-5.9.2/omeroweb/api/
+-rw-r--r--   0 runner    (1001) docker     (121)      843 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/api/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (121)     2221 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/api/api_exceptions.py
+-rw-r--r--   0 runner    (1001) docker     (121)     2417 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/api/api_marshal.py
+-rw-r--r--   0 runner    (1001) docker     (121)     5246 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/api/api_query.py
+-rw-r--r--   0 runner    (1001) docker     (121)     2102 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/api/api_settings.py
+-rw-r--r--   0 runner    (1001) docker     (121)     4199 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/api/decorators.py
+-rw-r--r--   0 runner    (1001) docker     (121)    10900 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/api/urls.py
+-rw-r--r--   0 runner    (1001) docker     (121)    33661 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/api/views.py
+-rw-r--r--   0 runner    (1001) docker     (121)     8999 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/connector.py
+-rw-r--r--   0 runner    (1001) docker     (121)      300 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/custom_context_processor.py
+-rw-r--r--   0 runner    (1001) docker     (121)     3365 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/custom_forms.py
+-rw-r--r--   0 runner    (1001) docker     (121)    24984 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/decorators.py
+drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-05-31 10:03:53.710578 omero-web-5.9.2/omeroweb/feedback/
+-rw-r--r--   0 runner    (1001) docker     (121)        0 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/feedback/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (121)     1546 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/feedback/forms.py
+-rw-r--r--   0 runner    (1001) docker     (121)     3758 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/feedback/sendfeedback.py
+drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-05-31 10:03:53.702578 omero-web-5.9.2/omeroweb/feedback/static/
+drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-05-31 10:03:53.702578 omero-web-5.9.2/omeroweb/feedback/static/feedback/
+drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-05-31 10:03:53.710578 omero-web-5.9.2/omeroweb/feedback/static/feedback/css/
+-rw-r--r--   0 runner    (1001) docker     (121)      565 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/feedback/static/feedback/css/layout.css
+drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-05-31 10:03:53.710578 omero-web-5.9.2/omeroweb/feedback/templates/
+-rw-r--r--   0 runner    (1001) docker     (121)      366 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/feedback/templates/404.html
+-rw-r--r--   0 runner    (1001) docker     (121)      608 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/feedback/templates/500-nosubmit.html
+-rw-r--r--   0 runner    (1001) docker     (121)     1589 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/feedback/templates/500.html
+-rw-r--r--   0 runner    (1001) docker     (121)      629 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/feedback/templates/base_error.html
+-rw-r--r--   0 runner    (1001) docker     (121)     2922 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/feedback/templates/comment.html
+-rw-r--r--   0 runner    (1001) docker     (121)      831 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/feedback/templates/disabled.html
+-rw-r--r--   0 runner    (1001) docker     (121)      671 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/feedback/templates/error.html
+-rw-r--r--   0 runner    (1001) docker     (121)      674 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/feedback/templates/thanks.html
+drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-05-31 10:03:53.710578 omero-web-5.9.2/omeroweb/feedback/templatetags/
+-rw-r--r--   0 runner    (1001) docker     (121)        0 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/feedback/templatetags/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (121)     1455 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/feedback/templatetags/feedback_tags.py
+-rw-r--r--   0 runner    (1001) docker     (121)     1343 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/feedback/urls.py
+-rw-r--r--   0 runner    (1001) docker     (121)     7529 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/feedback/views.py
+-rw-r--r--   0 runner    (1001) docker     (121)     8780 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/filesessionstore.py
+-rw-r--r--   0 runner    (1001) docker     (121)     1370 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/httprsp.py
+drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-05-31 10:03:53.710578 omero-web-5.9.2/omeroweb/license/
+-rw-r--r--   0 runner    (1001) docker     (121)    34520 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/license/agpl-3.0.txt
+-rw-r--r--   0 runner    (1001) docker     (121)     2579 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/manage.py
+-rw-r--r--   0 runner    (1001) docker     (121)    56359 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/settings.py
+drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-05-31 10:03:53.714578 omero-web-5.9.2/omeroweb/templates/
+-rw-r--r--   0 runner    (1001) docker     (121)     1854 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/templates/nginx-development.conf.template
+-rw-r--r--   0 runner    (1001) docker     (121)     1102 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/templates/nginx-location.conf.template
+-rw-r--r--   0 runner    (1001) docker     (121)     1077 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/templates/nginx.conf.template
+drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-05-31 10:03:53.714578 omero-web-5.9.2/omeroweb/testlib/
+-rw-r--r--   0 runner    (1001) docker     (121)    15489 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/testlib/__init__.py
+-rwxr-xr-x   0 runner    (1001) docker     (121)     4254 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/urls.py
+-rw-r--r--   0 runner    (1001) docker     (121)     1581 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/utils.py
+-rw-r--r--   0 runner    (1001) docker     (121)      288 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/version.py
+drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-05-31 10:03:53.714578 omero-web-5.9.2/omeroweb/webadmin/
+-rw-r--r--   0 runner    (1001) docker     (121)        0 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webadmin/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (121)    16836 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webadmin/custom_forms.py
+-rw-r--r--   0 runner    (1001) docker     (121)    23972 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webadmin/forms.py
+-rw-r--r--   0 runner    (1001) docker     (121)       74 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webadmin/models.py
+drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-05-31 10:03:53.702578 omero-web-5.9.2/omeroweb/webadmin/static/
+drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-05-31 10:03:53.702578 omero-web-5.9.2/omeroweb/webadmin/static/webadmin/
+drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-05-31 10:03:53.714578 omero-web-5.9.2/omeroweb/webadmin/static/webadmin/css/
+-rw-r--r--   0 runner    (1001) docker     (121)     1073 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webadmin/static/webadmin/css/chosen.css
+-rw-r--r--   0 runner    (1001) docker     (121)     2009 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webadmin/static/webadmin/css/drivespace.css
+-rw-r--r--   0 runner    (1001) docker     (121)      101 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webadmin/static/webadmin/css/dusty.css
+-rw-r--r--   0 runner    (1001) docker     (121)     1285 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webadmin/static/webadmin/css/picklist.css
+drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-05-31 10:03:53.714578 omero-web-5.9.2/omeroweb/webadmin/static/webadmin/image/
+-rw-r--r--   0 runner    (1001) docker     (121)      875 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webadmin/static/webadmin/image/active.png
+-rw-r--r--   0 runner    (1001) docker     (121)      521 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webadmin/static/webadmin/image/add.png
+-rw-r--r--   0 runner    (1001) docker     (121)      761 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webadmin/static/webadmin/image/admin.png
+-rw-r--r--   0 runner    (1001) docker     (121)      874 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webadmin/static/webadmin/image/del.png
+-rw-r--r--   0 runner    (1001) docker     (121)     1736 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webadmin/static/webadmin/image/edit.png
+-rw-r--r--   0 runner    (1001) docker     (121)      992 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webadmin/static/webadmin/image/editing.png
+-rwxr-xr-x   0 runner    (1001) docker     (121)     3616 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webadmin/static/webadmin/image/frame_edit.png
+-rw-r--r--   0 runner    (1001) docker     (121)      830 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webadmin/static/webadmin/image/guest.png
+-rw-r--r--   0 runner    (1001) docker     (121)     1181 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webadmin/static/webadmin/image/icon_edit.png
+-rw-r--r--   0 runner    (1001) docker     (121)     1037 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webadmin/static/webadmin/image/ldap.png
+-rw-r--r--   0 runner    (1001) docker     (121)      533 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webadmin/static/webadmin/image/notactive.png
+drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-05-31 10:03:53.702578 omero-web-5.9.2/omeroweb/webadmin/static/webadmin/javascript/
+drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-05-31 10:03:53.702578 omero-web-5.9.2/omeroweb/webadmin/static/webadmin/javascript/jquery.imgareaselect-0.9.10/
+drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-05-31 10:03:53.714578 omero-web-5.9.2/omeroweb/webadmin/static/webadmin/javascript/jquery.imgareaselect-0.9.10/css/
+-rw-r--r--   0 runner    (1001) docker     (121)      219 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webadmin/static/webadmin/javascript/jquery.imgareaselect-0.9.10/css/border-anim-h.gif
+-rw-r--r--   0 runner    (1001) docker     (121)      219 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webadmin/static/webadmin/javascript/jquery.imgareaselect-0.9.10/css/border-anim-v.gif
+-rw-r--r--   0 runner    (1001) docker     (121)       72 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webadmin/static/webadmin/javascript/jquery.imgareaselect-0.9.10/css/border-h.gif
+-rw-r--r--   0 runner    (1001) docker     (121)       72 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webadmin/static/webadmin/javascript/jquery.imgareaselect-0.9.10/css/border-v.gif
+drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-05-31 10:03:53.702578 omero-web-5.9.2/omeroweb/webadmin/templates/
+drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-05-31 10:03:53.718578 omero-web-5.9.2/omeroweb/webadmin/templates/webadmin/
+-rw-r--r--   0 runner    (1001) docker     (121)     1886 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webadmin/templates/webadmin/admin_base.html
+-rw-r--r--   0 runner    (1001) docker     (121)     2228 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webadmin/templates/webadmin/avatar.html
+-rw-r--r--   0 runner    (1001) docker     (121)     2738 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webadmin/templates/webadmin/base.html
+-rw-r--r--   0 runner    (1001) docker     (121)     3982 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webadmin/templates/webadmin/email.html
+-rw-r--r--   0 runner    (1001) docker     (121)    16692 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webadmin/templates/webadmin/experimenter_form.html
+-rw-r--r--   0 runner    (1001) docker     (121)     5146 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webadmin/templates/webadmin/experimenters.html
+-rw-r--r--   0 runner    (1001) docker     (121)     4411 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webadmin/templates/webadmin/forgotten_password.html
+-rw-r--r--   0 runner    (1001) docker     (121)     6428 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webadmin/templates/webadmin/group_form.html
+-rw-r--r--   0 runner    (1001) docker     (121)     5588 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webadmin/templates/webadmin/group_form_owner.html
+-rw-r--r--   0 runner    (1001) docker     (121)     4999 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webadmin/templates/webadmin/groups.html
+drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-05-31 10:03:53.718578 omero-web-5.9.2/omeroweb/webadmin/templates/webadmin/includes/
+-rw-r--r--   0 runner    (1001) docker     (121)     2253 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webadmin/templates/webadmin/includes/drivespaceStats.html
+-rw-r--r--   0 runner    (1001) docker     (121)     3830 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webadmin/templates/webadmin/includes/drivespaceStats.js
+-rw-r--r--   0 runner    (1001) docker     (121)    15387 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webadmin/templates/webadmin/myaccount.html
+-rw-r--r--   0 runner    (1001) docker     (121)     1315 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webadmin/templates/webadmin/noemail.html
+-rw-r--r--   0 runner    (1001) docker     (121)     1035 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webadmin/templates/webadmin/password.html
+-rw-r--r--   0 runner    (1001) docker     (121)     5390 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webadmin/templates/webadmin/statistics.html
+drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-05-31 10:03:53.718578 omero-web-5.9.2/omeroweb/webadmin/templatetags/
+-rw-r--r--   0 runner    (1001) docker     (121)        0 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webadmin/templatetags/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (121)     1462 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webadmin/templatetags/webadmin_tags.py
+-rw-r--r--   0 runner    (1001) docker     (121)     3090 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webadmin/urls.py
+-rw-r--r--   0 runner    (1001) docker     (121)    43002 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webadmin/views.py
+-rw-r--r--   0 runner    (1001) docker     (121)     1039 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webadmin/webadmin_utils.py
+drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-05-31 10:03:53.718578 omero-web-5.9.2/omeroweb/webclient/
+-rwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/__init__.py
+drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-05-31 10:03:53.722579 omero-web-5.9.2/omeroweb/webclient/controller/
+-rwxr-xr-x   0 runner    (1001) docker     (121)     2124 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/controller/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (121)    35189 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/controller/container.py
+-rw-r--r--   0 runner    (1001) docker     (121)     1030 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/controller/help.py
+-rwxr-xr-x   0 runner    (1001) docker     (121)     8921 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/controller/history.py
+-rwxr-xr-x   0 runner    (1001) docker     (121)     1032 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/controller/impexp.py
+-rw-r--r--   0 runner    (1001) docker     (121)     5874 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/controller/search.py
+-rw-r--r--   0 runner    (1001) docker     (121)     7703 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/controller/share.py
+-rw-r--r--   0 runner    (1001) docker     (121)    13740 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/custom_forms.py
+-rw-r--r--   0 runner    (1001) docker     (121)     8803 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/decorators.py
+-rw-r--r--   0 runner    (1001) docker     (121)   141929 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/forms.py
+-rw-r--r--   0 runner    (1001) docker     (121)    37277 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/show.py
+drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-05-31 10:03:53.702578 omero-web-5.9.2/omeroweb/webclient/static/
+drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-05-31 10:03:53.702578 omero-web-5.9.2/omeroweb/webclient/static/webclient/
+drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-05-31 10:03:53.722579 omero-web-5.9.2/omeroweb/webclient/static/webclient/css/
+-rwxr-xr-x   0 runner    (1001) docker     (121)     4609 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/css/calendar.css
+-rwxr-xr-x   0 runner    (1001) docker     (121)     3481 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/css/calendar_ie.css
+-rwxr-xr-x   0 runner    (1001) docker     (121)    37052 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/css/dusty.css
+-rwxr-xr-x   0 runner    (1001) docker     (121)    16938 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/css/dusty_ie.css
+-rw-r--r--   0 runner    (1001) docker     (121)     1394 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/css/help.css
+-rw-r--r--   0 runner    (1001) docker     (121)     2463 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/css/index.css
+-rw-r--r--   0 runner    (1001) docker     (121)    71056 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/css/layout.css
+drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-05-31 10:03:53.742580 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/
+-rw-r--r--   0 runner    (1001) docker     (121)      163 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/OME-Interface-Playground.png
+-rw-r--r--   0 runner    (1001) docker     (121)     1043 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/Sidebar_19.png
+-rwxr-xr-x   0 runner    (1001) docker     (121)     1458 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/XPButtonUploadText_61x22.png
+-rwxr-xr-x   0 runner    (1001) docker     (121)      612 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/apply16.png
+-rw-r--r--   0 runner    (1001) docker     (121)      615 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/basket.png
+-rw-r--r--   0 runner    (1001) docker     (121)      636 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/basket16.png
+-rw-r--r--   0 runner    (1001) docker     (121)      823 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/basket32.png
+-rw-r--r--   0 runner    (1001) docker     (121)     1179 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/calendar_arrow_left.png
+-rw-r--r--   0 runner    (1001) docker     (121)     1191 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/calendar_arrow_right.png
+-rw-r--r--   0 runner    (1001) docker     (121)      652 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/cancel12.png
+-rwxr-xr-x   0 runner    (1001) docker     (121)      792 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/cancel16.png
+-rw-r--r--   0 runner    (1001) docker     (121)     1111 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/color_line12.png
+-rw-r--r--   0 runner    (1001) docker     (121)     3238 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/color_line12_old.png
+-rwxr-xr-x   0 runner    (1001) docker     (121)      857 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/color_line16.png
+drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-05-31 10:03:53.746580 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/comment/
+-rw-r--r--   0 runner    (1001) docker     (121)     1127 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/comment/comment_cap.png
+-rw-r--r--   0 runner    (1001) docker     (121)     1202 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/comment/comment_cap_rev.png
+-rw-r--r--   0 runner    (1001) docker     (121)     1210 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/comment/comment_foot.png
+-rw-r--r--   0 runner    (1001) docker     (121)     1202 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/comment/comment_foot_rev.png
+-rw-r--r--   0 runner    (1001) docker     (121)      140 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/comment/comment_repeater.png
+-rw-r--r--   0 runner    (1001) docker     (121)      140 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/comment/comment_repeater_rev.png
+-rw-r--r--   0 runner    (1001) docker     (121)     2792 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/custom_login_logo.png
+-rw-r--r--   0 runner    (1001) docker     (121)     1024 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/cut16.png
+-rw-r--r--   0 runner    (1001) docker     (121)     3611 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/date.png
+-rw-r--r--   0 runner    (1001) docker     (121)     2853 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/drag_handle_arrows_up-down.png
+-rw-r--r--   0 runner    (1001) docker     (121)      164 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/dropdown_right_arrow.png
+-rw-r--r--   0 runner    (1001) docker     (121)      426 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/eclipse_copy_edit12.png
+-rw-r--r--   0 runner    (1001) docker     (121)      532 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/eclipse_copy_edit16.png
+-rw-r--r--   0 runner    (1001) docker     (121)      463 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/eclipse_paste_edit12.png
+-rw-r--r--   0 runner    (1001) docker     (121)      605 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/eclipse_paste_edit16.png
+-rw-r--r--   0 runner    (1001) docker     (121)     1575 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/edit.png
+-rw-r--r--   0 runner    (1001) docker     (121)      232 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/f.png
+-rwxr-xr-x   0 runner    (1001) docker     (121)     3158 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/file_locked16.png
+-rw-r--r--   0 runner    (1001) docker     (121)     1205 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/folder16.png
+-rwxr-xr-x   0 runner    (1001) docker     (121)      659 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/folder16_old.png
+-rwxr-xr-x   0 runner    (1001) docker     (121)     3586 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/folder64.png
+-rw-r--r--   0 runner    (1001) docker     (121)      914 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/folder_html16.png
+-rw-r--r--   0 runner    (1001) docker     (121)     2414 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/folder_html32.png
+-rwxr-xr-x   0 runner    (1001) docker     (121)     6672 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/folder_html64.png
+-rw-r--r--   0 runner    (1001) docker     (121)     1791 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/folder_html_locked16.png
+-rw-r--r--   0 runner    (1001) docker     (121)     1187 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/folder_image16.png
+-rwxr-xr-x   0 runner    (1001) docker     (121)      716 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/folder_image16_old.png
+-rwxr-xr-x   0 runner    (1001) docker     (121)     3826 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/folder_image64.png
+-rw-r--r--   0 runner    (1001) docker     (121)     3061 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/folder_image_locked16.png
+-rw-r--r--   0 runner    (1001) docker     (121)     3060 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/folder_locked16.png
+-rw-r--r--   0 runner    (1001) docker     (121)     1879 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/folder_locked32.png
+-rw-r--r--   0 runner    (1001) docker     (121)      382 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/folder_plate16.png
+-rw-r--r--   0 runner    (1001) docker     (121)      940 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/folder_plate16_old.png
+-rw-r--r--   0 runner    (1001) docker     (121)     2430 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/folder_plate32.png
+-rw-r--r--   0 runner    (1001) docker     (121)     7068 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/folder_plate64.png
+-rw-r--r--   0 runner    (1001) docker     (121)     3152 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/folder_plate_locked16.png
+-rw-r--r--   0 runner    (1001) docker     (121)     1289 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/folder_screen16.png
+-rw-r--r--   0 runner    (1001) docker     (121)     1960 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/folder_screen32.png
+-rw-r--r--   0 runner    (1001) docker     (121)     5230 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/folder_screen64.png
+-rw-r--r--   0 runner    (1001) docker     (121)     3141 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/folder_screen_locked16.png
+-rw-r--r--   0 runner    (1001) docker     (121)     1186 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/folder_yellow16.png
+-rw-r--r--   0 runner    (1001) docker     (121)      770 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/folder_yellow16_old.png
+-rw-r--r--   0 runner    (1001) docker     (121)     1619 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/folder_yellow32.png
+-rw-r--r--   0 runner    (1001) docker     (121)     4021 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/folder_yellow64.png
+drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-05-31 10:03:53.746580 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/googiespell/
+-rwxr-xr-x   0 runner    (1001) docker     (121)       55 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/googiespell/blank.gif
+-rwxr-xr-x   0 runner    (1001) docker     (121)       70 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/googiespell/change_lang.gif
+-rwxr-xr-x   0 runner    (1001) docker     (121)      722 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/googiespell/indicator.gif
+-rwxr-xr-x   0 runner    (1001) docker     (121)     6678 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/googiespell/logo.png
+-rwxr-xr-x   0 runner    (1001) docker     (121)      143 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/googiespell/ok.gif
+-rwxr-xr-x   0 runner    (1001) docker     (121)      354 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/googiespell/spellc.gif
+-rw-r--r--   0 runner    (1001) docker     (121)     1142 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/group_dropdown_arrow.png
+-rw-r--r--   0 runner    (1001) docker     (121)     1708 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/group_green16.png
+-rw-r--r--   0 runner    (1001) docker     (121)     1694 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/group_orange16.png
+-rw-r--r--   0 runner    (1001) docker     (121)     1723 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/group_red16.png
+-rw-r--r--   0 runner    (1001) docker     (121)     1006 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/handle.horizontal.gif
+drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-05-31 10:03:53.746580 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/help/
+-rw-r--r--   0 runner    (1001) docker     (121)    46663 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/help/basket1.gif
+-rw-r--r--   0 runner    (1001) docker     (121)     1189 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/icon_arrow_left.png
+-rw-r--r--   0 runner    (1001) docker     (121)     1203 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/icon_arrow_right.png
+-rw-r--r--   0 runner    (1001) docker     (121)     1201 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/icon_basic_basket_16.png
+-rw-r--r--   0 runner    (1001) docker     (121)     1162 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/icon_basic_copy_16.png
+-rw-r--r--   0 runner    (1001) docker     (121)     1314 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/icon_basic_cut_16.png
+-rw-r--r--   0 runner    (1001) docker     (121)     1218 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/icon_basic_delete.png
+-rw-r--r--   0 runner    (1001) docker     (121)     1179 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/icon_basic_delete_16.png
+-rw-r--r--   0 runner    (1001) docker     (121)     1135 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/icon_basic_newwindow_16.png
+-rw-r--r--   0 runner    (1001) docker     (121)     1163 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/icon_basic_paste_16.png
+-rw-r--r--   0 runner    (1001) docker     (121)     1118 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/icon_basic_remove_16.png
+-rw-r--r--   0 runner    (1001) docker     (121)     1225 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/icon_basic_user_16.png
+-rw-r--r--   0 runner    (1001) docker     (121)     1181 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/icon_edit.png
+-rw-r--r--   0 runner    (1001) docker     (121)     2852 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/icon_layout.png
+-rw-r--r--   0 runner    (1001) docker     (121)     3273 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/icon_openwith.png
+-rw-r--r--   0 runner    (1001) docker     (121)     3241 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/icon_openwith_toolbar.png
+-rw-r--r--   0 runner    (1001) docker     (121)     3310 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/icon_redo16.png
+-rw-r--r--   0 runner    (1001) docker     (121)     3134 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/icon_save.png
+-rw-r--r--   0 runner    (1001) docker     (121)     2339 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/icon_scientist_36.png
+-rw-r--r--   0 runner    (1001) docker     (121)     3435 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/icon_scientist_group_36.png
+-rw-r--r--   0 runner    (1001) docker     (121)     3884 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/icon_settings_drivespace.png
+-rw-r--r--   0 runner    (1001) docker     (121)     3442 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/icon_settings_groups.png
+-rw-r--r--   0 runner    (1001) docker     (121)     3034 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/icon_settings_mail.png
+-rw-r--r--   0 runner    (1001) docker     (121)     2350 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/icon_settings_user.png
+-rw-r--r--   0 runner    (1001) docker     (121)     1099 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/icon_tag_delete.png
+-rw-r--r--   0 runner    (1001) docker     (121)     2813 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/icon_tag_remove.png
+-rw-r--r--   0 runner    (1001) docker     (121)     2934 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/icon_toolbar_add.png
+-rw-r--r--   0 runner    (1001) docker     (121)     1348 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/icon_toolbar_basket.png
+-rw-r--r--   0 runner    (1001) docker     (121)     1383 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/icon_toolbar_chat.png
+-rw-r--r--   0 runner    (1001) docker     (121)     1475 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/icon_toolbar_chat2.png
+-rw-r--r--   0 runner    (1001) docker     (121)     1527 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/icon_toolbar_clean.png
+-rw-r--r--   0 runner    (1001) docker     (121)     1642 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/icon_toolbar_clean2.png
+-rw-r--r--   0 runner    (1001) docker     (121)     1297 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/icon_toolbar_copy.png
+-rw-r--r--   0 runner    (1001) docker     (121)     1534 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/icon_toolbar_cut.png
+-rw-r--r--   0 runner    (1001) docker     (121)     1334 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/icon_toolbar_delete.png
+-rw-r--r--   0 runner    (1001) docker     (121)     1250 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/icon_toolbar_paste.png
+-rw-r--r--   0 runner    (1001) docker     (121)     1473 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/icon_toolbar_refresh.png
+-rw-r--r--   0 runner    (1001) docker     (121)     1586 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/icon_toolbar_refresh2.png
+-rw-r--r--   0 runner    (1001) docker     (121)     1216 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/icon_toolbar_remove.png
+-rw-r--r--   0 runner    (1001) docker     (121)     1264 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/icon_toolbar_remove2.png
+-rw-r--r--   0 runner    (1001) docker     (121)     1656 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/icon_toolbar_share.png
+-rw-r--r--   0 runner    (1001) docker     (121)     1895 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/icon_toolbar_share2.png
+-rw-r--r--   0 runner    (1001) docker     (121)     3314 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/icon_undo16.png
+-rw-r--r--   0 runner    (1001) docker     (121)     1657 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/icon_user.png
+-rw-r--r--   0 runner    (1001) docker     (121)     1736 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/icon_user_select.png
+-rw-r--r--   0 runner    (1001) docker     (121)      219 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/image16.png
+-rw-r--r--   0 runner    (1001) docker     (121)     1197 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/image_16.png
+-rw-r--r--   0 runner    (1001) docker     (121)     7820 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/image_deleted_thumbnail.png
+-rw-r--r--   0 runner    (1001) docker     (121)     2979 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/image_locked16.png
+-rw-r--r--   0 runner    (1001) docker     (121)      648 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/image_locked16_old.png
+-rw-r--r--   0 runner    (1001) docker     (121)      619 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/info12.png
+-rw-r--r--   0 runner    (1001) docker     (121)      978 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/info16.png
+-rw-r--r--   0 runner    (1001) docker     (121)      653 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/kgpg12.png
+-rw-r--r--   0 runner    (1001) docker     (121)     1002 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/kgpg16.png
+-rw-r--r--   0 runner    (1001) docker     (121)      504 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/kgpg_key16.png
+-rw-r--r--   0 runner    (1001) docker     (121)      569 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/knotes12.png
+-rwxr-xr-x   0 runner    (1001) docker     (121)     4344 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/knotes64.png
+-rw-r--r--   0 runner    (1001) docker     (121)     3483 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/knotesred16.png
+-rw-r--r--   0 runner    (1001) docker     (121)      478 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/kpresenter12.png
+-rw-r--r--   0 runner    (1001) docker     (121)      593 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/kpresenter16.png
+-rw-r--r--   0 runner    (1001) docker     (121)      553 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/kuser12.gif
+-rw-r--r--   0 runner    (1001) docker     (121)      672 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/kuser12.png
+-rw-r--r--   0 runner    (1001) docker     (121)     1173 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/kuser16.png
+-rw-r--r--   0 runner    (1001) docker     (121)      608 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/kview12.png
+-rw-r--r--   0 runner    (1001) docker     (121)      725 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/kview16.png
+-rw-r--r--   0 runner    (1001) docker     (121)     3457 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/left_sidebar_icon_map.png
+-rw-r--r--   0 runner    (1001) docker     (121)     1759 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/left_sidebar_icon_public.png
+-rw-r--r--   0 runner    (1001) docker     (121)     1414 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/left_sidebar_icon_tag.png
+-rw-r--r--   0 runner    (1001) docker     (121)     3299 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/left_sidebar_icon_tags.png
+-rw-r--r--   0 runner    (1001) docker     (121)     5886 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/loadingAnimation.gif
+-rw-r--r--   0 runner    (1001) docker     (121)      309 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/lock.png
+-rw-r--r--   0 runner    (1001) docker     (121)      559 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/locked12.png
+-rw-r--r--   0 runner    (1001) docker     (121)     1484 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/logo.png
+-rw-r--r--   0 runner    (1001) docker     (121)    13829 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/logo_login_web.png
+-rw-r--r--   0 runner    (1001) docker     (121)      207 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/macFFBgHack.png
+drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-05-31 10:03:53.746580 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/menu/
+-rw-r--r--   0 runner    (1001) docker     (121)     2755 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/menu/contact.png
+-rw-r--r--   0 runner    (1001) docker     (121)     4202 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/menu/help.png
+-rw-r--r--   0 runner    (1001) docker     (121)     3912 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/menu/history.png
+-rw-r--r--   0 runner    (1001) docker     (121)     3252 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/menu/home.png
+-rw-r--r--   0 runner    (1001) docker     (121)     3699 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/menu/import.png
+-rw-r--r--   0 runner    (1001) docker     (121)    30879 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/menu/menu.png
+-rw-r--r--   0 runner    (1001) docker     (121)    34907 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/menu/menu_with_import.png
+-rw-r--r--   0 runner    (1001) docker     (121)     2969 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/menu/person.png
+-rw-r--r--   0 runner    (1001) docker     (121)     3113 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/menu/search.png
+-rw-r--r--   0 runner    (1001) docker     (121)     3259 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/menu/share.png
+-rw-r--r--   0 runner    (1001) docker     (121)     4211 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/menu/userdata.png
+-rw-r--r--   0 runner    (1001) docker     (121)     2563 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/message_nodata.png
+-rwxr-xr-x   0 runner    (1001) docker     (121)     2972 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/minus_11.png
+-rw-r--r--   0 runner    (1001) docker     (121)     3210 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/minus_15.png
+-rw-r--r--   0 runner    (1001) docker     (121)      668 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/network12.png
+-rwxr-xr-x   0 runner    (1001) docker     (121)     3707 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/network16.png
+-rw-r--r--   0 runner    (1001) docker     (121)     1192 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/nuvola_apply22.png
+-rw-r--r--   0 runner    (1001) docker     (121)     3574 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/nuvola_cancel16.png
+-rw-r--r--   0 runner    (1001) docker     (121)      986 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/nuvola_download_manager16.png
+-rw-r--r--   0 runner    (1001) docker     (121)     3642 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/nuvola_script-run16.png
+-rw-r--r--   0 runner    (1001) docker     (121)     3642 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/nuvola_script-run16_old.png
+-rw-r--r--   0 runner    (1001) docker     (121)     4706 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/oav_16.png
+-rw-r--r--   0 runner    (1001) docker     (121)      618 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/personal12.png
+-rw-r--r--   0 runner    (1001) docker     (121)     1310 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/personal16.png
+-rw-r--r--   0 runner    (1001) docker     (121)      871 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/personal16_old.png
+-rw-r--r--   0 runner    (1001) docker     (121)     4439 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/personal32.png
+-rwxr-xr-x   0 runner    (1001) docker     (121)     3329 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/plus.png
+-rwxr-xr-x   0 runner    (1001) docker     (121)     2987 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/plus_11.png
+-rw-r--r--   0 runner    (1001) docker     (121)     3006 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/rating0.png
+-rw-r--r--   0 runner    (1001) docker     (121)     3161 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/rating1.png
+-rw-r--r--   0 runner    (1001) docker     (121)     3198 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/rating2.png
+-rw-r--r--   0 runner    (1001) docker     (121)     3372 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/rating3.png
+-rw-r--r--   0 runner    (1001) docker     (121)     3445 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/rating4.png
+-rw-r--r--   0 runner    (1001) docker     (121)     3354 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/rating5.png
+-rwxr-xr-x   0 runner    (1001) docker     (121)     3425 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/rdef16.png
+-rw-r--r--   0 runner    (1001) docker     (121)     1195 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/rdef32.png
+-rwxr-xr-x   0 runner    (1001) docker     (121)     1045 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/reload16.png
+-rw-r--r--   0 runner    (1001) docker     (121)      604 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/reset-grey.png
+-rw-r--r--   0 runner    (1001) docker     (121)      920 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/reset.png
+-rw-r--r--   0 runner    (1001) docker     (121)     3315 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/root_user16.png
+-rw-r--r--   0 runner    (1001) docker     (121)     1197 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/run16.png
+drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-05-31 10:03:53.746580 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/scroller/
+-rw-r--r--   0 runner    (1001) docker     (121)     5449 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/scroller/productbrowser_background_20070622.jpg
+-rw-r--r--   0 runner    (1001) docker     (121)     3842 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/scroller/productbrowser_scrollbar_20070622.png
+-rw-r--r--   0 runner    (1001) docker     (121)     1503 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/scroller/productbrowser_scroller_20080115.png
+-rw-r--r--   0 runner    (1001) docker     (121)      313 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/search.png
+-rw-r--r--   0 runner    (1001) docker     (121)     1118 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/select_dropdown_arrow.png
+-rw-r--r--   0 runner    (1001) docker     (121)      451 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/success.png
+-rw-r--r--   0 runner    (1001) docker     (121)      381 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/tab_icon_tag.png
+-rw-r--r--   0 runner    (1001) docker     (121)     1149 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/table_arrow_down.png
+-rw-r--r--   0 runner    (1001) docker     (121)     1148 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/table_arrow_up.png
+-rw-r--r--   0 runner    (1001) docker     (121)     3018 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/table_arrow_up_down.png
+-rw-r--r--   0 runner    (1001) docker     (121)     2839 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/table_layout.png
+-rw-r--r--   0 runner    (1001) docker     (121)      793 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/tango_text-x-python16.png
+-rw-r--r--   0 runner    (1001) docker     (121)      556 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/unknown16.png
+-rw-r--r--   0 runner    (1001) docker     (121)      854 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/view_detailed16.png
+-rw-r--r--   0 runner    (1001) docker     (121)      868 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/view_icon16.png
+-rw-r--r--   0 runner    (1001) docker     (121)      802 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/view_tag16.png
+-rw-r--r--   0 runner    (1001) docker     (121)      732 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/view_tree16.png
+-rw-r--r--   0 runner    (1001) docker     (121)     2884 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/well16.png
+-rw-r--r--   0 runner    (1001) docker     (121)      857 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/window_new16.png
+-rw-r--r--   0 runner    (1001) docker     (121)     1599 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/wp_protocol16.png
+-rwxr-xr-x   0 runner    (1001) docker     (121)     2412 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/wp_protocol32.png
+-rw-r--r--   0 runner    (1001) docker     (121)     5896 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/wp_protocol64.png
+-rw-r--r--   0 runner    (1001) docker     (121)     1689 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/wp_protocol_locked16.png
+-rw-r--r--   0 runner    (1001) docker     (121)     2428 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/wp_protocol_locked32.png
+-rw-r--r--   0 runner    (1001) docker     (121)     6752 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/wp_protocol_locked64.png
+-rwxr-xr-x   0 runner    (1001) docker     (121)       49 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/image/x.gif
+drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-05-31 10:03:53.750580 omero-web-5.9.2/omeroweb/webclient/static/webclient/javascript/
+drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-05-31 10:03:53.750580 omero-web-5.9.2/omeroweb/webclient/static/webclient/javascript/ie8_pngfix/
+-rw-r--r--   0 runner    (1001) docker     (121)     1446 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/javascript/ie8_pngfix/supersleight-min.js
+-rw-r--r--   0 runner    (1001) docker     (121)     9498 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/javascript/jquery.editinplace-0.1.2.js
+-rw-r--r--   0 runner    (1001) docker     (121)    43891 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/javascript/jquery.form-3.51.js
+-rwxr-xr-x   0 runner    (1001) docker     (121)     3867 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/javascript/jquery.infieldlabel-0.1.js
+-rw-r--r--   0 runner    (1001) docker     (121)     1074 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/javascript/jquery.jstree.childcount_plugin.js
+-rw-r--r--   0 runner    (1001) docker     (121)      696 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/javascript/jquery.jstree.conditionalselect_plugin.js
+-rw-r--r--   0 runner    (1001) docker     (121)     2689 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/javascript/jquery.jstree.fields_plugin.js
+-rw-r--r--   0 runner    (1001) docker     (121)    12875 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/javascript/jquery.jstree.locate_plugin.js
+-rw-r--r--   0 runner    (1001) docker     (121)    11529 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/javascript/jquery.jstree.omecut_plugin.js
+-rw-r--r--   0 runner    (1001) docker     (121)     2210 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/javascript/jquery.jstree.ometools_plugin.js
+-rw-r--r--   0 runner    (1001) docker     (121)     2723 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/javascript/jquery.jstree.pagination_plugin.js
+-rw-r--r--   0 runner    (1001) docker     (121)     1762 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/javascript/jquery.jstree.truncatetext_plugin.js
+-rw-r--r--   0 runner    (1001) docker     (121)     9159 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/javascript/modernizr-2.5.3.js
+-rw-r--r--   0 runner    (1001) docker     (121)     9474 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/javascript/ome.center_plugin_filter.js
+-rw-r--r--   0 runner    (1001) docker     (121)    18937 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/javascript/ome.chgrp.js
+-rw-r--r--   0 runner    (1001) docker     (121)     9373 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/javascript/ome.chown.js
+-rw-r--r--   0 runner    (1001) docker     (121)     4729 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/javascript/ome.make_movie.js
+-rw-r--r--   0 runner    (1001) docker     (121)     1425 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/javascript/ome.openwith_viewer.js
+-rw-r--r--   0 runner    (1001) docker     (121)     5456 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/javascript/ome.right_panel_comments_pane.js
+-rw-r--r--   0 runner    (1001) docker     (121)     4821 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/javascript/ome.right_panel_customanns_pane.js
+-rw-r--r--   0 runner    (1001) docker     (121)     9170 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/javascript/ome.right_panel_fileanns_pane.js
+-rw-r--r--   0 runner    (1001) docker     (121)     8469 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/javascript/ome.right_panel_mapanns_pane.js
+-rw-r--r--   0 runner    (1001) docker     (121)     4482 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/javascript/ome.right_panel_ratings_pane.js
+-rw-r--r--   0 runner    (1001) docker     (121)     8020 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/javascript/ome.right_panel_tags_pane.js
+-rw-r--r--   0 runner    (1001) docker     (121)    10946 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/javascript/ome.split_view_figure.js
+-rw-r--r--   0 runner    (1001) docker     (121)    29218 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/javascript/ome.tagging_form.js
+-rw-r--r--   0 runner    (1001) docker     (121)    10487 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/javascript/ome.thumbnail_figure.js
+-rw-r--r--   0 runner    (1001) docker     (121)    64808 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/javascript/ome.tree.js
+-rw-r--r--   0 runner    (1001) docker     (121)    44027 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/javascript/ome.webclient.actions.js
+drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-05-31 10:03:53.750580 omero-web-5.9.2/omeroweb/webclient/static/webclient/javascript/slider/
+-rw-r--r--   0 runner    (1001) docker     (121)     5540 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/javascript/slider/range.js
+-rw-r--r--   0 runner    (1001) docker     (121)    15423 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/javascript/slider/slider.js
+-rw-r--r--   0 runner    (1001) docker     (121)     2931 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/static/webclient/javascript/slider/timer.js
+drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-05-31 10:03:53.702578 omero-web-5.9.2/omeroweb/webclient/templates/
+drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-05-31 10:03:53.750580 omero-web-5.9.2/omeroweb/webclient/templates/webclient/
+drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-05-31 10:03:53.754580 omero-web-5.9.2/omeroweb/webclient/templates/webclient/activities/
+-rw-r--r--   0 runner    (1001) docker     (121)    20856 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/templates/webclient/activities/activitiesContent.html
+-rw-r--r--   0 runner    (1001) docker     (121)     2005 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/templates/webclient/activities/fileset_check_dialog_content.html
+drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-05-31 10:03:53.754580 omero-web-5.9.2/omeroweb/webclient/templates/webclient/ajax_form/
+-rw-r--r--   0 runner    (1001) docker     (121)     1108 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/templates/webclient/ajax_form/container_form_ajax.html
+drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-05-31 10:03:53.754580 omero-web-5.9.2/omeroweb/webclient/templates/webclient/annotations/
+-rw-r--r--   0 runner    (1001) docker     (121)    12246 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/templates/webclient/annotations/annotations_share.html
+-rw-r--r--   0 runner    (1001) docker     (121)     6666 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/templates/webclient/annotations/batch_annotate.html
+-rw-r--r--   0 runner    (1001) docker     (121)     2332 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/templates/webclient/annotations/comment.html
+-rw-r--r--   0 runner    (1001) docker     (121)     1368 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/templates/webclient/annotations/comments_underscore.html
+-rw-r--r--   0 runner    (1001) docker     (121)     1155 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/templates/webclient/annotations/custom_ann_tooltip.html
+-rw-r--r--   0 runner    (1001) docker     (121)     1106 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/templates/webclient/annotations/customanns_underscore.html
+-rw-r--r--   0 runner    (1001) docker     (121)     4182 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/templates/webclient/annotations/download_placeholder.html
+-rw-r--r--   0 runner    (1001) docker     (121)     3089 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/templates/webclient/annotations/fileanns_underscore.html
+-rw-r--r--   0 runner    (1001) docker     (121)     2696 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/templates/webclient/annotations/files_form.html
+drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-05-31 10:03:53.758580 omero-web-5.9.2/omeroweb/webclient/templates/webclient/annotations/includes/
+-rw-r--r--   0 runner    (1001) docker     (121)     5425 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/templates/webclient/annotations/includes/core_metadata.html
+-rw-r--r--   0 runner    (1001) docker     (121)     1564 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/templates/webclient/annotations/includes/description.html
+-rw-r--r--   0 runner    (1001) docker     (121)     1290 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/templates/webclient/annotations/includes/figure_scripts_menu.html
+-rw-r--r--   0 runner    (1001) docker     (121)    16696 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/templates/webclient/annotations/includes/mapannotations.html
+-rw-r--r--   0 runner    (1001) docker     (121)     2143 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/templates/webclient/annotations/includes/metadata_general_comment.html
+-rw-r--r--   0 runner    (1001) docker     (121)     2430 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/templates/webclient/annotations/includes/metadata_general_file.html
+-rw-r--r--   0 runner    (1001) docker     (121)     1211 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/templates/webclient/annotations/includes/metadata_general_map.html
+-rw-r--r--   0 runner    (1001) docker     (121)     1183 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/templates/webclient/annotations/includes/metadata_general_other.html
+-rw-r--r--   0 runner    (1001) docker     (121)     1427 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/templates/webclient/annotations/includes/metadata_general_rating.html
+-rw-r--r--   0 runner    (1001) docker     (121)     1330 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/templates/webclient/annotations/includes/metadata_general_table.html
+-rw-r--r--   0 runner    (1001) docker     (121)     1909 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/templates/webclient/annotations/includes/metadata_general_tag.html
+-rw-r--r--   0 runner    (1001) docker     (121)     2619 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/templates/webclient/annotations/includes/name.html
+-rw-r--r--   0 runner    (1001) docker     (121)    18494 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/templates/webclient/annotations/includes/toolbar.html
+-rw-r--r--   0 runner    (1001) docker     (121)     3717 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/templates/webclient/annotations/mapanns_underscore.html
+-rw-r--r--   0 runner    (1001) docker     (121)    19640 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/templates/webclient/annotations/metadata_acquisition.html
+-rw-r--r--   0 runner    (1001) docker     (121)    32761 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/templates/webclient/annotations/metadata_general.html
+-rw-r--r--   0 runner    (1001) docker     (121)     3628 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/templates/webclient/annotations/metadata_hierarchy.html
+-rw-r--r--   0 runner    (1001) docker     (121)    20716 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/templates/webclient/annotations/metadata_preview.html
+-rw-r--r--   0 runner    (1001) docker     (121)     3919 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/templates/webclient/annotations/omero_table.html
+-rw-r--r--   0 runner    (1001) docker     (121)     2721 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/templates/webclient/annotations/original_metadata.html
+-rw-r--r--   0 runner    (1001) docker     (121)      823 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/templates/webclient/annotations/ratings_underscore.html
+-rw-r--r--   0 runner    (1001) docker     (121)     4037 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/templates/webclient/annotations/tags_form.html
+-rw-r--r--   0 runner    (1001) docker     (121)     1959 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/templates/webclient/annotations/tags_underscore.html
+drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-05-31 10:03:53.758580 omero-web-5.9.2/omeroweb/webclient/templates/webclient/base/
+-rwxr-xr-x   0 runner    (1001) docker     (121)     8184 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/templates/webclient/base/base.html
+-rw-r--r--   0 runner    (1001) docker     (121)    17319 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/templates/webclient/base/base_container.html
+drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-05-31 10:03:53.758580 omero-web-5.9.2/omeroweb/webclient/templates/webclient/base/includes/
+-rw-r--r--   0 runner    (1001) docker     (121)     7587 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/templates/webclient/base/includes/activities_info.html
+-rw-r--r--   0 runner    (1001) docker     (121)     5783 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/templates/webclient/base/includes/group_user_content.html
+-rw-r--r--   0 runner    (1001) docker     (121)     1322 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/templates/webclient/base/includes/group_user_dropdown.html
+-rw-r--r--   0 runner    (1001) docker     (121)     3903 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/templates/webclient/base/includes/group_user_dropdown2.html
+-rw-r--r--   0 runner    (1001) docker     (121)     1040 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/templates/webclient/base/includes/logo.html
+-rw-r--r--   0 runner    (1001) docker     (121)      966 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/templates/webclient/base/includes/logout.html
+-rw-r--r--   0 runner    (1001) docker     (121)     1331 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/templates/webclient/base/includes/menu.html
+-rw-r--r--   0 runner    (1001) docker     (121)     1569 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/templates/webclient/base/includes/ping.html
+-rw-r--r--   0 runner    (1001) docker     (121)     1244 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/templates/webclient/base/includes/script_launch.html
+-rw-r--r--   0 runner    (1001) docker     (121)     2228 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/templates/webclient/base/includes/script_launch_head.html
+-rw-r--r--   0 runner    (1001) docker     (121)     1096 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/templates/webclient/base/includes/search_field.html
+-rw-r--r--   0 runner    (1001) docker     (121)     1756 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/templates/webclient/base/includes/toolbar_forms.html
+-rw-r--r--   0 runner    (1001) docker     (121)     1862 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/templates/webclient/base/includes/user_dropdown.html
+drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-05-31 10:03:53.758580 omero-web-5.9.2/omeroweb/webclient/templates/webclient/data/
+-rw-r--r--   0 runner    (1001) docker     (121)     4295 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/templates/webclient/data/chgrp_target_tree.html
+-rw-r--r--   0 runner    (1001) docker     (121)     1780 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/templates/webclient/data/container_paging.html
+-rw-r--r--   0 runner    (1001) docker     (121)    42017 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/templates/webclient/data/containers.html
+-rw-r--r--   0 runner    (1001) docker     (121)     2390 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/templates/webclient/data/icon_header_underscore.html
+-rw-r--r--   0 runner    (1001) docker     (121)     2680 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/templates/webclient/data/icon_thumbnails_underscore.html
+drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-05-31 10:03:53.758580 omero-web-5.9.2/omeroweb/webclient/templates/webclient/data/includes/
+-rw-r--r--   0 runner    (1001) docker     (121)    43029 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/templates/webclient/data/includes/center_plugin.thumbs.js.html
+-rw-r--r--   0 runner    (1001) docker     (121)     1904 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/templates/webclient/data/includes/center_plugin_init.js.html
+-rw-r--r--   0 runner    (1001) docker     (121)     1741 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/templates/webclient/data/includes/right_plugin.acquisition.js.html
+-rw-r--r--   0 runner    (1001) docker     (121)     6972 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/templates/webclient/data/includes/right_plugin.general.js.html
+-rw-r--r--   0 runner    (1001) docker     (121)     2502 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/templates/webclient/data/includes/right_plugin.preview.js.html
+-rw-r--r--   0 runner    (1001) docker     (121)    16513 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/templates/webclient/data/plate.html
+drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-05-31 10:03:53.762580 omero-web-5.9.2/omeroweb/webclient/templates/webclient/history/
+-rw-r--r--   0 runner    (1001) docker     (121)     5239 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/templates/webclient/history/calendar.html
+-rwxr-xr-x   0 runner    (1001) docker     (121)     2598 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/templates/webclient/history/history.html
+-rwxr-xr-x   0 runner    (1001) docker     (121)     7476 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/templates/webclient/history/history_details.html
+-rw-r--r--   0 runner    (1001) docker     (121)     1711 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/templates/webclient/history/history_paging.html
+drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-05-31 10:03:53.762580 omero-web-5.9.2/omeroweb/webclient/templates/webclient/index/
+-rwxr-xr-x   0 runner    (1001) docker     (121)     2027 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/templates/webclient/index/index.html
+-rw-r--r--   0 runner    (1001) docker     (121)     1492 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/templates/webclient/index/index_last_imports.html
+-rw-r--r--   0 runner    (1001) docker     (121)     2028 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/templates/webclient/index/index_most_recent.html
+-rw-r--r--   0 runner    (1001) docker     (121)     1407 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/templates/webclient/index/index_tag_cloud.html
+-rw-r--r--   0 runner    (1001) docker     (121)     1401 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/templates/webclient/index.html
+-rwxr-xr-x   0 runner    (1001) docker     (121)     5982 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/templates/webclient/login.html
+drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-05-31 10:03:53.762580 omero-web-5.9.2/omeroweb/webclient/templates/webclient/public/
+-rw-r--r--   0 runner    (1001) docker     (121)    23506 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/templates/webclient/public/public.html
+-rwxr-xr-x   0 runner    (1001) docker     (121)     2795 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/templates/webclient/public/share_form.html
+drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-05-31 10:03:53.762580 omero-web-5.9.2/omeroweb/webclient/templates/webclient/scripts/
+-rw-r--r--   0 runner    (1001) docker     (121)     5947 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/templates/webclient/scripts/base_custom_dialog.html
+-rw-r--r--   0 runner    (1001) docker     (121)     4072 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/templates/webclient/scripts/include_param.html
+-rw-r--r--   0 runner    (1001) docker     (121)     1295 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/templates/webclient/scripts/list_scripts.html
+-rw-r--r--   0 runner    (1001) docker     (121)     6162 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/templates/webclient/scripts/make_movie.html
+-rw-r--r--   0 runner    (1001) docker     (121)      473 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/templates/webclient/scripts/no_processor.html
+-rw-r--r--   0 runner    (1001) docker     (121)     1319 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/templates/webclient/scripts/original_file_text.html
+-rw-r--r--   0 runner    (1001) docker     (121)     8792 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/templates/webclient/scripts/script_ui.html
+-rw-r--r--   0 runner    (1001) docker     (121)    11208 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/templates/webclient/scripts/split_view_figure.html
+-rw-r--r--   0 runner    (1001) docker     (121)     5583 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/templates/webclient/scripts/thumbnail_figure.html
+-rw-r--r--   0 runner    (1001) docker     (121)     8713 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/templates/webclient/scripts/upload_script.html
+drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-05-31 10:03:53.762580 omero-web-5.9.2/omeroweb/webclient/templates/webclient/search/
+-rw-r--r--   0 runner    (1001) docker     (121)    20624 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/templates/webclient/search/search.html
+-rw-r--r--   0 runner    (1001) docker     (121)    12442 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/templates/webclient/search/search_details.html
+drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-05-31 10:03:53.762580 omero-web-5.9.2/omeroweb/webclient/templatetags/
+-rw-r--r--   0 runner    (1001) docker     (121)        0 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/templatetags/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (121)     1550 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/templatetags/webclient_tags.py
+-rw-r--r--   0 runner    (1001) docker     (121)    64180 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/tree.py
+-rw-r--r--   0 runner    (1001) docker     (121)    14266 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/urls.py
+-rwxr-xr-x   0 runner    (1001) docker     (121)   185670 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/views.py
+-rw-r--r--   0 runner    (1001) docker     (121)    94891 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/webclient_gateway.py
+-rw-r--r--   0 runner    (1001) docker     (121)     2368 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webclient/webclient_utils.py
+drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-05-31 10:03:53.766581 omero-web-5.9.2/omeroweb/webgateway/
+-rw-r--r--   0 runner    (1001) docker     (121)      841 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (121)      850 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/admin.py
+-rw-r--r--   0 runner    (1001) docker     (121)    21359 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/marshal.py
+-rw-r--r--   0 runner    (1001) docker     (121)     2046 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/middleware.py
+-rw-r--r--   0 runner    (1001) docker     (121)     1843 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/models.py
+-rw-r--r--   0 runner    (1001) docker     (121)     3332 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/plategrid.py
+drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-05-31 10:03:53.706578 omero-web-5.9.2/omeroweb/webgateway/static/
+drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-05-31 10:03:53.766581 omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/
+drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-05-31 10:03:53.766581 omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/JQuerySpinBtn-1.3a/
+-rw-r--r--   0 runner    (1001) docker     (121)     2246 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/JQuerySpinBtn-1.3a/JQuerySpinBtn.css
+-rw-r--r--   0 runner    (1001) docker     (121)     6607 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/JQuerySpinBtn-1.3a/JQuerySpinBtn.js
+drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-05-31 10:03:53.766581 omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/JQuerySpinBtn-1.3a/img/
+-rw-r--r--   0 runner    (1001) docker     (121)     1041 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/JQuerySpinBtn-1.3a/img/spinbtn_updn.gif
+-rw-r--r--   0 runner    (1001) docker     (121)    14808 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/aop-1.3.js
+drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-05-31 10:03:53.766581 omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/d3-3.5.17/
+-rw-r--r--   0 runner    (1001) docker     (121)     1429 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/d3-3.5.17/LICENSE
+-rw-r--r--   0 runner    (1001) docker     (121)   337945 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/d3-3.5.17/d3.js
+-rw-r--r--   0 runner    (1001) docker     (121)   151725 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/d3-3.5.17/d3.min.js
+drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-05-31 10:03:53.766581 omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/farbtastic-1.2/
+-rw-r--r--   0 runner    (1001) docker     (121)      576 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/farbtastic-1.2/farbtastic.css
+-rw-r--r--   0 runner    (1001) docker     (121)     9220 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/farbtastic-1.2/farbtastic.js
+-rw-r--r--   0 runner    (1001) docker     (121)      652 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/farbtastic-1.2/marker.png
+-rw-r--r--   0 runner    (1001) docker     (121)     2020 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/farbtastic-1.2/mask.png
+-rw-r--r--   0 runner    (1001) docker     (121)    11733 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/farbtastic-1.2/wheel.png
+drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-05-31 10:03:53.766581 omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/hammer-2.0.2/
+-rw-r--r--   0 runner    (1001) docker     (121)    17325 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/hammer-2.0.2/hammer.min.js
+-rw-r--r--   0 runner    (1001) docker     (121)   282766 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery-1.11.1.js
+drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-05-31 10:03:53.706578 omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/
+drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-05-31 10:03:53.770581 omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/js/
+-rwxr-xr-x   0 runner    (1001) docker     (121)   436715 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/js/jquery-ui-1.10.4.js
+-rwxr-xr-x   0 runner    (1001) docker     (121)   228539 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/js/jquery-ui-1.10.4.min.js
+drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-05-31 10:03:53.706578 omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/
+drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-05-31 10:03:53.770581 omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/
+drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-05-31 10:03:53.774581 omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/images/
+-rwxr-xr-x   0 runner    (1001) docker     (121)     1738 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/images/animated-overlay.gif
+-rwxr-xr-x   0 runner    (1001) docker     (121)      180 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/images/ui-bg_flat_0_aaaaaa_40x100.png
+-rwxr-xr-x   0 runner    (1001) docker     (121)      178 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/images/ui-bg_flat_75_ffffff_40x100.png
+-rwxr-xr-x   0 runner    (1001) docker     (121)      120 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/images/ui-bg_glass_55_fbf9ee_1x400.png
+-rwxr-xr-x   0 runner    (1001) docker     (121)      105 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/images/ui-bg_glass_65_ffffff_1x400.png
+-rwxr-xr-x   0 runner    (1001) docker     (121)      111 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/images/ui-bg_glass_75_dadada_1x400.png
+-rwxr-xr-x   0 runner    (1001) docker     (121)      110 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/images/ui-bg_glass_75_e6e6e6_1x400.png
+-rwxr-xr-x   0 runner    (1001) docker     (121)      119 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/images/ui-bg_glass_95_fef1ec_1x400.png
+-rwxr-xr-x   0 runner    (1001) docker     (121)      101 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/images/ui-bg_highlight-soft_75_cccccc_1x100.png
+-rwxr-xr-x   0 runner    (1001) docker     (121)     4369 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/images/ui-icons_222222_256x240.png
+-rwxr-xr-x   0 runner    (1001) docker     (121)     4369 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/images/ui-icons_2e83ff_256x240.png
+-rwxr-xr-x   0 runner    (1001) docker     (121)     4369 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/images/ui-icons_454545_256x240.png
+-rwxr-xr-x   0 runner    (1001) docker     (121)     4369 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/images/ui-icons_888888_256x240.png
+-rwxr-xr-x   0 runner    (1001) docker     (121)     4369 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/images/ui-icons_cd0a0a_256x240.png
+-rwxr-xr-x   0 runner    (1001) docker     (121)    32397 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/jquery-ui.css
+-rwxr-xr-x   0 runner    (1001) docker     (121)      839 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/jquery.ui.accordion.css
+-rwxr-xr-x   0 runner    (1001) docker     (121)      300 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/jquery.ui.all.css
+-rwxr-xr-x   0 runner    (1001) docker     (121)      321 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/jquery.ui.autocomplete.css
+-rwxr-xr-x   0 runner    (1001) docker     (121)      779 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/jquery.ui.base.css
+-rwxr-xr-x   0 runner    (1001) docker     (121)     2540 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/jquery.ui.button.css
+-rwxr-xr-x   0 runner    (1001) docker     (121)     1472 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/jquery.ui.core.css
+-rwxr-xr-x   0 runner    (1001) docker     (121)     3636 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/jquery.ui.datepicker.css
+-rwxr-xr-x   0 runner    (1001) docker     (121)     1322 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/jquery.ui.dialog.css
+-rwxr-xr-x   0 runner    (1001) docker     (121)     1453 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/jquery.ui.menu.css
+-rwxr-xr-x   0 runner    (1001) docker     (121)      617 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/jquery.ui.progressbar.css
+-rwxr-xr-x   0 runner    (1001) docker     (121)     1157 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/jquery.ui.resizable.css
+-rwxr-xr-x   0 runner    (1001) docker     (121)      277 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/jquery.ui.selectable.css
+-rwxr-xr-x   0 runner    (1001) docker     (121)     1313 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/jquery.ui.slider.css
+-rwxr-xr-x   0 runner    (1001) docker     (121)     1184 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/jquery.ui.spinner.css
+-rwxr-xr-x   0 runner    (1001) docker     (121)     1222 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/jquery.ui.tabs.css
+-rwxr-xr-x   0 runner    (1001) docker     (121)    17619 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/jquery.ui.theme.css
+-rwxr-xr-x   0 runner    (1001) docker     (121)      422 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/jquery.ui.tooltip.css
+drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-05-31 10:03:53.774581 omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/minified/
+drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-05-31 10:03:53.778581 omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/minified/images/
+-rwxr-xr-x   0 runner    (1001) docker     (121)     1738 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/minified/images/animated-overlay.gif
+-rwxr-xr-x   0 runner    (1001) docker     (121)      180 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/minified/images/ui-bg_flat_0_aaaaaa_40x100.png
+-rwxr-xr-x   0 runner    (1001) docker     (121)      178 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/minified/images/ui-bg_flat_75_ffffff_40x100.png
+-rwxr-xr-x   0 runner    (1001) docker     (121)      120 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/minified/images/ui-bg_glass_55_fbf9ee_1x400.png
+-rwxr-xr-x   0 runner    (1001) docker     (121)      105 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/minified/images/ui-bg_glass_65_ffffff_1x400.png
+-rwxr-xr-x   0 runner    (1001) docker     (121)      111 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/minified/images/ui-bg_glass_75_dadada_1x400.png
+-rwxr-xr-x   0 runner    (1001) docker     (121)      110 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/minified/images/ui-bg_glass_75_e6e6e6_1x400.png
+-rwxr-xr-x   0 runner    (1001) docker     (121)      119 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/minified/images/ui-bg_glass_95_fef1ec_1x400.png
+-rwxr-xr-x   0 runner    (1001) docker     (121)      101 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/minified/images/ui-bg_highlight-soft_75_cccccc_1x100.png
+-rwxr-xr-x   0 runner    (1001) docker     (121)     4369 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/minified/images/ui-icons_222222_256x240.png
+-rwxr-xr-x   0 runner    (1001) docker     (121)     4369 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/minified/images/ui-icons_2e83ff_256x240.png
+-rwxr-xr-x   0 runner    (1001) docker     (121)     4369 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/minified/images/ui-icons_454545_256x240.png
+-rwxr-xr-x   0 runner    (1001) docker     (121)     4369 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/minified/images/ui-icons_888888_256x240.png
+-rwxr-xr-x   0 runner    (1001) docker     (121)     4369 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/minified/images/ui-icons_cd0a0a_256x240.png
+-rwxr-xr-x   0 runner    (1001) docker     (121)    25763 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/minified/jquery-ui.min.css
+-rwxr-xr-x   0 runner    (1001) docker     (121)      647 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/minified/jquery.ui.accordion.min.css
+-rwxr-xr-x   0 runner    (1001) docker     (121)      198 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/minified/jquery.ui.autocomplete.min.css
+-rwxr-xr-x   0 runner    (1001) docker     (121)     1875 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/minified/jquery.ui.button.min.css
+-rwxr-xr-x   0 runner    (1001) docker     (121)      924 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/minified/jquery.ui.core.min.css
+-rwxr-xr-x   0 runner    (1001) docker     (121)     3090 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/minified/jquery.ui.datepicker.min.css
+-rwxr-xr-x   0 runner    (1001) docker     (121)     1067 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/minified/jquery.ui.dialog.min.css
+-rwxr-xr-x   0 runner    (1001) docker     (121)     1092 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/minified/jquery.ui.menu.min.css
+-rwxr-xr-x   0 runner    (1001) docker     (121)      466 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/minified/jquery.ui.progressbar.min.css
+-rwxr-xr-x   0 runner    (1001) docker     (121)      925 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/minified/jquery.ui.resizable.min.css
+-rwxr-xr-x   0 runner    (1001) docker     (121)      211 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/minified/jquery.ui.selectable.min.css
+-rwxr-xr-x   0 runner    (1001) docker     (121)     1042 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/minified/jquery.ui.slider.min.css
+-rwxr-xr-x   0 runner    (1001) docker     (121)      807 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/minified/jquery.ui.spinner.min.css
+-rwxr-xr-x   0 runner    (1001) docker     (121)      892 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/minified/jquery.ui.tabs.min.css
+-rwxr-xr-x   0 runner    (1001) docker     (121)      144 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/minified/jquery.ui.theme.min.css
+-rwxr-xr-x   0 runner    (1001) docker     (121)      296 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/minified/jquery.ui.tooltip.min.css
+-rw-r--r--   0 runner    (1001) docker     (121)    19910 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery.blockUI-2.66.0.js
+drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-05-31 10:03:53.778581 omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery.chosen-1.2.0/
+-rwxr-xr-x   0 runner    (1001) docker     (121)      538 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery.chosen-1.2.0/chosen-sprite.png
+-rwxr-xr-x   0 runner    (1001) docker     (121)      738 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery.chosen-1.2.0/chosen-sprite@2x.png
+-rwxr-xr-x   0 runner    (1001) docker     (121)    12927 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery.chosen-1.2.0/chosen.css
+-rwxr-xr-x   0 runner    (1001) docker     (121)    43067 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery.chosen-1.2.0/chosen.jquery.js
+drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-05-31 10:03:53.778581 omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery.flot-0.7/
+-rw-r--r--   0 runner    (1001) docker     (121)    45285 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery.flot-0.7/API.txt
+-rw-r--r--   0 runner    (1001) docker     (121)     1069 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery.flot-0.7/LICENSE.txt
+-rw-r--r--   0 runner    (1001) docker     (121)     4305 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery.flot-0.7/PLUGINS.txt
+-rw-r--r--   0 runner    (1001) docker     (121)     3116 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery.flot-0.7/README.txt
+-rw-r--r--   0 runner    (1001) docker     (121)    41784 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery.flot-0.7/excanvas.js
+-rw-r--r--   0 runner    (1001) docker     (121)     6110 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery.flot-0.7/jquery.colorhelpers.js
+-rw-r--r--   0 runner    (1001) docker     (121)     5191 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery.flot-0.7/jquery.flot.crosshair.js
+-rw-r--r--   0 runner    (1001) docker     (121)     6771 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery.flot-0.7/jquery.flot.fillbetween.js
+-rw-r--r--   0 runner    (1001) docker     (121)     7351 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery.flot-0.7/jquery.flot.image.js
+-rw-r--r--   0 runner    (1001) docker     (121)   106797 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery.flot-0.7/jquery.flot.js
+-rw-r--r--   0 runner    (1001) docker     (121)    37554 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery.flot-0.7/jquery.flot.min.js
+-rw-r--r--   0 runner    (1001) docker     (121)    13634 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery.flot-0.7/jquery.flot.navigate.js
+-rw-r--r--   0 runner    (1001) docker     (121)    22589 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery.flot-0.7/jquery.flot.pie.js
+-rw-r--r--   0 runner    (1001) docker     (121)     2458 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery.flot-0.7/jquery.flot.resize.js
+-rw-r--r--   0 runner    (1001) docker     (121)    12018 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery.flot-0.7/jquery.flot.selection.js
+-rw-r--r--   0 runner    (1001) docker     (121)     6968 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery.flot-0.7/jquery.flot.stack.js
+-rw-r--r--   0 runner    (1001) docker     (121)     2441 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery.flot-0.7/jquery.flot.symbol.js
+-rw-r--r--   0 runner    (1001) docker     (121)     3291 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery.flot-0.7/jquery.flot.threshold.js
+-rwxr-xr-x   0 runner    (1001) docker     (121)     3178 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery.hotkeys-0.8.js
+drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-05-31 10:03:53.778581 omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery.jstree-3.0.8/
+-rwxr-xr-x   0 runner    (1001) docker     (121)   251780 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery.jstree-3.0.8/jstree.js
+drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-05-31 10:03:53.706578 omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery.jstree-3.0.8/themes/
+drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-05-31 10:03:53.782581 omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery.jstree-3.0.8/themes/default/
+-rwxr-xr-x   0 runner    (1001) docker     (121)     3121 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery.jstree-3.0.8/themes/default/32px.png
+-rwxr-xr-x   0 runner    (1001) docker     (121)     1880 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery.jstree-3.0.8/themes/default/40px.png
+-rw-r--r--   0 runner    (1001) docker     (121)     1720 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery.jstree-3.0.8/themes/default/throbber.gif
+-rwxr-xr-x   0 runner    (1001) docker     (121)     2396 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery.mousewheel-3.0.6.js
+-rw-r--r--   0 runner    (1001) docker     (121)     4179 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery.quicksearch-1.0.js
+-rw-r--r--   0 runner    (1001) docker     (121)    13652 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery.selectboxes-2.2.6.js
+drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-05-31 10:03:53.782581 omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery.tablesorter-2.0.3/
+-rw-r--r--   0 runner    (1001) docker     (121)      176 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery.tablesorter-2.0.3/asc-big.gif
+-rw-r--r--   0 runner    (1001) docker     (121)      824 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery.tablesorter-2.0.3/asc.gif
+-rw-r--r--   0 runner    (1001) docker     (121)       56 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery.tablesorter-2.0.3/bg.gif
+-rw-r--r--   0 runner    (1001) docker     (121)      180 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery.tablesorter-2.0.3/desc-big.gif
+-rw-r--r--   0 runner    (1001) docker     (121)      824 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery.tablesorter-2.0.3/desc.gif
+-rw-r--r--   0 runner    (1001) docker     (121)     1149 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery.tablesorter-2.0.3/jquery.tablesorter.css
+-rw-r--r--   0 runner    (1001) docker     (121)    23376 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery.tablesorter-2.0.3/jquery.tablesorter.js
+-rw-r--r--   0 runner    (1001) docker     (121)     1291 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery.ui.touch-punch-0.2.3.min.js
+drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-05-31 10:03:53.782581 omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/panojs-2.0.0/
+-rwxr-xr-x   0 runner    (1001) docker     (121)    45948 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/panojs-2.0.0/PanoJS.js
+-rwxr-xr-x   0 runner    (1001) docker     (121)     2856 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/panojs-2.0.0/control_info.js
+-rw-r--r--   0 runner    (1001) docker     (121)     2163 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/panojs-2.0.0/control_roi.js
+-rw-r--r--   0 runner    (1001) docker     (121)     1166 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/panojs-2.0.0/control_scalebar.js
+-rwxr-xr-x   0 runner    (1001) docker     (121)     1340 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/panojs-2.0.0/control_svg.js
+-rwxr-xr-x   0 runner    (1001) docker     (121)    12808 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/panojs-2.0.0/control_thumbnail.js
+-rwxr-xr-x   0 runner    (1001) docker     (121)     4662 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/panojs-2.0.0/controls.js
+drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-05-31 10:03:53.782581 omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/panojs-2.0.0/extjs/
+-rwxr-xr-x   0 runner    (1001) docker     (121)    85836 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/panojs-2.0.0/extjs/ext-core.js
+-rwxr-xr-x   0 runner    (1001) docker     (121)     2712 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/panojs-2.0.0/extjs/ext-core.jsb2
+drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-05-31 10:03:53.786581 omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/panojs-2.0.0/images/
+-rwxr-xr-x   0 runner    (1001) docker     (121)     3080 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/panojs-2.0.0/images/16px_minus.png
+-rwxr-xr-x   0 runner    (1001) docker     (121)     3089 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/panojs-2.0.0/images/16px_plus.png
+-rwxr-xr-x   0 runner    (1001) docker     (121)     4011 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/panojs-2.0.0/images/32px_11.png
+-rwxr-xr-x   0 runner    (1001) docker     (121)     3943 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/panojs-2.0.0/images/32px_minus.png
+-rwxr-xr-x   0 runner    (1001) docker     (121)     4168 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/panojs-2.0.0/images/32px_plus.png
+-rwxr-xr-x   0 runner    (1001) docker     (121)     4375 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/panojs-2.0.0/images/32px_show.png
+-rwxr-xr-x   0 runner    (1001) docker     (121)     5052 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/panojs-2.0.0/images/64px_11.png
+-rwxr-xr-x   0 runner    (1001) docker     (121)     4843 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/panojs-2.0.0/images/64px_minus.png
+-rwxr-xr-x   0 runner    (1001) docker     (121)     5224 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/panojs-2.0.0/images/64px_plus.png
+-rwxr-xr-x   0 runner    (1001) docker     (121)     5890 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/panojs-2.0.0/images/64px_show.png
+-rwxr-xr-x   0 runner    (1001) docker     (121)      266 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/panojs-2.0.0/images/blank.gif
+-rwxr-xr-x   0 runner    (1001) docker     (121)      326 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/panojs-2.0.0/images/grab.cur
+-rwxr-xr-x   0 runner    (1001) docker     (121)      326 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/panojs-2.0.0/images/grabbing.cur
+-rwxr-xr-x   0 runner    (1001) docker     (121)    36292 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/panojs-2.0.0/images/progress.gif
+-rwxr-xr-x   0 runner    (1001) docker     (121)    21649 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/panojs-2.0.0/images/progress_128.gif
+-rwxr-xr-x   0 runner    (1001) docker     (121)    36292 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/panojs-2.0.0/images/progress_256.gif
+-rwxr-xr-x   0 runner    (1001) docker     (121)    42378 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/panojs-2.0.0/images/progress_512.gif
+-rwxr-xr-x   0 runner    (1001) docker     (121)     2680 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/panojs-2.0.0/panojs.css
+-rwxr-xr-x   0 runner    (1001) docker     (121)     3270 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/panojs-2.0.0/pyramid_Bisque.js
+-rwxr-xr-x   0 runner    (1001) docker     (121)     2182 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/panojs-2.0.0/pyramid_Zoomify.js
+-rwxr-xr-x   0 runner    (1001) docker     (121)     3026 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/panojs-2.0.0/pyramid_imgcnv.js
+-rwxr-xr-x   0 runner    (1001) docker     (121)     3334 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/panojs-2.0.0/utils.js
+drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-05-31 10:03:53.786581 omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/raphael-2.1.0/
+-rw-r--r--   0 runner    (1001) docker     (121)    90647 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/raphael-2.1.0/raphael-min.js
+-rw-r--r--   0 runner    (1001) docker     (121)   221137 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/raphael-2.1.0/raphael.js
+-rw-r--r--   0 runner    (1001) docker     (121)     3213 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/raphael-2.1.0/scale.raphael.js
+drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-05-31 10:03:53.786581 omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/underscore/
+-rw-r--r--   0 runner    (1001) docker     (121)    16449 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/underscore/underscore-1.8.3-min.js
+drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-05-31 10:03:53.706578 omero-web-5.9.2/omeroweb/webgateway/static/webgateway/
+drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-05-31 10:03:53.786581 omero-web-5.9.2/omeroweb/webgateway/static/webgateway/css/
+-rw-r--r--   0 runner    (1001) docker     (121)     5414 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/webgateway/css/base.css
+-rw-r--r--   0 runner    (1001) docker     (121)     3038 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/webgateway/css/ome.body.css
+-rw-r--r--   0 runner    (1001) docker     (121)     1123 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/webgateway/css/ome.colorbtn.css
+-rw-r--r--   0 runner    (1001) docker     (121)     3361 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/webgateway/css/ome.gs_slider.css
+-rw-r--r--   0 runner    (1001) docker     (121)    31447 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/webgateway/css/ome.header.css
+-rw-r--r--   0 runner    (1001) docker     (121)      610 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/webgateway/css/ome.iehacks.css
+-rw-r--r--   0 runner    (1001) docker     (121)    26125 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/webgateway/css/ome.jstree_theme.css
+-rwxr-xr-x   0 runner    (1001) docker     (121)     7553 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/webgateway/css/ome.login.css
+-rwxr-xr-x   0 runner    (1001) docker     (121)     7557 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/webgateway/css/ome.login_notgoingtofly.css
+-rw-r--r--   0 runner    (1001) docker     (121)     6898 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/webgateway/css/ome.plateview.css
+-rw-r--r--   0 runner    (1001) docker     (121)     2487 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/webgateway/css/ome.postit.css
+-rw-r--r--   0 runner    (1001) docker     (121)      633 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/webgateway/css/ome.snippet_header_logo.css
+-rw-r--r--   0 runner    (1001) docker     (121)     6378 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/webgateway/css/ome.table.css
+-rw-r--r--   0 runner    (1001) docker     (121)     5002 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/webgateway/css/ome.toolbar.css
+-rw-r--r--   0 runner    (1001) docker     (121)     3477 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/webgateway/css/ome.viewport.css
+-rw-r--r--   0 runner    (1001) docker     (121)     9365 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/webgateway/css/omero_image.css
+-rw-r--r--   0 runner    (1001) docker     (121)     1137 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/webgateway/css/reset.css
+-rw-r--r--   0 runner    (1001) docker     (121)     1092 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/webgateway/css/reset_old.css
+drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-05-31 10:03:53.802582 omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/
+-rw-r--r--   0 runner    (1001) docker     (121)      891 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/1_1.gif
+-rw-r--r--   0 runner    (1001) docker     (121)     5378 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/OME_logo_grey_110.png
+-rw-r--r--   0 runner    (1001) docker     (121)     7439 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/activity_light_24.png
+-rw-r--r--   0 runner    (1001) docker     (121)    10819 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/ajax-loader-ovl.gif
+-rw-r--r--   0 runner    (1001) docker     (121)     1924 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/ajax-loader.gif
+-rw-r--r--   0 runner    (1001) docker     (121)     3961 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/arrowDown_grey.png
+-rw-r--r--   0 runner    (1001) docker     (121)     3964 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/arrowRight_grey.png
+-rw-r--r--   0 runner    (1001) docker     (121)      101 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/arrow_down.gif
+-rw-r--r--   0 runner    (1001) docker     (121)      196 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/arrow_down.png
+-rw-r--r--   0 runner    (1001) docker     (121)      126 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/arrow_left.gif
+-rw-r--r--   0 runner    (1001) docker     (121)      127 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/arrow_right.gif
+-rw-r--r--   0 runner    (1001) docker     (121)      103 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/arrow_up.gif
+-rw-r--r--   0 runner    (1001) docker     (121)      187 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/arrow_up.png
+-rw-r--r--   0 runner    (1001) docker     (121)     6661 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/basket_light_24.png
+-rw-r--r--   0 runner    (1001) docker     (121)    17331 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/bg2.png
+-rw-r--r--   0 runner    (1001) docker     (121)   125897 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/bg_thataintgonnafly.jpg
+-rw-r--r--   0 runner    (1001) docker     (121)      110 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/blank_tile.png
+-rw-r--r--   0 runner    (1001) docker     (121)       58 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/blue_arrow_down.gif
+-rw-r--r--   0 runner    (1001) docker     (121)       58 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/blue_arrow_left.gif
+-rw-r--r--   0 runner    (1001) docker     (121)       58 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/blue_arrow_right.gif
+-rw-r--r--   0 runner    (1001) docker     (121)       57 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/blue_arrow_up.gif
+-rw-r--r--   0 runner    (1001) docker     (121)       61 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/blue_play_down.gif
+-rw-r--r--   0 runner    (1001) docker     (121)       64 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/blue_play_left.gif
+-rw-r--r--   0 runner    (1001) docker     (121)       63 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/blue_play_right.gif
+-rw-r--r--   0 runner    (1001) docker     (121)       61 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/blue_play_up.gif
+-rw-r--r--   0 runner    (1001) docker     (121)       58 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/blue_square.gif
+-rw-r--r--   0 runner    (1001) docker     (121)     2192 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/broken.gif
+-rw-r--r--   0 runner    (1001) docker     (121)       72 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/close.gif
+-rw-r--r--   0 runner    (1001) docker     (121)     1521 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/close.png
+-rw-r--r--   0 runner    (1001) docker     (121)     3344 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/colorpicker_16.png
+-rw-r--r--   0 runner    (1001) docker     (121)      179 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/contextbox_arrowup.png
+-rw-r--r--   0 runner    (1001) docker     (121)      210 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/contextbox_arrowup2.png
+-rw-r--r--   0 runner    (1001) docker     (121)     1190 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/datepicker_next.png
+-rw-r--r--   0 runner    (1001) docker     (121)     1190 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/datepicker_prev.png
+-rw-r--r--   0 runner    (1001) docker     (121)     2824 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/drag_handle_5.png
+-rw-r--r--   0 runner    (1001) docker     (121)      152 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/dropdown_arrow.png
+-rw-r--r--   0 runner    (1001) docker     (121)     2878 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/dropdown_left_arrow.png
+-rw-r--r--   0 runner    (1001) docker     (121)     2827 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/dropdown_left_arrow_hover.png
+-rw-r--r--   0 runner    (1001) docker     (121)      200 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/dropdown_right_arrow.png
+-rw-r--r--   0 runner    (1001) docker     (121)      143 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/dropdown_right_arrow_hover.png
+-rw-r--r--   0 runner    (1001) docker     (121)     1189 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/ellipse16.png
+drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-05-31 10:03:53.806582 omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/emots/
+-rw-r--r--   0 runner    (1001) docker     (121)      354 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/emots/tinymce_smiley-cool18.gif
+-rw-r--r--   0 runner    (1001) docker     (121)      329 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/emots/tinymce_smiley-cry18.gif
+-rw-r--r--   0 runner    (1001) docker     (121)      331 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/emots/tinymce_smiley-embarassed18.gif
+-rw-r--r--   0 runner    (1001) docker     (121)      340 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/emots/tinymce_smiley-frown18.gif
+-rw-r--r--   0 runner    (1001) docker     (121)      338 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/emots/tinymce_smiley-kiss18.gif
+-rw-r--r--   0 runner    (1001) docker     (121)      344 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/emots/tinymce_smiley-laughing18.gif
+-rw-r--r--   0 runner    (1001) docker     (121)      345 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/emots/tinymce_smiley-smile18.gif
+-rw-r--r--   0 runner    (1001) docker     (121)      342 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/emots/tinymce_smiley-surprised18.gif
+-rw-r--r--   0 runner    (1001) docker     (121)      328 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/emots/tinymce_smiley-tongue-out18.gif
+-rw-r--r--   0 runner    (1001) docker     (121)      337 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/emots/tinymce_smiley-undecided18.gif
+-rw-r--r--   0 runner    (1001) docker     (121)      351 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/emots/tinymce_smiley-wink18.gif
+-rw-r--r--   0 runner    (1001) docker     (121)      336 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/emots/tinymce_smiley-yell18.gif
+-rw-r--r--   0 runner    (1001) docker     (121)      142 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/exclamation.gif
+-rw-r--r--   0 runner    (1001) docker     (121)      337 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/fail.png
+-rw-r--r--   0 runner    (1001) docker     (121)      342 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/failed.png
+-rw-r--r--   0 runner    (1001) docker     (121)      342 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/failerd.png
+-rw-r--r--   0 runner    (1001) docker     (121)     1150 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/favicon.ico
+-rw-r--r--   0 runner    (1001) docker     (121)     1205 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/folder16.png
+-rwxr-xr-x   0 runner    (1001) docker     (121)     1431 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/folder32.png
+-rw-r--r--   0 runner    (1001) docker     (121)      159 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/folder_closed.png
+-rw-r--r--   0 runner    (1001) docker     (121)     1187 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/folder_image16.png
+-rwxr-xr-x   0 runner    (1001) docker     (121)     1604 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/folder_image32.png
+-rw-r--r--   0 runner    (1001) docker     (121)      164 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/folder_open.png
+-rw-r--r--   0 runner    (1001) docker     (121)     1186 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/folder_yellow16.png
+-rw-r--r--   0 runner    (1001) docker     (121)      889 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/fs.gif
+-rw-r--r--   0 runner    (1001) docker     (121)     9355 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/glencoe_drop_logo.gif
+-rw-r--r--   0 runner    (1001) docker     (121)      186 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/header_bg.png
+-rw-r--r--   0 runner    (1001) docker     (121)     2839 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/header_bg2.png
+-rw-r--r--   0 runner    (1001) docker     (121)     2871 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/header_bg_30.png
+-rw-r--r--   0 runner    (1001) docker     (121)      484 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/help16.png
+-rw-r--r--   0 runner    (1001) docker     (121)     1491 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/icon_activity.png
+-rw-r--r--   0 runner    (1001) docker     (121)     1181 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/icon_add.png
+-rw-r--r--   0 runner    (1001) docker     (121)     1344 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/icon_basket.png
+-rw-r--r--   0 runner    (1001) docker     (121)     1404 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/icon_download.png
+-rw-r--r--   0 runner    (1001) docker     (121)     2862 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/icon_download2.png
+-rw-r--r--   0 runner    (1001) docker     (121)     1181 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/icon_edit.png
+-rw-r--r--   0 runner    (1001) docker     (121)      917 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/icon_external_link.svg
+-rw-r--r--   0 runner    (1001) docker     (121)     2821 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/icon_figure_scripts.png
+-rw-r--r--   0 runner    (1001) docker     (121)     1184 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/icon_filetype.png
+-rw-r--r--   0 runner    (1001) docker     (121)     1346 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/icon_folder.png
+-rw-r--r--   0 runner    (1001) docker     (121)     2902 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/icon_fs_path.png
+-rw-r--r--   0 runner    (1001) docker     (121)     1362 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/icon_help.png
+-rw-r--r--   0 runner    (1001) docker     (121)     1320 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/icon_help_hover.png
+-rw-r--r--   0 runner    (1001) docker     (121)     1502 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/icon_info.png
+-rw-r--r--   0 runner    (1001) docker     (121)     2996 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/icon_link.png
+-rw-r--r--   0 runner    (1001) docker     (121)     1095 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/icon_logout.png
+-rw-r--r--   0 runner    (1001) docker     (121)     1094 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/icon_logout_hover.png
+-rw-r--r--   0 runner    (1001) docker     (121)     1538 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/icon_script.png
+-rw-r--r--   0 runner    (1001) docker     (121)     1430 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/icon_script_dark.png
+-rw-r--r--   0 runner    (1001) docker     (121)     1103 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/icon_settings.png
+-rw-r--r--   0 runner    (1001) docker     (121)     1099 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/icon_settings_hover.png
+-rw-r--r--   0 runner    (1001) docker     (121)     1469 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/icon_view.png
+-rw-r--r--   0 runner    (1001) docker     (121)     1459 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/icon_view_error.png
+-rw-r--r--   0 runner    (1001) docker     (121)     3037 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/iconmonstr-sitemap-6-icon-16.png
+-rw-r--r--   0 runner    (1001) docker     (121)     3450 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/image128.png
+-rw-r--r--   0 runner    (1001) docker     (121)      954 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/knotes16.png
+-rw-r--r--   0 runner    (1001) docker     (121)     1189 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/line16.png
+-rw-r--r--   0 runner    (1001) docker     (121)     4343 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/login_ome.png
+-rw-r--r--   0 runner    (1001) docker     (121)     4273 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/logo2.png
+-rw-r--r--   0 runner    (1001) docker     (121)    18159 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/logo_login2.png
+-rw-r--r--   0 runner    (1001) docker     (121)     1558 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/logout.png
+-rw-r--r--   0 runner    (1001) docker     (121)    19356 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/luts_10.png
+-rw-r--r--   0 runner    (1001) docker     (121)     3110 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/mail_send.png
+-rw-r--r--   0 runner    (1001) docker     (121)     3076 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/mail_send_hover.png
+-rw-r--r--   0 runner    (1001) docker     (121)     2875 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/mask16.png
+-rw-r--r--   0 runner    (1001) docker     (121)     1778 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/message_nodata.png
+-rw-r--r--   0 runner    (1001) docker     (121)      208 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/navigator_back.png
+-rw-r--r--   0 runner    (1001) docker     (121)      202 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/navigator_forward.png
+-rw-r--r--   0 runner    (1001) docker     (121)      272 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/nuvola_encrypted_grey16.png
+-rw-r--r--   0 runner    (1001) docker     (121)     3412 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/nuvola_encrypted_grey16_old.png
+-rw-r--r--   0 runner    (1001) docker     (121)      405 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/nuvola_script-run16.png
+-rw-r--r--   0 runner    (1001) docker     (121)     1150 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/ome.ico
+-rw-r--r--   0 runner    (1001) docker     (121)     3801 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/ome_text_109.png
+-rw-r--r--   0 runner    (1001) docker     (121)    19664 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/personal32.png
+-rw-r--r--   0 runner    (1001) docker     (121)     1207 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/point16.png
+-rw-r--r--   0 runner    (1001) docker     (121)     1189 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/polygon16.png
+-rw-r--r--   0 runner    (1001) docker     (121)      833 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/question.png
+-rw-r--r--   0 runner    (1001) docker     (121)     1189 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/rectangle16.png
+-rw-r--r--   0 runner    (1001) docker     (121)      126 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/resize.gif
+-rw-r--r--   0 runner    (1001) docker     (121)      313 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/search.png
+-rw-r--r--   0 runner    (1001) docker     (121)      451 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/settings.png
+-rwxr-xr-x   0 runner    (1001) docker     (121)       43 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/spacer.gif
+-rwxr-xr-x   0 runner    (1001) docker     (121)     1553 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/spinner)old.gif
+-rw-r--r--   0 runner    (1001) docker     (121)      664 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/spinner.gif
+-rw-r--r--   0 runner    (1001) docker     (121)    18566 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/spinner_big.gif
+-rw-r--r--   0 runner    (1001) docker     (121)    33816 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/spinner_big2.gif
+-rw-r--r--   0 runner    (1001) docker     (121)      508 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/success.png
+-rw-r--r--   0 runner    (1001) docker     (121)      181 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/t_axis.gif
+-rw-r--r--   0 runner    (1001) docker     (121)     1537 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/t_axis_revert.gif
+-rw-r--r--   0 runner    (1001) docker     (121)      381 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/tab_icon_tag.png
+-rw-r--r--   0 runner    (1001) docker     (121)      381 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/tab_tag.png
+-rw-r--r--   0 runner    (1001) docker     (121)     1155 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/table_arrow_down.png
+-rw-r--r--   0 runner    (1001) docker     (121)     1143 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/table_arrow_up.png
+-rw-r--r--   0 runner    (1001) docker     (121)      381 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/tag.png
+-rw-r--r--   0 runner    (1001) docker     (121)     1207 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/text16.png
+-rw-r--r--   0 runner    (1001) docker     (121)     1045 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/tray_collapse_left.png
+-rw-r--r--   0 runner    (1001) docker     (121)     1035 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/tray_collapse_right.png
+-rw-r--r--   0 runner    (1001) docker     (121)     1459 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/ui-anim_basic_16x16.gif
+-rw-r--r--   0 runner    (1001) docker     (121)      202 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/up_down.png
+-rw-r--r--   0 runner    (1001) docker     (121)     2180 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/upload_grey.png
+-rw-r--r--   0 runner    (1001) docker     (121)       63 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/white_arrow_down.gif
+-rw-r--r--   0 runner    (1001) docker     (121)       62 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/white_arrow_up.gif
+-rwxr-xr-x   0 runner    (1001) docker     (121)       49 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/x.gif
+-rw-r--r--   0 runner    (1001) docker     (121)      177 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/z_axis.gif
+-rw-r--r--   0 runner    (1001) docker     (121)     1520 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/z_axis_revert.gif
+drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-05-31 10:03:53.806582 omero-web-5.9.2/omeroweb/webgateway/static/webgateway/js/
+-rw-r--r--   0 runner    (1001) docker     (121)     3623 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/webgateway/js/jshint.json
+-rw-r--r--   0 runner    (1001) docker     (121)     8446 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/webgateway/js/ome.colorbtn.js
+-rw-r--r--   0 runner    (1001) docker     (121)     3570 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/webgateway/js/ome.csrf.js
+-rw-r--r--   0 runner    (1001) docker     (121)    10509 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/webgateway/js/ome.gs_slider.js
+-rw-r--r--   0 runner    (1001) docker     (121)    11085 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/webgateway/js/ome.gs_utils.js
+-rw-r--r--   0 runner    (1001) docker     (121)     7987 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/webgateway/js/ome.histogram.js
+-rw-r--r--   0 runner    (1001) docker     (121)     6306 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/webgateway/js/ome.nav.js
+-rw-r--r--   0 runner    (1001) docker     (121)     8815 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/webgateway/js/ome.plateview.js
+-rw-r--r--   0 runner    (1001) docker     (121)    35727 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/webgateway/js/ome.popup.js
+-rw-r--r--   0 runner    (1001) docker     (121)     3541 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/webgateway/js/ome.postit.js
+-rw-r--r--   0 runner    (1001) docker     (121)    48762 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/webgateway/js/ome.roidisplay.js
+-rw-r--r--   0 runner    (1001) docker     (121)     6268 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/webgateway/js/ome.roiutils.js
+-rw-r--r--   0 runner    (1001) docker     (121)     2762 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/webgateway/js/ome.scalebardisplay.js
+-rw-r--r--   0 runner    (1001) docker     (121)     2848 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/webgateway/js/ome.smartdialog.js
+-rw-r--r--   0 runner    (1001) docker     (121)     7111 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/webgateway/js/ome.spwgridview.js
+-rw-r--r--   0 runner    (1001) docker     (121)    41559 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/webgateway/js/ome.viewport.js
+-rw-r--r--   0 runner    (1001) docker     (121)    24512 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/webgateway/js/ome.viewportImage.js
+-rw-r--r--   0 runner    (1001) docker     (121)    24543 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/static/webgateway/js/omero_image.js
+drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-05-31 10:03:53.706578 omero-web-5.9.2/omeroweb/webgateway/templates/
+drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-05-31 10:03:53.806582 omero-web-5.9.2/omeroweb/webgateway/templates/webgateway/
+drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-05-31 10:03:53.810582 omero-web-5.9.2/omeroweb/webgateway/templates/webgateway/base/
+-rw-r--r--   0 runner    (1001) docker     (121)     1234 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/templates/webgateway/base/base_frame.html
+-rw-r--r--   0 runner    (1001) docker     (121)     2596 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/templates/webgateway/base/base_header.html
+-rw-r--r--   0 runner    (1001) docker     (121)     1777 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/templates/webgateway/base/base_main.html
+-rw-r--r--   0 runner    (1001) docker     (121)     1709 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/templates/webgateway/base/container2.html
+-rw-r--r--   0 runner    (1001) docker     (121)     2495 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/templates/webgateway/base/container3.html
+drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-05-31 10:03:53.810582 omero-web-5.9.2/omeroweb/webgateway/templates/webgateway/base/includes/
+-rw-r--r--   0 runner    (1001) docker     (121)      897 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/templates/webgateway/base/includes/css_link_body.html
+-rw-r--r--   0 runner    (1001) docker     (121)     1422 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/templates/webgateway/base/includes/jquery-ui.html
+-rw-r--r--   0 runner    (1001) docker     (121)      946 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/templates/webgateway/base/includes/post_form.html
+-rw-r--r--   0 runner    (1001) docker     (121)      983 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/templates/webgateway/base/includes/script_src_jquery.html
+-rw-r--r--   0 runner    (1001) docker     (121)      894 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/templates/webgateway/base/includes/script_src_popup.html
+-rw-r--r--   0 runner    (1001) docker     (121)      886 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/templates/webgateway/base/includes/shortcut_icon.html
+-rw-r--r--   0 runner    (1001) docker     (121)     3316 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/templates/webgateway/base_site.html
+-rw-r--r--   0 runner    (1001) docker     (121)     2173 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/templates/webgateway/core_html.html
+drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-05-31 10:03:53.810582 omero-web-5.9.2/omeroweb/webgateway/templates/webgateway/viewport/
+-rw-r--r--   0 runner    (1001) docker     (121)    63651 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/templates/webgateway/viewport/omero_image.html
+drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-05-31 10:03:53.810582 omero-web-5.9.2/omeroweb/webgateway/templatetags/
+-rw-r--r--   0 runner    (1001) docker     (121)        0 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/templatetags/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (121)     7507 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/templatetags/common_filters.py
+-rw-r--r--   0 runner    (1001) docker     (121)     4041 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/templatetags/common_tags.py
+-rw-r--r--   0 runner    (1001) docker     (121)     1458 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/templatetags/defaulttags.py
+-rw-r--r--   0 runner    (1001) docker     (121)     5850 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/templatetags/wikitags.py
+-rw-r--r--   0 runner    (1001) docker     (121)    17951 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/urls.py
+-rw-r--r--   0 runner    (1001) docker     (121)     8102 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/util.py
+-rw-r--r--   0 runner    (1001) docker     (121)   115252 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/views.py
+-rw-r--r--   0 runner    (1001) docker     (121)    34567 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webgateway/webgateway_cache.py
+drwxr-xr-x   0 runner    (1001) docker     (121)        0 2021-05-31 10:03:53.810582 omero-web-5.9.2/omeroweb/webredirect/
+-rw-r--r--   0 runner    (1001) docker     (121)        0 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webredirect/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (121)      999 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webredirect/urls.py
+-rw-r--r--   0 runner    (1001) docker     (121)     1877 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/webredirect/views.py
+-rw-r--r--   0 runner    (1001) docker     (121)     1698 2021-05-31 10:03:52.000000 omero-web-5.9.2/omeroweb/wsgi.py
+-rw-r--r--   0 runner    (1001) docker     (121)       38 2021-05-31 10:03:53.810582 omero-web-5.9.2/setup.cfg
+-rwxr-xr-x   0 runner    (1001) docker     (121)     1942 2021-05-31 10:03:52.000000 omero-web-5.9.2/setup.py
```

### Comparing `omero-web-5.9.1/PKG-INFO` & `omero-web-5.9.2/PKG-INFO`

 * *Files 0% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 Metadata-Version: 1.2
 Name: omero-web
-Version: 5.9.1
+Version: 5.9.2
 Summary: OMERO.web
 Home-page: https://github.com/ome/omero-web/
 Author: The Open Microscopy Team
 Author-email: ome-devel@lists.openmicroscopy.org.uk
 License: GPLv2+
 Description: OMERO.web
         =========
```

### Comparing `omero-web-5.9.1/README.rst` & `omero-web-5.9.2/README.rst`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omero/plugins/web.py` & `omero-web-5.9.2/omero/plugins/web.py`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omero_web.egg-info/PKG-INFO` & `omero-web-5.9.2/omero_web.egg-info/PKG-INFO`

 * *Files 0% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 Metadata-Version: 1.2
 Name: omero-web
-Version: 5.9.1
+Version: 5.9.2
 Summary: OMERO.web
 Home-page: https://github.com/ome/omero-web/
 Author: The Open Microscopy Team
 Author-email: ome-devel@lists.openmicroscopy.org.uk
 License: GPLv2+
 Description: OMERO.web
         =========
```

### Comparing `omero-web-5.9.1/omero_web.egg-info/SOURCES.txt` & `omero-web-5.9.2/omero_web.egg-info/SOURCES.txt`

 * *Files 0% similar despite different names*

```diff
@@ -67,22 +67,18 @@
 omeroweb/webadmin/static/webadmin/image/edit.png
 omeroweb/webadmin/static/webadmin/image/editing.png
 omeroweb/webadmin/static/webadmin/image/frame_edit.png
 omeroweb/webadmin/static/webadmin/image/guest.png
 omeroweb/webadmin/static/webadmin/image/icon_edit.png
 omeroweb/webadmin/static/webadmin/image/ldap.png
 omeroweb/webadmin/static/webadmin/image/notactive.png
-omeroweb/webadmin/static/webadmin/javascript/jquery.imgareaselect-0.9.10/jquery.imgareaselect.js
 omeroweb/webadmin/static/webadmin/javascript/jquery.imgareaselect-0.9.10/css/border-anim-h.gif
 omeroweb/webadmin/static/webadmin/javascript/jquery.imgareaselect-0.9.10/css/border-anim-v.gif
 omeroweb/webadmin/static/webadmin/javascript/jquery.imgareaselect-0.9.10/css/border-h.gif
 omeroweb/webadmin/static/webadmin/javascript/jquery.imgareaselect-0.9.10/css/border-v.gif
-omeroweb/webadmin/static/webadmin/javascript/jquery.imgareaselect-0.9.10/css/imgareaselect-animated.css
-omeroweb/webadmin/static/webadmin/javascript/jquery.imgareaselect-0.9.10/css/imgareaselect-default.css
-omeroweb/webadmin/static/webadmin/javascript/jquery.imgareaselect-0.9.10/css/imgareaselect-deprecated.css
 omeroweb/webadmin/templates/webadmin/admin_base.html
 omeroweb/webadmin/templates/webadmin/avatar.html
 omeroweb/webadmin/templates/webadmin/base.html
 omeroweb/webadmin/templates/webadmin/email.html
 omeroweb/webadmin/templates/webadmin/experimenter_form.html
 omeroweb/webadmin/templates/webadmin/experimenters.html
 omeroweb/webadmin/templates/webadmin/forgotten_password.html
```

### Comparing `omero-web-5.9.1/omeroweb/api/__init__.py` & `omero-web-5.9.2/omeroweb/api/__init__.py`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/api/api_exceptions.py` & `omero-web-5.9.2/omeroweb/api/api_exceptions.py`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/api/api_marshal.py` & `omero-web-5.9.2/omeroweb/api/api_marshal.py`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/api/api_query.py` & `omero-web-5.9.2/omeroweb/api/api_query.py`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/api/api_settings.py` & `omero-web-5.9.2/omeroweb/api/api_settings.py`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/api/decorators.py` & `omero-web-5.9.2/omeroweb/api/decorators.py`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/api/urls.py` & `omero-web-5.9.2/omeroweb/api/urls.py`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/api/views.py` & `omero-web-5.9.2/omeroweb/api/views.py`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/connector.py` & `omero-web-5.9.2/omeroweb/connector.py`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/custom_forms.py` & `omero-web-5.9.2/omeroweb/custom_forms.py`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/decorators.py` & `omero-web-5.9.2/omeroweb/decorators.py`

 * *Files 0% similar despite different names*

```diff
@@ -577,20 +577,20 @@
     def __getattr__(self, name):
         if name == "__name__":
             return self.__class__.__name__
         else:
             return super(render_response, self).getattr(name)
 
     def prepare_context(self, request, context, *args, **kwargs):
-        """ Hook for adding additional data to the context dict """
+        """Hook for adding additional data to the context dict"""
         context["html"] = context.get("html", {})
         context["html"]["meta_referrer"] = settings.HTML_META_REFERRER
 
     def __call__(ctx, f):
-        """ Here we wrap the view method f and return the wrapped method """
+        """Here we wrap the view method f and return the wrapped method"""
 
         def wrapper(request, *args, **kwargs):
             """
             Wrapper calls the view function, processes the result and returns
             HttpResponse"""
 
             # call the view function itself...
```

### Comparing `omero-web-5.9.1/omeroweb/feedback/forms.py` & `omero-web-5.9.2/omeroweb/feedback/forms.py`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/feedback/sendfeedback.py` & `omero-web-5.9.2/omeroweb/feedback/sendfeedback.py`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/feedback/static/feedback/css/layout.css` & `omero-web-5.9.2/omeroweb/feedback/static/feedback/css/layout.css`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/feedback/templates/500-nosubmit.html` & `omero-web-5.9.2/omeroweb/feedback/templates/500-nosubmit.html`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/feedback/templates/500.html` & `omero-web-5.9.2/omeroweb/feedback/templates/500.html`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/feedback/templates/base_error.html` & `omero-web-5.9.2/omeroweb/feedback/templates/base_error.html`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/feedback/templates/comment.html` & `omero-web-5.9.2/omeroweb/feedback/templates/comment.html`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/feedback/templates/disabled.html` & `omero-web-5.9.2/omeroweb/feedback/templates/disabled.html`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/feedback/templates/error.html` & `omero-web-5.9.2/omeroweb/feedback/templates/error.html`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/feedback/templates/thanks.html` & `omero-web-5.9.2/omeroweb/feedback/templates/thanks.html`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/feedback/templatetags/feedback_tags.py` & `omero-web-5.9.2/omeroweb/feedback/templatetags/feedback_tags.py`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/feedback/urls.py` & `omero-web-5.9.2/omeroweb/feedback/urls.py`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/feedback/views.py` & `omero-web-5.9.2/omeroweb/feedback/views.py`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/filesessionstore.py` & `omero-web-5.9.2/omeroweb/filesessionstore.py`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/httprsp.py` & `omero-web-5.9.2/omeroweb/httprsp.py`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/license/agpl-3.0.txt` & `omero-web-5.9.2/omeroweb/license/agpl-3.0.txt`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/manage.py` & `omero-web-5.9.2/omeroweb/manage.py`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/settings.py` & `omero-web-5.9.2/omeroweb/settings.py`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/templates/nginx-development.conf.template` & `omero-web-5.9.2/omeroweb/templates/nginx-development.conf.template`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/templates/nginx-location.conf.template` & `omero-web-5.9.2/omeroweb/templates/nginx-location.conf.template`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/templates/nginx.conf.template` & `omero-web-5.9.2/omeroweb/templates/nginx.conf.template`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/testlib/__init__.py` & `omero-web-5.9.2/omeroweb/testlib/__init__.py`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/urls.py` & `omero-web-5.9.2/omeroweb/urls.py`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/utils.py` & `omero-web-5.9.2/omeroweb/utils.py`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webadmin/custom_forms.py` & `omero-web-5.9.2/omeroweb/webadmin/custom_forms.py`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webadmin/forms.py` & `omero-web-5.9.2/omeroweb/webadmin/forms.py`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webadmin/static/webadmin/css/chosen.css` & `omero-web-5.9.2/omeroweb/webadmin/static/webadmin/css/chosen.css`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webadmin/static/webadmin/css/drivespace.css` & `omero-web-5.9.2/omeroweb/webadmin/static/webadmin/css/drivespace.css`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webadmin/static/webadmin/css/picklist.css` & `omero-web-5.9.2/omeroweb/webadmin/static/webadmin/css/picklist.css`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webadmin/static/webadmin/image/active.png` & `omero-web-5.9.2/omeroweb/webadmin/static/webadmin/image/active.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webadmin/static/webadmin/image/add.png` & `omero-web-5.9.2/omeroweb/webadmin/static/webadmin/image/add.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webadmin/static/webadmin/image/admin.png` & `omero-web-5.9.2/omeroweb/webadmin/static/webadmin/image/admin.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webadmin/static/webadmin/image/del.png` & `omero-web-5.9.2/omeroweb/webadmin/static/webadmin/image/del.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webadmin/static/webadmin/image/edit.png` & `omero-web-5.9.2/omeroweb/webadmin/static/webadmin/image/edit.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webadmin/static/webadmin/image/editing.png` & `omero-web-5.9.2/omeroweb/webadmin/static/webadmin/image/editing.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webadmin/static/webadmin/image/frame_edit.png` & `omero-web-5.9.2/omeroweb/webadmin/static/webadmin/image/frame_edit.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webadmin/static/webadmin/image/guest.png` & `omero-web-5.9.2/omeroweb/webadmin/static/webadmin/image/guest.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webadmin/static/webadmin/image/icon_edit.png` & `omero-web-5.9.2/omeroweb/webadmin/static/webadmin/image/icon_edit.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webadmin/static/webadmin/image/ldap.png` & `omero-web-5.9.2/omeroweb/webadmin/static/webadmin/image/ldap.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webadmin/static/webadmin/image/notactive.png` & `omero-web-5.9.2/omeroweb/webadmin/static/webadmin/image/notactive.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webadmin/templates/webadmin/admin_base.html` & `omero-web-5.9.2/omeroweb/webadmin/templates/webadmin/admin_base.html`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webadmin/templates/webadmin/avatar.html` & `omero-web-5.9.2/omeroweb/webadmin/templates/webadmin/group_form_owner.html`

 * *Files 25% similar despite different names*

```diff
@@ -1,13 +1,14 @@
 {% extends "webadmin/base.html" %}
 {% load i18n %}
 
+
 {% comment %}
 <!--
-  Copyright (C) 2011 University of Dundee & Open Microscopy Environment.
+  Copyright (C) 2011-2014 University of Dundee & Open Microscopy Environment.
   All rights reserved.
 
   This program is free software: you can redistribute it and/or modify
   it under the terms of the GNU Affero General Public License as
   published by the Free Software Foundation, either version 3 of the
   License, or (at your option) any later version.
 
@@ -17,127 +18,124 @@
   GNU Affero General Public License for more details.
 
   You should have received a copy of the GNU Affero General Public License
   along with this program.  If not, see <http://www.gnu.org/licenses/>.
 -->
 {% endcomment %}
 
-{% block title %}{% trans "Change avatar" %}{% endblock %}
-
 {% block link %}
     {{ block.super }}
-    <link rel="stylesheet" href="{% static "webadmin/javascript/jquery.imgareaselect-0.9.10/css/imgareaselect-default.css" %}" type="text/css" media="screen"/>
+    <link rel="stylesheet" href="{% static '3rdparty/jquery.chosen-1.2.0/chosen.css' %}" type="text/css" media="screen"/>
+    <link rel="stylesheet" href="{% static 'webadmin/css/chosen.css'|add:url_suffix %}" type="text/css" media="screen"/>
+{% endblock %}
+
+{% block title %}
+    {% trans "Edit group" %}
 {% endblock %}
 
 {% block script %}
     {{ block.super }}
-
-    <script type="text/javascript" src="{% static "webadmin/javascript/jquery.imgareaselect-0.9.10/jquery.imgareaselect.js" %}"></script>
+    <script type="text/javascript" src="{% static '3rdparty/jquery.chosen-1.2.0/chosen.jquery.js' %}"></script>
     
     <script type="text/javascript">
-    
-    {% if edit_mode %}
-    function preview(img, selection) { 
-        var scaleX = 100 / (selection.width || 1); 
-        var scaleY = 100 / (selection.height || 1); 
-
-        $('#thumbnail + div > img').css({ 
-            width: Math.round(scaleX * {{ photo_size.0.0 }}) + 'px', 
-            height: Math.round(scaleY * {{ photo_size.0.1 }}) + 'px',
-            marginLeft: '-' + Math.round(scaleX * selection.x1) + 'px', 
-            marginTop: '-' + Math.round(scaleY * selection.y1) + 'px' 
-        });
-        $('#x1').val(selection.x1);
-        $('#y1').val(selection.y1);
-        $('#x2').val(selection.x2);
-        $('#y2').val(selection.y2);
-        $('#w').val(selection.width);
-        $('#h').val(selection.height);
-    } 
-    {% endif %}
-    
-    $(document).ready(function () { 
-        
-        {% if edit_mode %}
-        $('#save_thumb').click(function() {
-            var x1 = $('#x1').val();
-            var y1 = $('#y1').val();
-            var x2 = $('#x2').val();
-            var y2 = $('#y2').val();
-            var w = $('#w').val();
-            var h = $('#h').val();
-            if(x1=="" || y1=="" || x2=="" || y2=="" || w=="" || h==""){
-                alert("You must make a selection first");
-                return false;
-            }else{
-                return true;
-            }
-        });
-        {% endif %}
-    }); 
-
-    {% if edit_mode %}
-    $(window).load(function () { 
-        var dim = {{ photo_size.0.0 }}/4
-        var x1 = {{ photo_size.0.0 }}/2-dim
-        var x2 = {{ photo_size.0.0 }}/2+dim
-        var y1 = {{ photo_size.0.1 }}/2-dim
-        var y2 = {{ photo_size.0.1 }}/2+dim
-        $('#thumbnail').imgAreaSelect({ x1: x1, y1: y1, x2: x2, y2: y2, selectionOpacity: 0.2, aspectRatio: '1:1', handles: 'corners', onSelectChange: preview }); 
-    });
-    {% endif %}
+        $(document).ready(function() 
+            {
+                
+                var highlightCurrent = function() {
+                    var userId = {{ userId }};
+                    var selected = $.grep($('#id_members').data('chosen').results_data, function(item){
+                        return item.value == userId;
+                    });
+                    $("#id_owners_chosen a[data-option-array-index='"+selected[0].options_index+"']").parent().addClass('search-choice-current').find("a").first().unbind("click").remove();
+                    $("#id_members_chosen a[data-option-array-index='"+selected[0].options_index+"']").parent().addClass('search-choice-current').find("a").first().unbind("click").remove();
+                }
+                
+                $("#id_owners").chosen({placeholder_text:'Type owners names to add...'});
+                $("#id_members").chosen({placeholder_text:'Type members names to add...'}).change(function(evt, data) {
+                    if (data && data.deselected) {
+                        $.grep($('#id_owners').data('chosen').results_data, function(item){
+                            if(item.selected && item.value === data.deselected) {
+                                $('#id_owners option[value='+data.deselected+']').prop('selected', false);
+                                $("#id_owners").trigger("chosen:updated");
+                                highlightCurrent();
+                            }
+                        });
+                        
+                    }
+                });
+                
+                highlightCurrent();
+                
+                $('#id_permissions_0').click(function(){
+                    OME.confirm_dialog("Changing group to Private unlinks data from other users'" +
+                                    " containers and unlinks other users' annotations from data." +
+                                    " The change to Private will abort if different users' data" +
+                                    " is too closely related to be separated.",
+                        null, "WARNING", ['OK'], null, 200);
+                });
+
+                // Disable the "Read-Write" permissions option for group owners (if it's not checked)
+                var $readWriteCheckbox = $('#id_permissions_3');
+                if (!$readWriteCheckbox.is(':checked')) {
+                    $readWriteCheckbox.prop('disabled', 'disabled');
+                }
+                $('label[for="id_permissions_3"]')
+                    .css('opacity',0.5)
+                    .prop('title', 'Group owners cannot upgrade to Read-Write permissions. Please contact your sysadmin.');
+
+        })
     </script>
-    
-    
 {% endblock %}
 
 {% block center_details %}
 {{ block.super }}
+
 <div class="one_column_content">
-    <h1>{% trans "Change avatar" %}</h1>
-    
-    <h1><a href="{% url 'wamyaccount' %}" style="position:relative; top:-38px; float:right" title="Go Back to User settings">Back to User Settings</a></h1>
-    
-    
-{% if edit_mode %}
-    <img src="{% url 'wamyphoto' %}" style="float: left; margin-right: 10px;" id="thumbnail" alt="Create Thumbnail" />
-    <div style="border:1px #999999 solid; float:left; position:relative; overflow:hidden; width:100px; height:100px;">
-        <img src="{% url 'wamyphoto' %}" style="position: relative;" alt="Thumbnail Preview" />
-    </div>
-    <div class="clear"> </div>
-    <p>Drag or adjust the region on the image to select an area.</p>
-    
-    <form name="thumbnail" action="{% url 'wamanageavatar' ome.user_id "crop" %}" method="post" class="standard_form">{% csrf_token %}
-        <input type="hidden" name="x1" value="" id="x1" />
-        <input type="hidden" name="y1" value="" id="y1" />
-        <input type="hidden" name="x2" value="" id="x2" />
-        <input type="hidden" name="y2" value="" id="y2" />
-        <input type="submit" value="Crop" id="save_thumb" />
-    </form>
-    
-{% else %}
-    <div style="width:150px">
-        {% if photo_size %}
-        <img src="{% url 'wamyphoto' %}" style="max-width:120px; max-height:120px" class="imgzoom"/>
-        {% else %}
-        <p><center><img src="{% url 'wamyphoto' %}" class="imgzoom"/></center>
-        <br/><ul class="errorlist"><li>No avatar set.</li></ul></p>
-        {% endif %}
-    </div>
+	
+<h1>{% trans "Edit group" %}</h1>
+
+<h1><a href="{% url 'wamyaccount' "edit" %}" style="position:relative; top:-38px; float:right" title="Go Back to Groups">Cancel</a></h1>
+
+	<dl>
+		
+	    <dt><strong>Name</strong></dt> 
+		<dd>{{ group.name }}</dd>
+	    
+		<dt><strong>Description</strong></dt> 
+		<dd>{{ group.description|default:"no description" }}</dd>
+		
+	</dl>
+	
+    <form action="{% url 'wamanagegroupownerid' "save" gid %}" method="POST" id="" class="standard_form settings_form">{% csrf_token %}
+        
+        <p>{% trans "Fields marked in red are mandatory." %}</p>
+        <br/>
+        
+        <div>
+            {% for field in form %}
     
-    <div >
-      {% if photo_size %}<p><a href="{% url 'wamanageavatar' ome.user_id "editphoto" %}"> Edit picture <img title="Crop" src="{% static "webadmin/image/frame_edit.png" %}" /></a></p>{% endif %}
-        <form enctype="multipart/form-data" method="post" action="{% url 'wamanageavatar' ome.user_id "upload" %}" class="standard_form settings_form">{% csrf_token %}
-            <p>Upload new picture. Select an image file on your computer (max 200KB):</p>
+        	{% if field.field.required %}<span class="required">{{ field.label_tag }}</span>{% else %}{{ field.label_tag }}{% endif %}
+		    {{ field }}
+		    
+        	{% if field.errors %}{{ field.errors }}{% endif %}
+		
+		    <div>{{ field.help_text|safe }}</div>
+	        <br/>
+	        
+            {% endfor %}  
             
-            {% for field in form_file %}
-                {% if field.errors %}{{ field.errors }}{% endif %}<br />
-                {{ field }}{{ field.help_text|safe }}
-                <br />
-            {% endfor %}
-             <input type="submit" value="{% trans 'Upload' %}" />
-        </form>
-    </div>
-</div>
-{% endif %}
+	        <input type="submit" value="{% trans 'Save' %}" />
+	        <br/>
+	        <br/>
+        </div>
+        
+    </form>
 
-{% endblock %}
+    <p>
+        Full details on various Permissions levels can be found on the 
+        <a href="https://docs.openmicroscopy.org/latest/omero/sysadmins/server-permissions.html" target="new">
+            OMERO Permissions
+        </a>
+        page.
+    </p>
+</div>
+{% endblock %}
```

### Comparing `omero-web-5.9.1/omeroweb/webadmin/templates/webadmin/base.html` & `omero-web-5.9.2/omeroweb/webadmin/templates/webadmin/base.html`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webadmin/templates/webadmin/email.html` & `omero-web-5.9.2/omeroweb/webadmin/templates/webadmin/email.html`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webadmin/templates/webadmin/experimenter_form.html` & `omero-web-5.9.2/omeroweb/webadmin/templates/webadmin/experimenter_form.html`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webadmin/templates/webadmin/experimenters.html` & `omero-web-5.9.2/omeroweb/webadmin/templates/webadmin/experimenters.html`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webadmin/templates/webadmin/forgotten_password.html` & `omero-web-5.9.2/omeroweb/webadmin/templates/webadmin/forgotten_password.html`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webadmin/templates/webadmin/group_form.html` & `omero-web-5.9.2/omeroweb/webadmin/templates/webadmin/group_form.html`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webadmin/templates/webadmin/groups.html` & `omero-web-5.9.2/omeroweb/webadmin/templates/webadmin/groups.html`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webadmin/templates/webadmin/includes/drivespaceStats.html` & `omero-web-5.9.2/omeroweb/webadmin/templates/webadmin/includes/drivespaceStats.html`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webadmin/templates/webadmin/includes/drivespaceStats.js` & `omero-web-5.9.2/omeroweb/webadmin/templates/webadmin/includes/drivespaceStats.js`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webadmin/templates/webadmin/myaccount.html` & `omero-web-5.9.2/omeroweb/webadmin/templates/webadmin/myaccount.html`

 * *Files 2% similar despite different names*

```diff
@@ -205,14 +205,20 @@
               plotJson(url, {
                   success: function(){
                       $(".totalUsage").text('My');
                   }
               });
             });
 
+            // Toggle 'Confirm Delete' button visibility
+            $("#delete_photo").click(function(event){
+                event.preventDefault();
+                $("#delete_photo_submit").toggle();
+            });
+
         });
         
     </script>
     
 {% endblock %}
 
 
@@ -229,34 +235,38 @@
 
         <li id="drivespace_settings_tab"><a href="#drivespace_settings" title="Drivespace">Statistics</a></li>
     </ul>
      
      <!-- Personal Settings -->
     <div id="personal_settings" class="settings_content">
 
-
-       <form class="standard_form settings_form" action="{% url 'wamyaccount' "save" %}" method="POST">{% csrf_token %}
-
            <p>{% trans "Fields marked in red are mandatory." %}</p>
            <br/>
            
            <div id="avatar">
-               <img src="{% url 'wamyphoto' %}" class="imgzoom"/>                 
-               <a class="btn btn_text silver" href="{% url 'wamanageavatar' ome.user_id %}">
-                   <span>Change</span>
-               </a> 
-
-               {% if myaccount.hasAvatar %} 
-               <a class="btn btn_text silver" href="{% url 'wamanageavatar' ome.user_id "deletephoto" %}">
-                   <span>Delete</span>
-               </a>
-               {% endif %}
+                <img src="{% url 'wamyphoto' %}" class="imgzoom"/>
+
+                <form class="standard_form settings_form" action="{% url 'wamanageavatar' action='deletephoto' %}"
+                    style="padding: 0; margin: 0; border: none" method="POST">
+                    <a class="btn btn_text silver" href="{% url 'wamanageavatar' %}">
+                        <span>Change</span>
+                    </a> 
+
+                {% if hasAvatar %}
+                    {% csrf_token %}
+                    <a id="delete_photo" class="btn btn_text silver" href="#">
+                        <span>Delete Photo</span>
+                    </a>
+                    <input id="delete_photo_submit" type="submit" style="margin: 10px; display: none" value="Confirm Delete" />
+                {% endif %}
+                </form>
             </div>
 
 
+        <form class="standard_form settings_form" action="{% url 'wamyaccount' "save" %}" method="POST">{% csrf_token %}
 
            <div id="personal_details">
 
                {% for field in form %}
                    {% if field.errors %}<div style="clear:both">{{ field.errors }}</div>{% endif %}
                    {% if field.field.required %}<span class="required">{{ field.label_tag }}</span>{% else %}{{ field.label_tag }}{% endif %}
                    {{ field }}
```

### Comparing `omero-web-5.9.1/omeroweb/webadmin/templates/webadmin/noemail.html` & `omero-web-5.9.2/omeroweb/webadmin/templates/webadmin/noemail.html`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webadmin/templates/webadmin/password.html` & `omero-web-5.9.2/omeroweb/webadmin/templates/webadmin/password.html`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webadmin/templates/webadmin/statistics.html` & `omero-web-5.9.2/omeroweb/webadmin/templates/webadmin/statistics.html`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webadmin/templatetags/webadmin_tags.py` & `omero-web-5.9.2/omeroweb/webadmin/templatetags/webadmin_tags.py`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webadmin/urls.py` & `omero-web-5.9.2/omeroweb/webadmin/urls.py`

 * *Files 5% similar despite different names*

```diff
@@ -76,15 +76,17 @@
         name="waloaddrivespace_group",
     ),
     url(
         r"^drivespace_json/user/(?P<userId>[0-9]+)/$",
         views.drivespace_json,
         name="waloaddrivespace_user",
     ),
+    # NB: eid is not used and is optional in URL.
+    # Left in place to avoid breaking change.
     url(
-        r"^change_avatar/(?P<eid>[0-9]+)/(?:(?P<action>[a-z]+)/)?$",
+        r"^change_avatar/(?:(?P<eid>[0-9]+)/)?(?:(?P<action>[a-z]+)/)?$",
         views.manage_avatar,
         name="wamanageavatar",
     ),
     url(r"^myphoto/$", views.myphoto, name="wamyphoto"),
     url(r"^email/$", views.email, name="waemail"),
 ]
```

### Comparing `omero-web-5.9.1/omeroweb/webadmin/views.py` & `omero-web-5.9.2/omeroweb/webadmin/views.py`

 * *Files 0% similar despite different names*

```diff
@@ -1067,14 +1067,15 @@
 
     context = {
         "form": form,
         "ldapAuth": isLdapUser,
         "experimenter": experimenter,
         "ownedGroups": ownedGroups,
         "password_form": password_form,
+        "hasAvatar": hasAvatar,
     }
     context["freeSpace"] = conn.getFreeSpace()
     context["template"] = template
     return context
 
 
 @login_required()
@@ -1084,46 +1085,29 @@
 
 
 @login_required()
 @render_response_admin()
 def manage_avatar(request, action=None, conn=None, **kwargs):
     template = "webadmin/avatar.html"
 
-    edit_mode = False
-    photo_size = None
     form_file = UploadPhotoForm()
 
     if action == "upload":
         if request.method == "POST":
             form_file = UploadPhotoForm(request.POST, request.FILES)
             if form_file.is_valid():
                 attach_photo(conn, request.FILES["photo"])
-                return HttpResponseRedirect(
-                    reverse(
-                        viewname="wamanageavatar", args=[conn.getEventContext().userId]
-                    )
-                )
-    elif action == "crop":
-        x1 = int(request.POST.get("x1"))
-        x2 = int(request.POST.get("x2"))
-        y1 = int(request.POST.get("y1"))
-        y2 = int(request.POST.get("y2"))
-        box = (x1, y1, x2, y2)
-        conn.cropExperimenterPhoto(box)
-        return HttpResponseRedirect(reverse("wamyaccount"))
-    elif action == "editphoto":
-        photo_size = conn.getExperimenterPhotoSize()
-        if photo_size is not None:
-            edit_mode = True
+                return HttpResponseRedirect(reverse(viewname="wamanageavatar"))
     elif action == "deletephoto":
-        conn.deleteExperimenterPhoto()
-        return HttpResponseRedirect(reverse("wamyaccount"))
+        if request.method == "POST":
+            conn.deleteExperimenterPhoto()
+            return HttpResponseRedirect(reverse("wamyaccount"))
 
-    photo_size = conn.getExperimenterPhotoSize()
-    context = {"form_file": form_file, "edit_mode": edit_mode, "photo_size": photo_size}
+    has_photo = conn.hasExperimenterPhoto()
+    context = {"form_file": form_file, "has_photo": has_photo}
     context["template"] = template
     return context
 
 
 @login_required()
 @render_response_admin()
 def stats(request, conn=None, **kwargs):
```

### Comparing `omero-web-5.9.1/omeroweb/webadmin/webadmin_utils.py` & `omero-web-5.9.2/omeroweb/webadmin/webadmin_utils.py`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/controller/__init__.py` & `omero-web-5.9.2/omeroweb/webclient/controller/__init__.py`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/controller/container.py` & `omero-web-5.9.2/omeroweb/webclient/controller/container.py`

 * *Files 0% similar despite different names*

```diff
@@ -208,27 +208,27 @@
         return obj is not None and obj.canAnnotate() or False
 
     def canEdit(self):
         obj = self._get_object()
         return obj is not None and obj.canEdit() or None
 
     def getPermsCss(self):
-        """ Shortcut to get permissions flags, E.g. for css """
+        """Shortcut to get permissions flags, E.g. for css"""
         return self._get_object().getPermsCss()
 
     def getNumberOfFields(self):
-        """ Applies to Plates (all fields) or PlateAcquisitions"""
+        """Applies to Plates (all fields) or PlateAcquisitions"""
         if self.plate is not None:
             return self.plate.getNumberOfFields()
         elif self.acquisition:
             p = self.conn.getObject("Plate", self.acquisition._obj.plate.id.val)
             return p.getNumberOfFields(self.acquisition.getId())
 
     def getPlateId(self):
-        """ Used by templates that display Plates or PlateAcquisitions """
+        """Used by templates that display Plates or PlateAcquisitions"""
         if self.plate is not None:
             return self.plate.getId()
         elif self.acquisition:
             return self.acquisition._obj.plate.id.val
 
     def getAnnotationCounts(self):
         """
```

### Comparing `omero-web-5.9.1/omeroweb/webclient/controller/help.py` & `omero-web-5.9.2/omeroweb/webclient/controller/help.py`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/controller/history.py` & `omero-web-5.9.2/omeroweb/webclient/controller/history.py`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/controller/impexp.py` & `omero-web-5.9.2/omeroweb/webclient/controller/impexp.py`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/controller/search.py` & `omero-web-5.9.2/omeroweb/webclient/controller/search.py`

 * *Files 1% similar despite different names*

```diff
@@ -102,15 +102,15 @@
                     # User entered an invalid date format - Ignore
                     pass
             else:
                 msg = "date should be start_end, e.g. 2015-12-01_2016-01-01"
                 raise ValueError(msg)
 
         def doSearch(searchType):
-            """ E.g. searchType is 'images' """
+            """E.g. searchType is 'images'"""
             objType = searchType[0:-1]  # remove 's'
 
             obj_list = list(
                 self.conn.searchObjects(
                     [objType],
                     query,
                     created,
```

### Comparing `omero-web-5.9.1/omeroweb/webclient/controller/share.py` & `omero-web-5.9.2/omeroweb/webclient/controller/share.py`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/custom_forms.py` & `omero-web-5.9.2/omeroweb/webclient/custom_forms.py`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/decorators.py` & `omero-web-5.9.2/omeroweb/webclient/decorators.py`

 * *Files 5% similar despite different names*

```diff
@@ -133,19 +133,22 @@
 
         context.setdefault("ome", {})  # don't overwrite existing ome
         public_user = omeroweb.decorators.is_public_user(request)
         if public_user is not None:
             context["ome"]["is_public_user"] = public_user
         context["ome"]["is_admin"] = conn.getEventContext().isAdmin
         context["ome"]["user"] = conn.getUser
-        context["ome"]["user_id"] = request.session.get("user_id", conn.getUserId())
+        # The currently logged-in user ID
+        context["ome"]["user_id"] = conn.getUserId()
+        # group_id never set and never used
         context["ome"]["group_id"] = request.session.get("group_id", None)
         context["ome"]["active_group"] = request.session.get(
             "active_group", conn.getEventContext().groupId
         )
+        context["ome"]["active_user"] = request.session.get("user_id", conn.getUserId())
         context["global_search_form"] = GlobalSearchForm()
         context["ome"]["can_create"] = request.session.get("can_create", True)
         # UI server preferences
         if request.session.get("server_settings"):
             context["ome"]["email"] = request.session.get("server_settings").get(
                 "email", False
             )
```

### Comparing `omero-web-5.9.1/omeroweb/webclient/forms.py` & `omero-web-5.9.2/omeroweb/webclient/forms.py`

 * *Files 0% similar despite different names*

```diff
@@ -315,15 +315,15 @@
             data = map(int, data.split(","))
         except Exception:
             raise forms.ValidationError()
         return data
 
 
 class NewTagsAnnotationForm(forms.Form):
-    """ Helper form for new tags """
+    """Helper form for new tags"""
 
     tag = forms.CharField(required=True, widget=forms.HiddenInput)
     description = forms.CharField(required=False, widget=forms.HiddenInput)
     tagset = forms.IntegerField(min_value=1, required=False, widget=forms.HiddenInput)
 
 
 NewTagsAnnotationFormSet = formset_factory(NewTagsAnnotationForm, extra=0)
```

### Comparing `omero-web-5.9.1/omeroweb/webclient/show.py` & `omero-web-5.9.2/omeroweb/webclient/show.py`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/css/calendar.css` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/css/calendar.css`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/css/calendar_ie.css` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/css/calendar_ie.css`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/css/dusty.css` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/css/dusty.css`

 * *Files 0% similar despite different names*

```diff
@@ -600,15 +600,15 @@
 	.standard_form input[type=password]:active {
 		border:solid 1px hsl(210,20%,50%);
 	}
 	
 			
 			
 			
-	.standard_form input[type="submit"] {
+	.standard_form input[type="submit"], .submit_btn {
 		cursor: pointer;
 		float:right;
 		margin: 0;
 		display:block;
 		background-color:hsl(210,50%,60%);
 		background-image: -webkit-gradient(linear, left bottom, left top, from(hsl(210,40%,60%)), to(hsl(210,40%,70%)));
 		
@@ -637,14 +637,18 @@
 		font-weight:bold;
 		color: hsl(210,70%,10%);
 		text-shadow: 0 1px 0 rgba(255,255,255,.3);
 		border-radius:3px;
 		font-family: Helvetica, Arial;
 	}
 
+	a.submit_btn:visited {
+		color: inherit;
+	}
+
 	.standard_form input[type="submit"]:disabled {
 		opacity: 0.5;
 	}
 			
 			
 			
 	.standard_form input[type="submit"]:hover {
```

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/css/dusty_ie.css` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/css/dusty_ie.css`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/css/help.css` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/css/help.css`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/css/index.css` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/css/index.css`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/css/layout.css` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/css/layout.css`

 * *Files 1% similar despite different names*

```diff
@@ -2151,24 +2151,26 @@
 	    padding:20px !important;
 	}
 	
 
 
 	#avatar {
 		width:30%;
-		float:left;
+        float:left;
+        margin: 40px 20px;
 	}
 	
 		#avatar img {
 			background-color:#fff;
 			background-color: hsl(210,1%,99%);
 			border-top:solid 1px white;
 			border-bottom:solid 1px rgba(0,0,0,.15);
 			padding:5px;
-			width:80%;
+            max-width:80%;
+            max-height: 200px;
 			-webkit-box-shadow: 0 2px 1px -1px rgba(0,0,0,.1);
 			
 			-webkit-box-shadow:0 2px 1px -1px rgba(0,0,0,0.1); /* Saf3.0+, Chrome */
 			   -moz-box-shadow:0 2px 1px -1px rgba(0,0,0,0.1); /* FF3.5+ */
 			        box-shadow:0 2px 1px -1px rgba(0,0,0,0.1); /* Opera 10.5, IE 9.0 */
 			
 			margin-bottom:8px;
@@ -2180,15 +2182,14 @@
 
 		#avatar a:nth-of-type(1) {
 			margin-left:14px;
 		}
 
 	#personal_details {
 		overflow:hidden;
-		height: 400px;
 	}
 	#personal_details label {
 		width: 20%;
 	}
 
     /* improve display of E.g. "group-name (rw----)" */
 	.chzn-results li {
```

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/image/Sidebar_19.png` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/image/Sidebar_19.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/image/XPButtonUploadText_61x22.png` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/image/XPButtonUploadText_61x22.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/image/apply16.png` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/image/apply16.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/image/basket.png` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/image/basket.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/image/basket16.png` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/image/basket16.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/image/basket32.png` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/image/basket32.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/image/calendar_arrow_left.png` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/image/calendar_arrow_left.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/image/calendar_arrow_right.png` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/image/calendar_arrow_right.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/image/cancel12.png` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/image/cancel12.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/image/cancel16.png` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/image/cancel16.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/image/color_line12.png` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/image/color_line12.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/image/color_line12_old.png` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/image/color_line12_old.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/image/color_line16.png` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/image/color_line16.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/image/comment/comment_cap.png` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/image/comment/comment_cap.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/image/comment/comment_cap_rev.png` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/image/comment/comment_cap_rev.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/image/comment/comment_foot.png` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/image/comment/comment_foot.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/image/comment/comment_foot_rev.png` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/image/comment/comment_foot_rev.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/image/custom_login_logo.png` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/image/custom_login_logo.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/image/cut16.png` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/image/cut16.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/image/date.png` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/image/date.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/image/drag_handle_arrows_up-down.png` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/image/drag_handle_arrows_up-down.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/image/eclipse_copy_edit16.png` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/image/eclipse_copy_edit16.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/image/eclipse_paste_edit16.png` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/image/eclipse_paste_edit16.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/image/edit.png` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/image/edit.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/image/file_locked16.png` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/image/file_locked16.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/image/folder16.png` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/image/folder16.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/image/folder16_old.png` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/image/folder16_old.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/image/folder64.png` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/image/folder64.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/image/folder_html16.png` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/image/folder_html16.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/image/folder_html32.png` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/image/folder_html32.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/image/folder_html64.png` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/image/folder_html64.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/image/folder_html_locked16.png` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/image/folder_html_locked16.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/image/folder_image16.png` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/image/folder_image16.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/image/folder_image16_old.png` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/image/folder_image16_old.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/image/folder_image64.png` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/image/folder_image64.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/image/folder_image_locked16.png` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/image/folder_image_locked16.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/image/folder_locked16.png` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/image/folder_locked16.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/image/folder_locked32.png` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/image/folder_locked32.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/image/folder_plate16_old.png` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/image/folder_plate16_old.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/image/folder_plate32.png` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/image/folder_plate32.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/image/folder_plate64.png` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/image/folder_plate64.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/image/folder_plate_locked16.png` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/image/folder_plate_locked16.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/image/folder_screen16.png` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/image/folder_screen16.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/image/folder_screen32.png` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/image/folder_screen32.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/image/folder_screen64.png` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/image/folder_screen64.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/image/folder_screen_locked16.png` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/image/folder_screen_locked16.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/image/folder_yellow16.png` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/image/folder_yellow16.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/image/folder_yellow16_old.png` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/image/folder_yellow16_old.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/image/folder_yellow32.png` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/image/folder_yellow32.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/image/folder_yellow64.png` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/image/folder_yellow64.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/image/googiespell/indicator.gif` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/image/googiespell/indicator.gif`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/image/googiespell/logo.png` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/image/googiespell/logo.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/image/group_dropdown_arrow.png` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/image/group_dropdown_arrow.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/image/group_green16.png` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/image/group_green16.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/image/group_orange16.png` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/image/group_orange16.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/image/group_red16.png` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/image/group_red16.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/image/handle.horizontal.gif` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/image/handle.horizontal.gif`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/image/help/basket1.gif` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/image/help/basket1.gif`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/image/icon_arrow_left.png` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/image/icon_arrow_left.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/image/icon_arrow_right.png` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/image/icon_arrow_right.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/image/icon_basic_basket_16.png` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/image/icon_basic_basket_16.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/image/icon_basic_copy_16.png` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/image/icon_basic_copy_16.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/image/icon_basic_cut_16.png` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/image/icon_basic_cut_16.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/image/icon_basic_delete.png` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/image/icon_basic_delete.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/image/icon_basic_delete_16.png` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/image/icon_basic_delete_16.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/image/icon_basic_newwindow_16.png` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/image/icon_basic_newwindow_16.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/image/icon_basic_paste_16.png` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/image/icon_basic_paste_16.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/image/icon_basic_remove_16.png` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/image/icon_basic_remove_16.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/image/icon_basic_user_16.png` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/image/icon_basic_user_16.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/image/icon_edit.png` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/image/icon_edit.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/image/icon_layout.png` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/image/icon_layout.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/image/icon_openwith.png` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/image/icon_openwith.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/image/icon_openwith_toolbar.png` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/image/icon_openwith_toolbar.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/image/icon_redo16.png` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/image/icon_redo16.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/image/icon_save.png` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/image/icon_save.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/image/icon_scientist_36.png` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/image/icon_scientist_36.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/image/icon_scientist_group_36.png` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/image/icon_scientist_group_36.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/image/icon_settings_drivespace.png` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/image/icon_settings_drivespace.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/image/icon_settings_groups.png` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/image/icon_settings_groups.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/image/icon_settings_mail.png` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/image/icon_settings_mail.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/image/icon_settings_user.png` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/image/icon_settings_user.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/image/icon_tag_delete.png` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/image/icon_tag_delete.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/image/icon_tag_remove.png` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/image/icon_tag_remove.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/image/icon_toolbar_add.png` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/image/icon_toolbar_add.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/image/icon_toolbar_basket.png` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/image/icon_toolbar_basket.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/image/icon_toolbar_chat.png` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/image/icon_toolbar_chat.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/image/icon_toolbar_chat2.png` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/image/icon_toolbar_chat2.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/image/icon_toolbar_clean.png` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/image/icon_toolbar_clean.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/image/icon_toolbar_clean2.png` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/image/icon_toolbar_clean2.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/image/icon_toolbar_copy.png` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/image/icon_toolbar_copy.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/image/icon_toolbar_cut.png` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/image/icon_toolbar_cut.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/image/icon_toolbar_delete.png` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/image/icon_toolbar_delete.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/image/icon_toolbar_paste.png` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/image/icon_toolbar_paste.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/image/icon_toolbar_refresh.png` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/image/icon_toolbar_refresh.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/image/icon_toolbar_refresh2.png` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/image/icon_toolbar_refresh2.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/image/icon_toolbar_remove.png` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/image/icon_toolbar_remove.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/image/icon_toolbar_remove2.png` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/image/icon_toolbar_remove2.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/image/icon_toolbar_share.png` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/image/icon_toolbar_share.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/image/icon_toolbar_share2.png` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/image/icon_toolbar_share2.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/image/icon_undo16.png` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/image/icon_undo16.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/image/icon_user.png` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/image/icon_user.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/image/icon_user_select.png` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/image/icon_user_select.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/image/image_16.png` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/image/image_16.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/image/image_deleted_thumbnail.png` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/image/image_deleted_thumbnail.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/image/image_locked16.png` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/image/image_locked16.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/image/image_locked16_old.png` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/image/image_locked16_old.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/image/info12.png` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/image/info12.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/image/info16.png` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/image/info16.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/image/kgpg12.png` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/image/kgpg12.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/image/kgpg16.png` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/image/kgpg16.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/image/knotes12.png` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/image/knotes12.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/image/knotes64.png` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/image/knotes64.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/image/knotesred16.png` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/image/knotesred16.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/image/kpresenter16.png` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/image/kpresenter16.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/image/kuser12.gif` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/image/kuser12.gif`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/image/kuser12.png` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/image/kuser12.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/image/kuser16.png` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/image/kuser16.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/image/kview12.png` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/image/kview12.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/image/kview16.png` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/image/kview16.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/image/left_sidebar_icon_map.png` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/image/left_sidebar_icon_map.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/image/left_sidebar_icon_public.png` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/image/left_sidebar_icon_public.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/image/left_sidebar_icon_tag.png` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/image/left_sidebar_icon_tag.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/image/left_sidebar_icon_tags.png` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/image/left_sidebar_icon_tags.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/image/loadingAnimation.gif` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/image/loadingAnimation.gif`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/image/locked12.png` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/image/locked12.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/image/logo.png` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/image/logo.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/image/logo_login_web.png` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/image/logo_login_web.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/image/menu/contact.png` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/image/menu/contact.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/image/menu/help.png` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/image/menu/help.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/image/menu/history.png` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/image/menu/history.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/image/menu/home.png` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/image/menu/home.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/image/menu/import.png` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/image/menu/import.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/image/menu/menu.png` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/image/menu/menu.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/image/menu/menu_with_import.png` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/image/menu/menu_with_import.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/image/menu/person.png` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/image/menu/person.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/image/menu/search.png` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/image/menu/search.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/image/menu/share.png` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/image/menu/share.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/image/menu/userdata.png` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/image/menu/userdata.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/image/message_nodata.png` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/image/message_nodata.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/image/minus_11.png` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/image/minus_11.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/image/minus_15.png` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/image/minus_15.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/image/network12.png` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/image/network12.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/image/network16.png` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/image/network16.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/image/nuvola_apply22.png` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/image/nuvola_apply22.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/image/nuvola_cancel16.png` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/image/nuvola_cancel16.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/image/nuvola_download_manager16.png` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/image/nuvola_download_manager16.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/image/nuvola_script-run16.png` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/image/nuvola_script-run16.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/image/nuvola_script-run16_old.png` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/image/nuvola_script-run16_old.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/image/oav_16.png` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/image/oav_16.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/image/personal12.png` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/image/personal12.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/image/personal16.png` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/image/personal16.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/image/personal16_old.png` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/image/personal16_old.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/image/personal32.png` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/image/personal32.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/image/plus.png` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/image/plus.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/image/plus_11.png` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/image/plus_11.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/image/rating0.png` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/image/rating0.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/image/rating1.png` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/image/rating1.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/image/rating2.png` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/image/rating2.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/image/rating3.png` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/image/rating3.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/image/rating4.png` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/image/rating4.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/image/rating5.png` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/image/rating5.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/image/rdef16.png` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/image/rdef16.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/image/rdef32.png` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/image/rdef32.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/image/reload16.png` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/image/reload16.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/image/reset-grey.png` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/image/reset-grey.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/image/reset.png` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/image/reset.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/image/root_user16.png` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/image/root_user16.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/image/run16.png` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/image/run16.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/image/scroller/productbrowser_background_20070622.jpg` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/image/scroller/productbrowser_background_20070622.jpg`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/image/scroller/productbrowser_scrollbar_20070622.png` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/image/scroller/productbrowser_scrollbar_20070622.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/image/scroller/productbrowser_scroller_20080115.png` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/image/scroller/productbrowser_scroller_20080115.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/image/select_dropdown_arrow.png` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/image/select_dropdown_arrow.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/image/table_arrow_down.png` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/image/table_arrow_down.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/image/table_arrow_up.png` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/image/table_arrow_up.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/image/table_arrow_up_down.png` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/image/table_arrow_up_down.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/image/table_layout.png` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/image/table_layout.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/image/tango_text-x-python16.png` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/image/tango_text-x-python16.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/image/unknown16.png` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/image/unknown16.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/image/view_detailed16.png` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/image/view_detailed16.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/image/view_icon16.png` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/image/view_icon16.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/image/view_tag16.png` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/image/view_tag16.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/image/view_tree16.png` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/image/view_tree16.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/image/well16.png` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/image/well16.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/image/window_new16.png` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/image/window_new16.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/image/wp_protocol16.png` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/image/wp_protocol16.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/image/wp_protocol32.png` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/image/wp_protocol32.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/image/wp_protocol64.png` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/image/wp_protocol64.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/image/wp_protocol_locked16.png` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/image/wp_protocol_locked16.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/image/wp_protocol_locked32.png` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/image/wp_protocol_locked32.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/image/wp_protocol_locked64.png` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/image/wp_protocol_locked64.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/javascript/ie8_pngfix/supersleight-min.js` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/javascript/ie8_pngfix/supersleight-min.js`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/javascript/jquery.editinplace-0.1.2.js` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/javascript/jquery.editinplace-0.1.2.js`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/javascript/jquery.form-3.51.js` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/javascript/jquery.form-3.51.js`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/javascript/jquery.infieldlabel-0.1.js` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/javascript/jquery.infieldlabel-0.1.js`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/javascript/jquery.jstree.childcount_plugin.js` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/javascript/jquery.jstree.childcount_plugin.js`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/javascript/jquery.jstree.conditionalselect_plugin.js` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/javascript/jquery.jstree.conditionalselect_plugin.js`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/javascript/jquery.jstree.fields_plugin.js` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/javascript/jquery.jstree.fields_plugin.js`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/javascript/jquery.jstree.locate_plugin.js` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/javascript/jquery.jstree.locate_plugin.js`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/javascript/jquery.jstree.omecut_plugin.js` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/javascript/jquery.jstree.omecut_plugin.js`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/javascript/jquery.jstree.ometools_plugin.js` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/javascript/jquery.jstree.ometools_plugin.js`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/javascript/jquery.jstree.pagination_plugin.js` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/javascript/jquery.jstree.pagination_plugin.js`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/javascript/jquery.jstree.truncatetext_plugin.js` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/javascript/jquery.jstree.truncatetext_plugin.js`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/javascript/modernizr-2.5.3.js` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/javascript/modernizr-2.5.3.js`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/javascript/ome.center_plugin_filter.js` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/javascript/ome.center_plugin_filter.js`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/javascript/ome.chgrp.js` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/javascript/ome.chgrp.js`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/javascript/ome.chown.js` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/javascript/ome.chown.js`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/javascript/ome.make_movie.js` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/javascript/ome.make_movie.js`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/javascript/ome.openwith_viewer.js` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/javascript/ome.openwith_viewer.js`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/javascript/ome.right_panel_comments_pane.js` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/javascript/ome.right_panel_comments_pane.js`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/javascript/ome.right_panel_customanns_pane.js` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/javascript/ome.right_panel_customanns_pane.js`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/javascript/ome.right_panel_fileanns_pane.js` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/javascript/ome.right_panel_fileanns_pane.js`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/javascript/ome.right_panel_mapanns_pane.js` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/javascript/ome.right_panel_mapanns_pane.js`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/javascript/ome.right_panel_ratings_pane.js` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/javascript/ome.right_panel_ratings_pane.js`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/javascript/ome.right_panel_tags_pane.js` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/javascript/ome.right_panel_tags_pane.js`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/javascript/ome.split_view_figure.js` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/javascript/ome.split_view_figure.js`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/javascript/ome.tagging_form.js` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/javascript/ome.tagging_form.js`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/javascript/ome.thumbnail_figure.js` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/javascript/ome.thumbnail_figure.js`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/javascript/ome.tree.js` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/javascript/ome.tree.js`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/javascript/ome.webclient.actions.js` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/javascript/ome.webclient.actions.js`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/javascript/slider/range.js` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/javascript/slider/range.js`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/javascript/slider/slider.js` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/javascript/slider/slider.js`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/static/webclient/javascript/slider/timer.js` & `omero-web-5.9.2/omeroweb/webclient/static/webclient/javascript/slider/timer.js`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/templates/webclient/activities/activitiesContent.html` & `omero-web-5.9.2/omeroweb/webclient/templates/webclient/activities/activitiesContent.html`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/templates/webclient/activities/fileset_check_dialog_content.html` & `omero-web-5.9.2/omeroweb/webclient/templates/webclient/activities/fileset_check_dialog_content.html`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/templates/webclient/ajax_form/container_form_ajax.html` & `omero-web-5.9.2/omeroweb/webclient/templates/webclient/ajax_form/container_form_ajax.html`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/templates/webclient/annotations/annotations_share.html` & `omero-web-5.9.2/omeroweb/webclient/templates/webclient/annotations/annotations_share.html`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/templates/webclient/annotations/batch_annotate.html` & `omero-web-5.9.2/omeroweb/webclient/templates/webclient/annotations/batch_annotate.html`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/templates/webclient/annotations/comment.html` & `omero-web-5.9.2/omeroweb/webclient/templates/webclient/annotations/comment.html`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/templates/webclient/annotations/comments_underscore.html` & `omero-web-5.9.2/omeroweb/webclient/templates/webclient/annotations/comments_underscore.html`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/templates/webclient/annotations/custom_ann_tooltip.html` & `omero-web-5.9.2/omeroweb/webclient/templates/webclient/annotations/custom_ann_tooltip.html`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/templates/webclient/annotations/customanns_underscore.html` & `omero-web-5.9.2/omeroweb/webclient/templates/webclient/annotations/customanns_underscore.html`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/templates/webclient/annotations/download_placeholder.html` & `omero-web-5.9.2/omeroweb/webclient/templates/webclient/annotations/download_placeholder.html`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/templates/webclient/annotations/fileanns_underscore.html` & `omero-web-5.9.2/omeroweb/webclient/templates/webclient/annotations/fileanns_underscore.html`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/templates/webclient/annotations/files_form.html` & `omero-web-5.9.2/omeroweb/webclient/templates/webclient/annotations/files_form.html`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/templates/webclient/annotations/includes/core_metadata.html` & `omero-web-5.9.2/omeroweb/webclient/templates/webclient/annotations/includes/core_metadata.html`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/templates/webclient/annotations/includes/description.html` & `omero-web-5.9.2/omeroweb/webclient/templates/webclient/annotations/includes/description.html`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/templates/webclient/annotations/includes/figure_scripts_menu.html` & `omero-web-5.9.2/omeroweb/webclient/templates/webclient/annotations/includes/figure_scripts_menu.html`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/templates/webclient/annotations/includes/mapannotations.html` & `omero-web-5.9.2/omeroweb/webclient/templates/webclient/annotations/includes/mapannotations.html`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/templates/webclient/annotations/includes/metadata_general_comment.html` & `omero-web-5.9.2/omeroweb/webclient/templates/webclient/annotations/includes/metadata_general_comment.html`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/templates/webclient/annotations/includes/metadata_general_file.html` & `omero-web-5.9.2/omeroweb/webclient/templates/webclient/annotations/includes/metadata_general_file.html`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/templates/webclient/annotations/includes/metadata_general_map.html` & `omero-web-5.9.2/omeroweb/webclient/templates/webclient/annotations/includes/metadata_general_map.html`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/templates/webclient/annotations/includes/metadata_general_other.html` & `omero-web-5.9.2/omeroweb/webclient/templates/webclient/annotations/includes/metadata_general_other.html`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/templates/webclient/annotations/includes/metadata_general_rating.html` & `omero-web-5.9.2/omeroweb/webclient/templates/webclient/annotations/includes/metadata_general_rating.html`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/templates/webclient/annotations/includes/metadata_general_table.html` & `omero-web-5.9.2/omeroweb/webclient/templates/webclient/annotations/includes/metadata_general_table.html`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/templates/webclient/annotations/includes/metadata_general_tag.html` & `omero-web-5.9.2/omeroweb/webclient/templates/webclient/annotations/includes/metadata_general_tag.html`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/templates/webclient/annotations/includes/name.html` & `omero-web-5.9.2/omeroweb/webclient/templates/webclient/annotations/includes/name.html`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/templates/webclient/annotations/includes/toolbar.html` & `omero-web-5.9.2/omeroweb/webclient/templates/webclient/annotations/includes/toolbar.html`

 * *Files 0% similar despite different names*

```diff
@@ -54,15 +54,15 @@
                 // if batch_annotate panel, we can use obj_labels
                 var selectedObjs = [{% for o in obj_labels %}{% if forloop.counter > 1 %},{% endif %}"{{ o.type|lower }}-{{ o.id}}"{% endfor %}];
                 var selJson = [{% for o in obj_labels %}{% if forloop.counter > 1 %}, {% endif %}{"id": {{ o.id }}, 'type': '{{ o.type|lower }}', 'name': '{{ o.name }}'  }{% endfor %}];
 
                 // If single object selected
               {% if manager.obj_type %}
                 selectedObjs = ["{{ manager.obj_type }}-{{ manager.obj_id }}"];
-                selJson = [{'id': {{ manager.obj_id }},
+                selJson = [{'id': '{{ manager.obj_id }}',
                            'name': '{{ manager.obj_name }}',
                            'type': '{{ manager.obj_type }}' }]
               {% endif %}
 
                 var selectedType = selectedObjs.reduce(function(prev, s){
                     return s.split('-')[0] + (selectedObjs.length > 1 ? "s" : "");
                 }, "undefined");
```

### Comparing `omero-web-5.9.1/omeroweb/webclient/templates/webclient/annotations/mapanns_underscore.html` & `omero-web-5.9.2/omeroweb/webclient/templates/webclient/annotations/mapanns_underscore.html`

 * *Files 2% similar despite different names*

```diff
@@ -33,15 +33,15 @@
 
                 <span class="tooltip_html" style='display:none'>
                     <% if (ann.parentNames) { %>
                       You are
                       <% print (ann.permissions.canEdit && clientMapAnn ? 'editing' : 'viewing') %>
                       <b><%= ann.parentNames.length %></b> identical Key-Value annotations:
                     <% } %>
-                    <% if (!ann.parentNames) { %>
+                    <% if (!ann.parentNames && ann.link) { %>
                         <!-- If single object show e.g. Image ID: (slice ImageI -> Image) -->
                         <b><%= ann.link.parent.class.slice(0, ann.link.parent.class.length-1) %>
                             ID:</b> <%= ann.link.parent.id %><br />
                     <% } %>
                     <b>Annotation ID<% if (ann.parentNames) { %>s<% } %>:</b> <%= ann.id %><br />
                     <% if (ann.parentNames) { %>
                         <b>Linked to:</b><br>
```

#### html2text {}

```diff
@@ -9,15 +9,15 @@
 <% if (ann.id) { %> Added by: <%= ann.owner.firstName %> <%= ann.owner.lastName
 %> <% if (showParent && ann.link.parent.name){ %>
 <% if (ann.parentNames) { %> <%= ann.parentNames.length %> Annotations linked
 to: <% } else { %> To: <% } %> <%= ann.parentNames ? (ann.parentNames.length +
 " objects") : ann.link.parent.name %> <% } %> <% if (ann.parentNames) { %> You
 are <% print (ann.permissions.canEdit && clientMapAnn ? 'editing' : 'viewing')
 %> <<%%== aannnn..ppaarreennttNNaammeess..lleennggtthh %%>> identical Key-Value annotations: <% } %> <% if
-(!ann.parentNames) { %> <<%%== aannnn..lliinnkk..ppaarreenntt..ccllaassss..sslliiccee((00,,
+(!ann.parentNames && ann.link) { %> <<%%== aannnn..lliinnkk..ppaarreenntt..ccllaassss..sslliiccee((00,,
 aannnn..lliinnkk..ppaarreenntt..ccllaassss..lleennggtthh--11)) %%>> IIDD:: <%= ann.link.parent.id %>
 <% } %> AAnnnnoottaattiioonn IIDD<<%% iiff ((aannnn..ppaarreennttNNaammeess)) {{ %%>>ss<<%% }} %%>>:: <%= ann.id %>
 <% if (ann.parentNames) { %> LLiinnkkeedd ttoo::
 <% _.each(ann.parentNames, function(pName) { %>  <%= pName %>
 <% }) %> <% } %> <% if (ann.owner) { %> OOwwnneerr:: <%= ann.owner.firstName %> <%=
 ann.owner.lastName %> <% } %> <% if (ann.link) { %>
 LLiinnkkeedd bbyy:: <%= ann.link.owner.firstName %> <%= ann.link.owner.lastName %> <% if
```

### Comparing `omero-web-5.9.1/omeroweb/webclient/templates/webclient/annotations/metadata_acquisition.html` & `omero-web-5.9.2/omeroweb/webclient/templates/webclient/annotations/metadata_acquisition.html`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/templates/webclient/annotations/metadata_general.html` & `omero-web-5.9.2/omeroweb/webclient/templates/webclient/annotations/metadata_general.html`

 * *Files 5% similar despite different names*

```diff
@@ -348,15 +348,14 @@
                     var query = "Well-{{ manager.well.id }}";
                     {% elif manager.image %}
                     var screenQuery = "{% url 'webgateway_object_table_query' 'Screen.plateLinks.child.wells.wellSamples.image' manager.image.id %}";
                     var plateQuery = "{% url 'webgateway_object_table_query' 'Plate.wells.wellSamples.image' manager.image.id %}";
                     var projectQuery = "{% url 'webgateway_object_table_query' 'Project.datasetLinks.child.imageLinks.child' manager.image.id %}";
                     var datasetQuery = "{% url 'webgateway_object_table_query' 'Dataset.imageLinks.child' manager.image.id %}";
                     var query = "Image-{{ manager.image.id }}";
-                    var query2 = "image-{{ manager.image.id }}";
                     {% endif %}
 
                     var showBulkAnnTooltip = function(data) {
                         if (!data || !data.id) return;
                         var bulkAnnTooltip = "<span class='tooltip_html' style='display:none'>" +
                             "Data from tables file:<br />" +
                             "<b>File ID:</b> " + data.id + "<br />" +
@@ -388,32 +387,16 @@
                         var expanded = !$header.hasClass('closed');
                         OME.setPaneExpanded('tables', expanded);
 
                         if (expanded && $("#bulk_annotations_table").is(":empty")) {
                             loadBulkAnnotations(screenQuery, query, showBulkAnnTooltip);
                             loadBulkAnnotations(plateQuery, query, showBulkAnnTooltip);
                             {% if manager.image %}
-                                // Try query1 and query2 in *series* (not at the same time on same OMERO.table)
-                                // to avoid the table.close() causing errors if in parallel
-                                loadBulkAnnotations(projectQuery, query, function(data) {
-                                    if (data && data.id) {
-                                        showBulkAnnTooltip(data);
-                                    } else {
-                                        // If query1 didn't work, try query2 on the same OMERO.table
-                                        loadBulkAnnotations(projectQuery, query2, showBulkAnnTooltip);
-                                    }
-                                });
-                                loadBulkAnnotations(datasetQuery, query, function(data) {
-                                    if (data && data.id) {
-                                        showBulkAnnTooltip(data);
-                                    } else {
-                                        // If query1 didn't work, try query2 on the same OMERO.table
-                                        loadBulkAnnotations(datasetQuery, query2, showBulkAnnTooltip);
-                                    }
-                                });
+                                loadBulkAnnotations(projectQuery, query, showBulkAnnTooltip);
+                                loadBulkAnnotations(datasetQuery, query, showBulkAnnTooltip);
                             {% endif %}
                         }
                     });
 
                     // Load tables if tables tab is open
                     if (OME.getPaneExpanded("tables")) {
                         $('.can-collapse.closed[data-name="tables"]')
@@ -422,25 +405,19 @@
                         if ($("#bulk_annotations_table").is(":empty")) {
                             loadBulkAnnotations(screenQuery, query, showBulkAnnTooltip);
                             loadBulkAnnotations(plateQuery, query, showBulkAnnTooltip);
                             {% if manager.image %}
                                 loadBulkAnnotations(projectQuery, query, function(data) {
                                     if (data && data.id) {
                                         showBulkAnnTooltip(data);
-                                    } else {
-                                        // If query1 didn't work, try query2 on the same OMERO.table
-                                        loadBulkAnnotations(projectQuery, query2, showBulkAnnTooltip);
                                     }
                                 });
                                 loadBulkAnnotations(datasetQuery, query, function(data) {
                                     if (data && data.id) {
                                         showBulkAnnTooltip(data);
-                                    } else {
-                                        // If query1 didn't work, try query2 on the same OMERO.table
-                                        loadBulkAnnotations(datasetQuery, query2, showBulkAnnTooltip);
                                     }
                                 });
                             {% endif %}
                         }
                     }
 
                 {% endif %}
```

### Comparing `omero-web-5.9.1/omeroweb/webclient/templates/webclient/annotations/metadata_hierarchy.html` & `omero-web-5.9.2/omeroweb/webclient/templates/webclient/annotations/metadata_hierarchy.html`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/templates/webclient/annotations/metadata_preview.html` & `omero-web-5.9.2/omeroweb/webclient/templates/webclient/annotations/metadata_preview.html`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/templates/webclient/annotations/omero_table.html` & `omero-web-5.9.2/omeroweb/webclient/templates/webclient/annotations/omero_table.html`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/templates/webclient/annotations/original_metadata.html` & `omero-web-5.9.2/omeroweb/webclient/templates/webclient/annotations/original_metadata.html`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/templates/webclient/annotations/ratings_underscore.html` & `omero-web-5.9.2/omeroweb/webclient/templates/webclient/annotations/ratings_underscore.html`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/templates/webclient/annotations/tags_form.html` & `omero-web-5.9.2/omeroweb/webclient/templates/webclient/annotations/tags_form.html`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/templates/webclient/annotations/tags_underscore.html` & `omero-web-5.9.2/omeroweb/webclient/templates/webclient/annotations/tags_underscore.html`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/templates/webclient/base/base.html` & `omero-web-5.9.2/omeroweb/webclient/templates/webclient/base/base.html`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/templates/webclient/base/base_container.html` & `omero-web-5.9.2/omeroweb/webclient/templates/webclient/base/base_container.html`

 * *Files 1% similar despite different names*

```diff
@@ -161,15 +161,15 @@
 
         // Variables used by static files, particularly ome.tree.js for jstree setup
         // Also used by right panel annotation tabs
         var WEBCLIENT = {};
 
         WEBCLIENT.active_group_id = {{ active_group.id }};
         WEBCLIENT.USER = {'id': {{ ome.user.id }}, 'fullName': "{{ ome.user.getFullName }}"};
-        WEBCLIENT.active_user = {'id': {{ ome.user_id }}, 'fullName': "{{ active_user.getFullName }}"};
+        WEBCLIENT.active_user = {'id': {{ ome.active_user }}, 'fullName': "{{ active_user.getFullName }}"};
         WEBCLIENT.member_of_groups = {{ member_of_groups|json_dumps|safe }};
         WEBCLIENT.isAdmin = {% if ome.user.isAdmin %}true{% else %}false{% endif %};
         WEBCLIENT.CAN_CREATE = {{ ome.can_create|json_dumps|safe }};
         WEBCLIENT.current_admin_privileges = {{ current_admin_privileges|json_dumps|safe }};
         WEBCLIENT.leader_of_groups = {{ leader_of_groups|json_dumps|safe }};
 
         WEBCLIENT.URLS = {};
@@ -200,15 +200,15 @@
         {% ifequal menu 'usertags' %}
             WEBCLIENT.TAG_TREE = true;
             WEBCLIENT.URLS.tree_top_level = WEBCLIENT.URLS.api_tags_and_tagged;
         {% else %}
             WEBCLIENT.URLS.tree_top_level = WEBCLIENT.URLS.api_containers;
         {% endifequal %}
 
-        WEBCLIENT.URLS.api_experimenter = "{% url 'api_experimenter' ome.user_id %}";
+        WEBCLIENT.URLS.api_experimenter = "{% url 'api_experimenter' ome.active_user %}";
 
         WEBCLIENT.UI = {};
         WEBCLIENT.UI.TREE = {};
         WEBCLIENT.UI.TREE.pagination_nodes = ["experimenter", "screen", "plate", "acquisition", "project", "tagset", "image"];
         WEBCLIENT.UI.TREE.type_order = "{{ui.tree.type_order}}".toLowerCase().split(",").filter(function(e){return e});
 
         {% if page_size %}
@@ -255,15 +255,15 @@
             
             OME.setupAjaxError("{% url 'fsend' %}");      // AJAX 500 need feedback form url
         });
 
         // The shown user's ID. This is located here because static javascript files
         // are not preprocessed by django
         function activeUserId() {
-            return {{ ome.user_id }};
+            return {{ ome.active_user }};
         };
 
         // The currently logged in user ID
         function currentUserId() {
             {% if ome.user.id %}
                 return {{ ome.user.id }}
             {% else %}
```

### Comparing `omero-web-5.9.1/omeroweb/webclient/templates/webclient/base/includes/activities_info.html` & `omero-web-5.9.2/omeroweb/webclient/templates/webclient/base/includes/activities_info.html`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/templates/webclient/base/includes/group_user_content.html` & `omero-web-5.9.2/omeroweb/webclient/templates/webclient/base/includes/group_user_content.html`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/templates/webclient/base/includes/group_user_dropdown.html` & `omero-web-5.9.2/omeroweb/webclient/templates/webclient/base/includes/group_user_dropdown.html`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/templates/webclient/base/includes/group_user_dropdown2.html` & `omero-web-5.9.2/omeroweb/webclient/templates/webclient/base/includes/group_user_dropdown2.html`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/templates/webclient/base/includes/logo.html` & `omero-web-5.9.2/omeroweb/webclient/templates/webclient/base/includes/logo.html`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/templates/webclient/base/includes/logout.html` & `omero-web-5.9.2/omeroweb/webclient/templates/webclient/base/includes/logout.html`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/templates/webclient/base/includes/menu.html` & `omero-web-5.9.2/omeroweb/webclient/templates/webclient/base/includes/menu.html`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/templates/webclient/base/includes/ping.html` & `omero-web-5.9.2/omeroweb/webclient/templates/webclient/base/includes/ping.html`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/templates/webclient/base/includes/script_launch.html` & `omero-web-5.9.2/omeroweb/webclient/templates/webclient/base/includes/script_launch.html`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/templates/webclient/base/includes/script_launch_head.html` & `omero-web-5.9.2/omeroweb/webclient/templates/webclient/base/includes/script_launch_head.html`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/templates/webclient/base/includes/search_field.html` & `omero-web-5.9.2/omeroweb/webclient/templates/webclient/base/includes/search_field.html`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/templates/webclient/base/includes/toolbar_forms.html` & `omero-web-5.9.2/omeroweb/webclient/templates/webclient/base/includes/toolbar_forms.html`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/templates/webclient/base/includes/user_dropdown.html` & `omero-web-5.9.2/omeroweb/webclient/templates/webclient/base/includes/user_dropdown.html`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/templates/webclient/data/chgrp_target_tree.html` & `omero-web-5.9.2/omeroweb/webclient/templates/webclient/data/chgrp_target_tree.html`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/templates/webclient/data/container_paging.html` & `omero-web-5.9.2/omeroweb/webclient/templates/webclient/data/container_paging.html`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/templates/webclient/data/containers.html` & `omero-web-5.9.2/omeroweb/webclient/templates/webclient/data/containers.html`

 * *Files 0% similar despite different names*

```diff
@@ -284,15 +284,15 @@
                 'cut':false,
                 'paste': false,
                 'delete':false,
                 'createshare':false
             };
 
             // We 'canCreate' top level items, E.g. Project, Dataset, Screen, if the current userId is self or 'All Members'
-            var userId = {{ ome.user_id }},
+            var userId = {{ ome.active_user }},
                 memberOfGroup = WEBCLIENT.member_of_groups.indexOf(WEBCLIENT.active_group_id) > -1,
                 writeOwned = WEBCLIENT.current_admin_privileges.indexOf("WriteOwned") > -1,
                 allMembers = userId === -1,
                 // canCreate if looking at your own data or 'All Members' OR User's data with writeOwned
                 canCreate = (userId === WEBCLIENT.USER.id || (allMembers && memberOfGroup) ||
                     (!allMembers && writeOwned));
 
@@ -555,15 +555,15 @@
 
                     // Default: Create an orphan of "folder_type" ('project', 'dataset', 'screen', 'tag', 'tagset' etc. )
                     url = '{% url 'manage_action_containers' "addnewcontainer" %}';
                     // Find the 'experimenter' node as parent
                     var root = inst.get_node('#');
                     $.each(root.children, function(index, id) {
                         var node = inst.get_node(id);
-                        if (node.type === 'experimenter' && node.data.obj.id === {{ ome.user_id }}) {
+                        if (node.type === 'experimenter' && node.data.obj.id === {{ ome.active_user }}) {
                             parent = node;
                             // Break out of each
                             return false;
                         }
                     });
 
                     // If a project is selected (or selected is a child of project) create dataset under it
@@ -588,15 +588,15 @@
                     } else {
                         // otherwise create an orphan of "folder_type" ('project', 'dataset', 'screen', 'tag', 'tagset' etc. )
                         url = '{% url 'manage_action_containers' "addnewcontainer" %}';
                         // Find 'experimenter' to be parent
                         var root = inst.get_node('#');
                         $.each(root.children, function(index, id) {
                             var node = inst.get_node(id);
-                             if (node.type === 'experimenter' && node.data.obj.id === {{ ome.user_id }}) {
+                             if (node.type === 'experimenter' && node.data.obj.id === {{ ome.active_user }}) {
                                 parent = node;
                                 // Break out of each
                                 return false;
                              }
                         });
                     }
```

### Comparing `omero-web-5.9.1/omeroweb/webclient/templates/webclient/data/icon_header_underscore.html` & `omero-web-5.9.2/omeroweb/webclient/templates/webclient/data/icon_header_underscore.html`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/templates/webclient/data/icon_thumbnails_underscore.html` & `omero-web-5.9.2/omeroweb/webclient/templates/webclient/data/icon_thumbnails_underscore.html`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/templates/webclient/data/includes/center_plugin.thumbs.js.html` & `omero-web-5.9.2/omeroweb/webclient/templates/webclient/data/includes/center_plugin.thumbs.js.html`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/templates/webclient/data/includes/center_plugin_init.js.html` & `omero-web-5.9.2/omeroweb/webclient/templates/webclient/data/includes/center_plugin_init.js.html`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/templates/webclient/data/includes/right_plugin.acquisition.js.html` & `omero-web-5.9.2/omeroweb/webclient/templates/webclient/data/includes/right_plugin.acquisition.js.html`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/templates/webclient/data/includes/right_plugin.general.js.html` & `omero-web-5.9.2/omeroweb/webclient/templates/webclient/data/includes/right_plugin.general.js.html`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/templates/webclient/data/includes/right_plugin.preview.js.html` & `omero-web-5.9.2/omeroweb/webclient/templates/webclient/data/includes/right_plugin.preview.js.html`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/templates/webclient/data/plate.html` & `omero-web-5.9.2/omeroweb/webclient/templates/webclient/data/plate.html`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/templates/webclient/history/calendar.html` & `omero-web-5.9.2/omeroweb/webclient/templates/webclient/history/calendar.html`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/templates/webclient/history/history.html` & `omero-web-5.9.2/omeroweb/webclient/templates/webclient/history/history.html`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/templates/webclient/history/history_details.html` & `omero-web-5.9.2/omeroweb/webclient/templates/webclient/history/history_details.html`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/templates/webclient/history/history_paging.html` & `omero-web-5.9.2/omeroweb/webclient/templates/webclient/history/history_paging.html`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/templates/webclient/index/index.html` & `omero-web-5.9.2/omeroweb/webclient/templates/webclient/index/index.html`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/templates/webclient/index/index_last_imports.html` & `omero-web-5.9.2/omeroweb/webclient/templates/webclient/index/index_last_imports.html`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/templates/webclient/index/index_most_recent.html` & `omero-web-5.9.2/omeroweb/webclient/templates/webclient/index/index_most_recent.html`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/templates/webclient/index/index_tag_cloud.html` & `omero-web-5.9.2/omeroweb/webclient/templates/webclient/index/index_tag_cloud.html`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/templates/webclient/index.html` & `omero-web-5.9.2/omeroweb/webclient/templates/webclient/index.html`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/templates/webclient/login.html` & `omero-web-5.9.2/omeroweb/webclient/templates/webclient/login.html`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/templates/webclient/public/public.html` & `omero-web-5.9.2/omeroweb/webclient/templates/webclient/public/public.html`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/templates/webclient/public/share_form.html` & `omero-web-5.9.2/omeroweb/webclient/templates/webclient/public/share_form.html`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/templates/webclient/scripts/base_custom_dialog.html` & `omero-web-5.9.2/omeroweb/webclient/templates/webclient/scripts/base_custom_dialog.html`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/templates/webclient/scripts/include_param.html` & `omero-web-5.9.2/omeroweb/webclient/templates/webclient/scripts/include_param.html`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/templates/webclient/scripts/list_scripts.html` & `omero-web-5.9.2/omeroweb/webclient/templates/webclient/scripts/list_scripts.html`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/templates/webclient/scripts/make_movie.html` & `omero-web-5.9.2/omeroweb/webclient/templates/webclient/scripts/make_movie.html`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/templates/webclient/scripts/original_file_text.html` & `omero-web-5.9.2/omeroweb/webclient/templates/webclient/scripts/original_file_text.html`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/templates/webclient/scripts/script_ui.html` & `omero-web-5.9.2/omeroweb/webclient/templates/webclient/scripts/script_ui.html`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/templates/webclient/scripts/split_view_figure.html` & `omero-web-5.9.2/omeroweb/webclient/templates/webclient/scripts/split_view_figure.html`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/templates/webclient/scripts/thumbnail_figure.html` & `omero-web-5.9.2/omeroweb/webclient/templates/webclient/scripts/thumbnail_figure.html`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/templates/webclient/scripts/upload_script.html` & `omero-web-5.9.2/omeroweb/webclient/templates/webclient/scripts/upload_script.html`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/templates/webclient/search/search.html` & `omero-web-5.9.2/omeroweb/webclient/templates/webclient/search/search.html`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/templates/webclient/search/search_details.html` & `omero-web-5.9.2/omeroweb/webclient/templates/webclient/search/search_details.html`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/templatetags/webclient_tags.py` & `omero-web-5.9.2/omeroweb/webclient/templatetags/webclient_tags.py`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/tree.py` & `omero-web-5.9.2/omeroweb/webclient/tree.py`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webclient/urls.py` & `omero-web-5.9.2/omeroweb/webclient/urls.py`

 * *Files 2% similar despite different names*

```diff
@@ -157,27 +157,27 @@
         r"^(?:(?P<share_id>[0-9]+)/)?render_image_region/"
         r"(?P<iid>[0-9]+)/(?P<z>[0-9]+)/(?P<t>[0-9]+)/$",
         webgateway.render_image_region,
         name="web_render_image_region",
     ),
     url(
         r"^(?:(?P<share_id>[0-9]+)/)?render_birds_eye_view/"
-        r"(?P<iid>[^/]+)/(?:(?P<size>[^/]+)/)?$",
+        r"(?P<iid>[0-9]+)/(?:(?P<size>[0-9]+)/)?$",
         webgateway.render_birds_eye_view,
         name="web_render_birds_eye_view",
     ),
     url(
-        r"^(?:(?P<share_id>[0-9]+)/)?render_image/(?P<iid>[^/]+)/"
-        r"(?:(?P<z>[^/]+)/)?(?:(?P<t>[^/]+)/)?$",
+        r"^(?:(?P<share_id>[0-9]+)/)?render_image/(?P<iid>[0-9]+)/"
+        r"(?:(?P<z>[0-9]+)/)?(?:(?P<t>[0-9]+)/)?$",
         webgateway.render_image,
         name="web_render_image",
     ),
     url(
         r"^(?:(?P<share_id>[0-9]+)/)?render_image_download/"
-        r"(?P<iid>[^/]+)/(?:(?P<z>[^/]+)/)?(?:(?P<t>[^/]+)/)?$",
+        r"(?P<iid>[0-9]+)/(?:(?P<z>[0-9]+)/)?(?:(?P<t>[0-9]+)/)?$",
         webgateway.render_image,
         {"download": True},
         name="web_render_image_download",
     ),
     url(
         r"^(?:(?P<share_id>[0-9]+)/)?img_detail/(?P<iid>[0-9]+)/$",
         viewer_view,
@@ -185,33 +185,33 @@
     ),
     url(
         r"^(?:(?P<share_id>[0-9]+)/)?imgData/(?P<iid>[0-9]+)/$",
         webgateway.imageData_json,
         name="web_imageData_json",
     ),
     url(
-        r"^(?:(?P<share_id>[0-9]+)/)?render_row_plot/(?P<iid>[^/]+)/"
-        r"(?P<z>[^/]+)/(?P<t>[^/]+)/(?P<y>[^/]+)/(?:(?P<w>[^/]+)/)?$",
+        r"^(?:(?P<share_id>[0-9]+)/)?render_row_plot/(?P<iid>[0-9]+)/"
+        r"(?P<z>[0-9]+)/(?P<t>[0-9]+)/(?P<y>[0-9]+)/(?:(?P<w>[0-9]+)/)?$",
         webgateway.render_row_plot,
         name="web_render_row_plot",
     ),
     url(
-        r"^(?:(?P<share_id>[0-9]+)/)?render_col_plot/(?P<iid>[^/]+)/"
-        r"(?P<z>[^/]+)/(?P<t>[^/]+)/(?P<x>[^/]+)/(?:(?P<w>[^/]+)/)?$",
+        r"^(?:(?P<share_id>[0-9]+)/)?render_col_plot/(?P<iid>[0-9]+)/"
+        r"(?P<z>[0-9]+)/(?P<t>[0-9]+)/(?P<x>[0-9]+)/(?:(?P<w>[0-9]+)/)?$",
         webgateway.render_col_plot,
         name="web_render_col_plot",
     ),
     url(
         r"^(?:(?P<share_id>[0-9]+)/)?render_split_channel/"
-        r"(?P<iid>[^/]+)/(?P<z>[^/]+)/(?P<t>[^/]+)/$",
+        r"(?P<iid>[0-9]+)/(?P<z>[0-9]+)/(?P<t>[0-9]+)/$",
         webgateway.render_split_channel,
         name="web_render_split_channel",
     ),
     url(
-        r"^saveImgRDef/(?P<iid>[^/]+)/$",
+        r"^saveImgRDef/(?P<iid>[0-9]+)/$",
         webgateway.save_image_rdef_json,
         name="web_save_image_rdef_json",
     ),
     url(
         r"^(?:(?P<share_id>[0-9]+)/)?getImgRDef/$",
         webgateway.get_image_rdef_json,
         name="web_get_image_rdef_json",
```

### Comparing `omero-web-5.9.1/omeroweb/webclient/views.py` & `omero-web-5.9.2/omeroweb/webclient/views.py`

 * *Files 1% similar despite different names*

```diff
@@ -328,15 +328,15 @@
             context["client_download_repo"] = settings.CLIENT_DOWNLOAD_GITHUB_REPO
 
         return render(request, self.template, context)
 
 
 @login_required(ignore_login_fail=True)
 def keepalive_ping(request, conn=None, **kwargs):
-    """ Keeps the OMERO session alive by pinging the server """
+    """Keeps the OMERO session alive by pinging the server"""
 
     # login_required handles ping, timeout etc, so we don't need to do
     # anything else
     return HttpResponse("OK")
 
 
 @login_required()
@@ -344,27 +344,31 @@
     """
     Simply changes the request.session['active_group'] which is then used by
     the @login_required decorator to configure conn for any group-based
     queries.
     Finally this redirects to the 'url'.
     """
     switch_active_group(request)
-    url = url or reverse("webindex")
+    # avoid recursive calls
+    if url is None or url.startswith(reverse("change_active_group")):
+        url = reverse("webindex")
     url = validate_redirect_url(url)
     return HttpResponseRedirect(url)
 
 
 def switch_active_group(request, active_group=None):
     """
     Simply changes the request.session['active_group'] which is then used by
     the @login_required decorator to configure conn for any group-based
     queries.
     """
     if active_group is None:
-        active_group = request.GET.get("active_group")
+        active_group = get_long_or_default(request, "active_group", None)
+    if active_group is None:
+        return
     active_group = int(active_group)
     if (
         "active_group" not in request.session
         or active_group != request.session["active_group"]
     ):
         request.session.modified = True
         request.session["active_group"] = active_group
@@ -457,15 +461,19 @@
         ):
             # this is likely a regular user who needs to log in as themselves.
             # Login then redirect to current url
             return HttpResponseRedirect("%s?url=%s" % (reverse("weblogin"), url))
 
     # need to be sure that tree will be correct omero.group
     if first_sel is not None:
-        switch_active_group(request, first_sel.details.group.id.val)
+        group_id = first_sel.details.group.id.val
+        if conn.isValidGroup(group_id):
+            switch_active_group(request, group_id)
+        else:
+            first_sel = None
 
     # search support
     init = {}
     global_search_form = GlobalSearchForm(data=request.GET.copy())
     if menu == "search":
         if global_search_form.is_valid():
             init["query"] = global_search_form.cleaned_data["search_query"]
@@ -883,15 +891,15 @@
     except IceException as e:
         return HttpResponseServerError(e.message)
 
     return JsonResponse({"acquisitions": plate_acquisitions})
 
 
 def get_object_links(conn, parent_type, parent_id, child_type, child_ids):
-    """ This is just used internally by api_link DELETE below """
+    """This is just used internally by api_link DELETE below"""
     if parent_type == "orphaned":
         return None
     link_type = None
     if parent_type == "experimenter":
         if child_type in ["dataset", "plate", "tag"]:
             # This will be a requested link if a dataset or plate is
             # moved from the de facto orphaned datasets/plates, it isn't
@@ -936,15 +944,15 @@
             "No link found for %s-%s to %s-%s"
             % (parent_type, parent_id, child_type, child_ids)
         )
     return link_type, res
 
 
 def create_link(parent_type, parent_id, child_type, child_id):
-    """ This is just used internally by api_link DELETE below """
+    """This is just used internally by api_link DELETE below"""
     if parent_type == "experimenter":
         if child_type == "dataset" or child_type == "plate":
             # This is actually not a link that needs creating, this
             # dataset/plate is an orphan
             return "orphan"
     if parent_type == "project":
         project = ProjectI(long(parent_id), False)
@@ -1516,15 +1524,15 @@
 
     return {"owners": owners, "groups": targetGroups}
 
 
 @login_required()
 @render_response()
 def load_chgrp_target(request, group_id, target_type, conn=None, **kwargs):
-    """ Loads a tree for user to pick target Project, Dataset or Screen """
+    """Loads a tree for user to pick target Project, Dataset or Screen"""
 
     # filter by group (not switching group)
     conn.SERVICE_OPTS.setOmeroGroup(int(group_id))
     owner = getIntOrDefault(request, "owner", None)
 
     manager = BaseContainer(conn)
     manager.listContainerHierarchy(owner)
@@ -3253,15 +3261,15 @@
                 break
 
     return context
 
 
 @login_required(doConnectionCleanup=False)
 def download_annotation(request, annId, conn=None, **kwargs):
-    """ Returns the file annotation as an http response for download """
+    """Returns the file annotation as an http response for download"""
     ann = conn.getObject("FileAnnotation", annId)
     if ann is None:
         return handlerInternalError(
             request, "FileAnnotation does not exist (id:%s)." % (annId)
         )
 
     rsp = ConnCleaningHttpResponse(ann.getFileInChunks(buf=settings.CHUNK_SIZE))
@@ -3272,15 +3280,15 @@
         ann.getFileName().replace(" ", "_")
     )
     return rsp
 
 
 @login_required()
 def download_orig_metadata(request, imageId, conn=None, **kwargs):
-    """ Downloads the 'Original Metadata' as a text file """
+    """Downloads the 'Original Metadata' as a text file"""
 
     image = conn.getObject("Image", imageId)
     if image is None:
         raise Http404("No Image found with ID %s" % imageId)
 
     om = image.loadOriginalMetadata()
 
@@ -3414,15 +3422,15 @@
     context["template"] = template
     return context
 
 
 @login_required(setGroupContext=True)
 @render_response()
 def load_history(request, year, month, day, conn=None, **kwargs):
-    """ The data for a particular date that is loaded into the center panel """
+    """The data for a particular date that is loaded into the center panel"""
 
     if year is None or month is None or day is None:
         raise Http404("Year, month, and day are required")
 
     template = "webclient/history/history_details.html"
 
     # get page
@@ -3902,26 +3910,26 @@
 
 ##############################################################################
 # User Photo
 
 
 @login_required()
 def avatar(request, oid=None, conn=None, **kwargs):
-    """ Returns the experimenter's photo """
+    """Returns the experimenter's photo"""
     photo = conn.getExperimenterPhoto(oid)
     return HttpResponse(photo, content_type="image/jpeg")
 
 
 ##############################################################################
 # webgateway extention
 
 
 @login_required()
 def image_viewer(request, iid, share_id=None, **kwargs):
-    """ Delegates to webgateway, using share connection if appropriate """
+    """Delegates to webgateway, using share connection if appropriate"""
     kwargs["viewport_server"] = (
         share_id is not None and reverse("webindex") + share_id or reverse("webindex")
     )
     # remove any trailing slash
     kwargs["viewport_server"] = kwargs["viewport_server"].rstrip("/")
     return webgateway_views.full_viewer(request, iid, **kwargs)
 
@@ -4930,15 +4938,19 @@
         if message and message.startswith("No processor available"):
             # omero.ResourceError
             logger.info(traceback.format_exc())
             error = "No Processor Available"
             status = "no processor available"
             message = ""  # template displays message and link
         else:
-            logger.error(traceback.format_exc())
+            # Don't log user mistake as ERROR
+            if isinstance(x, omero.ValidationException):
+                logger.debug(x.message)
+            else:
+                logger.error(traceback.format_exc())
             error = traceback.format_exc()
             status = "failed"
             message = x.message
         # save the error to http session, for display in 'Activities' window
         request.session["callback"][jobId] = {
             "job_type": "script",
             "job_name": scriptName,
```

### Comparing `omero-web-5.9.1/omeroweb/webclient/webclient_gateway.py` & `omero-web-5.9.2/omeroweb/webclient/webclient_gateway.py`

 * *Files 3% similar despite different names*

```diff
@@ -53,6161 +53,5879 @@
 00000340: 6565 2864 6f74 2961 6328 646f 7429 756b  ee(dot)ac(dot)uk
 00000350: 3e2c 2032 3030 382e 0a23 2020 2020 2020  >, 2008..#      
 00000360: 2020 2043 6172 6c6f 7320 4e65 7665 7320     Carlos Neves 
 00000370: 3c63 6172 6c6f 7328 6174 2967 6c65 6e63  <carlos(at)glenc
 00000380: 6f65 736f 6674 7761 7265 2864 6f74 2963  oesoftware(dot)c
 00000390: 6f6d 3e2c 2032 3030 380a 230a 2320 5665  om>, 2008.#.# Ve
 000003a0: 7273 696f 6e3a 2031 2e30 0a23 0a0a 6672  rsion: 1.0.#..fr
-000003b0: 6f6d 2069 6f20 696d 706f 7274 2053 7472  om io import Str
-000003c0: 696e 6749 4f0a 6672 6f6d 2069 6f20 696d  ingIO.from io im
-000003d0: 706f 7274 2042 7974 6573 494f 0a69 6d70  port BytesIO.imp
-000003e0: 6f72 7420 7472 6163 6562 6163 6b0a 696d  ort traceback.im
-000003f0: 706f 7274 206c 6f67 6769 6e67 0a69 6d70  port logging.imp
-00000400: 6f72 7420 7761 726e 696e 6773 0a0a 696d  ort warnings..im
-00000410: 706f 7274 2074 696d 650a 6672 6f6d 2064  port time.from d
-00000420: 6174 6574 696d 6520 696d 706f 7274 2064  atetime import d
-00000430: 6174 6574 696d 650a 0a69 6d70 6f72 7420  atetime..import 
-00000440: 4963 650a 696d 706f 7274 206f 6d65 726f  Ice.import omero
-00000450: 2e67 6174 6577 6179 0a69 6d70 6f72 7420  .gateway.import 
-00000460: 6f6d 6572 6f2e 7363 7269 7074 730a 0a66  omero.scripts..f
-00000470: 726f 6d20 6f6d 6572 6f2e 7274 7970 6573  rom omero.rtypes
-00000480: 2069 6d70 6f72 7420 7262 6f6f 6c2c 2072   import rbool, r
-00000490: 696e 742c 2072 7374 7269 6e67 2c20 726c  int, rstring, rl
-000004a0: 6f6e 672c 2072 6c69 7374 2c20 7274 696d  ong, rlist, rtim
-000004b0: 652c 2075 6e77 7261 700a 6672 6f6d 206f  e, unwrap.from o
-000004c0: 6d65 726f 2e6d 6f64 656c 2069 6d70 6f72  mero.model impor
-000004d0: 7420 4578 7065 7269 6d65 6e74 6572 492c  t ExperimenterI,
-000004e0: 2045 7870 6572 696d 656e 7465 7247 726f   ExperimenterGro
-000004f0: 7570 490a 6672 6f6d 206f 6d65 726f 2e63  upI.from omero.c
-00000500: 6d64 2069 6d70 6f72 7420 4368 6d6f 6432  md import Chmod2
-00000510: 2c20 4368 6772 7032 2c20 446f 416c 6c2c  , Chgrp2, DoAll,
-00000520: 2043 686f 776e 320a 0a66 726f 6d20 6f6d   Chown2..from om
-00000530: 6572 6f2e 6761 7465 7761 7920 696d 706f  ero.gateway impo
-00000540: 7274 2041 6e6e 6f74 6174 696f 6e57 7261  rt AnnotationWra
-00000550: 7070 6572 0a66 726f 6d20 6f6d 6572 6f2e  pper.from omero.
-00000560: 6761 7465 7761 7920 696d 706f 7274 204f  gateway import O
-00000570: 6d65 726f 4761 7465 7761 7953 6166 6543  meroGatewaySafeC
-00000580: 616c 6c57 7261 7070 6572 0a66 726f 6d20  allWrapper.from 
-00000590: 6f6d 6572 6f2e 6761 7465 7761 7920 696d  omero.gateway im
-000005a0: 706f 7274 2043 6f6d 6d65 6e74 416e 6e6f  port CommentAnno
-000005b0: 7461 7469 6f6e 5772 6170 7065 720a 0a66  tationWrapper..f
-000005c0: 726f 6d20 6f6d 6572 6f2e 6673 2069 6d70  rom omero.fs imp
-000005d0: 6f72 7420 5452 414e 5346 4552 530a 0a66  ort TRANSFERS..f
-000005e0: 726f 6d20 6f6d 6572 6f2e 6761 7465 7761  rom omero.gatewa
-000005f0: 7920 696d 706f 7274 204b 4e4f 574e 5f57  y import KNOWN_W
-00000600: 5241 5050 4552 530a 0a66 726f 6d20 646a  RAPPERS..from dj
-00000610: 616e 676f 2e75 7469 6c73 2e65 6e63 6f64  ango.utils.encod
-00000620: 696e 6720 696d 706f 7274 2073 6d61 7274  ing import smart
-00000630: 5f73 7472 0a66 726f 6d20 646a 616e 676f  _str.from django
-00000640: 2e63 6f6e 6620 696d 706f 7274 2073 6574  .conf import set
-00000650: 7469 6e67 730a 0a66 726f 6d20 6f6d 6572  tings..from omer
-00000660: 6f2e 6761 7465 7761 792e 7574 696c 7320  o.gateway.utils 
-00000670: 696d 706f 7274 2074 6f42 6f6f 6c65 616e  import toBoolean
-00000680: 0a66 726f 6d20 6f6d 6572 6f77 6562 2e77  .from omeroweb.w
-00000690: 6562 6761 7465 7761 792e 7465 6d70 6c61  ebgateway.templa
-000006a0: 7465 7461 6773 2e63 6f6d 6d6f 6e5f 6669  tetags.common_fi
-000006b0: 6c74 6572 7320 696d 706f 7274 2028 0a20  lters import (. 
-000006c0: 2020 206c 656e 6774 6875 6e69 742c 0a20     lengthunit,. 
-000006d0: 2020 206c 656e 6774 6866 6f72 6d61 742c     lengthformat,
-000006e0: 0a29 0a0a 7472 793a 0a20 2020 2069 6d70  .)..try:.    imp
-000006f0: 6f72 7420 6861 7368 6c69 620a 0a20 2020  ort hashlib..   
-00000700: 2068 6173 685f 7368 6131 203d 2068 6173   hash_sha1 = has
-00000710: 686c 6962 2e73 6861 310a 6578 6365 7074  hlib.sha1.except
-00000720: 2045 7863 6570 7469 6f6e 3a0a 2020 2020   Exception:.    
-00000730: 696d 706f 7274 2073 6861 0a0a 2020 2020  import sha..    
-00000740: 6861 7368 5f73 6861 3120 3d20 7368 612e  hash_sha1 = sha.
-00000750: 6e65 770a 0a6c 6f67 6765 7220 3d20 6c6f  new..logger = lo
-00000760: 6767 696e 672e 6765 744c 6f67 6765 7228  gging.getLogger(
-00000770: 5f5f 6e61 6d65 5f5f 290a 0a74 7279 3a0a  __name__)..try:.
-00000780: 2020 2020 6672 6f6d 2050 494c 2069 6d70      from PIL imp
-00000790: 6f72 7420 496d 6167 6520 2023 2073 6565  ort Image  # see
-000007a0: 2074 6963 6b65 743a 3235 3937 0a65 7863   ticket:2597.exc
-000007b0: 6570 7420 496d 706f 7274 4572 726f 723a  ept ImportError:
-000007c0: 0a20 2020 2074 7279 3a0a 2020 2020 2020  .    try:.      
-000007d0: 2020 696d 706f 7274 2049 6d61 6765 2020    import Image  
-000007e0: 2320 7365 6520 7469 636b 6574 3a32 3539  # see ticket:259
-000007f0: 370a 2020 2020 6578 6365 7074 2045 7863  7.    except Exc
-00000800: 6570 7469 6f6e 3a0a 2020 2020 2020 2020  eption:.        
-00000810: 6c6f 6767 6572 2e65 7272 6f72 280a 2020  logger.error(.  
-00000820: 2020 2020 2020 2020 2020 2259 6f75 206e            "You n
-00000830: 6565 6420 746f 2069 6e73 7461 6c6c 2074  eed to install t
-00000840: 6865 2050 7974 686f 6e20 496d 6167 696e  he Python Imagin
-00000850: 6720 4c69 6272 6172 792e 2047 6574 2069  g Library. Get i
-00000860: 7420 6174 220a 2020 2020 2020 2020 2020  t at".          
-00000870: 2020 2220 6874 7470 3a2f 2f77 7777 2e70    " http://www.p
-00000880: 7974 686f 6e77 6172 652e 636f 6d2f 7072  ythonware.com/pr
-00000890: 6f64 7563 7473 2f70 696c 2f22 0a20 2020  oducts/pil/".   
-000008a0: 2020 2020 2029 0a20 2020 2020 2020 206c       ).        l
-000008b0: 6f67 6765 722e 6572 726f 7228 7472 6163  ogger.error(trac
-000008c0: 6562 6163 6b2e 666f 726d 6174 5f65 7863  eback.format_exc
-000008d0: 2829 290a 0a0a 6465 6620 6465 6661 756c  ())...def defaul
-000008e0: 7454 6875 6d62 6e61 696c 2873 697a 653d  tThumbnail(size=
-000008f0: 2831 3230 2c20 3132 3029 293a 0a20 2020  (120, 120)):.   
-00000900: 2069 6620 6973 696e 7374 616e 6365 2873   if isinstance(s
-00000910: 697a 652c 2069 6e74 293a 0a20 2020 2020  ize, int):.     
-00000920: 2020 2073 697a 6520 3d20 2873 697a 652c     size = (size,
-00000930: 2073 697a 6529 0a20 2020 2069 6620 6c65   size).    if le
-00000940: 6e28 7369 7a65 2920 3d3d 2031 3a0a 2020  n(size) == 1:.  
-00000950: 2020 2020 2020 7369 7a65 203d 2028 7369        size = (si
-00000960: 7a65 5b30 5d2c 2073 697a 655b 305d 290a  ze[0], size[0]).
-00000970: 2020 2020 696d 6720 3d20 496d 6167 652e      img = Image.
-00000980: 6f70 656e 2873 6574 7469 6e67 732e 4445  open(settings.DE
-00000990: 4641 554c 545f 494d 4729 0a20 2020 2069  FAULT_IMG).    i
-000009a0: 6d67 2e74 6875 6d62 6e61 696c 2873 697a  mg.thumbnail(siz
-000009b0: 652c 2049 6d61 6765 2e41 4e54 4941 4c49  e, Image.ANTIALI
-000009c0: 4153 290a 2020 2020 6620 3d20 4279 7465  AS).    f = Byte
-000009d0: 7349 4f28 290a 2020 2020 696d 672e 7361  sIO().    img.sa
-000009e0: 7665 2866 2c20 2250 4e47 2229 0a20 2020  ve(f, "PNG").   
-000009f0: 2066 2e73 6565 6b28 3029 0a20 2020 2072   f.seek(0).    r
-00000a00: 6574 7572 6e20 662e 7265 6164 2829 0a0a  eturn f.read()..
-00000a10: 0a63 6c61 7373 204f 6d65 726f 5765 6247  .class OmeroWebG
-00000a20: 6174 6577 6179 286f 6d65 726f 2e67 6174  ateway(omero.gat
-00000a30: 6577 6179 2e42 6c69 747a 4761 7465 7761  eway.BlitzGatewa
-00000a40: 7929 3a0a 2020 2020 6465 6620 5f5f 696e  y):.    def __in
-00000a50: 6974 5f5f 2873 656c 662c 202a 6172 6773  it__(self, *args
-00000a60: 2c20 2a2a 6b77 6172 6773 293a 0a20 2020  , **kwargs):.   
-00000a70: 2020 2020 2022 2222 0a20 2020 2020 2020       """.       
-00000a80: 2043 7265 6174 6520 7468 6520 636f 6e6e   Create the conn
-00000a90: 6563 7469 6f6e 2077 7261 7070 6572 2e20  ection wrapper. 
-00000aa0: 446f 6573 206e 6f74 2061 7474 656d 7074  Does not attempt
-00000ab0: 2074 6f20 636f 6e6e 6563 7420 6174 2074   to connect at t
-00000ac0: 6869 730a 2020 2020 2020 2020 7374 6167  his.        stag
-00000ad0: 650a 2020 2020 2020 2020 496e 6974 6961  e.        Initia
-00000ae0: 6c69 7365 7320 7468 6520 6f6d 6572 6f2e  lises the omero.
-00000af0: 636c 6965 6e74 0a0a 2020 2020 2020 2020  client..        
-00000b00: 4070 6172 616d 2075 7365 726e 616d 653a  @param username:
-00000b10: 2020 2020 5573 6572 206e 616d 652e 2049      User name. I
-00000b20: 6620 6e6f 7420 7370 6563 6966 6965 642c  f not specified,
-00000b30: 2075 7365 0a20 2020 2020 2020 2020 2020   use.           
-00000b40: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00000b50: 2027 6f6d 6572 6f2e 6761 7465 7761 792e   'omero.gateway.
-00000b60: 616e 6f6e 5f75 7365 7227 0a20 2020 2020  anon_user'.     
-00000b70: 2020 2040 7479 7065 2075 7365 726e 616d     @type usernam
-00000b80: 653a 2020 2020 2053 7472 696e 670a 2020  e:     String.  
-00000b90: 2020 2020 2020 4070 6172 616d 2070 6173        @param pas
-00000ba0: 7377 643a 2020 2020 2020 5061 7373 776f  swd:      Passwo
-00000bb0: 7264 2e0a 2020 2020 2020 2020 4074 7970  rd..        @typ
-00000bc0: 6520 7061 7373 7764 3a20 2020 2020 2020  e passwd:       
-00000bd0: 5374 7269 6e67 0a20 2020 2020 2020 2040  String.        @
-00000be0: 7061 7261 6d20 636c 6965 6e74 5f6f 626a  param client_obj
-00000bf0: 3a20 206f 6d65 726f 2e63 6c69 656e 740a  :  omero.client.
-00000c00: 2020 2020 2020 2020 4070 6172 616d 2067          @param g
-00000c10: 726f 7570 3a20 2020 2020 2020 6e61 6d65  roup:       name
-00000c20: 206f 6620 6772 6f75 7020 746f 2074 7279   of group to try
-00000c30: 2074 6f20 636f 6e6e 6563 7420 746f 0a20   to connect to. 
-00000c40: 2020 2020 2020 2040 7479 7065 2067 726f         @type gro
-00000c50: 7570 3a20 2020 2020 2020 2053 7472 696e  up:        Strin
-00000c60: 670a 2020 2020 2020 2020 4070 6172 616d  g.        @param
-00000c70: 2063 6c6f 6e65 3a20 2020 2020 2020 4966   clone:       If
-00000c80: 2054 7275 652c 206f 7665 7277 7269 7465   True, overwrite
-00000c90: 2061 6e6f 6e79 6d6f 7573 2077 6974 6820   anonymous with 
-00000ca0: 4661 6c73 650a 2020 2020 2020 2020 4074  False.        @t
-00000cb0: 7970 6520 636c 6f6e 653a 2020 2020 2020  ype clone:      
-00000cc0: 2020 426f 6f6c 6561 6e0a 2020 2020 2020    Boolean.      
-00000cd0: 2020 4070 6172 616d 2074 7279 5f73 7570    @param try_sup
-00000ce0: 6572 3a20 2020 5472 7920 746f 206c 6f67  er:   Try to log
-00000cf0: 206f 6e20 6173 2073 7570 6572 2075 7365   on as super use
-00000d00: 7220 2827 7379 7374 656d 2720 6772 6f75  r ('system' grou
-00000d10: 7029 0a20 2020 2020 2020 2040 7479 7065  p).        @type
-00000d20: 2074 7279 5f73 7570 6572 3a20 2020 2042   try_super:    B
-00000d30: 6f6f 6c65 616e 0a20 2020 2020 2020 2040  oolean.        @
-00000d40: 7061 7261 6d20 686f 7374 3a20 2020 2020  param host:     
-00000d50: 2020 204f 6d65 726f 2073 6572 7665 7220     Omero server 
-00000d60: 686f 7374 2e0a 2020 2020 2020 2020 4074  host..        @t
-00000d70: 7970 6520 686f 7374 3a20 2020 2020 2020  ype host:       
-00000d80: 2020 5374 7269 6e67 0a20 2020 2020 2020    String.       
-00000d90: 2040 7061 7261 6d20 706f 7274 3a20 2020   @param port:   
-00000da0: 2020 2020 204f 6d65 726f 2073 6572 7665       Omero serve
-00000db0: 7220 706f 7274 2e0a 2020 2020 2020 2020  r port..        
-00000dc0: 4074 7970 6520 706f 7274 3a20 2020 2020  @type port:     
-00000dd0: 2020 2020 496e 7465 6765 720a 2020 2020      Integer.    
-00000de0: 2020 2020 4070 6172 616d 2065 7874 7261      @param extra
-00000df0: 5f63 6f6e 6669 673a 2020 2020 4469 6374  _config:    Dict
-00000e00: 696f 6e61 7279 206f 6620 6578 7472 6120  ionary of extra 
-00000e10: 636f 6e66 6967 7572 6174 696f 6e0a 2020  configuration.  
-00000e20: 2020 2020 2020 4074 7970 6520 6578 7472        @type extr
-00000e30: 615f 636f 6e66 6967 3a20 2020 2020 4469  a_config:     Di
-00000e40: 6374 0a20 2020 2020 2020 2040 7061 7261  ct.        @para
-00000e50: 6d20 7365 6375 7265 3a20 2020 2020 2049  m secure:      I
-00000e60: 6e69 7469 616c 2075 6e64 6572 6c79 696e  nitial underlyin
-00000e70: 6720 6f6d 6572 6f2e 636c 6965 6e74 2063  g omero.client c
-00000e80: 6f6e 6e65 6374 696f 6e20 7479 7065 0a20  onnection type. 
-00000e90: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00000ea0: 2020 2020 2020 2020 2020 2028 5472 7565             (True
-00000eb0: 3d53 534c 2f46 616c 7365 3d69 6e73 6563  =SSL/False=insec
-00000ec0: 7572 6529 0a20 2020 2020 2020 2040 7479  ure).        @ty
-00000ed0: 7065 2073 6563 7572 653a 2020 2020 2020  pe secure:      
-00000ee0: 2042 6f6f 6c65 616e 0a20 2020 2020 2020   Boolean.       
-00000ef0: 2040 7061 7261 6d20 616e 6f6e 796d 6f75   @param anonymou
-00000f00: 733a 0a20 2020 2020 2020 2040 7479 7065  s:.        @type
-00000f10: 2061 6e6f 6e79 6d6f 7573 3a20 2020 2042   anonymous:    B
-00000f20: 6f6f 6c65 616e 0a20 2020 2020 2020 2040  oolean.        @
-00000f30: 7061 7261 6d20 7573 6572 6167 656e 743a  param useragent:
-00000f40: 2020 204c 6f67 2077 6869 6368 2070 7974     Log which pyt
-00000f50: 686f 6e20 636c 6965 6e74 7320 7573 6520  hon clients use 
-00000f60: 7468 6973 2063 6f6e 6e65 6374 696f 6e2e  this connection.
-00000f70: 2045 2e67 2e0a 2020 2020 2020 2020 2020   E.g..          
-00000f80: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00000f90: 2020 274f 4d45 524f 2e77 6562 6164 6d69    'OMERO.webadmi
-00000fa0: 6e27 0a20 2020 2020 2020 2040 7479 7065  n'.        @type
-00000fb0: 2075 7365 7261 6765 6e74 3a20 2020 2053   useragent:    S
-00000fc0: 7472 696e 670a 0a20 2020 2020 2020 2040  tring..        @
-00000fd0: 7061 7261 6d20 5f73 6861 7265 4964 3a20  param _shareId: 
-00000fe0: 2020 2041 6374 6976 6520 7368 6172 6520     Active share 
-00000ff0: 4944 0a20 2020 2020 2020 2040 7479 7065  ID.        @type
-00001000: 205f 7368 6172 6549 643a 2020 2020 204c   _shareId:     L
-00001010: 6f6e 670a 2020 2020 2020 2020 2222 220a  ong.        """.
-00001020: 0a20 2020 2020 2020 2073 7570 6572 284f  .        super(O
-00001030: 6d65 726f 5765 6247 6174 6577 6179 2c20  meroWebGateway, 
-00001040: 7365 6c66 292e 5f5f 696e 6974 5f5f 282a  self).__init__(*
-00001050: 6172 6773 2c20 2a2a 6b77 6172 6773 290a  args, **kwargs).
-00001060: 2020 2020 2020 2020 7365 6c66 2e5f 7368          self._sh
-00001070: 6172 6549 6420 3d20 4e6f 6e65 0a0a 2020  areId = None..  
-00001080: 2020 6465 6620 6765 7453 6861 7265 4964    def getShareId
-00001090: 2873 656c 6629 3a0a 2020 2020 2020 2020  (self):.        
-000010a0: 2222 220a 2020 2020 2020 2020 5265 7475  """.        Retu
-000010b0: 726e 7320 6163 7469 7665 2073 6861 7265  rns active share
-000010c0: 2069 6420 2e0a 0a20 2020 2020 2020 2040   id ...        @
-000010d0: 7265 7475 726e 3a20 2020 2053 6861 7265  return:    Share
-000010e0: 2049 440a 2020 2020 2020 2020 4072 7479   ID.        @rty
-000010f0: 7065 3a20 2020 2020 4c6f 6e67 0a20 2020  pe:     Long.   
-00001100: 2020 2020 2022 2222 0a0a 2020 2020 2020       """..      
-00001110: 2020 6966 2073 656c 662e 6765 7445 7665    if self.getEve
-00001120: 6e74 436f 6e74 6578 7428 292e 7368 6172  ntContext().shar
-00001130: 6549 6420 6973 206e 6f74 204e 6f6e 653a  eId is not None:
-00001140: 0a20 2020 2020 2020 2020 2020 2069 6620  .            if 
-00001150: 7365 6c66 2e67 6574 4576 656e 7443 6f6e  self.getEventCon
-00001160: 7465 7874 2829 2e73 6861 7265 4964 2021  text().shareId !
-00001170: 3d20 7365 6c66 2e5f 7368 6172 6549 6420  = self._shareId 
-00001180: 616e 6420 7365 6c66 2e5f 7368 6172 6549  and self._shareI
-00001190: 6420 3e20 303a 0a20 2020 2020 2020 2020  d > 0:.         
-000011a0: 2020 2020 2020 2073 656c 662e 5f73 6861         self._sha
-000011b0: 7265 4964 203d 2073 656c 662e 6765 7445  reId = self.getE
-000011c0: 7665 6e74 436f 6e74 6578 7428 292e 7368  ventContext().sh
-000011d0: 6172 6549 640a 2020 2020 2020 2020 7265  areId.        re
-000011e0: 7475 726e 2073 656c 662e 5f73 6861 7265  turn self._share
-000011f0: 4964 0a0a 2020 2020 6465 6620 6973 5661  Id..    def isVa
-00001200: 6c69 6447 726f 7570 2873 656c 662c 2067  lidGroup(self, g
-00001210: 726f 7570 5f69 6429 3a0a 2020 2020 2020  roup_id):.      
-00001220: 2020 6563 203d 2073 656c 662e 6765 7445    ec = self.getE
-00001230: 7665 6e74 436f 6e74 6578 7428 290a 2020  ventContext().  
-00001240: 2020 2020 2020 7265 7475 726e 2065 632e        return ec.
-00001250: 6973 4164 6d69 6e20 6f72 2067 726f 7570  isAdmin or group
-00001260: 5f69 6420 3d3d 202d 3120 6f72 2067 726f  _id == -1 or gro
-00001270: 7570 5f69 6420 696e 2065 632e 6d65 6d62  up_id in ec.memb
-00001280: 6572 4f66 4772 6f75 7073 0a0a 2020 2020  erOfGroups..    
-00001290: 2323 2323 2323 2323 2323 2323 2323 2323  ################
-000012a0: 2323 2323 2323 2323 2323 2323 2323 2323  ################
-000012b0: 2323 2323 2323 2323 2323 2323 2323 0a20  ##############. 
-000012c0: 2020 2023 2020 2020 5365 7373 696f 6e20     #    Session 
-000012d0: 6d65 7468 6f64 7320 2020 2020 2020 2020  methods         
-000012e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000012f0: 230a 0a20 2020 2064 6566 2063 6861 6e67  #..    def chang
-00001300: 6541 6374 6976 6547 726f 7570 2873 656c  eActiveGroup(sel
-00001310: 662c 2067 6964 293a 2020 2320 544f 444f  f, gid):  # TODO
-00001320: 3a20 7368 6f75 6c64 2062 6520 6d6f 7665  : should be move
-00001330: 6420 746f 2049 5365 7373 696f 6e0a 2020  d to ISession.  
-00001340: 2020 2020 2020 2222 220a 2020 2020 2020        """.      
-00001350: 2020 4576 6572 7920 7469 6d65 2073 6573    Every time ses
-00001360: 7369 6f6e 2069 7320 6372 6561 7465 6420  sion is created 
-00001370: 6465 6661 756c 7420 6772 6f75 7020 6265  default group be
-00001380: 636f 6d65 7320 6163 7469 7665 2067 726f  comes active gro
-00001390: 7570 0a20 2020 2020 2020 2061 6e64 2069  up.        and i
-000013a0: 7320 6c6f 6164 6564 2077 6974 6820 7468  s loaded with th
-000013b0: 6520 7365 6375 7269 7479 2066 6f72 2074  e security for t
-000013c0: 6865 2063 7572 7265 6e74 2075 7365 7220  he current user 
-000013d0: 616e 6420 7468 7265 6164 2e0a 2020 2020  and thread..    
-000013e0: 2020 2020 5075 626c 6963 2064 6174 6120      Public data 
-000013f0: 6861 7320 746f 2062 6520 6372 6561 7465  has to be create
-00001400: 6420 696e 2074 6865 2063 6f6e 7465 7874  d in the context
-00001410: 206f 6620 7468 6520 6772 6f75 7020 7768   of the group wh
-00001420: 6572 6520 7573 6572 2c0a 2020 2020 2020  ere user,.      
-00001430: 2020 7768 6f20 776f 756c 6420 6c69 6b65    who would like
-00001440: 2074 6f20 6c6f 6f6b 2061 7420 7468 6573   to look at thes
-00001450: 6520 6461 7461 2c20 6973 2061 206d 656d  e data, is a mem
-00001460: 6265 7220 6f66 2e0a 2020 2020 2020 2020  ber of..        
-00001470: 5075 626c 6963 2064 6174 6120 6361 6e20  Public data can 
-00001480: 6265 206f 6e6c 7920 7669 7369 626c 6520  be only visible 
-00001490: 6279 2074 6865 206d 656d 6265 7220 6f66  by the member of
-000014a0: 2067 726f 7570 2061 6e64 206f 776e 6572   group and owner
-000014b0: 732e 0a0a 2020 2020 2020 2020 4070 6172  s...        @par
-000014c0: 616d 2067 6964 3a20 2020 2020 4e65 7720  am gid:     New 
-000014d0: 6163 7469 7665 2067 726f 7570 2049 440a  active group ID.
-000014e0: 2020 2020 2020 2020 4074 7970 6520 6769          @type gi
-000014f0: 643a 2020 2020 2020 4c6f 6e67 0a0a 2020  d:      Long..  
-00001500: 2020 2020 2020 4072 6574 7572 6e3a 2020        @return:  
-00001510: 2020 2020 2020 426f 6f6c 6561 6e0a 2020        Boolean.  
-00001520: 2020 2020 2020 2222 220a 0a20 2020 2020        """..     
-00001530: 2020 2074 7279 3a0a 2020 2020 2020 2020     try:.        
-00001540: 2020 2020 666f 7220 6b20 696e 2073 656c      for k in sel
-00001550: 662e 5f70 726f 7869 6573 2e6b 6579 7328  f._proxies.keys(
-00001560: 293a 0a20 2020 2020 2020 2020 2020 2020  ):.             
-00001570: 2020 2073 656c 662e 5f70 726f 7869 6573     self._proxies
-00001580: 5b6b 5d2e 636c 6f73 6528 290a 0a20 2020  [k].close()..   
-00001590: 2020 2020 2020 2020 2073 656c 662e 632e           self.c.
-000015a0: 7366 2e73 6574 5365 6375 7269 7479 436f  sf.setSecurityCo
-000015b0: 6e74 6578 7428 4578 7065 7269 6d65 6e74  ntext(Experiment
-000015c0: 6572 4772 6f75 7049 2867 6964 2c20 4661  erGroupI(gid, Fa
-000015d0: 6c73 6529 290a 2020 2020 2020 2020 2020  lse)).          
-000015e0: 2020 7365 6c66 2e67 6574 4164 6d69 6e53    self.getAdminS
-000015f0: 6572 7669 6365 2829 2e73 6574 4465 6661  ervice().setDefa
-00001600: 756c 7447 726f 7570 280a 2020 2020 2020  ultGroup(.      
-00001610: 2020 2020 2020 2020 2020 7365 6c66 2e67            self.g
-00001620: 6574 5573 6572 2829 2e5f 6f62 6a2c 2045  etUser()._obj, E
-00001630: 7870 6572 696d 656e 7465 7247 726f 7570  xperimenterGroup
-00001640: 4928 6769 642c 2046 616c 7365 290a 2020  I(gid, False).  
-00001650: 2020 2020 2020 2020 2020 290a 2020 2020            ).    
-00001660: 2020 2020 2020 2020 7365 6c66 2e5f 6374          self._ct
-00001670: 7820 3d20 7365 6c66 2e67 6574 4164 6d69  x = self.getAdmi
-00001680: 6e53 6572 7669 6365 2829 2e67 6574 4576  nService().getEv
-00001690: 656e 7443 6f6e 7465 7874 2829 0a20 2020  entContext().   
-000016a0: 2020 2020 2020 2020 2072 6574 7572 6e20           return 
-000016b0: 5472 7565 0a20 2020 2020 2020 2065 7863  True.        exc
-000016c0: 6570 7420 6f6d 6572 6f2e 5365 6375 7269  ept omero.Securi
-000016d0: 7479 5669 6f6c 6174 696f 6e3a 0a20 2020  tyViolation:.   
-000016e0: 2020 2020 2020 2020 206c 6f67 6765 722e           logger.
-000016f0: 6572 726f 7228 7472 6163 6562 6163 6b2e  error(traceback.
-00001700: 666f 726d 6174 5f65 7863 2829 290a 2020  format_exc()).  
-00001710: 2020 2020 2020 2020 2020 7265 7475 726e            return
-00001720: 2046 616c 7365 0a20 2020 2020 2020 2065   False.        e
-00001730: 7863 6570 7420 4578 6365 7074 696f 6e3a  xcept Exception:
-00001740: 0a20 2020 2020 2020 2020 2020 206c 6f67  .            log
-00001750: 6765 722e 6572 726f 7228 7472 6163 6562  ger.error(traceb
-00001760: 6163 6b2e 666f 726d 6174 5f65 7863 2829  ack.format_exc()
-00001770: 290a 2020 2020 2020 2020 2020 2020 7265  ).            re
-00001780: 7475 726e 2046 616c 7365 0a0a 2020 2020  turn False..    
-00001790: 6465 6620 6765 744f 7270 6861 6e65 6443  def getOrphanedC
-000017a0: 6f6e 7461 696e 6572 5365 7474 696e 6773  ontainerSettings
-000017b0: 2873 656c 6629 3a0a 2020 2020 2020 2020  (self):.        
-000017c0: 2222 220a 2020 2020 2020 2020 2a2a 2044  """.        ** D
-000017d0: 6570 7265 6361 7465 6420 2a2a 2055 7365  eprecated ** Use
-000017e0: 203a 6d65 7468 3a60 426c 6974 7a47 6174   :meth:`BlitzGat
-000017f0: 6577 6179 2e67 6574 436c 6965 6e74 5365  eway.getClientSe
-00001800: 7474 696e 6773 602e 0a20 2020 2020 2020  ttings`..       
-00001810: 2022 2222 0a20 2020 2020 2020 2077 6172   """.        war
-00001820: 6e69 6e67 732e 7761 726e 280a 2020 2020  nings.warn(.    
-00001830: 2020 2020 2020 2020 2244 6570 7265 6361          "Depreca
-00001840: 7465 642e 2055 7365 2042 6c69 747a 4761  ted. Use BlitzGa
-00001850: 7465 7761 792e 6765 7443 6c69 656e 7453  teway.getClientS
-00001860: 6574 7469 6e67 7328 2922 2c20 4465 7072  ettings()", Depr
-00001870: 6563 6174 696f 6e57 6172 6e69 6e67 0a20  ecationWarning. 
-00001880: 2020 2020 2020 2029 0a20 2020 2020 2020         ).       
-00001890: 206e 616d 6520 3d20 280a 2020 2020 2020   name = (.      
-000018a0: 2020 2020 2020 7365 6c66 2e67 6574 436f        self.getCo
-000018b0: 6e66 6967 5365 7276 6963 6528 292e 6765  nfigService().ge
-000018c0: 7443 6f6e 6669 6756 616c 7565 2822 6f6d  tConfigValue("om
-000018d0: 6572 6f2e 636c 6965 6e74 2e75 692e 7472  ero.client.ui.tr
-000018e0: 6565 2e6f 7270 6861 6e73 2e6e 616d 6522  ee.orphans.name"
-000018f0: 290a 2020 2020 2020 2020 2020 2020 6f72  ).            or
-00001900: 2022 4f72 7068 616e 6564 2069 6d61 6765   "Orphaned image
-00001910: 220a 2020 2020 2020 2020 290a 2020 2020  ".        ).    
-00001920: 2020 2020 6465 7363 7269 7074 696f 6e20      description 
-00001930: 3d20 280a 2020 2020 2020 2020 2020 2020  = (.            
-00001940: 7365 6c66 2e67 6574 436f 6e66 6967 5365  self.getConfigSe
-00001950: 7276 6963 6528 292e 6765 7443 6f6e 6669  rvice().getConfi
-00001960: 6756 616c 7565 280a 2020 2020 2020 2020  gValue(.        
-00001970: 2020 2020 2020 2020 226f 6d65 726f 2e63          "omero.c
-00001980: 6c69 656e 742e 7569 2e74 7265 652e 6f72  lient.ui.tree.or
-00001990: 7068 616e 732e 6465 7363 7269 7074 696f  phans.descriptio
-000019a0: 6e22 0a20 2020 2020 2020 2020 2020 2029  n".            )
-000019b0: 0a20 2020 2020 2020 2020 2020 206f 7220  .            or 
-000019c0: 2254 6869 7320 6973 2061 2076 6972 7475  "This is a virtu
-000019d0: 616c 2063 6f6e 7461 696e 6572 2077 6974  al container wit
-000019e0: 6820 6f72 7068 616e 6564 2069 6d61 6765  h orphaned image
-000019f0: 732e 220a 2020 2020 2020 2020 290a 2020  s.".        ).  
-00001a00: 2020 2020 2020 7265 7475 726e 206e 616d        return nam
-00001a10: 652c 2064 6573 6372 6970 7469 6f6e 0a0a  e, description..
-00001a20: 2020 2020 6465 6620 6765 7444 726f 7064      def getDropd
-00001a30: 6f77 6e4d 656e 7553 6574 7469 6e67 7328  ownMenuSettings(
-00001a40: 7365 6c66 293a 0a20 2020 2020 2020 2022  self):.        "
-00001a50: 2222 0a20 2020 2020 2020 202a 2a20 4465  "".        ** De
-00001a60: 7072 6563 6174 6564 202a 2a20 5573 6520  precated ** Use 
-00001a70: 3a6d 6574 683a 6042 6c69 747a 4761 7465  :meth:`BlitzGate
-00001a80: 7761 792e 6765 7443 6c69 656e 7453 6574  way.getClientSet
-00001a90: 7469 6e67 7360 2e0a 2020 2020 2020 2020  tings`..        
-00001aa0: 2222 220a 2020 2020 2020 2020 7761 726e  """.        warn
-00001ab0: 696e 6773 2e77 6172 6e28 0a20 2020 2020  ings.warn(.     
-00001ac0: 2020 2020 2020 2022 4465 7072 6563 6174         "Deprecat
-00001ad0: 6564 2e20 5573 6520 426c 6974 7a47 6174  ed. Use BlitzGat
-00001ae0: 6577 6179 2e67 6574 436c 6965 6e74 5365  eway.getClientSe
-00001af0: 7474 696e 6773 2829 222c 2044 6570 7265  ttings()", Depre
-00001b00: 6361 7469 6f6e 5761 726e 696e 670a 2020  cationWarning.  
-00001b10: 2020 2020 2020 290a 2020 2020 2020 2020        ).        
-00001b20: 6472 6f70 646f 776e 5f6d 656e 7520 3d20  dropdown_menu = 
-00001b30: 6469 6374 2829 0a20 2020 2020 2020 2069  dict().        i
-00001b40: 6620 746f 426f 6f6c 6561 6e28 0a20 2020  f toBoolean(.   
-00001b50: 2020 2020 2020 2020 2073 656c 662e 6765           self.ge
-00001b60: 7443 6f6e 6669 6753 6572 7669 6365 2829  tConfigService()
-00001b70: 2e67 6574 436f 6e66 6967 5661 6c75 6528  .getConfigValue(
-00001b80: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00001b90: 2022 6f6d 6572 6f2e 636c 6965 6e74 2e75   "omero.client.u
-00001ba0: 692e 6d65 6e75 2e64 726f 7064 6f77 6e2e  i.menu.dropdown.
-00001bb0: 6c65 6164 6572 732e 656e 6162 6c65 6422  leaders.enabled"
-00001bc0: 0a20 2020 2020 2020 2020 2020 2029 0a20  .            ). 
-00001bd0: 2020 2020 2020 2029 3a0a 2020 2020 2020         ):.      
-00001be0: 2020 2020 2020 6472 6f70 646f 776e 5f6d        dropdown_m
-00001bf0: 656e 755b 226c 6561 6465 7273 225d 203d  enu["leaders"] =
-00001c00: 2073 656c 662e 6765 7443 6f6e 6669 6753   self.getConfigS
-00001c10: 6572 7669 6365 2829 2e67 6574 436f 6e66  ervice().getConf
-00001c20: 6967 5661 6c75 6528 0a20 2020 2020 2020  igValue(.       
-00001c30: 2020 2020 2020 2020 2022 6f6d 6572 6f2e           "omero.
-00001c40: 636c 6965 6e74 2e75 692e 6d65 6e75 2e64  client.ui.menu.d
-00001c50: 726f 7064 6f77 6e2e 6c65 6164 6572 7322  ropdown.leaders"
-00001c60: 0a20 2020 2020 2020 2020 2020 2029 0a20  .            ). 
-00001c70: 2020 2020 2020 2069 6620 746f 426f 6f6c         if toBool
-00001c80: 6561 6e28 0a20 2020 2020 2020 2020 2020  ean(.           
-00001c90: 2073 656c 662e 6765 7443 6f6e 6669 6753   self.getConfigS
-00001ca0: 6572 7669 6365 2829 2e67 6574 436f 6e66  ervice().getConf
-00001cb0: 6967 5661 6c75 6528 0a20 2020 2020 2020  igValue(.       
-00001cc0: 2020 2020 2020 2020 2022 6f6d 6572 6f2e           "omero.
-00001cd0: 636c 6965 6e74 2e75 692e 6d65 6e75 2e64  client.ui.menu.d
-00001ce0: 726f 7064 6f77 6e2e 636f 6c6c 6561 6775  ropdown.colleagu
-00001cf0: 6573 2e65 6e61 626c 6564 220a 2020 2020  es.enabled".    
-00001d00: 2020 2020 2020 2020 290a 2020 2020 2020          ).      
-00001d10: 2020 293a 0a20 2020 2020 2020 2020 2020    ):.           
-00001d20: 2064 726f 7064 6f77 6e5f 6d65 6e75 5b22   dropdown_menu["
-00001d30: 636f 6c6c 6561 6775 6573 225d 203d 2073  colleagues"] = s
-00001d40: 656c 662e 6765 7443 6f6e 6669 6753 6572  elf.getConfigSer
-00001d50: 7669 6365 2829 2e67 6574 436f 6e66 6967  vice().getConfig
-00001d60: 5661 6c75 6528 0a20 2020 2020 2020 2020  Value(.         
-00001d70: 2020 2020 2020 2022 6f6d 6572 6f2e 636c         "omero.cl
-00001d80: 6965 6e74 2e75 692e 6d65 6e75 2e64 726f  ient.ui.menu.dro
-00001d90: 7064 6f77 6e2e 636f 6c6c 6561 6775 6573  pdown.colleagues
-00001da0: 220a 2020 2020 2020 2020 2020 2020 290a  ".            ).
-00001db0: 2020 2020 2020 2020 6966 2074 6f42 6f6f          if toBoo
-00001dc0: 6c65 616e 280a 2020 2020 2020 2020 2020  lean(.          
-00001dd0: 2020 7365 6c66 2e67 6574 436f 6e66 6967    self.getConfig
-00001de0: 5365 7276 6963 6528 292e 6765 7443 6f6e  Service().getCon
-00001df0: 6669 6756 616c 7565 280a 2020 2020 2020  figValue(.      
-00001e00: 2020 2020 2020 2020 2020 226f 6d65 726f            "omero
-00001e10: 2e63 6c69 656e 742e 7569 2e6d 656e 752e  .client.ui.menu.
-00001e20: 6472 6f70 646f 776e 2e65 7665 7279 6f6e  dropdown.everyon
-00001e30: 652e 656e 6162 6c65 6422 0a20 2020 2020  e.enabled".     
-00001e40: 2020 2020 2020 2029 0a20 2020 2020 2020         ).       
-00001e50: 2029 3a0a 2020 2020 2020 2020 2020 2020   ):.            
-00001e60: 6472 6f70 646f 776e 5f6d 656e 755b 2265  dropdown_menu["e
-00001e70: 7665 7279 6f6e 6522 5d20 3d20 7365 6c66  veryone"] = self
-00001e80: 2e67 6574 436f 6e66 6967 5365 7276 6963  .getConfigServic
-00001e90: 6528 292e 6765 7443 6f6e 6669 6756 616c  e().getConfigVal
-00001ea0: 7565 280a 2020 2020 2020 2020 2020 2020  ue(.            
-00001eb0: 2020 2020 226f 6d65 726f 2e63 6c69 656e      "omero.clien
-00001ec0: 742e 7569 2e6d 656e 752e 6472 6f70 646f  t.ui.menu.dropdo
-00001ed0: 776e 2e65 7665 7279 6f6e 6522 0a20 2020  wn.everyone".   
-00001ee0: 2020 2020 2020 2020 2029 0a20 2020 2020           ).     
-00001ef0: 2020 2072 6574 7572 6e20 6472 6f70 646f     return dropdo
-00001f00: 776e 5f6d 656e 750a 0a20 2020 2064 6566  wn_menu..    def
-00001f10: 2073 7562 6d69 7444 7279 5275 6e28 7365   submitDryRun(se
-00001f20: 6c66 2c20 6163 7469 6f6e 2c20 7461 7267  lf, action, targ
-00001f30: 6574 4f62 6a65 6374 732c 2074 6172 6765  etObjects, targe
-00001f40: 745f 6964 293a 0a20 2020 2020 2020 2022  t_id):.        "
-00001f50: 2222 0a20 2020 2020 2020 2053 7562 6d69  "".        Submi
-00001f60: 7473 2061 2027 6472 7952 756e 2720 6368  ts a 'dryRun' ch
-00001f70: 6772 7020 6f72 2063 686f 776e 2074 6f20  grp or chown to 
-00001f80: 7465 7374 2066 6f72 206c 696e 6b73 2074  test for links t
-00001f90: 6861 7420 7769 6c6c 2062 7265 616b 2e0a  hat will break..
-00001fa0: 2020 2020 2020 2020 5265 7475 726e 7320          Returns 
-00001fb0: 6120 6861 6e64 6c65 2e0a 0a20 2020 2020  a handle...     
-00001fc0: 2020 203a 7061 7261 6d20 6163 7469 6f6e     :param action
-00001fd0: 3a20 2020 2020 2020 2020 2027 6368 6f77  :          'chow
-00001fe0: 6e27 206f 7220 2763 6867 7270 270a 2020  n' or 'chgrp'.  
-00001ff0: 2020 2020 2020 3a70 6172 616d 2074 6172        :param tar
-00002000: 6765 744f 626a 6563 7473 3a20 2020 4469  getObjects:   Di
-00002010: 6374 206f 6620 6474 7970 653a 205b 6964  ct of dtype: [id
-00002020: 735d 2e20 452e 672e 207b 2744 6174 6173  s]. E.g. {'Datas
-00002030: 6574 273a 205b 312c 325d 7d0a 2020 2020  et': [1,2]}.    
-00002040: 2020 2020 3a70 6172 616d 2074 6172 6765      :param targe
-00002050: 745f 6964 3a20 2020 2020 2020 5468 6520  t_id:       The 
-00002060: 6772 6f75 7020 6f72 206f 776e 6572 2074  group or owner t
-00002070: 6f20 6d6f 7665 2074 6865 2064 6174 6120  o move the data 
-00002080: 746f 2e0a 2020 2020 2020 2020 2222 220a  to..        """.
-00002090: 0a20 2020 2020 2020 2064 6120 3d20 446f  .        da = Do
-000020a0: 416c 6c28 290a 2020 2020 2020 2020 6966  All().        if
-000020b0: 2061 6374 696f 6e20 3d3d 2022 6368 6772   action == "chgr
-000020c0: 7022 3a0a 2020 2020 2020 2020 2020 2020  p":.            
-000020d0: 746f 646f 203d 2043 6867 7270 3228 7461  todo = Chgrp2(ta
-000020e0: 7267 6574 4f62 6a65 6374 733d 7461 7267  rgetObjects=targ
-000020f0: 6574 4f62 6a65 6374 732c 2067 726f 7570  etObjects, group
-00002100: 4964 3d74 6172 6765 745f 6964 290a 2020  Id=target_id).  
-00002110: 2020 2020 2020 656c 6966 2061 6374 696f        elif actio
-00002120: 6e20 3d3d 2022 6368 6f77 6e22 3a0a 2020  n == "chown":.  
-00002130: 2020 2020 2020 2020 2020 746f 646f 203d            todo =
-00002140: 2043 686f 776e 3228 7461 7267 6574 4f62   Chown2(targetOb
-00002150: 6a65 6374 733d 7461 7267 6574 4f62 6a65  jects=targetObje
-00002160: 6374 7329 0a20 2020 2020 2020 2020 2020  cts).           
-00002170: 2074 6f64 6f2e 7573 6572 4964 203d 2074   todo.userId = t
-00002180: 6172 6765 745f 6964 0a20 2020 2020 2020  arget_id.       
-00002190: 2074 6f64 6f2e 6472 7952 756e 203d 2054   todo.dryRun = T
-000021a0: 7275 650a 2020 2020 2020 2020 6461 2e72  rue.        da.r
-000021b0: 6571 7565 7374 7320 3d20 5b74 6f64 6f5d  equests = [todo]
-000021c0: 0a0a 2020 2020 2020 2020 6374 7820 3d20  ..        ctx = 
-000021d0: 7365 6c66 2e53 4552 5649 4345 5f4f 5054  self.SERVICE_OPT
-000021e0: 532e 636f 7079 2829 0a20 2020 2020 2020  S.copy().       
-000021f0: 2070 7278 203d 2073 656c 662e 632e 7366   prx = self.c.sf
-00002200: 2e73 7562 6d69 7428 6461 2c20 6374 7829  .submit(da, ctx)
-00002210: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
-00002220: 7072 780a 0a20 2020 2023 2323 2323 2323  prx..    #######
-00002230: 2323 2323 2323 2323 2323 2323 2323 2323  ################
-00002240: 2323 2323 2323 2323 2323 2323 2323 2323  ################
-00002250: 2323 2323 2323 230a 2020 2020 2320 2020  #######.    #   
-00002260: 4941 646d 696e 2020 2020 2020 2020 2020  IAdmin          
-00002270: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00002280: 2020 2020 2020 2020 2323 0a0a 2020 2020          ##..    
-00002290: 6465 6620 6765 7443 6c69 656e 7453 6574  def getClientSet
-000022a0: 7469 6e67 7328 7365 6c66 293a 0a20 2020  tings(self):.   
-000022b0: 2020 2020 2022 2222 0a20 2020 2020 2020       """.       
-000022c0: 2052 6574 7572 6e73 2061 6c6c 2063 6c69   Returns all cli
-000022d0: 656e 7420 7072 6f70 6572 7469 6573 206d  ent properties m
-000022e0: 6174 6368 696e 6720 6f6d 6572 6f2e 636c  atching omero.cl
-000022f0: 6965 6e74 2e2a 0a20 2020 2020 2020 204c  ient.*.        L
-00002300: 6f63 616c 2063 6f6e 6669 6720 7365 7474  ocal config sett
-00002310: 696e 6773 206f 7665 7272 6964 6520 636c  ings override cl
-00002320: 6965 6e74 2073 6574 7469 6e67 7320 7365  ient settings se
-00002330: 6e74 2062 7920 7468 6520 7365 7276 6572  nt by the server
-00002340: 0a20 2020 2020 2020 2022 2222 0a20 2020  .        """.   
-00002350: 2020 2020 2063 6f6e 6669 676d 6170 203d       configmap =
-00002360: 2073 7570 6572 284f 6d65 726f 5765 6247   super(OmeroWebG
-00002370: 6174 6577 6179 2c20 7365 6c66 292e 6765  ateway, self).ge
-00002380: 7443 6c69 656e 7453 6574 7469 6e67 7328  tClientSettings(
-00002390: 290a 2020 2020 2020 2020 6c6f 6361 6c63  ).        localc
-000023a0: 6667 203d 2073 6574 7469 6e67 732e 434f  fg = settings.CO
-000023b0: 4e46 4947 5f58 4d4c 0a20 2020 2020 2020  NFIG_XML.       
-000023c0: 2066 6f72 206b 6579 2069 6e20 6c6f 6361   for key in loca
-000023d0: 6c63 6667 2e6b 6579 7328 293a 0a20 2020  lcfg.keys():.   
-000023e0: 2020 2020 2020 2020 2069 6620 6b65 792e           if key.
-000023f0: 7374 6172 7473 7769 7468 2822 6f6d 6572  startswith("omer
-00002400: 6f2e 636c 6965 6e74 2e22 293a 0a20 2020  o.client."):.   
-00002410: 2020 2020 2020 2020 2020 2020 2063 6f6e               con
-00002420: 6669 676d 6170 5b6b 6579 5d20 3d20 6c6f  figmap[key] = lo
-00002430: 6361 6c63 6667 5b6b 6579 5d0a 2020 2020  calcfg[key].    
-00002440: 2020 2020 7265 7475 726e 2063 6f6e 6669      return confi
-00002450: 676d 6170 0a0a 2020 2020 6465 6620 6765  gmap..    def ge
-00002460: 7445 6d61 696c 5365 7474 696e 6773 2873  tEmailSettings(s
-00002470: 656c 6629 3a0a 2020 2020 2020 2020 2222  elf):.        ""
-00002480: 220a 2020 2020 2020 2020 5265 7472 6965  ".        Retrie
-00002490: 7665 7320 6120 636f 6e66 6967 7572 6174  ves a configurat
-000024a0: 696f 6e20 7661 6c75 6520 226f 6d65 726f  ion value "omero
-000024b0: 2e6d 6169 6c2e 636f 6e66 6967 2220 6672  .mail.config" fr
-000024c0: 6f6d 2074 6865 2062 6163 6b65 6e64 0a20  om the backend. 
-000024d0: 2020 2020 2020 2073 746f 7265 2e0a 0a20         store... 
-000024e0: 2020 2020 2020 2040 7265 7475 726e 3a20         @return: 
-000024f0: 2020 2020 2020 2053 7472 696e 670a 2020         String.  
-00002500: 2020 2020 2020 2222 220a 0a20 2020 2020        """..     
-00002510: 2020 2063 6f6e 6620 3d20 7365 6c66 2e67     conf = self.g
-00002520: 6574 436f 6e66 6967 5365 7276 6963 6528  etConfigService(
-00002530: 290a 2020 2020 2020 2020 7265 7475 726e  ).        return
-00002540: 2074 6f42 6f6f 6c65 616e 2863 6f6e 662e   toBoolean(conf.
-00002550: 6765 7443 6f6e 6669 6756 616c 7565 2822  getConfigValue("
-00002560: 6f6d 6572 6f2e 6d61 696c 2e63 6f6e 6669  omero.mail.confi
-00002570: 6722 2929 0a0a 2020 2020 6465 6620 6973  g"))..    def is
-00002580: 416e 7974 6869 6e67 4372 6561 7465 6428  AnythingCreated(
-00002590: 7365 6c66 293a 0a20 2020 2020 2020 2022  self):.        "
-000025a0: 2222 0a20 2020 2020 2020 2043 6865 636b  "".        Check
-000025b0: 7320 6966 2061 6e79 206f 6620 7468 6520  s if any of the 
-000025c0: 6578 7065 7269 6d65 6e74 6572 2077 6173  experimenter was
-000025d0: 2063 7265 6174 6564 2062 6566 6f72 650a   created before.
-000025e0: 0a20 2020 2020 2020 2040 7265 7475 726e  .        @return
-000025f0: 3a20 2020 2042 6f6f 6c65 616e 0a20 2020  :    Boolean.   
-00002600: 2020 2020 2022 2222 0a0a 2020 2020 2020       """..      
-00002610: 2020 7120 3d20 7365 6c66 2e67 6574 5175    q = self.getQu
-00002620: 6572 7953 6572 7669 6365 2829 0a20 2020  eryService().   
-00002630: 2020 2020 2070 203d 206f 6d65 726f 2e73       p = omero.s
-00002640: 7973 2e50 6172 616d 6574 6572 7328 290a  ys.Parameters().
-00002650: 2020 2020 2020 2020 702e 6d61 7020 3d20          p.map = 
-00002660: 7b7d 0a20 2020 2020 2020 2070 2e6d 6170  {}.        p.map
-00002670: 5b22 6465 6661 756c 745f 6e61 6d65 7322  ["default_names"
-00002680: 5d20 3d20 726c 6973 7428 0a20 2020 2020  ] = rlist(.     
-00002690: 2020 2020 2020 205b 7273 7472 696e 6728         [rstring(
-000026a0: 2275 7365 7222 292c 2072 7374 7269 6e67  "user"), rstring
-000026b0: 2822 7379 7374 656d 2229 2c20 7273 7472  ("system"), rstr
-000026c0: 696e 6728 2267 7565 7374 2229 5d0a 2020  ing("guest")].  
-000026d0: 2020 2020 2020 290a 2020 2020 2020 2020        ).        
-000026e0: 6620 3d20 6f6d 6572 6f2e 7379 732e 4669  f = omero.sys.Fi
-000026f0: 6c74 6572 2829 0a20 2020 2020 2020 2066  lter().        f
-00002700: 2e6c 696d 6974 203d 2072 696e 7428 3129  .limit = rint(1)
-00002710: 0a20 2020 2020 2020 2070 2e74 6865 4669  .        p.theFi
-00002720: 6c74 6572 203d 2066 0a20 2020 2020 2020  lter = f.       
-00002730: 2073 716c 203d 2028 0a20 2020 2020 2020   sql = (.       
-00002740: 2020 2020 2022 7365 6c65 6374 2067 2066       "select g f
-00002750: 726f 6d20 4578 7065 7269 6d65 6e74 6572  rom Experimenter
-00002760: 4772 6f75 7020 6173 2067 2022 0a20 2020  Group as g ".   
-00002770: 2020 2020 2020 2020 2022 7768 6572 6520           "where 
-00002780: 672e 6e61 6d65 206e 6f74 2069 6e20 283a  g.name not in (:
-00002790: 6465 6661 756c 745f 6e61 6d65 7329 220a  default_names)".
-000027a0: 2020 2020 2020 2020 290a 2020 2020 2020          ).      
-000027b0: 2020 6966 206c 656e 2871 2e66 696e 6441    if len(q.findA
-000027c0: 6c6c 4279 5175 6572 7928 7371 6c2c 2070  llByQuery(sql, p
-000027d0: 2c20 7365 6c66 2e53 4552 5649 4345 5f4f  , self.SERVICE_O
-000027e0: 5054 5329 2920 3e20 303a 0a20 2020 2020  PTS)) > 0:.     
-000027f0: 2020 2020 2020 2072 6574 7572 6e20 4661         return Fa
-00002800: 6c73 650a 2020 2020 2020 2020 7265 7475  lse.        retu
-00002810: 726e 2054 7275 650a 0a20 2020 2064 6566  rn True..    def
-00002820: 206c 6973 744c 6461 7041 7574 6845 7870   listLdapAuthExp
-00002830: 6572 696d 656e 7465 7273 2873 656c 6629  erimenters(self)
-00002840: 3a0a 2020 2020 2020 2020 2222 220a 2020  :.        """.  
-00002850: 2020 2020 2020 4c69 7374 7320 616c 6c20        Lists all 
-00002860: 4944 7320 6f66 2065 7870 6572 696d 656e  IDs of experimen
-00002870: 7465 7273 2077 686f 2061 7265 2061 7574  ters who are aut
-00002880: 6865 6e74 6963 6174 6564 2062 7920 4c44  henticated by LD
-00002890: 4150 0a20 2020 2020 2020 2028 6861 7320  AP.        (has 
-000028a0: 7365 7420 646e 206f 6e20 7061 7373 776f  set dn on passwo
-000028b0: 7264 2074 6162 6c65 292e 0a0a 2020 2020  rd table)...    
-000028c0: 2020 2020 4072 6574 7572 6e3a 2020 2020      @return:    
-000028d0: 4c69 7374 206f 6620 6578 7065 7269 6d65  List of experime
-000028e0: 746e 6572 2049 4473 0a20 2020 2020 2020  tner IDs.       
-000028f0: 2040 7274 7970 653a 2020 2020 204c 7b44   @rtype:     L{D
-00002900: 6963 7420 6f66 2053 7472 696e 673a 204c  ict of String: L
-00002910: 6f6e 677d 0a20 2020 2020 2020 2022 2222  ong}.        """
-00002920: 0a0a 2020 2020 2020 2020 6164 6d69 6e5f  ..        admin_
-00002930: 7365 7276 203d 2073 656c 662e 6765 7441  serv = self.getA
-00002940: 646d 696e 5365 7276 6963 6528 290a 2020  dminService().  
-00002950: 2020 2020 2020 7265 7475 726e 2061 646d        return adm
-00002960: 696e 5f73 6572 762e 6c6f 6f6b 7570 4c64  in_serv.lookupLd
-00002970: 6170 4175 7468 4578 7065 7269 6d65 6e74  apAuthExperiment
-00002980: 6572 7328 290a 0a20 2020 2064 6566 2067  ers()..    def g
-00002990: 6574 4c64 6170 4175 7468 4578 7065 7269  etLdapAuthExperi
-000029a0: 6d65 6e74 6572 2873 656c 662c 2065 6964  menter(self, eid
-000029b0: 293a 0a20 2020 2020 2020 2022 2222 0a20  ):.        """. 
-000029c0: 2020 2020 2020 2052 6574 7572 6e20 444e         Return DN
-000029d0: 206f 6620 7468 6520 7370 6563 6966 6963   of the specific
-000029e0: 2065 7870 6572 696d 656e 7465 7220 6966   experimenter if
-000029f0: 2075 7365 7320 4c44 4150 2061 7574 6865   uses LDAP authe
-00002a00: 6e74 6963 6174 696f 6e0a 2020 2020 2020  ntication.      
-00002a10: 2020 2868 6173 2073 6574 2064 6e20 6f6e    (has set dn on
-00002a20: 2070 6173 7377 6f72 6420 7461 626c 6529   password table)
-00002a30: 206f 7220 4e6f 6e65 2e0a 0a20 2020 2020   or None...     
-00002a40: 2020 2040 7061 7261 6d20 6569 643a 2020     @param eid:  
-00002a50: 2020 2065 7870 6572 696d 656e 7465 7220     experimenter 
-00002a60: 4944 0a20 2020 2020 2020 2040 7479 7065  ID.        @type
-00002a70: 2065 6964 3a20 2020 2020 204c 7b4c 6f6e   eid:      L{Lon
-00002a80: 677d 0a20 2020 2020 2020 2040 7265 7475  g}.        @retu
-00002a90: 726e 3a20 2020 2020 2020 2044 6973 7469  rn:        Disti
-00002aa0: 6e67 7569 7368 6564 204e 616d 650a 2020  nguished Name.  
-00002ab0: 2020 2020 2020 4072 7479 7065 3a20 2020        @rtype:   
-00002ac0: 2020 2020 2020 5374 7269 6e67 0a20 2020        String.   
-00002ad0: 2020 2020 2022 2222 0a0a 2020 2020 2020       """..      
-00002ae0: 2020 6164 6d69 6e5f 7365 7276 203d 2073    admin_serv = s
-00002af0: 656c 662e 6765 7441 646d 696e 5365 7276  elf.getAdminServ
-00002b00: 6963 6528 290a 2020 2020 2020 2020 7265  ice().        re
-00002b10: 7475 726e 2061 646d 696e 5f73 6572 762e  turn admin_serv.
-00002b20: 6c6f 6f6b 7570 4c64 6170 4175 7468 4578  lookupLdapAuthEx
-00002b30: 7065 7269 6d65 6e74 6572 2869 6e74 2865  perimenter(int(e
-00002b40: 6964 2929 0a0a 2020 2020 6465 6620 6765  id))..    def ge
-00002b50: 7445 7870 6572 696d 656e 7465 7273 2873  tExperimenters(s
-00002b60: 656c 6629 3a0a 2020 2020 2020 2020 2222  elf):.        ""
-00002b70: 220a 2020 2020 2020 2020 5265 7475 726e  ".        Return
-00002b80: 2061 6c6c 2065 7870 6572 696d 656e 7465   all experimente
-00002b90: 7273 2061 7061 7274 2066 726f 6d20 6375  rs apart from cu
-00002ba0: 7272 656e 7420 7573 6572 2e0a 0a20 2020  rrent user...   
-00002bb0: 2020 2020 2040 7265 7475 726e 3a20 2020       @return:   
-00002bc0: 2020 2020 2047 656e 6572 6174 6f72 2079       Generator y
-00002bd0: 6965 6c64 696e 6720 6578 7065 7269 6d65  ielding experime
-00002be0: 746e 6572 7320 6c69 7374 0a20 2020 2020  tners list.     
-00002bf0: 2020 2040 7274 7970 653a 2020 2020 2020     @rtype:      
-00002c00: 2020 204c 7b45 7870 6572 696d 656e 7465     L{Experimente
-00002c10: 7257 7261 7070 6572 7d20 6765 6e65 7261  rWrapper} genera
-00002c20: 746f 720a 0a20 2020 2020 2020 2022 2222  tor..        """
-00002c30: 0a0a 2020 2020 2020 2020 7120 3d20 7365  ..        q = se
-00002c40: 6c66 2e67 6574 5175 6572 7953 6572 7669  lf.getQueryServi
-00002c50: 6365 2829 0a20 2020 2020 2020 2070 203d  ce().        p =
-00002c60: 206f 6d65 726f 2e73 7973 2e50 6172 616d   omero.sys.Param
-00002c70: 6574 6572 7328 290a 2020 2020 2020 2020  eters().        
-00002c80: 702e 6d61 7020 3d20 7b7d 0a20 2020 2020  p.map = {}.     
-00002c90: 2020 2070 2e6d 6170 5b22 6964 225d 203d     p.map["id"] =
-00002ca0: 2072 6c6f 6e67 2873 656c 662e 6765 7445   rlong(self.getE
-00002cb0: 7665 6e74 436f 6e74 6578 7428 292e 7573  ventContext().us
-00002cc0: 6572 4964 290a 2020 2020 2020 2020 7371  erId).        sq
-00002cd0: 6c20 3d20 2273 656c 6563 7420 6520 6672  l = "select e fr
-00002ce0: 6f6d 2045 7870 6572 696d 656e 7465 7220  om Experimenter 
-00002cf0: 6173 2065 2077 6865 7265 2065 2e69 6420  as e where e.id 
-00002d00: 213d 203a 6964 2022 0a20 2020 2020 2020  != :id ".       
-00002d10: 2066 6f72 2065 2069 6e20 712e 6669 6e64   for e in q.find
-00002d20: 416c 6c42 7951 7565 7279 2873 716c 2c20  AllByQuery(sql, 
-00002d30: 702c 2073 656c 662e 5345 5256 4943 455f  p, self.SERVICE_
-00002d40: 4f50 5453 293a 0a20 2020 2020 2020 2020  OPTS):.         
-00002d50: 2020 2079 6965 6c64 2045 7870 6572 696d     yield Experim
-00002d60: 656e 7465 7257 7261 7070 6572 2873 656c  enterWrapper(sel
-00002d70: 662c 2065 290a 0a20 2020 2023 2064 6566  f, e)..    # def
-00002d80: 2067 6574 4375 7272 656e 7453 7570 6572   getCurrentSuper
-00002d90: 7669 736f 7228 7365 6c66 293a 0a20 2020  visor(self):.   
-00002da0: 2023 2020 2020 2222 220a 2020 2020 2320   #    """.    # 
-00002db0: 2020 2047 6574 7320 7468 6520 6f77 6e65     Gets the owne
-00002dc0: 7220 6f66 2061 2067 726f 7570 2066 6f72  r of a group for
-00002dd0: 2063 7572 7265 6e74 2075 7365 722e 0a20   current user.. 
-00002de0: 2020 2023 0a20 2020 2023 2020 2020 4072     #.    #    @r
-00002df0: 6574 7572 6e3a 2020 2020 2020 2020 4578  eturn:        Ex
-00002e00: 7065 7269 6d65 6e74 6572 5772 6170 7065  perimenterWrappe
-00002e10: 720a 2020 2020 2320 2020 2022 2222 0a20  r.    #    """. 
-00002e20: 2020 2023 0a20 2020 2023 2020 2020 7020     #.    #    p 
-00002e30: 3d20 6f6d 6572 6f2e 7379 732e 5061 7261  = omero.sys.Para
-00002e40: 6d65 7465 7273 4928 290a 2020 2020 2320  metersI().    # 
-00002e50: 2020 2070 2e6d 6170 203d 207b 7d0a 2020     p.map = {}.  
-00002e60: 2020 2320 2020 2070 2e6d 6170 5b22 6964    #    p.map["id
-00002e70: 225d 203d 2072 6c6f 6e67 2873 656c 662e  "] = rlong(self.
-00002e80: 6765 7445 7665 6e74 436f 6e74 6578 7428  getEventContext(
-00002e90: 292e 6772 6f75 7049 6429 0a20 2020 2023  ).groupId).    #
-00002ea0: 0a20 2020 2023 2020 2020 2320 544f 444f  .    #    # TODO
-00002eb0: 3a20 7468 6572 6520 6361 6e20 6e6f 7720  : there can now 
-00002ec0: 6265 206d 756c 7469 706c 6520 7375 7065  be multiple supe
-00002ed0: 7276 6973 6f72 730a 2020 2020 2320 2020  rvisors.    #   
-00002ee0: 2070 2e70 6167 6528 302c 3129 0a20 2020   p.page(0,1).   
-00002ef0: 2023 2020 2020 7375 7065 7276 6973 6f72   #    supervisor
-00002f00: 203d 2073 656c 662e 6765 7451 7565 7279   = self.getQuery
-00002f10: 5365 7276 6963 6528 292e 6669 6e64 4279  Service().findBy
-00002f20: 5175 6572 7928 5c0a 2020 2020 2320 2020  Query(\.    #   
-00002f30: 2020 2020 2022 2222 7365 6c65 6374 2065       """select e
-00002f40: 2066 726f 6d20 4578 7065 7269 6d65 6e74   from Experiment
-00002f50: 6572 4772 6f75 7020 6173 2067 0a20 2020  erGroup as g.   
-00002f60: 2023 2020 2020 2020 2020 2020 206a 6f69   #           joi
-00002f70: 6e20 672e 6772 6f75 7045 7870 6572 696d  n g.groupExperim
-00002f80: 656e 7465 724d 6170 2061 7320 6d20 6a6f  enterMap as m jo
-00002f90: 696e 206d 2e63 6869 6c64 2061 7320 650a  in m.child as e.
-00002fa0: 2020 2020 2320 2020 2020 2020 2020 2020      #           
-00002fb0: 7768 6572 6520 6d2e 6f77 6e65 7220 3d20  where m.owner = 
-00002fc0: 7472 7565 2061 6e64 2067 2e69 6420 3d20  true and g.id = 
-00002fd0: 3a69 6422 2222 2c20 7029 0a20 2020 2023  :id""", p).    #
-00002fe0: 2020 2020 7265 7475 726e 2045 7870 6572      return Exper
-00002ff0: 696d 656e 7465 7257 7261 7070 6572 2873  imenterWrapper(s
-00003000: 656c 662c 2073 7570 6572 7669 736f 7229  elf, supervisor)
-00003010: 0a20 2020 2023 0a20 2020 2023 2064 6566  .    #.    # def
-00003020: 2067 6574 5363 7269 7074 7769 7468 4465   getScriptwithDe
-00003030: 7461 696c 7328 7365 6c66 2c20 7369 6429  tails(self, sid)
-00003040: 3a0a 2020 2020 2320 2020 2073 6372 6970  :.    #    scrip
-00003050: 745f 7365 7276 203d 2073 656c 662e 6765  t_serv = self.ge
-00003060: 7453 6372 6970 7453 6572 7669 6365 2829  tScriptService()
-00003070: 0a20 2020 2023 2020 2020 7265 7475 726e  .    #    return
-00003080: 2073 6372 6970 745f 7365 7276 2e67 6574   script_serv.get
-00003090: 5363 7269 7074 5769 7468 4465 7461 696c  ScriptWithDetail
-000030a0: 7328 696e 7428 7369 6429 290a 2020 2020  s(int(sid)).    
-000030b0: 230a 2020 2020 2320 6465 6620 6c6f 6f6b  #.    # def look
-000030c0: 7570 5363 7269 7074 7328 7365 6c66 293a  upScripts(self):
-000030d0: 0a20 2020 2023 2020 2020 7363 7269 7074  .    #    script
-000030e0: 5f73 6572 7620 3d20 7365 6c66 2e67 6574  _serv = self.get
-000030f0: 5363 7269 7074 5365 7276 6963 6528 290a  ScriptService().
-00003100: 2020 2020 2320 2020 2072 6574 7572 6e20      #    return 
-00003110: 7363 7269 7074 5f73 6572 762e 6765 7453  script_serv.getS
-00003120: 6372 6970 7473 2829 0a0a 2020 2020 6465  cripts()..    de
-00003130: 6620 6765 7453 6572 7665 7256 6572 7369  f getServerVersi
-00003140: 6f6e 2873 656c 6629 3a0a 2020 2020 2020  on(self):.      
-00003150: 2020 2222 220a 2020 2020 2020 2020 5265    """.        Re
-00003160: 7472 6965 7665 7320 6120 636f 6e66 6967  trieves a config
-00003170: 7572 6174 696f 6e20 7661 6c75 6520 226f  uration value "o
-00003180: 6d65 726f 2e76 6572 7369 6f6e 2220 6672  mero.version" fr
-00003190: 6f6d 2074 6865 2062 6163 6b65 6e64 0a20  om the backend. 
-000031a0: 2020 2020 2020 2073 746f 7265 2e0a 0a20         store... 
-000031b0: 2020 2020 2020 2040 7265 7475 726e 3a20         @return: 
-000031c0: 2020 2020 2020 2053 7472 696e 670a 2020         String.  
-000031d0: 2020 2020 2020 2222 220a 0a20 2020 2020        """..     
-000031e0: 2020 2063 6f6e 6620 3d20 7365 6c66 2e67     conf = self.g
-000031f0: 6574 436f 6e66 6967 5365 7276 6963 6528  etConfigService(
-00003200: 290a 2020 2020 2020 2020 7265 7475 726e  ).        return
-00003210: 2063 6f6e 662e 6765 7443 6f6e 6669 6756   conf.getConfigV
-00003220: 616c 7565 2822 6f6d 6572 6f2e 7665 7273  alue("omero.vers
-00003230: 696f 6e22 290a 0a20 2020 2064 6566 2067  ion")..    def g
-00003240: 6574 5570 6772 6164 6573 5572 6c28 7365  etUpgradesUrl(se
-00003250: 6c66 293a 0a20 2020 2020 2020 2022 2222  lf):.        """
-00003260: 0a20 2020 2020 2020 2052 6574 7269 6576  .        Retriev
-00003270: 6573 2061 2063 6f6e 6669 6775 7261 7469  es a configurati
-00003280: 6f6e 2076 616c 7565 2022 6f6d 6572 6f2e  on value "omero.
-00003290: 7570 6772 6164 6573 2e75 726c 2220 6672  upgrades.url" fr
-000032a0: 6f6d 0a20 2020 2020 2020 2074 6865 2062  om.        the b
-000032b0: 6163 6b65 6e64 2073 746f 7265 2e0a 0a20  ackend store... 
-000032c0: 2020 2020 2020 2040 7265 7475 726e 3a20         @return: 
-000032d0: 2020 2020 2020 2053 7472 696e 670a 2020         String.  
-000032e0: 2020 2020 2020 2222 220a 0a20 2020 2020        """..     
-000032f0: 2020 2063 6f6e 6620 3d20 7365 6c66 2e67     conf = self.g
-00003300: 6574 436f 6e66 6967 5365 7276 6963 6528  etConfigService(
-00003310: 290a 2020 2020 2020 2020 7265 7475 726e  ).        return
-00003320: 2063 6f6e 662e 6765 7443 6f6e 6669 6756   conf.getConfigV
-00003330: 616c 7565 2822 6f6d 6572 6f2e 7570 6772  alue("omero.upgr
-00003340: 6164 6573 2e75 726c 2229 0a0a 2020 2020  ades.url")..    
-00003350: 2323 2323 2323 2323 2323 2323 2323 2323  ################
-00003360: 2323 2323 2323 2323 2323 2323 2323 2323  ################
-00003370: 2323 2323 2323 2323 2323 2323 2323 2323  ################
-00003380: 2323 2323 2323 2323 230a 2020 2020 2320  #########.    # 
-00003390: 2020 4672 6f6d 2042 7261 6d20 6228 646f    From Bram b(do
-000033a0: 7429 6765 7272 6974 7365 6e28 6174 296e  t)gerritsen(at)n
-000033b0: 6b69 2864 6f74 296e 6c20 2020 2020 2020  ki(dot)nl       
-000033c0: 2020 2020 2023 230a 0a20 2020 2064 6566       ##..    def
-000033d0: 2066 696e 6457 656c 6c49 6e50 6c61 7465   findWellInPlate
-000033e0: 2873 656c 662c 2070 6c61 7465 5f6e 616d  (self, plate_nam
-000033f0: 652c 2072 6f77 2c20 636f 6c75 6d6e 293a  e, row, column):
-00003400: 0a20 2020 2020 2020 2071 203d 2073 656c  .        q = sel
-00003410: 662e 6765 7451 7565 7279 5365 7276 6963  f.getQueryServic
-00003420: 6528 290a 2020 2020 2020 2020 7020 3d20  e().        p = 
-00003430: 6f6d 6572 6f2e 7379 732e 5061 7261 6d65  omero.sys.Parame
-00003440: 7465 7273 2829 0a20 2020 2020 2020 2070  ters().        p
-00003450: 2e6d 6170 203d 207b 7d0a 2020 2020 2020  .map = {}.      
-00003460: 2020 702e 6d61 705b 2270 6e61 6d65 225d    p.map["pname"]
-00003470: 203d 2072 7374 7269 6e67 2873 7472 2870   = rstring(str(p
-00003480: 6c61 7465 5f6e 616d 6529 290a 2020 2020  late_name)).    
-00003490: 2020 2020 702e 6d61 705b 2272 6f77 225d      p.map["row"]
-000034a0: 203d 2072 696e 7428 696e 7428 726f 7729   = rint(int(row)
-000034b0: 290a 2020 2020 2020 2020 702e 6d61 705b  ).        p.map[
-000034c0: 2263 6f6c 756d 6e22 5d20 3d20 7269 6e74  "column"] = rint
-000034d0: 2869 6e74 2863 6f6c 756d 6e29 290a 0a20  (int(column)).. 
-000034e0: 2020 2020 2020 2073 716c 203d 2022 2222         sql = """
-000034f0: 7365 6c65 6374 2077 656c 6c20 6672 6f6d  select well from
-00003500: 2057 656c 6c20 6173 2077 656c 6c0a 2020   Well as well.  
-00003510: 2020 2020 2020 2020 2020 2020 6c65 6674              left
-00003520: 206f 7574 6572 206a 6f69 6e20 6665 7463   outer join fetc
-00003530: 6820 7765 6c6c 2e70 6c61 7465 2061 7320  h well.plate as 
-00003540: 7074 0a20 2020 2020 2020 2020 2020 2020  pt.             
-00003550: 206c 6566 7420 6f75 7465 7220 6a6f 696e   left outer join
-00003560: 2066 6574 6368 2077 656c 6c2e 7765 6c6c   fetch well.well
-00003570: 5361 6d70 6c65 7320 6173 2077 730a 2020  Samples as ws.  
-00003580: 2020 2020 2020 2020 2020 2020 696e 6e65              inne
-00003590: 7220 6a6f 696e 2066 6574 6368 2077 732e  r join fetch ws.
-000035a0: 696d 6167 6520 6173 2069 6d67 0a20 2020  image as img.   
-000035b0: 2020 2020 2020 2020 2020 2077 6865 7265             where
-000035c0: 2077 656c 6c2e 706c 6174 652e 6e61 6d65   well.plate.name
-000035d0: 203d 203a 706e 616d 6520 616e 6420 7765   = :pname and we
-000035e0: 6c6c 2e72 6f77 203d 203a 726f 770a 2020  ll.row = :row.  
-000035f0: 2020 2020 2020 2020 2020 2020 616e 6420              and 
-00003600: 7765 6c6c 2e63 6f6c 756d 6e20 3d20 3a63  well.column = :c
-00003610: 6f6c 756d 6e22 2222 0a20 2020 2020 2020  olumn""".       
-00003620: 2077 656c 6c20 3d20 712e 6669 6e64 4279   well = q.findBy
-00003630: 5175 6572 7928 7371 6c2c 2070 2c20 7365  Query(sql, p, se
-00003640: 6c66 2e53 4552 5649 4345 5f4f 5054 5329  lf.SERVICE_OPTS)
-00003650: 0a20 2020 2020 2020 2069 6620 7765 6c6c  .        if well
-00003660: 2069 7320 4e6f 6e65 3a0a 2020 2020 2020   is None:.      
-00003670: 2020 2020 2020 7265 7475 726e 204e 6f6e        return Non
-00003680: 650a 2020 2020 2020 2020 656c 7365 3a0a  e.        else:.
-00003690: 2020 2020 2020 2020 2020 2020 7265 7475              retu
-000036a0: 726e 2057 656c 6c57 7261 7070 6572 2873  rn WellWrapper(s
-000036b0: 656c 662c 2077 656c 6c2c 204e 6f6e 6529  elf, well, None)
-000036c0: 0a0a 2020 2020 2323 2323 2323 2323 2323  ..    ##########
-000036d0: 2323 2323 2323 2323 2323 2323 2323 2323  ################
-000036e0: 2323 2323 2323 2323 2323 2323 2323 2323  ################
-000036f0: 2323 2323 2323 2323 2323 2323 2323 2323  ################
+000003b0: 6f6d 2069 6f20 696d 706f 7274 2042 7974  om io import Byt
+000003c0: 6573 494f 0a69 6d70 6f72 7420 7472 6163  esIO.import trac
+000003d0: 6562 6163 6b0a 696d 706f 7274 206c 6f67  eback.import log
+000003e0: 6769 6e67 0a69 6d70 6f72 7420 7761 726e  ging.import warn
+000003f0: 696e 6773 0a0a 696d 706f 7274 2074 696d  ings..import tim
+00000400: 650a 6672 6f6d 2064 6174 6574 696d 6520  e.from datetime 
+00000410: 696d 706f 7274 2064 6174 6574 696d 650a  import datetime.
+00000420: 0a69 6d70 6f72 7420 4963 650a 696d 706f  .import Ice.impo
+00000430: 7274 206f 6d65 726f 2e67 6174 6577 6179  rt omero.gateway
+00000440: 0a69 6d70 6f72 7420 6f6d 6572 6f2e 7363  .import omero.sc
+00000450: 7269 7074 730a 0a66 726f 6d20 6f6d 6572  ripts..from omer
+00000460: 6f2e 7274 7970 6573 2069 6d70 6f72 7420  o.rtypes import 
+00000470: 7262 6f6f 6c2c 2072 696e 742c 2072 7374  rbool, rint, rst
+00000480: 7269 6e67 2c20 726c 6f6e 672c 2072 6c69  ring, rlong, rli
+00000490: 7374 2c20 7274 696d 652c 2075 6e77 7261  st, rtime, unwra
+000004a0: 700a 6672 6f6d 206f 6d65 726f 2e6d 6f64  p.from omero.mod
+000004b0: 656c 2069 6d70 6f72 7420 4578 7065 7269  el import Experi
+000004c0: 6d65 6e74 6572 492c 2045 7870 6572 696d  menterI, Experim
+000004d0: 656e 7465 7247 726f 7570 490a 6672 6f6d  enterGroupI.from
+000004e0: 206f 6d65 726f 2e63 6d64 2069 6d70 6f72   omero.cmd impor
+000004f0: 7420 4368 6d6f 6432 2c20 4368 6772 7032  t Chmod2, Chgrp2
+00000500: 2c20 446f 416c 6c2c 2043 686f 776e 320a  , DoAll, Chown2.
+00000510: 0a66 726f 6d20 6f6d 6572 6f2e 6761 7465  .from omero.gate
+00000520: 7761 7920 696d 706f 7274 2041 6e6e 6f74  way import Annot
+00000530: 6174 696f 6e57 7261 7070 6572 0a66 726f  ationWrapper.fro
+00000540: 6d20 6f6d 6572 6f2e 6761 7465 7761 7920  m omero.gateway 
+00000550: 696d 706f 7274 204f 6d65 726f 4761 7465  import OmeroGate
+00000560: 7761 7953 6166 6543 616c 6c57 7261 7070  waySafeCallWrapp
+00000570: 6572 0a66 726f 6d20 6f6d 6572 6f2e 6761  er.from omero.ga
+00000580: 7465 7761 7920 696d 706f 7274 2043 6f6d  teway import Com
+00000590: 6d65 6e74 416e 6e6f 7461 7469 6f6e 5772  mentAnnotationWr
+000005a0: 6170 7065 720a 0a66 726f 6d20 6f6d 6572  apper..from omer
+000005b0: 6f2e 6673 2069 6d70 6f72 7420 5452 414e  o.fs import TRAN
+000005c0: 5346 4552 530a 0a66 726f 6d20 6f6d 6572  SFERS..from omer
+000005d0: 6f2e 6761 7465 7761 7920 696d 706f 7274  o.gateway import
+000005e0: 204b 4e4f 574e 5f57 5241 5050 4552 530a   KNOWN_WRAPPERS.
+000005f0: 0a66 726f 6d20 646a 616e 676f 2e75 7469  .from django.uti
+00000600: 6c73 2e65 6e63 6f64 696e 6720 696d 706f  ls.encoding impo
+00000610: 7274 2073 6d61 7274 5f73 7472 0a66 726f  rt smart_str.fro
+00000620: 6d20 646a 616e 676f 2e63 6f6e 6620 696d  m django.conf im
+00000630: 706f 7274 2073 6574 7469 6e67 730a 0a66  port settings..f
+00000640: 726f 6d20 6f6d 6572 6f2e 6761 7465 7761  rom omero.gatewa
+00000650: 792e 7574 696c 7320 696d 706f 7274 2074  y.utils import t
+00000660: 6f42 6f6f 6c65 616e 0a66 726f 6d20 6f6d  oBoolean.from om
+00000670: 6572 6f77 6562 2e77 6562 6761 7465 7761  eroweb.webgatewa
+00000680: 792e 7465 6d70 6c61 7465 7461 6773 2e63  y.templatetags.c
+00000690: 6f6d 6d6f 6e5f 6669 6c74 6572 7320 696d  ommon_filters im
+000006a0: 706f 7274 2028 0a20 2020 206c 656e 6774  port (.    lengt
+000006b0: 6875 6e69 742c 0a20 2020 206c 656e 6774  hunit,.    lengt
+000006c0: 6866 6f72 6d61 742c 0a29 0a0a 4e53 4558  hformat,.)..NSEX
+000006d0: 5045 5249 4d45 4e54 4552 5048 4f54 4f20  PERIMENTERPHOTO 
+000006e0: 3d20 6f6d 6572 6f2e 636f 6e73 7461 6e74  = omero.constant
+000006f0: 732e 6e61 6d65 7370 6163 6573 2e4e 5345  s.namespaces.NSE
+00000700: 5850 4552 494d 454e 5445 5250 484f 544f  XPERIMENTERPHOTO
+00000710: 0a0a 7472 793a 0a20 2020 2069 6d70 6f72  ..try:.    impor
+00000720: 7420 6861 7368 6c69 620a 0a20 2020 2068  t hashlib..    h
+00000730: 6173 685f 7368 6131 203d 2068 6173 686c  ash_sha1 = hashl
+00000740: 6962 2e73 6861 310a 6578 6365 7074 2045  ib.sha1.except E
+00000750: 7863 6570 7469 6f6e 3a0a 2020 2020 696d  xception:.    im
+00000760: 706f 7274 2073 6861 0a0a 2020 2020 6861  port sha..    ha
+00000770: 7368 5f73 6861 3120 3d20 7368 612e 6e65  sh_sha1 = sha.ne
+00000780: 770a 0a6c 6f67 6765 7220 3d20 6c6f 6767  w..logger = logg
+00000790: 696e 672e 6765 744c 6f67 6765 7228 5f5f  ing.getLogger(__
+000007a0: 6e61 6d65 5f5f 290a 0a74 7279 3a0a 2020  name__)..try:.  
+000007b0: 2020 6672 6f6d 2050 494c 2069 6d70 6f72    from PIL impor
+000007c0: 7420 496d 6167 6520 2023 2073 6565 2074  t Image  # see t
+000007d0: 6963 6b65 743a 3235 3937 0a65 7863 6570  icket:2597.excep
+000007e0: 7420 496d 706f 7274 4572 726f 723a 0a20  t ImportError:. 
+000007f0: 2020 2074 7279 3a0a 2020 2020 2020 2020     try:.        
+00000800: 696d 706f 7274 2049 6d61 6765 2020 2320  import Image  # 
+00000810: 7365 6520 7469 636b 6574 3a32 3539 370a  see ticket:2597.
+00000820: 2020 2020 6578 6365 7074 2045 7863 6570      except Excep
+00000830: 7469 6f6e 3a0a 2020 2020 2020 2020 6c6f  tion:.        lo
+00000840: 6767 6572 2e65 7272 6f72 280a 2020 2020  gger.error(.    
+00000850: 2020 2020 2020 2020 2259 6f75 206e 6565          "You nee
+00000860: 6420 746f 2069 6e73 7461 6c6c 2074 6865  d to install the
+00000870: 2050 7974 686f 6e20 496d 6167 696e 6720   Python Imaging 
+00000880: 4c69 6272 6172 792e 2047 6574 2069 7420  Library. Get it 
+00000890: 6174 220a 2020 2020 2020 2020 2020 2020  at".            
+000008a0: 2220 6874 7470 3a2f 2f77 7777 2e70 7974  " http://www.pyt
+000008b0: 686f 6e77 6172 652e 636f 6d2f 7072 6f64  honware.com/prod
+000008c0: 7563 7473 2f70 696c 2f22 0a20 2020 2020  ucts/pil/".     
+000008d0: 2020 2029 0a20 2020 2020 2020 206c 6f67     ).        log
+000008e0: 6765 722e 6572 726f 7228 7472 6163 6562  ger.error(traceb
+000008f0: 6163 6b2e 666f 726d 6174 5f65 7863 2829  ack.format_exc()
+00000900: 290a 0a0a 6465 6620 6465 6661 756c 7454  )...def defaultT
+00000910: 6875 6d62 6e61 696c 2873 697a 653d 2831  humbnail(size=(1
+00000920: 3230 2c20 3132 3029 293a 0a20 2020 2069  20, 120)):.    i
+00000930: 6620 6973 696e 7374 616e 6365 2873 697a  f isinstance(siz
+00000940: 652c 2069 6e74 293a 0a20 2020 2020 2020  e, int):.       
+00000950: 2073 697a 6520 3d20 2873 697a 652c 2073   size = (size, s
+00000960: 697a 6529 0a20 2020 2069 6620 6c65 6e28  ize).    if len(
+00000970: 7369 7a65 2920 3d3d 2031 3a0a 2020 2020  size) == 1:.    
+00000980: 2020 2020 7369 7a65 203d 2028 7369 7a65      size = (size
+00000990: 5b30 5d2c 2073 697a 655b 305d 290a 2020  [0], size[0]).  
+000009a0: 2020 696d 6720 3d20 496d 6167 652e 6f70    img = Image.op
+000009b0: 656e 2873 6574 7469 6e67 732e 4445 4641  en(settings.DEFA
+000009c0: 554c 545f 494d 4729 0a20 2020 2069 6d67  ULT_IMG).    img
+000009d0: 2e74 6875 6d62 6e61 696c 2873 697a 652c  .thumbnail(size,
+000009e0: 2049 6d61 6765 2e41 4e54 4941 4c49 4153   Image.ANTIALIAS
+000009f0: 290a 2020 2020 6620 3d20 4279 7465 7349  ).    f = BytesI
+00000a00: 4f28 290a 2020 2020 696d 672e 7361 7665  O().    img.save
+00000a10: 2866 2c20 2250 4e47 2229 0a20 2020 2066  (f, "PNG").    f
+00000a20: 2e73 6565 6b28 3029 0a20 2020 2072 6574  .seek(0).    ret
+00000a30: 7572 6e20 662e 7265 6164 2829 0a0a 0a63  urn f.read()...c
+00000a40: 6c61 7373 204f 6d65 726f 5765 6247 6174  lass OmeroWebGat
+00000a50: 6577 6179 286f 6d65 726f 2e67 6174 6577  eway(omero.gatew
+00000a60: 6179 2e42 6c69 747a 4761 7465 7761 7929  ay.BlitzGateway)
+00000a70: 3a0a 2020 2020 6465 6620 5f5f 696e 6974  :.    def __init
+00000a80: 5f5f 2873 656c 662c 202a 6172 6773 2c20  __(self, *args, 
+00000a90: 2a2a 6b77 6172 6773 293a 0a20 2020 2020  **kwargs):.     
+00000aa0: 2020 2022 2222 0a20 2020 2020 2020 2043     """.        C
+00000ab0: 7265 6174 6520 7468 6520 636f 6e6e 6563  reate the connec
+00000ac0: 7469 6f6e 2077 7261 7070 6572 2e20 446f  tion wrapper. Do
+00000ad0: 6573 206e 6f74 2061 7474 656d 7074 2074  es not attempt t
+00000ae0: 6f20 636f 6e6e 6563 7420 6174 2074 6869  o connect at thi
+00000af0: 730a 2020 2020 2020 2020 7374 6167 650a  s.        stage.
+00000b00: 2020 2020 2020 2020 496e 6974 6961 6c69          Initiali
+00000b10: 7365 7320 7468 6520 6f6d 6572 6f2e 636c  ses the omero.cl
+00000b20: 6965 6e74 0a0a 2020 2020 2020 2020 4070  ient..        @p
+00000b30: 6172 616d 2075 7365 726e 616d 653a 2020  aram username:  
+00000b40: 2020 5573 6572 206e 616d 652e 2049 6620    User name. If 
+00000b50: 6e6f 7420 7370 6563 6966 6965 642c 2075  not specified, u
+00000b60: 7365 0a20 2020 2020 2020 2020 2020 2020  se.             
+00000b70: 2020 2020 2020 2020 2020 2020 2020 2027                 '
+00000b80: 6f6d 6572 6f2e 6761 7465 7761 792e 616e  omero.gateway.an
+00000b90: 6f6e 5f75 7365 7227 0a20 2020 2020 2020  on_user'.       
+00000ba0: 2040 7479 7065 2075 7365 726e 616d 653a   @type username:
+00000bb0: 2020 2020 2053 7472 696e 670a 2020 2020       String.    
+00000bc0: 2020 2020 4070 6172 616d 2070 6173 7377      @param passw
+00000bd0: 643a 2020 2020 2020 5061 7373 776f 7264  d:      Password
+00000be0: 2e0a 2020 2020 2020 2020 4074 7970 6520  ..        @type 
+00000bf0: 7061 7373 7764 3a20 2020 2020 2020 5374  passwd:       St
+00000c00: 7269 6e67 0a20 2020 2020 2020 2040 7061  ring.        @pa
+00000c10: 7261 6d20 636c 6965 6e74 5f6f 626a 3a20  ram client_obj: 
+00000c20: 206f 6d65 726f 2e63 6c69 656e 740a 2020   omero.client.  
+00000c30: 2020 2020 2020 4070 6172 616d 2067 726f        @param gro
+00000c40: 7570 3a20 2020 2020 2020 6e61 6d65 206f  up:       name o
+00000c50: 6620 6772 6f75 7020 746f 2074 7279 2074  f group to try t
+00000c60: 6f20 636f 6e6e 6563 7420 746f 0a20 2020  o connect to.   
+00000c70: 2020 2020 2040 7479 7065 2067 726f 7570       @type group
+00000c80: 3a20 2020 2020 2020 2053 7472 696e 670a  :        String.
+00000c90: 2020 2020 2020 2020 4070 6172 616d 2063          @param c
+00000ca0: 6c6f 6e65 3a20 2020 2020 2020 4966 2054  lone:       If T
+00000cb0: 7275 652c 206f 7665 7277 7269 7465 2061  rue, overwrite a
+00000cc0: 6e6f 6e79 6d6f 7573 2077 6974 6820 4661  nonymous with Fa
+00000cd0: 6c73 650a 2020 2020 2020 2020 4074 7970  lse.        @typ
+00000ce0: 6520 636c 6f6e 653a 2020 2020 2020 2020  e clone:        
+00000cf0: 426f 6f6c 6561 6e0a 2020 2020 2020 2020  Boolean.        
+00000d00: 4070 6172 616d 2074 7279 5f73 7570 6572  @param try_super
+00000d10: 3a20 2020 5472 7920 746f 206c 6f67 206f  :   Try to log o
+00000d20: 6e20 6173 2073 7570 6572 2075 7365 7220  n as super user 
+00000d30: 2827 7379 7374 656d 2720 6772 6f75 7029  ('system' group)
+00000d40: 0a20 2020 2020 2020 2040 7479 7065 2074  .        @type t
+00000d50: 7279 5f73 7570 6572 3a20 2020 2042 6f6f  ry_super:    Boo
+00000d60: 6c65 616e 0a20 2020 2020 2020 2040 7061  lean.        @pa
+00000d70: 7261 6d20 686f 7374 3a20 2020 2020 2020  ram host:       
+00000d80: 204f 6d65 726f 2073 6572 7665 7220 686f   Omero server ho
+00000d90: 7374 2e0a 2020 2020 2020 2020 4074 7970  st..        @typ
+00000da0: 6520 686f 7374 3a20 2020 2020 2020 2020  e host:         
+00000db0: 5374 7269 6e67 0a20 2020 2020 2020 2040  String.        @
+00000dc0: 7061 7261 6d20 706f 7274 3a20 2020 2020  param port:     
+00000dd0: 2020 204f 6d65 726f 2073 6572 7665 7220     Omero server 
+00000de0: 706f 7274 2e0a 2020 2020 2020 2020 4074  port..        @t
+00000df0: 7970 6520 706f 7274 3a20 2020 2020 2020  ype port:       
+00000e00: 2020 496e 7465 6765 720a 2020 2020 2020    Integer.      
+00000e10: 2020 4070 6172 616d 2065 7874 7261 5f63    @param extra_c
+00000e20: 6f6e 6669 673a 2020 2020 4469 6374 696f  onfig:    Dictio
+00000e30: 6e61 7279 206f 6620 6578 7472 6120 636f  nary of extra co
+00000e40: 6e66 6967 7572 6174 696f 6e0a 2020 2020  nfiguration.    
+00000e50: 2020 2020 4074 7970 6520 6578 7472 615f      @type extra_
+00000e60: 636f 6e66 6967 3a20 2020 2020 4469 6374  config:     Dict
+00000e70: 0a20 2020 2020 2020 2040 7061 7261 6d20  .        @param 
+00000e80: 7365 6375 7265 3a20 2020 2020 2049 6e69  secure:      Ini
+00000e90: 7469 616c 2075 6e64 6572 6c79 696e 6720  tial underlying 
+00000ea0: 6f6d 6572 6f2e 636c 6965 6e74 2063 6f6e  omero.client con
+00000eb0: 6e65 6374 696f 6e20 7479 7065 0a20 2020  nection type.   
+00000ec0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000ed0: 2020 2020 2020 2020 2028 5472 7565 3d53           (True=S
+00000ee0: 534c 2f46 616c 7365 3d69 6e73 6563 7572  SL/False=insecur
+00000ef0: 6529 0a20 2020 2020 2020 2040 7479 7065  e).        @type
+00000f00: 2073 6563 7572 653a 2020 2020 2020 2042   secure:       B
+00000f10: 6f6f 6c65 616e 0a20 2020 2020 2020 2040  oolean.        @
+00000f20: 7061 7261 6d20 616e 6f6e 796d 6f75 733a  param anonymous:
+00000f30: 0a20 2020 2020 2020 2040 7479 7065 2061  .        @type a
+00000f40: 6e6f 6e79 6d6f 7573 3a20 2020 2042 6f6f  nonymous:    Boo
+00000f50: 6c65 616e 0a20 2020 2020 2020 2040 7061  lean.        @pa
+00000f60: 7261 6d20 7573 6572 6167 656e 743a 2020  ram useragent:  
+00000f70: 204c 6f67 2077 6869 6368 2070 7974 686f   Log which pytho
+00000f80: 6e20 636c 6965 6e74 7320 7573 6520 7468  n clients use th
+00000f90: 6973 2063 6f6e 6e65 6374 696f 6e2e 2045  is connection. E
+00000fa0: 2e67 2e0a 2020 2020 2020 2020 2020 2020  .g..            
+00000fb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00000fc0: 274f 4d45 524f 2e77 6562 6164 6d69 6e27  'OMERO.webadmin'
+00000fd0: 0a20 2020 2020 2020 2040 7479 7065 2075  .        @type u
+00000fe0: 7365 7261 6765 6e74 3a20 2020 2053 7472  seragent:    Str
+00000ff0: 696e 670a 0a20 2020 2020 2020 2040 7061  ing..        @pa
+00001000: 7261 6d20 5f73 6861 7265 4964 3a20 2020  ram _shareId:   
+00001010: 2041 6374 6976 6520 7368 6172 6520 4944   Active share ID
+00001020: 0a20 2020 2020 2020 2040 7479 7065 205f  .        @type _
+00001030: 7368 6172 6549 643a 2020 2020 204c 6f6e  shareId:     Lon
+00001040: 670a 2020 2020 2020 2020 2222 220a 0a20  g.        """.. 
+00001050: 2020 2020 2020 2073 7570 6572 284f 6d65         super(Ome
+00001060: 726f 5765 6247 6174 6577 6179 2c20 7365  roWebGateway, se
+00001070: 6c66 292e 5f5f 696e 6974 5f5f 282a 6172  lf).__init__(*ar
+00001080: 6773 2c20 2a2a 6b77 6172 6773 290a 2020  gs, **kwargs).  
+00001090: 2020 2020 2020 7365 6c66 2e5f 7368 6172        self._shar
+000010a0: 6549 6420 3d20 4e6f 6e65 0a0a 2020 2020  eId = None..    
+000010b0: 6465 6620 6765 7453 6861 7265 4964 2873  def getShareId(s
+000010c0: 656c 6629 3a0a 2020 2020 2020 2020 2222  elf):.        ""
+000010d0: 220a 2020 2020 2020 2020 5265 7475 726e  ".        Return
+000010e0: 7320 6163 7469 7665 2073 6861 7265 2069  s active share i
+000010f0: 6420 2e0a 0a20 2020 2020 2020 2040 7265  d ...        @re
+00001100: 7475 726e 3a20 2020 2053 6861 7265 2049  turn:    Share I
+00001110: 440a 2020 2020 2020 2020 4072 7479 7065  D.        @rtype
+00001120: 3a20 2020 2020 4c6f 6e67 0a20 2020 2020  :     Long.     
+00001130: 2020 2022 2222 0a0a 2020 2020 2020 2020     """..        
+00001140: 6966 2073 656c 662e 6765 7445 7665 6e74  if self.getEvent
+00001150: 436f 6e74 6578 7428 292e 7368 6172 6549  Context().shareI
+00001160: 6420 6973 206e 6f74 204e 6f6e 653a 0a20  d is not None:. 
+00001170: 2020 2020 2020 2020 2020 2069 6620 7365             if se
+00001180: 6c66 2e67 6574 4576 656e 7443 6f6e 7465  lf.getEventConte
+00001190: 7874 2829 2e73 6861 7265 4964 2021 3d20  xt().shareId != 
+000011a0: 7365 6c66 2e5f 7368 6172 6549 6420 616e  self._shareId an
+000011b0: 6420 7365 6c66 2e5f 7368 6172 6549 6420  d self._shareId 
+000011c0: 3e20 303a 0a20 2020 2020 2020 2020 2020  > 0:.           
+000011d0: 2020 2020 2073 656c 662e 5f73 6861 7265       self._share
+000011e0: 4964 203d 2073 656c 662e 6765 7445 7665  Id = self.getEve
+000011f0: 6e74 436f 6e74 6578 7428 292e 7368 6172  ntContext().shar
+00001200: 6549 640a 2020 2020 2020 2020 7265 7475  eId.        retu
+00001210: 726e 2073 656c 662e 5f73 6861 7265 4964  rn self._shareId
+00001220: 0a0a 2020 2020 6465 6620 6973 5661 6c69  ..    def isVali
+00001230: 6447 726f 7570 2873 656c 662c 2067 726f  dGroup(self, gro
+00001240: 7570 5f69 6429 3a0a 2020 2020 2020 2020  up_id):.        
+00001250: 6563 203d 2073 656c 662e 6765 7445 7665  ec = self.getEve
+00001260: 6e74 436f 6e74 6578 7428 290a 2020 2020  ntContext().    
+00001270: 2020 2020 7265 7475 726e 2065 632e 6973      return ec.is
+00001280: 4164 6d69 6e20 6f72 2067 726f 7570 5f69  Admin or group_i
+00001290: 6420 3d3d 202d 3120 6f72 2067 726f 7570  d == -1 or group
+000012a0: 5f69 6420 696e 2065 632e 6d65 6d62 6572  _id in ec.member
+000012b0: 4f66 4772 6f75 7073 0a0a 2020 2020 2323  OfGroups..    ##
+000012c0: 2323 2323 2323 2323 2323 2323 2323 2323  ################
+000012d0: 2323 2323 2323 2323 2323 2323 2323 2323  ################
+000012e0: 2323 2323 2323 2323 2323 2323 0a20 2020  ############.   
+000012f0: 2023 2020 2020 5365 7373 696f 6e20 6d65   #    Session me
+00001300: 7468 6f64 7320 2020 2020 2020 2020 2020  thods           
+00001310: 2020 2020 2020 2020 2020 2020 2020 230a                #.
+00001320: 0a20 2020 2064 6566 2063 6861 6e67 6541  .    def changeA
+00001330: 6374 6976 6547 726f 7570 2873 656c 662c  ctiveGroup(self,
+00001340: 2067 6964 293a 2020 2320 544f 444f 3a20   gid):  # TODO: 
+00001350: 7368 6f75 6c64 2062 6520 6d6f 7665 6420  should be moved 
+00001360: 746f 2049 5365 7373 696f 6e0a 2020 2020  to ISession.    
+00001370: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
+00001380: 4576 6572 7920 7469 6d65 2073 6573 7369  Every time sessi
+00001390: 6f6e 2069 7320 6372 6561 7465 6420 6465  on is created de
+000013a0: 6661 756c 7420 6772 6f75 7020 6265 636f  fault group beco
+000013b0: 6d65 7320 6163 7469 7665 2067 726f 7570  mes active group
+000013c0: 0a20 2020 2020 2020 2061 6e64 2069 7320  .        and is 
+000013d0: 6c6f 6164 6564 2077 6974 6820 7468 6520  loaded with the 
+000013e0: 7365 6375 7269 7479 2066 6f72 2074 6865  security for the
+000013f0: 2063 7572 7265 6e74 2075 7365 7220 616e   current user an
+00001400: 6420 7468 7265 6164 2e0a 2020 2020 2020  d thread..      
+00001410: 2020 5075 626c 6963 2064 6174 6120 6861    Public data ha
+00001420: 7320 746f 2062 6520 6372 6561 7465 6420  s to be created 
+00001430: 696e 2074 6865 2063 6f6e 7465 7874 206f  in the context o
+00001440: 6620 7468 6520 6772 6f75 7020 7768 6572  f the group wher
+00001450: 6520 7573 6572 2c0a 2020 2020 2020 2020  e user,.        
+00001460: 7768 6f20 776f 756c 6420 6c69 6b65 2074  who would like t
+00001470: 6f20 6c6f 6f6b 2061 7420 7468 6573 6520  o look at these 
+00001480: 6461 7461 2c20 6973 2061 206d 656d 6265  data, is a membe
+00001490: 7220 6f66 2e0a 2020 2020 2020 2020 5075  r of..        Pu
+000014a0: 626c 6963 2064 6174 6120 6361 6e20 6265  blic data can be
+000014b0: 206f 6e6c 7920 7669 7369 626c 6520 6279   only visible by
+000014c0: 2074 6865 206d 656d 6265 7220 6f66 2067   the member of g
+000014d0: 726f 7570 2061 6e64 206f 776e 6572 732e  roup and owners.
+000014e0: 0a0a 2020 2020 2020 2020 4070 6172 616d  ..        @param
+000014f0: 2067 6964 3a20 2020 2020 4e65 7720 6163   gid:     New ac
+00001500: 7469 7665 2067 726f 7570 2049 440a 2020  tive group ID.  
+00001510: 2020 2020 2020 4074 7970 6520 6769 643a        @type gid:
+00001520: 2020 2020 2020 4c6f 6e67 0a0a 2020 2020        Long..    
+00001530: 2020 2020 4072 6574 7572 6e3a 2020 2020      @return:    
+00001540: 2020 2020 426f 6f6c 6561 6e0a 2020 2020      Boolean.    
+00001550: 2020 2020 2222 220a 0a20 2020 2020 2020      """..       
+00001560: 2074 7279 3a0a 2020 2020 2020 2020 2020   try:.          
+00001570: 2020 666f 7220 6b20 696e 2073 656c 662e    for k in self.
+00001580: 5f70 726f 7869 6573 2e6b 6579 7328 293a  _proxies.keys():
+00001590: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+000015a0: 2073 656c 662e 5f70 726f 7869 6573 5b6b   self._proxies[k
+000015b0: 5d2e 636c 6f73 6528 290a 0a20 2020 2020  ].close()..     
+000015c0: 2020 2020 2020 2073 656c 662e 632e 7366         self.c.sf
+000015d0: 2e73 6574 5365 6375 7269 7479 436f 6e74  .setSecurityCont
+000015e0: 6578 7428 4578 7065 7269 6d65 6e74 6572  ext(Experimenter
+000015f0: 4772 6f75 7049 2867 6964 2c20 4661 6c73  GroupI(gid, Fals
+00001600: 6529 290a 2020 2020 2020 2020 2020 2020  e)).            
+00001610: 7365 6c66 2e67 6574 4164 6d69 6e53 6572  self.getAdminSer
+00001620: 7669 6365 2829 2e73 6574 4465 6661 756c  vice().setDefaul
+00001630: 7447 726f 7570 280a 2020 2020 2020 2020  tGroup(.        
+00001640: 2020 2020 2020 2020 7365 6c66 2e67 6574          self.get
+00001650: 5573 6572 2829 2e5f 6f62 6a2c 2045 7870  User()._obj, Exp
+00001660: 6572 696d 656e 7465 7247 726f 7570 4928  erimenterGroupI(
+00001670: 6769 642c 2046 616c 7365 290a 2020 2020  gid, False).    
+00001680: 2020 2020 2020 2020 290a 2020 2020 2020          ).      
+00001690: 2020 2020 2020 7365 6c66 2e5f 6374 7820        self._ctx 
+000016a0: 3d20 7365 6c66 2e67 6574 4164 6d69 6e53  = self.getAdminS
+000016b0: 6572 7669 6365 2829 2e67 6574 4576 656e  ervice().getEven
+000016c0: 7443 6f6e 7465 7874 2829 0a20 2020 2020  tContext().     
+000016d0: 2020 2020 2020 2072 6574 7572 6e20 5472         return Tr
+000016e0: 7565 0a20 2020 2020 2020 2065 7863 6570  ue.        excep
+000016f0: 7420 6f6d 6572 6f2e 5365 6375 7269 7479  t omero.Security
+00001700: 5669 6f6c 6174 696f 6e3a 0a20 2020 2020  Violation:.     
+00001710: 2020 2020 2020 206c 6f67 6765 722e 6572         logger.er
+00001720: 726f 7228 7472 6163 6562 6163 6b2e 666f  ror(traceback.fo
+00001730: 726d 6174 5f65 7863 2829 290a 2020 2020  rmat_exc()).    
+00001740: 2020 2020 2020 2020 7265 7475 726e 2046          return F
+00001750: 616c 7365 0a20 2020 2020 2020 2065 7863  alse.        exc
+00001760: 6570 7420 4578 6365 7074 696f 6e3a 0a20  ept Exception:. 
+00001770: 2020 2020 2020 2020 2020 206c 6f67 6765             logge
+00001780: 722e 6572 726f 7228 7472 6163 6562 6163  r.error(tracebac
+00001790: 6b2e 666f 726d 6174 5f65 7863 2829 290a  k.format_exc()).
+000017a0: 2020 2020 2020 2020 2020 2020 7265 7475              retu
+000017b0: 726e 2046 616c 7365 0a0a 2020 2020 6465  rn False..    de
+000017c0: 6620 6765 744f 7270 6861 6e65 6443 6f6e  f getOrphanedCon
+000017d0: 7461 696e 6572 5365 7474 696e 6773 2873  tainerSettings(s
+000017e0: 656c 6629 3a0a 2020 2020 2020 2020 2222  elf):.        ""
+000017f0: 220a 2020 2020 2020 2020 2a2a 2044 6570  ".        ** Dep
+00001800: 7265 6361 7465 6420 2a2a 2055 7365 203a  recated ** Use :
+00001810: 6d65 7468 3a60 426c 6974 7a47 6174 6577  meth:`BlitzGatew
+00001820: 6179 2e67 6574 436c 6965 6e74 5365 7474  ay.getClientSett
+00001830: 696e 6773 602e 0a20 2020 2020 2020 2022  ings`..        "
+00001840: 2222 0a20 2020 2020 2020 2077 6172 6e69  "".        warni
+00001850: 6e67 732e 7761 726e 280a 2020 2020 2020  ngs.warn(.      
+00001860: 2020 2020 2020 2244 6570 7265 6361 7465        "Deprecate
+00001870: 642e 2055 7365 2042 6c69 747a 4761 7465  d. Use BlitzGate
+00001880: 7761 792e 6765 7443 6c69 656e 7453 6574  way.getClientSet
+00001890: 7469 6e67 7328 2922 2c20 4465 7072 6563  tings()", Deprec
+000018a0: 6174 696f 6e57 6172 6e69 6e67 0a20 2020  ationWarning.   
+000018b0: 2020 2020 2029 0a20 2020 2020 2020 206e       ).        n
+000018c0: 616d 6520 3d20 280a 2020 2020 2020 2020  ame = (.        
+000018d0: 2020 2020 7365 6c66 2e67 6574 436f 6e66      self.getConf
+000018e0: 6967 5365 7276 6963 6528 292e 6765 7443  igService().getC
+000018f0: 6f6e 6669 6756 616c 7565 2822 6f6d 6572  onfigValue("omer
+00001900: 6f2e 636c 6965 6e74 2e75 692e 7472 6565  o.client.ui.tree
+00001910: 2e6f 7270 6861 6e73 2e6e 616d 6522 290a  .orphans.name").
+00001920: 2020 2020 2020 2020 2020 2020 6f72 2022              or "
+00001930: 4f72 7068 616e 6564 2069 6d61 6765 220a  Orphaned image".
+00001940: 2020 2020 2020 2020 290a 2020 2020 2020          ).      
+00001950: 2020 6465 7363 7269 7074 696f 6e20 3d20    description = 
+00001960: 280a 2020 2020 2020 2020 2020 2020 7365  (.            se
+00001970: 6c66 2e67 6574 436f 6e66 6967 5365 7276  lf.getConfigServ
+00001980: 6963 6528 292e 6765 7443 6f6e 6669 6756  ice().getConfigV
+00001990: 616c 7565 280a 2020 2020 2020 2020 2020  alue(.          
+000019a0: 2020 2020 2020 226f 6d65 726f 2e63 6c69        "omero.cli
+000019b0: 656e 742e 7569 2e74 7265 652e 6f72 7068  ent.ui.tree.orph
+000019c0: 616e 732e 6465 7363 7269 7074 696f 6e22  ans.description"
+000019d0: 0a20 2020 2020 2020 2020 2020 2029 0a20  .            ). 
+000019e0: 2020 2020 2020 2020 2020 206f 7220 2254             or "T
+000019f0: 6869 7320 6973 2061 2076 6972 7475 616c  his is a virtual
+00001a00: 2063 6f6e 7461 696e 6572 2077 6974 6820   container with 
+00001a10: 6f72 7068 616e 6564 2069 6d61 6765 732e  orphaned images.
+00001a20: 220a 2020 2020 2020 2020 290a 2020 2020  ".        ).    
+00001a30: 2020 2020 7265 7475 726e 206e 616d 652c      return name,
+00001a40: 2064 6573 6372 6970 7469 6f6e 0a0a 2020   description..  
+00001a50: 2020 6465 6620 6765 7444 726f 7064 6f77    def getDropdow
+00001a60: 6e4d 656e 7553 6574 7469 6e67 7328 7365  nMenuSettings(se
+00001a70: 6c66 293a 0a20 2020 2020 2020 2022 2222  lf):.        """
+00001a80: 0a20 2020 2020 2020 202a 2a20 4465 7072  .        ** Depr
+00001a90: 6563 6174 6564 202a 2a20 5573 6520 3a6d  ecated ** Use :m
+00001aa0: 6574 683a 6042 6c69 747a 4761 7465 7761  eth:`BlitzGatewa
+00001ab0: 792e 6765 7443 6c69 656e 7453 6574 7469  y.getClientSetti
+00001ac0: 6e67 7360 2e0a 2020 2020 2020 2020 2222  ngs`..        ""
+00001ad0: 220a 2020 2020 2020 2020 7761 726e 696e  ".        warnin
+00001ae0: 6773 2e77 6172 6e28 0a20 2020 2020 2020  gs.warn(.       
+00001af0: 2020 2020 2022 4465 7072 6563 6174 6564       "Deprecated
+00001b00: 2e20 5573 6520 426c 6974 7a47 6174 6577  . Use BlitzGatew
+00001b10: 6179 2e67 6574 436c 6965 6e74 5365 7474  ay.getClientSett
+00001b20: 696e 6773 2829 222c 2044 6570 7265 6361  ings()", Depreca
+00001b30: 7469 6f6e 5761 726e 696e 670a 2020 2020  tionWarning.    
+00001b40: 2020 2020 290a 2020 2020 2020 2020 6472      ).        dr
+00001b50: 6f70 646f 776e 5f6d 656e 7520 3d20 6469  opdown_menu = di
+00001b60: 6374 2829 0a20 2020 2020 2020 2069 6620  ct().        if 
+00001b70: 746f 426f 6f6c 6561 6e28 0a20 2020 2020  toBoolean(.     
+00001b80: 2020 2020 2020 2073 656c 662e 6765 7443         self.getC
+00001b90: 6f6e 6669 6753 6572 7669 6365 2829 2e67  onfigService().g
+00001ba0: 6574 436f 6e66 6967 5661 6c75 6528 0a20  etConfigValue(. 
+00001bb0: 2020 2020 2020 2020 2020 2020 2020 2022                 "
+00001bc0: 6f6d 6572 6f2e 636c 6965 6e74 2e75 692e  omero.client.ui.
+00001bd0: 6d65 6e75 2e64 726f 7064 6f77 6e2e 6c65  menu.dropdown.le
+00001be0: 6164 6572 732e 656e 6162 6c65 6422 0a20  aders.enabled". 
+00001bf0: 2020 2020 2020 2020 2020 2029 0a20 2020             ).   
+00001c00: 2020 2020 2029 3a0a 2020 2020 2020 2020       ):.        
+00001c10: 2020 2020 6472 6f70 646f 776e 5f6d 656e      dropdown_men
+00001c20: 755b 226c 6561 6465 7273 225d 203d 2073  u["leaders"] = s
+00001c30: 656c 662e 6765 7443 6f6e 6669 6753 6572  elf.getConfigSer
+00001c40: 7669 6365 2829 2e67 6574 436f 6e66 6967  vice().getConfig
+00001c50: 5661 6c75 6528 0a20 2020 2020 2020 2020  Value(.         
+00001c60: 2020 2020 2020 2022 6f6d 6572 6f2e 636c         "omero.cl
+00001c70: 6965 6e74 2e75 692e 6d65 6e75 2e64 726f  ient.ui.menu.dro
+00001c80: 7064 6f77 6e2e 6c65 6164 6572 7322 0a20  pdown.leaders". 
+00001c90: 2020 2020 2020 2020 2020 2029 0a20 2020             ).   
+00001ca0: 2020 2020 2069 6620 746f 426f 6f6c 6561       if toBoolea
+00001cb0: 6e28 0a20 2020 2020 2020 2020 2020 2073  n(.            s
+00001cc0: 656c 662e 6765 7443 6f6e 6669 6753 6572  elf.getConfigSer
+00001cd0: 7669 6365 2829 2e67 6574 436f 6e66 6967  vice().getConfig
+00001ce0: 5661 6c75 6528 0a20 2020 2020 2020 2020  Value(.         
+00001cf0: 2020 2020 2020 2022 6f6d 6572 6f2e 636c         "omero.cl
+00001d00: 6965 6e74 2e75 692e 6d65 6e75 2e64 726f  ient.ui.menu.dro
+00001d10: 7064 6f77 6e2e 636f 6c6c 6561 6775 6573  pdown.colleagues
+00001d20: 2e65 6e61 626c 6564 220a 2020 2020 2020  .enabled".      
+00001d30: 2020 2020 2020 290a 2020 2020 2020 2020        ).        
+00001d40: 293a 0a20 2020 2020 2020 2020 2020 2064  ):.            d
+00001d50: 726f 7064 6f77 6e5f 6d65 6e75 5b22 636f  ropdown_menu["co
+00001d60: 6c6c 6561 6775 6573 225d 203d 2073 656c  lleagues"] = sel
+00001d70: 662e 6765 7443 6f6e 6669 6753 6572 7669  f.getConfigServi
+00001d80: 6365 2829 2e67 6574 436f 6e66 6967 5661  ce().getConfigVa
+00001d90: 6c75 6528 0a20 2020 2020 2020 2020 2020  lue(.           
+00001da0: 2020 2020 2022 6f6d 6572 6f2e 636c 6965       "omero.clie
+00001db0: 6e74 2e75 692e 6d65 6e75 2e64 726f 7064  nt.ui.menu.dropd
+00001dc0: 6f77 6e2e 636f 6c6c 6561 6775 6573 220a  own.colleagues".
+00001dd0: 2020 2020 2020 2020 2020 2020 290a 2020              ).  
+00001de0: 2020 2020 2020 6966 2074 6f42 6f6f 6c65        if toBoole
+00001df0: 616e 280a 2020 2020 2020 2020 2020 2020  an(.            
+00001e00: 7365 6c66 2e67 6574 436f 6e66 6967 5365  self.getConfigSe
+00001e10: 7276 6963 6528 292e 6765 7443 6f6e 6669  rvice().getConfi
+00001e20: 6756 616c 7565 280a 2020 2020 2020 2020  gValue(.        
+00001e30: 2020 2020 2020 2020 226f 6d65 726f 2e63          "omero.c
+00001e40: 6c69 656e 742e 7569 2e6d 656e 752e 6472  lient.ui.menu.dr
+00001e50: 6f70 646f 776e 2e65 7665 7279 6f6e 652e  opdown.everyone.
+00001e60: 656e 6162 6c65 6422 0a20 2020 2020 2020  enabled".       
+00001e70: 2020 2020 2029 0a20 2020 2020 2020 2029       ).        )
+00001e80: 3a0a 2020 2020 2020 2020 2020 2020 6472  :.            dr
+00001e90: 6f70 646f 776e 5f6d 656e 755b 2265 7665  opdown_menu["eve
+00001ea0: 7279 6f6e 6522 5d20 3d20 7365 6c66 2e67  ryone"] = self.g
+00001eb0: 6574 436f 6e66 6967 5365 7276 6963 6528  etConfigService(
+00001ec0: 292e 6765 7443 6f6e 6669 6756 616c 7565  ).getConfigValue
+00001ed0: 280a 2020 2020 2020 2020 2020 2020 2020  (.              
+00001ee0: 2020 226f 6d65 726f 2e63 6c69 656e 742e    "omero.client.
+00001ef0: 7569 2e6d 656e 752e 6472 6f70 646f 776e  ui.menu.dropdown
+00001f00: 2e65 7665 7279 6f6e 6522 0a20 2020 2020  .everyone".     
+00001f10: 2020 2020 2020 2029 0a20 2020 2020 2020         ).       
+00001f20: 2072 6574 7572 6e20 6472 6f70 646f 776e   return dropdown
+00001f30: 5f6d 656e 750a 0a20 2020 2064 6566 2073  _menu..    def s
+00001f40: 7562 6d69 7444 7279 5275 6e28 7365 6c66  ubmitDryRun(self
+00001f50: 2c20 6163 7469 6f6e 2c20 7461 7267 6574  , action, target
+00001f60: 4f62 6a65 6374 732c 2074 6172 6765 745f  Objects, target_
+00001f70: 6964 293a 0a20 2020 2020 2020 2022 2222  id):.        """
+00001f80: 0a20 2020 2020 2020 2053 7562 6d69 7473  .        Submits
+00001f90: 2061 2027 6472 7952 756e 2720 6368 6772   a 'dryRun' chgr
+00001fa0: 7020 6f72 2063 686f 776e 2074 6f20 7465  p or chown to te
+00001fb0: 7374 2066 6f72 206c 696e 6b73 2074 6861  st for links tha
+00001fc0: 7420 7769 6c6c 2062 7265 616b 2e0a 2020  t will break..  
+00001fd0: 2020 2020 2020 5265 7475 726e 7320 6120        Returns a 
+00001fe0: 6861 6e64 6c65 2e0a 0a20 2020 2020 2020  handle...       
+00001ff0: 203a 7061 7261 6d20 6163 7469 6f6e 3a20   :param action: 
+00002000: 2020 2020 2020 2020 2027 6368 6f77 6e27           'chown'
+00002010: 206f 7220 2763 6867 7270 270a 2020 2020   or 'chgrp'.    
+00002020: 2020 2020 3a70 6172 616d 2074 6172 6765      :param targe
+00002030: 744f 626a 6563 7473 3a20 2020 4469 6374  tObjects:   Dict
+00002040: 206f 6620 6474 7970 653a 205b 6964 735d   of dtype: [ids]
+00002050: 2e20 452e 672e 207b 2744 6174 6173 6574  . E.g. {'Dataset
+00002060: 273a 205b 312c 325d 7d0a 2020 2020 2020  ': [1,2]}.      
+00002070: 2020 3a70 6172 616d 2074 6172 6765 745f    :param target_
+00002080: 6964 3a20 2020 2020 2020 5468 6520 6772  id:       The gr
+00002090: 6f75 7020 6f72 206f 776e 6572 2074 6f20  oup or owner to 
+000020a0: 6d6f 7665 2074 6865 2064 6174 6120 746f  move the data to
+000020b0: 2e0a 2020 2020 2020 2020 2222 220a 0a20  ..        """.. 
+000020c0: 2020 2020 2020 2064 6120 3d20 446f 416c         da = DoAl
+000020d0: 6c28 290a 2020 2020 2020 2020 6966 2061  l().        if a
+000020e0: 6374 696f 6e20 3d3d 2022 6368 6772 7022  ction == "chgrp"
+000020f0: 3a0a 2020 2020 2020 2020 2020 2020 746f  :.            to
+00002100: 646f 203d 2043 6867 7270 3228 7461 7267  do = Chgrp2(targ
+00002110: 6574 4f62 6a65 6374 733d 7461 7267 6574  etObjects=target
+00002120: 4f62 6a65 6374 732c 2067 726f 7570 4964  Objects, groupId
+00002130: 3d74 6172 6765 745f 6964 290a 2020 2020  =target_id).    
+00002140: 2020 2020 656c 6966 2061 6374 696f 6e20      elif action 
+00002150: 3d3d 2022 6368 6f77 6e22 3a0a 2020 2020  == "chown":.    
+00002160: 2020 2020 2020 2020 746f 646f 203d 2043          todo = C
+00002170: 686f 776e 3228 7461 7267 6574 4f62 6a65  hown2(targetObje
+00002180: 6374 733d 7461 7267 6574 4f62 6a65 6374  cts=targetObject
+00002190: 7329 0a20 2020 2020 2020 2020 2020 2074  s).            t
+000021a0: 6f64 6f2e 7573 6572 4964 203d 2074 6172  odo.userId = tar
+000021b0: 6765 745f 6964 0a20 2020 2020 2020 2074  get_id.        t
+000021c0: 6f64 6f2e 6472 7952 756e 203d 2054 7275  odo.dryRun = Tru
+000021d0: 650a 2020 2020 2020 2020 6461 2e72 6571  e.        da.req
+000021e0: 7565 7374 7320 3d20 5b74 6f64 6f5d 0a0a  uests = [todo]..
+000021f0: 2020 2020 2020 2020 6374 7820 3d20 7365          ctx = se
+00002200: 6c66 2e53 4552 5649 4345 5f4f 5054 532e  lf.SERVICE_OPTS.
+00002210: 636f 7079 2829 0a20 2020 2020 2020 2070  copy().        p
+00002220: 7278 203d 2073 656c 662e 632e 7366 2e73  rx = self.c.sf.s
+00002230: 7562 6d69 7428 6461 2c20 6374 7829 0a20  ubmit(da, ctx). 
+00002240: 2020 2020 2020 2072 6574 7572 6e20 7072         return pr
+00002250: 780a 0a20 2020 2023 2323 2323 2323 2323  x..    #########
+00002260: 2323 2323 2323 2323 2323 2323 2323 2323  ################
+00002270: 2323 2323 2323 2323 2323 2323 2323 2323  ################
+00002280: 2323 2323 230a 2020 2020 2320 2020 4941  #####.    #   IA
+00002290: 646d 696e 2020 2020 2020 2020 2020 2020  dmin            
+000022a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000022b0: 2020 2020 2020 2323 0a0a 2020 2020 6465        ##..    de
+000022c0: 6620 6765 7443 6c69 656e 7453 6574 7469  f getClientSetti
+000022d0: 6e67 7328 7365 6c66 293a 0a20 2020 2020  ngs(self):.     
+000022e0: 2020 2022 2222 0a20 2020 2020 2020 2052     """.        R
+000022f0: 6574 7572 6e73 2061 6c6c 2063 6c69 656e  eturns all clien
+00002300: 7420 7072 6f70 6572 7469 6573 206d 6174  t properties mat
+00002310: 6368 696e 6720 6f6d 6572 6f2e 636c 6965  ching omero.clie
+00002320: 6e74 2e2a 0a20 2020 2020 2020 204c 6f63  nt.*.        Loc
+00002330: 616c 2063 6f6e 6669 6720 7365 7474 696e  al config settin
+00002340: 6773 206f 7665 7272 6964 6520 636c 6965  gs override clie
+00002350: 6e74 2073 6574 7469 6e67 7320 7365 6e74  nt settings sent
+00002360: 2062 7920 7468 6520 7365 7276 6572 0a20   by the server. 
+00002370: 2020 2020 2020 2022 2222 0a20 2020 2020         """.     
+00002380: 2020 2063 6f6e 6669 676d 6170 203d 2073     configmap = s
+00002390: 7570 6572 284f 6d65 726f 5765 6247 6174  uper(OmeroWebGat
+000023a0: 6577 6179 2c20 7365 6c66 292e 6765 7443  eway, self).getC
+000023b0: 6c69 656e 7453 6574 7469 6e67 7328 290a  lientSettings().
+000023c0: 2020 2020 2020 2020 6c6f 6361 6c63 6667          localcfg
+000023d0: 203d 2073 6574 7469 6e67 732e 434f 4e46   = settings.CONF
+000023e0: 4947 5f58 4d4c 0a20 2020 2020 2020 2066  IG_XML.        f
+000023f0: 6f72 206b 6579 2069 6e20 6c6f 6361 6c63  or key in localc
+00002400: 6667 2e6b 6579 7328 293a 0a20 2020 2020  fg.keys():.     
+00002410: 2020 2020 2020 2069 6620 6b65 792e 7374         if key.st
+00002420: 6172 7473 7769 7468 2822 6f6d 6572 6f2e  artswith("omero.
+00002430: 636c 6965 6e74 2e22 293a 0a20 2020 2020  client."):.     
+00002440: 2020 2020 2020 2020 2020 2063 6f6e 6669             confi
+00002450: 676d 6170 5b6b 6579 5d20 3d20 6c6f 6361  gmap[key] = loca
+00002460: 6c63 6667 5b6b 6579 5d0a 2020 2020 2020  lcfg[key].      
+00002470: 2020 7265 7475 726e 2063 6f6e 6669 676d    return configm
+00002480: 6170 0a0a 2020 2020 6465 6620 6765 7445  ap..    def getE
+00002490: 6d61 696c 5365 7474 696e 6773 2873 656c  mailSettings(sel
+000024a0: 6629 3a0a 2020 2020 2020 2020 2222 220a  f):.        """.
+000024b0: 2020 2020 2020 2020 5265 7472 6965 7665          Retrieve
+000024c0: 7320 6120 636f 6e66 6967 7572 6174 696f  s a configuratio
+000024d0: 6e20 7661 6c75 6520 226f 6d65 726f 2e6d  n value "omero.m
+000024e0: 6169 6c2e 636f 6e66 6967 2220 6672 6f6d  ail.config" from
+000024f0: 2074 6865 2062 6163 6b65 6e64 0a20 2020   the backend.   
+00002500: 2020 2020 2073 746f 7265 2e0a 0a20 2020       store...   
+00002510: 2020 2020 2040 7265 7475 726e 3a20 2020       @return:   
+00002520: 2020 2020 2053 7472 696e 670a 2020 2020       String.    
+00002530: 2020 2020 2222 220a 0a20 2020 2020 2020      """..       
+00002540: 2063 6f6e 6620 3d20 7365 6c66 2e67 6574   conf = self.get
+00002550: 436f 6e66 6967 5365 7276 6963 6528 290a  ConfigService().
+00002560: 2020 2020 2020 2020 7265 7475 726e 2074          return t
+00002570: 6f42 6f6f 6c65 616e 2863 6f6e 662e 6765  oBoolean(conf.ge
+00002580: 7443 6f6e 6669 6756 616c 7565 2822 6f6d  tConfigValue("om
+00002590: 6572 6f2e 6d61 696c 2e63 6f6e 6669 6722  ero.mail.config"
+000025a0: 2929 0a0a 2020 2020 6465 6620 6973 416e  ))..    def isAn
+000025b0: 7974 6869 6e67 4372 6561 7465 6428 7365  ythingCreated(se
+000025c0: 6c66 293a 0a20 2020 2020 2020 2022 2222  lf):.        """
+000025d0: 0a20 2020 2020 2020 2043 6865 636b 7320  .        Checks 
+000025e0: 6966 2061 6e79 206f 6620 7468 6520 6578  if any of the ex
+000025f0: 7065 7269 6d65 6e74 6572 2077 6173 2063  perimenter was c
+00002600: 7265 6174 6564 2062 6566 6f72 650a 0a20  reated before.. 
+00002610: 2020 2020 2020 2040 7265 7475 726e 3a20         @return: 
+00002620: 2020 2042 6f6f 6c65 616e 0a20 2020 2020     Boolean.     
+00002630: 2020 2022 2222 0a0a 2020 2020 2020 2020     """..        
+00002640: 7120 3d20 7365 6c66 2e67 6574 5175 6572  q = self.getQuer
+00002650: 7953 6572 7669 6365 2829 0a20 2020 2020  yService().     
+00002660: 2020 2070 203d 206f 6d65 726f 2e73 7973     p = omero.sys
+00002670: 2e50 6172 616d 6574 6572 7328 290a 2020  .Parameters().  
+00002680: 2020 2020 2020 702e 6d61 7020 3d20 7b7d        p.map = {}
+00002690: 0a20 2020 2020 2020 2070 2e6d 6170 5b22  .        p.map["
+000026a0: 6465 6661 756c 745f 6e61 6d65 7322 5d20  default_names"] 
+000026b0: 3d20 726c 6973 7428 0a20 2020 2020 2020  = rlist(.       
+000026c0: 2020 2020 205b 7273 7472 696e 6728 2275       [rstring("u
+000026d0: 7365 7222 292c 2072 7374 7269 6e67 2822  ser"), rstring("
+000026e0: 7379 7374 656d 2229 2c20 7273 7472 696e  system"), rstrin
+000026f0: 6728 2267 7565 7374 2229 5d0a 2020 2020  g("guest")].    
+00002700: 2020 2020 290a 2020 2020 2020 2020 6620      ).        f 
+00002710: 3d20 6f6d 6572 6f2e 7379 732e 4669 6c74  = omero.sys.Filt
+00002720: 6572 2829 0a20 2020 2020 2020 2066 2e6c  er().        f.l
+00002730: 696d 6974 203d 2072 696e 7428 3129 0a20  imit = rint(1). 
+00002740: 2020 2020 2020 2070 2e74 6865 4669 6c74         p.theFilt
+00002750: 6572 203d 2066 0a20 2020 2020 2020 2073  er = f.        s
+00002760: 716c 203d 2028 0a20 2020 2020 2020 2020  ql = (.         
+00002770: 2020 2022 7365 6c65 6374 2067 2066 726f     "select g fro
+00002780: 6d20 4578 7065 7269 6d65 6e74 6572 4772  m ExperimenterGr
+00002790: 6f75 7020 6173 2067 2022 0a20 2020 2020  oup as g ".     
+000027a0: 2020 2020 2020 2022 7768 6572 6520 672e         "where g.
+000027b0: 6e61 6d65 206e 6f74 2069 6e20 283a 6465  name not in (:de
+000027c0: 6661 756c 745f 6e61 6d65 7329 220a 2020  fault_names)".  
+000027d0: 2020 2020 2020 290a 2020 2020 2020 2020        ).        
+000027e0: 6966 206c 656e 2871 2e66 696e 6441 6c6c  if len(q.findAll
+000027f0: 4279 5175 6572 7928 7371 6c2c 2070 2c20  ByQuery(sql, p, 
+00002800: 7365 6c66 2e53 4552 5649 4345 5f4f 5054  self.SERVICE_OPT
+00002810: 5329 2920 3e20 303a 0a20 2020 2020 2020  S)) > 0:.       
+00002820: 2020 2020 2072 6574 7572 6e20 4661 6c73       return Fals
+00002830: 650a 2020 2020 2020 2020 7265 7475 726e  e.        return
+00002840: 2054 7275 650a 0a20 2020 2064 6566 206c   True..    def l
+00002850: 6973 744c 6461 7041 7574 6845 7870 6572  istLdapAuthExper
+00002860: 696d 656e 7465 7273 2873 656c 6629 3a0a  imenters(self):.
+00002870: 2020 2020 2020 2020 2222 220a 2020 2020          """.    
+00002880: 2020 2020 4c69 7374 7320 616c 6c20 4944      Lists all ID
+00002890: 7320 6f66 2065 7870 6572 696d 656e 7465  s of experimente
+000028a0: 7273 2077 686f 2061 7265 2061 7574 6865  rs who are authe
+000028b0: 6e74 6963 6174 6564 2062 7920 4c44 4150  nticated by LDAP
+000028c0: 0a20 2020 2020 2020 2028 6861 7320 7365  .        (has se
+000028d0: 7420 646e 206f 6e20 7061 7373 776f 7264  t dn on password
+000028e0: 2074 6162 6c65 292e 0a0a 2020 2020 2020   table)...      
+000028f0: 2020 4072 6574 7572 6e3a 2020 2020 4c69    @return:    Li
+00002900: 7374 206f 6620 6578 7065 7269 6d65 746e  st of experimetn
+00002910: 6572 2049 4473 0a20 2020 2020 2020 2040  er IDs.        @
+00002920: 7274 7970 653a 2020 2020 204c 7b44 6963  rtype:     L{Dic
+00002930: 7420 6f66 2053 7472 696e 673a 204c 6f6e  t of String: Lon
+00002940: 677d 0a20 2020 2020 2020 2022 2222 0a0a  g}.        """..
+00002950: 2020 2020 2020 2020 6164 6d69 6e5f 7365          admin_se
+00002960: 7276 203d 2073 656c 662e 6765 7441 646d  rv = self.getAdm
+00002970: 696e 5365 7276 6963 6528 290a 2020 2020  inService().    
+00002980: 2020 2020 7265 7475 726e 2061 646d 696e      return admin
+00002990: 5f73 6572 762e 6c6f 6f6b 7570 4c64 6170  _serv.lookupLdap
+000029a0: 4175 7468 4578 7065 7269 6d65 6e74 6572  AuthExperimenter
+000029b0: 7328 290a 0a20 2020 2064 6566 2067 6574  s()..    def get
+000029c0: 4c64 6170 4175 7468 4578 7065 7269 6d65  LdapAuthExperime
+000029d0: 6e74 6572 2873 656c 662c 2065 6964 293a  nter(self, eid):
+000029e0: 0a20 2020 2020 2020 2022 2222 0a20 2020  .        """.   
+000029f0: 2020 2020 2052 6574 7572 6e20 444e 206f       Return DN o
+00002a00: 6620 7468 6520 7370 6563 6966 6963 2065  f the specific e
+00002a10: 7870 6572 696d 656e 7465 7220 6966 2075  xperimenter if u
+00002a20: 7365 7320 4c44 4150 2061 7574 6865 6e74  ses LDAP authent
+00002a30: 6963 6174 696f 6e0a 2020 2020 2020 2020  ication.        
+00002a40: 2868 6173 2073 6574 2064 6e20 6f6e 2070  (has set dn on p
+00002a50: 6173 7377 6f72 6420 7461 626c 6529 206f  assword table) o
+00002a60: 7220 4e6f 6e65 2e0a 0a20 2020 2020 2020  r None...       
+00002a70: 2040 7061 7261 6d20 6569 643a 2020 2020   @param eid:    
+00002a80: 2065 7870 6572 696d 656e 7465 7220 4944   experimenter ID
+00002a90: 0a20 2020 2020 2020 2040 7479 7065 2065  .        @type e
+00002aa0: 6964 3a20 2020 2020 204c 7b4c 6f6e 677d  id:      L{Long}
+00002ab0: 0a20 2020 2020 2020 2040 7265 7475 726e  .        @return
+00002ac0: 3a20 2020 2020 2020 2044 6973 7469 6e67  :        Disting
+00002ad0: 7569 7368 6564 204e 616d 650a 2020 2020  uished Name.    
+00002ae0: 2020 2020 4072 7479 7065 3a20 2020 2020      @rtype:     
+00002af0: 2020 2020 5374 7269 6e67 0a20 2020 2020      String.     
+00002b00: 2020 2022 2222 0a0a 2020 2020 2020 2020     """..        
+00002b10: 6164 6d69 6e5f 7365 7276 203d 2073 656c  admin_serv = sel
+00002b20: 662e 6765 7441 646d 696e 5365 7276 6963  f.getAdminServic
+00002b30: 6528 290a 2020 2020 2020 2020 7265 7475  e().        retu
+00002b40: 726e 2061 646d 696e 5f73 6572 762e 6c6f  rn admin_serv.lo
+00002b50: 6f6b 7570 4c64 6170 4175 7468 4578 7065  okupLdapAuthExpe
+00002b60: 7269 6d65 6e74 6572 2869 6e74 2865 6964  rimenter(int(eid
+00002b70: 2929 0a0a 2020 2020 6465 6620 6765 7445  ))..    def getE
+00002b80: 7870 6572 696d 656e 7465 7273 2873 656c  xperimenters(sel
+00002b90: 6629 3a0a 2020 2020 2020 2020 2222 220a  f):.        """.
+00002ba0: 2020 2020 2020 2020 5265 7475 726e 2061          Return a
+00002bb0: 6c6c 2065 7870 6572 696d 656e 7465 7273  ll experimenters
+00002bc0: 2061 7061 7274 2066 726f 6d20 6375 7272   apart from curr
+00002bd0: 656e 7420 7573 6572 2e0a 0a20 2020 2020  ent user...     
+00002be0: 2020 2040 7265 7475 726e 3a20 2020 2020     @return:     
+00002bf0: 2020 2047 656e 6572 6174 6f72 2079 6965     Generator yie
+00002c00: 6c64 696e 6720 6578 7065 7269 6d65 746e  lding experimetn
+00002c10: 6572 7320 6c69 7374 0a20 2020 2020 2020  ers list.       
+00002c20: 2040 7274 7970 653a 2020 2020 2020 2020   @rtype:        
+00002c30: 204c 7b45 7870 6572 696d 656e 7465 7257   L{ExperimenterW
+00002c40: 7261 7070 6572 7d20 6765 6e65 7261 746f  rapper} generato
+00002c50: 720a 0a20 2020 2020 2020 2022 2222 0a0a  r..        """..
+00002c60: 2020 2020 2020 2020 7120 3d20 7365 6c66          q = self
+00002c70: 2e67 6574 5175 6572 7953 6572 7669 6365  .getQueryService
+00002c80: 2829 0a20 2020 2020 2020 2070 203d 206f  ().        p = o
+00002c90: 6d65 726f 2e73 7973 2e50 6172 616d 6574  mero.sys.Paramet
+00002ca0: 6572 7328 290a 2020 2020 2020 2020 702e  ers().        p.
+00002cb0: 6d61 7020 3d20 7b7d 0a20 2020 2020 2020  map = {}.       
+00002cc0: 2070 2e6d 6170 5b22 6964 225d 203d 2072   p.map["id"] = r
+00002cd0: 6c6f 6e67 2873 656c 662e 6765 7445 7665  long(self.getEve
+00002ce0: 6e74 436f 6e74 6578 7428 292e 7573 6572  ntContext().user
+00002cf0: 4964 290a 2020 2020 2020 2020 7371 6c20  Id).        sql 
+00002d00: 3d20 2273 656c 6563 7420 6520 6672 6f6d  = "select e from
+00002d10: 2045 7870 6572 696d 656e 7465 7220 6173   Experimenter as
+00002d20: 2065 2077 6865 7265 2065 2e69 6420 213d   e where e.id !=
+00002d30: 203a 6964 2022 0a20 2020 2020 2020 2066   :id ".        f
+00002d40: 6f72 2065 2069 6e20 712e 6669 6e64 416c  or e in q.findAl
+00002d50: 6c42 7951 7565 7279 2873 716c 2c20 702c  lByQuery(sql, p,
+00002d60: 2073 656c 662e 5345 5256 4943 455f 4f50   self.SERVICE_OP
+00002d70: 5453 293a 0a20 2020 2020 2020 2020 2020  TS):.           
+00002d80: 2079 6965 6c64 2045 7870 6572 696d 656e   yield Experimen
+00002d90: 7465 7257 7261 7070 6572 2873 656c 662c  terWrapper(self,
+00002da0: 2065 290a 0a20 2020 2023 2064 6566 2067   e)..    # def g
+00002db0: 6574 4375 7272 656e 7453 7570 6572 7669  etCurrentSupervi
+00002dc0: 736f 7228 7365 6c66 293a 0a20 2020 2023  sor(self):.    #
+00002dd0: 2020 2020 2222 220a 2020 2020 2320 2020      """.    #   
+00002de0: 2047 6574 7320 7468 6520 6f77 6e65 7220   Gets the owner 
+00002df0: 6f66 2061 2067 726f 7570 2066 6f72 2063  of a group for c
+00002e00: 7572 7265 6e74 2075 7365 722e 0a20 2020  urrent user..   
+00002e10: 2023 0a20 2020 2023 2020 2020 4072 6574   #.    #    @ret
+00002e20: 7572 6e3a 2020 2020 2020 2020 4578 7065  urn:        Expe
+00002e30: 7269 6d65 6e74 6572 5772 6170 7065 720a  rimenterWrapper.
+00002e40: 2020 2020 2320 2020 2022 2222 0a20 2020      #    """.   
+00002e50: 2023 0a20 2020 2023 2020 2020 7020 3d20   #.    #    p = 
+00002e60: 6f6d 6572 6f2e 7379 732e 5061 7261 6d65  omero.sys.Parame
+00002e70: 7465 7273 4928 290a 2020 2020 2320 2020  tersI().    #   
+00002e80: 2070 2e6d 6170 203d 207b 7d0a 2020 2020   p.map = {}.    
+00002e90: 2320 2020 2070 2e6d 6170 5b22 6964 225d  #    p.map["id"]
+00002ea0: 203d 2072 6c6f 6e67 2873 656c 662e 6765   = rlong(self.ge
+00002eb0: 7445 7665 6e74 436f 6e74 6578 7428 292e  tEventContext().
+00002ec0: 6772 6f75 7049 6429 0a20 2020 2023 0a20  groupId).    #. 
+00002ed0: 2020 2023 2020 2020 2320 544f 444f 3a20     #    # TODO: 
+00002ee0: 7468 6572 6520 6361 6e20 6e6f 7720 6265  there can now be
+00002ef0: 206d 756c 7469 706c 6520 7375 7065 7276   multiple superv
+00002f00: 6973 6f72 730a 2020 2020 2320 2020 2070  isors.    #    p
+00002f10: 2e70 6167 6528 302c 3129 0a20 2020 2023  .page(0,1).    #
+00002f20: 2020 2020 7375 7065 7276 6973 6f72 203d      supervisor =
+00002f30: 2073 656c 662e 6765 7451 7565 7279 5365   self.getQuerySe
+00002f40: 7276 6963 6528 292e 6669 6e64 4279 5175  rvice().findByQu
+00002f50: 6572 7928 5c0a 2020 2020 2320 2020 2020  ery(\.    #     
+00002f60: 2020 2022 2222 7365 6c65 6374 2065 2066     """select e f
+00002f70: 726f 6d20 4578 7065 7269 6d65 6e74 6572  rom Experimenter
+00002f80: 4772 6f75 7020 6173 2067 0a20 2020 2023  Group as g.    #
+00002f90: 2020 2020 2020 2020 2020 206a 6f69 6e20             join 
+00002fa0: 672e 6772 6f75 7045 7870 6572 696d 656e  g.groupExperimen
+00002fb0: 7465 724d 6170 2061 7320 6d20 6a6f 696e  terMap as m join
+00002fc0: 206d 2e63 6869 6c64 2061 7320 650a 2020   m.child as e.  
+00002fd0: 2020 2320 2020 2020 2020 2020 2020 7768    #           wh
+00002fe0: 6572 6520 6d2e 6f77 6e65 7220 3d20 7472  ere m.owner = tr
+00002ff0: 7565 2061 6e64 2067 2e69 6420 3d20 3a69  ue and g.id = :i
+00003000: 6422 2222 2c20 7029 0a20 2020 2023 2020  d""", p).    #  
+00003010: 2020 7265 7475 726e 2045 7870 6572 696d    return Experim
+00003020: 656e 7465 7257 7261 7070 6572 2873 656c  enterWrapper(sel
+00003030: 662c 2073 7570 6572 7669 736f 7229 0a20  f, supervisor). 
+00003040: 2020 2023 0a20 2020 2023 2064 6566 2067     #.    # def g
+00003050: 6574 5363 7269 7074 7769 7468 4465 7461  etScriptwithDeta
+00003060: 696c 7328 7365 6c66 2c20 7369 6429 3a0a  ils(self, sid):.
+00003070: 2020 2020 2320 2020 2073 6372 6970 745f      #    script_
+00003080: 7365 7276 203d 2073 656c 662e 6765 7453  serv = self.getS
+00003090: 6372 6970 7453 6572 7669 6365 2829 0a20  criptService(). 
+000030a0: 2020 2023 2020 2020 7265 7475 726e 2073     #    return s
+000030b0: 6372 6970 745f 7365 7276 2e67 6574 5363  cript_serv.getSc
+000030c0: 7269 7074 5769 7468 4465 7461 696c 7328  riptWithDetails(
+000030d0: 696e 7428 7369 6429 290a 2020 2020 230a  int(sid)).    #.
+000030e0: 2020 2020 2320 6465 6620 6c6f 6f6b 7570      # def lookup
+000030f0: 5363 7269 7074 7328 7365 6c66 293a 0a20  Scripts(self):. 
+00003100: 2020 2023 2020 2020 7363 7269 7074 5f73     #    script_s
+00003110: 6572 7620 3d20 7365 6c66 2e67 6574 5363  erv = self.getSc
+00003120: 7269 7074 5365 7276 6963 6528 290a 2020  riptService().  
+00003130: 2020 2320 2020 2072 6574 7572 6e20 7363    #    return sc
+00003140: 7269 7074 5f73 6572 762e 6765 7453 6372  ript_serv.getScr
+00003150: 6970 7473 2829 0a0a 2020 2020 6465 6620  ipts()..    def 
+00003160: 6765 7453 6572 7665 7256 6572 7369 6f6e  getServerVersion
+00003170: 2873 656c 6629 3a0a 2020 2020 2020 2020  (self):.        
+00003180: 2222 220a 2020 2020 2020 2020 5265 7472  """.        Retr
+00003190: 6965 7665 7320 6120 636f 6e66 6967 7572  ieves a configur
+000031a0: 6174 696f 6e20 7661 6c75 6520 226f 6d65  ation value "ome
+000031b0: 726f 2e76 6572 7369 6f6e 2220 6672 6f6d  ro.version" from
+000031c0: 2074 6865 2062 6163 6b65 6e64 0a20 2020   the backend.   
+000031d0: 2020 2020 2073 746f 7265 2e0a 0a20 2020       store...   
+000031e0: 2020 2020 2040 7265 7475 726e 3a20 2020       @return:   
+000031f0: 2020 2020 2053 7472 696e 670a 2020 2020       String.    
+00003200: 2020 2020 2222 220a 0a20 2020 2020 2020      """..       
+00003210: 2063 6f6e 6620 3d20 7365 6c66 2e67 6574   conf = self.get
+00003220: 436f 6e66 6967 5365 7276 6963 6528 290a  ConfigService().
+00003230: 2020 2020 2020 2020 7265 7475 726e 2063          return c
+00003240: 6f6e 662e 6765 7443 6f6e 6669 6756 616c  onf.getConfigVal
+00003250: 7565 2822 6f6d 6572 6f2e 7665 7273 696f  ue("omero.versio
+00003260: 6e22 290a 0a20 2020 2064 6566 2067 6574  n")..    def get
+00003270: 5570 6772 6164 6573 5572 6c28 7365 6c66  UpgradesUrl(self
+00003280: 293a 0a20 2020 2020 2020 2022 2222 0a20  ):.        """. 
+00003290: 2020 2020 2020 2052 6574 7269 6576 6573         Retrieves
+000032a0: 2061 2063 6f6e 6669 6775 7261 7469 6f6e   a configuration
+000032b0: 2076 616c 7565 2022 6f6d 6572 6f2e 7570   value "omero.up
+000032c0: 6772 6164 6573 2e75 726c 2220 6672 6f6d  grades.url" from
+000032d0: 0a20 2020 2020 2020 2074 6865 2062 6163  .        the bac
+000032e0: 6b65 6e64 2073 746f 7265 2e0a 0a20 2020  kend store...   
+000032f0: 2020 2020 2040 7265 7475 726e 3a20 2020       @return:   
+00003300: 2020 2020 2053 7472 696e 670a 2020 2020       String.    
+00003310: 2020 2020 2222 220a 0a20 2020 2020 2020      """..       
+00003320: 2063 6f6e 6620 3d20 7365 6c66 2e67 6574   conf = self.get
+00003330: 436f 6e66 6967 5365 7276 6963 6528 290a  ConfigService().
+00003340: 2020 2020 2020 2020 7265 7475 726e 2063          return c
+00003350: 6f6e 662e 6765 7443 6f6e 6669 6756 616c  onf.getConfigVal
+00003360: 7565 2822 6f6d 6572 6f2e 7570 6772 6164  ue("omero.upgrad
+00003370: 6573 2e75 726c 2229 0a0a 2020 2020 2323  es.url")..    ##
+00003380: 2323 2323 2323 2323 2323 2323 2323 2323  ################
+00003390: 2323 2323 2323 2323 2323 2323 2323 2323  ################
+000033a0: 2323 2323 2323 2323 2323 2323 2323 2323  ################
+000033b0: 2323 2323 2323 230a 2020 2020 2320 2020  #######.    #   
+000033c0: 4672 6f6d 2042 7261 6d20 6228 646f 7429  From Bram b(dot)
+000033d0: 6765 7272 6974 7365 6e28 6174 296e 6b69  gerritsen(at)nki
+000033e0: 2864 6f74 296e 6c20 2020 2020 2020 2020  (dot)nl         
+000033f0: 2020 2023 230a 0a20 2020 2064 6566 2066     ##..    def f
+00003400: 696e 6457 656c 6c49 6e50 6c61 7465 2873  indWellInPlate(s
+00003410: 656c 662c 2070 6c61 7465 5f6e 616d 652c  elf, plate_name,
+00003420: 2072 6f77 2c20 636f 6c75 6d6e 293a 0a20   row, column):. 
+00003430: 2020 2020 2020 2071 203d 2073 656c 662e         q = self.
+00003440: 6765 7451 7565 7279 5365 7276 6963 6528  getQueryService(
+00003450: 290a 2020 2020 2020 2020 7020 3d20 6f6d  ).        p = om
+00003460: 6572 6f2e 7379 732e 5061 7261 6d65 7465  ero.sys.Paramete
+00003470: 7273 2829 0a20 2020 2020 2020 2070 2e6d  rs().        p.m
+00003480: 6170 203d 207b 7d0a 2020 2020 2020 2020  ap = {}.        
+00003490: 702e 6d61 705b 2270 6e61 6d65 225d 203d  p.map["pname"] =
+000034a0: 2072 7374 7269 6e67 2873 7472 2870 6c61   rstring(str(pla
+000034b0: 7465 5f6e 616d 6529 290a 2020 2020 2020  te_name)).      
+000034c0: 2020 702e 6d61 705b 2272 6f77 225d 203d    p.map["row"] =
+000034d0: 2072 696e 7428 696e 7428 726f 7729 290a   rint(int(row)).
+000034e0: 2020 2020 2020 2020 702e 6d61 705b 2263          p.map["c
+000034f0: 6f6c 756d 6e22 5d20 3d20 7269 6e74 2869  olumn"] = rint(i
+00003500: 6e74 2863 6f6c 756d 6e29 290a 0a20 2020  nt(column))..   
+00003510: 2020 2020 2073 716c 203d 2022 2222 7365       sql = """se
+00003520: 6c65 6374 2077 656c 6c20 6672 6f6d 2057  lect well from W
+00003530: 656c 6c20 6173 2077 656c 6c0a 2020 2020  ell as well.    
+00003540: 2020 2020 2020 2020 2020 6c65 6674 206f            left o
+00003550: 7574 6572 206a 6f69 6e20 6665 7463 6820  uter join fetch 
+00003560: 7765 6c6c 2e70 6c61 7465 2061 7320 7074  well.plate as pt
+00003570: 0a20 2020 2020 2020 2020 2020 2020 206c  .              l
+00003580: 6566 7420 6f75 7465 7220 6a6f 696e 2066  eft outer join f
+00003590: 6574 6368 2077 656c 6c2e 7765 6c6c 5361  etch well.wellSa
+000035a0: 6d70 6c65 7320 6173 2077 730a 2020 2020  mples as ws.    
+000035b0: 2020 2020 2020 2020 2020 696e 6e65 7220            inner 
+000035c0: 6a6f 696e 2066 6574 6368 2077 732e 696d  join fetch ws.im
+000035d0: 6167 6520 6173 2069 6d67 0a20 2020 2020  age as img.     
+000035e0: 2020 2020 2020 2020 2077 6865 7265 2077           where w
+000035f0: 656c 6c2e 706c 6174 652e 6e61 6d65 203d  ell.plate.name =
+00003600: 203a 706e 616d 6520 616e 6420 7765 6c6c   :pname and well
+00003610: 2e72 6f77 203d 203a 726f 770a 2020 2020  .row = :row.    
+00003620: 2020 2020 2020 2020 2020 616e 6420 7765            and we
+00003630: 6c6c 2e63 6f6c 756d 6e20 3d20 3a63 6f6c  ll.column = :col
+00003640: 756d 6e22 2222 0a20 2020 2020 2020 2077  umn""".        w
+00003650: 656c 6c20 3d20 712e 6669 6e64 4279 5175  ell = q.findByQu
+00003660: 6572 7928 7371 6c2c 2070 2c20 7365 6c66  ery(sql, p, self
+00003670: 2e53 4552 5649 4345 5f4f 5054 5329 0a20  .SERVICE_OPTS). 
+00003680: 2020 2020 2020 2069 6620 7765 6c6c 2069         if well i
+00003690: 7320 4e6f 6e65 3a0a 2020 2020 2020 2020  s None:.        
+000036a0: 2020 2020 7265 7475 726e 204e 6f6e 650a      return None.
+000036b0: 2020 2020 2020 2020 656c 7365 3a0a 2020          else:.  
+000036c0: 2020 2020 2020 2020 2020 7265 7475 726e            return
+000036d0: 2057 656c 6c57 7261 7070 6572 2873 656c   WellWrapper(sel
+000036e0: 662c 2077 656c 6c2c 204e 6f6e 6529 0a0a  f, well, None)..
+000036f0: 2020 2020 2323 2323 2323 2323 2323 2323      ############
 00003700: 2323 2323 2323 2323 2323 2323 2323 2323  ################
-00003710: 0a20 2020 2023 2020 2043 6f6e 7461 696e  .    #   Contain
-00003720: 6572 2051 7565 7269 6573 2020 2020 2020  er Queries      
-00003730: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003740: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003750: 2020 2020 2020 2020 2020 2020 2020 230a                #.
-00003760: 2020 2020 2323 2323 2323 2323 2323 2323      ############
-00003770: 2323 2323 2323 2323 2323 2323 2323 2323  ################
-00003780: 2323 2323 2323 2323 2323 2323 2323 2323  ################
-00003790: 2323 2323 2323 2323 2323 2323 2323 2323  ################
-000037a0: 2323 2323 2323 2323 2323 2323 2323 0a0a  ##############..
-000037b0: 2020 2020 6465 6620 6c69 7374 5461 6773      def listTags
-000037c0: 2873 656c 662c 2065 6964 3d4e 6f6e 6529  (self, eid=None)
-000037d0: 3a0a 2020 2020 2020 2020 7061 7261 6d73  :.        params
-000037e0: 203d 206f 6d65 726f 2e73 7973 2e50 6172   = omero.sys.Par
-000037f0: 616d 6574 6572 7349 2829 0a20 2020 2020  ametersI().     
-00003800: 2020 2070 6172 616d 732e 6f72 7068 616e     params.orphan
-00003810: 2829 0a20 2020 2020 2020 2070 6172 616d  ().        param
-00003820: 732e 6d61 7020 3d20 7b7d 0a20 2020 2020  s.map = {}.     
-00003830: 2020 2070 6172 616d 732e 6d61 705b 226e     params.map["n
-00003840: 7322 5d20 3d20 7273 7472 696e 6728 6f6d  s"] = rstring(om
-00003850: 6572 6f2e 636f 6e73 7461 6e74 732e 6d65  ero.constants.me
-00003860: 7461 6461 7461 2e4e 5349 4e53 4947 4854  tadata.NSINSIGHT
-00003870: 5441 4753 4554 290a 0a20 2020 2020 2020  TAGSET)..       
-00003880: 2073 716c 203d 2028 0a20 2020 2020 2020   sql = (.       
-00003890: 2020 2020 2022 7365 6c65 6374 2074 6720       "select tg 
-000038a0: 6672 6f6d 2054 6167 416e 6e6f 7461 7469  from TagAnnotati
-000038b0: 6f6e 2074 6722 0a20 2020 2020 2020 2020  on tg".         
-000038c0: 2020 2022 2077 6865 7265 2028 286e 733d     " where ((ns=
-000038d0: 3a6e 7329 220a 2020 2020 2020 2020 2020  :ns)".          
-000038e0: 2020 226f 7220 286e 6f74 2065 7869 7374    "or (not exist
-000038f0: 7320 2820 7365 6c65 6374 2061 616c 2066  s ( select aal f
-00003900: 726f 6d20 416e 6e6f 7461 7469 6f6e 416e  rom AnnotationAn
-00003910: 6e6f 7461 7469 6f6e 4c69 6e6b 220a 2020  notationLink".  
-00003920: 2020 2020 2020 2020 2020 2220 6173 2061            " as a
-00003930: 616c 2077 6865 7265 2061 616c 2e63 6869  al where aal.chi
-00003940: 6c64 3d74 672e 6964 2929 2920 220a 2020  ld=tg.id))) ".  
-00003950: 2020 2020 2020 290a 2020 2020 2020 2020        ).        
-00003960: 6966 2065 6964 2069 7320 6e6f 7420 4e6f  if eid is not No
-00003970: 6e65 3a0a 2020 2020 2020 2020 2020 2020  ne:.            
-00003980: 7061 7261 6d73 2e6d 6170 5b22 6569 6422  params.map["eid"
-00003990: 5d20 3d20 726c 6f6e 6728 696e 7428 6569  ] = rlong(int(ei
-000039a0: 6429 290a 2020 2020 2020 2020 2020 2020  d)).            
-000039b0: 7371 6c20 2b3d 2022 2061 6e64 2074 672e  sql += " and tg.
-000039c0: 6465 7461 696c 732e 6f77 6e65 722e 6964  details.owner.id
-000039d0: 203d 203a 6569 6422 0a0a 2020 2020 2020   = :eid"..      
-000039e0: 2020 7120 3d20 7365 6c66 2e67 6574 5175    q = self.getQu
-000039f0: 6572 7953 6572 7669 6365 2829 0a20 2020  eryService().   
-00003a00: 2020 2020 2066 6f72 2061 6e6e 2069 6e20       for ann in 
-00003a10: 712e 6669 6e64 416c 6c42 7951 7565 7279  q.findAllByQuery
-00003a20: 2873 716c 2c20 7061 7261 6d73 2c20 7365  (sql, params, se
-00003a30: 6c66 2e53 4552 5649 4345 5f4f 5054 5329  lf.SERVICE_OPTS)
-00003a40: 3a0a 2020 2020 2020 2020 2020 2020 7969  :.            yi
-00003a50: 656c 6420 6f6d 6572 6f2e 6761 7465 7761  eld omero.gatewa
-00003a60: 792e 5461 6741 6e6e 6f74 6174 696f 6e57  y.TagAnnotationW
-00003a70: 7261 7070 6572 2873 656c 662c 2061 6e6e  rapper(self, ann
-00003a80: 290a 0a20 2020 2064 6566 206c 6973 7454  )..    def listT
-00003a90: 6167 7352 6563 7572 7369 7665 2873 656c  agsRecursive(sel
-00003aa0: 662c 2065 6964 3d4e 6f6e 652c 206f 6666  f, eid=None, off
-00003ab0: 7365 743d 4e6f 6e65 2c20 6c69 6d69 743d  set=None, limit=
-00003ac0: 3130 3030 293a 0a20 2020 2020 2020 2022  1000):.        "
-00003ad0: 2222 0a20 2020 2020 2020 2052 6574 7572  "".        Retur
-00003ae0: 6e73 2061 2074 776f 2d65 6c65 6d65 6e74  ns a two-element
-00003af0: 2074 7570 6c65 3a0a 2020 2020 2020 2020   tuple:.        
-00003b00: 2a20 4120 6c69 7374 206f 6620 7461 6773  * A list of tags
-00003b10: 2c20 7768 6572 6520 6561 6368 2074 6167  , where each tag
-00003b20: 2069 7320 6120 6c69 7374 2077 6974 6820   is a list with 
-00003b30: 7468 6520 666f 6c6c 6f77 696e 670a 2020  the following.  
-00003b40: 2020 2020 2020 2020 656c 656d 656e 7473          elements
-00003b50: 3a0a 2020 2020 2020 2020 2020 303a 2069  :.          0: i
-00003b60: 640a 2020 2020 2020 2020 2020 313a 2064  d.          1: d
-00003b70: 6573 6372 6970 7469 6f6e 0a20 2020 2020  escription.     
-00003b80: 2020 2020 2032 3a20 7465 7874 0a20 2020       2: text.   
-00003b90: 2020 2020 2020 2033 3a20 6f77 6e65 7220         3: owner 
-00003ba0: 6964 0a20 2020 2020 2020 2020 2034 3a20  id.          4: 
-00003bb0: 6c69 7374 206f 6620 6368 696c 6420 7461  list of child ta
-00003bc0: 6720 6964 7320 2870 6f73 7369 626c 7920  g ids (possibly 
-00003bd0: 656d 7074 7929 2c20 6f72 2030 2069 6620  empty), or 0 if 
-00003be0: 7468 6973 2069 7320 6e6f 7420 6120 7461  this is not a ta
-00003bf0: 670a 2020 2020 2020 2020 2020 2020 2073  g.             s
-00003c00: 6574 0a20 2020 2020 2020 202a 2041 2064  et.        * A d
-00003c10: 6963 7469 6f6e 6172 7920 6f66 2075 7365  ictionary of use
-00003c20: 7220 6964 7320 6d61 7070 6564 2074 6f20  r ids mapped to 
-00003c30: 7573 6572 206e 616d 6573 0a20 2020 2020  user names.     
-00003c40: 2020 2022 2222 0a0a 2020 2020 2020 2020     """..        
-00003c50: 7061 7261 6d73 203d 206f 6d65 726f 2e73  params = omero.s
-00003c60: 7973 2e50 6172 616d 6574 6572 7349 2829  ys.ParametersI()
-00003c70: 0a20 2020 2020 2020 2070 6172 616d 732e  .        params.
-00003c80: 6f72 7068 616e 2829 0a20 2020 2020 2020  orphan().       
-00003c90: 2070 6172 616d 732e 6d61 7020 3d20 7b7d   params.map = {}
-00003ca0: 0a20 2020 2020 2020 2070 6172 616d 732e  .        params.
-00003cb0: 6d61 705b 226e 7322 5d20 3d20 7273 7472  map["ns"] = rstr
-00003cc0: 696e 6728 6f6d 6572 6f2e 636f 6e73 7461  ing(omero.consta
-00003cd0: 6e74 732e 6d65 7461 6461 7461 2e4e 5349  nts.metadata.NSI
-00003ce0: 4e53 4947 4854 5441 4753 4554 290a 2020  NSIGHTTAGSET).  
-00003cf0: 2020 2020 2020 6966 2065 6964 2069 7320        if eid is 
-00003d00: 6e6f 7420 4e6f 6e65 3a0a 2020 2020 2020  not None:.      
-00003d10: 2020 2020 2020 7061 7261 6d73 2e6d 6170        params.map
-00003d20: 5b22 6569 6422 5d20 3d20 726c 6f6e 6728  ["eid"] = rlong(
-00003d30: 696e 7428 6569 6429 290a 0a20 2020 2020  int(eid))..     
-00003d40: 2020 2071 203d 2073 656c 662e 6765 7451     q = self.getQ
-00003d50: 7565 7279 5365 7276 6963 6528 290a 0a20  ueryService().. 
-00003d60: 2020 2020 2020 2069 6620 6f66 6673 6574         if offset
-00003d70: 2069 7320 6e6f 7420 4e6f 6e65 3a0a 2020   is not None:.  
-00003d80: 2020 2020 2020 2020 2020 7061 7261 6d73            params
-00003d90: 2e70 6167 6528 6f66 6673 6574 2c20 6c69  .page(offset, li
-00003da0: 6d69 7429 0a0a 2020 2020 2020 2020 7371  mit)..        sq
-00003db0: 6c20 3d20 2222 220a 2020 2020 2020 2020  l = """.        
-00003dc0: 2020 2020 7365 6c65 6374 2061 6e6e 2e69      select ann.i
-00003dd0: 642c 2061 6e6e 2e64 6573 6372 6970 7469  d, ann.descripti
-00003de0: 6f6e 2c20 616e 6e2e 7465 7874 5661 6c75  on, ann.textValu
-00003df0: 652c 2061 6e6e 2e6e 732c 0a20 2020 2020  e, ann.ns,.     
-00003e00: 2020 2020 2020 2061 6e6e 2e64 6574 6169         ann.detai
-00003e10: 6c73 2e6f 776e 6572 2e69 642c 0a20 2020  ls.owner.id,.   
-00003e20: 2020 2020 2020 2020 2061 6e6e 2e64 6574           ann.det
-00003e30: 6169 6c73 2e6f 776e 6572 2e66 6972 7374  ails.owner.first
-00003e40: 4e61 6d65 2c20 616e 6e2e 6465 7461 696c  Name, ann.detail
-00003e50: 732e 6f77 6e65 722e 6c61 7374 4e61 6d65  s.owner.lastName
-00003e60: 0a20 2020 2020 2020 2020 2020 2066 726f  .            fro
-00003e70: 6d20 5461 6741 6e6e 6f74 6174 696f 6e20  m TagAnnotation 
-00003e80: 616e 6e0a 2020 2020 2020 2020 2020 2020  ann.            
-00003e90: 2222 220a 2020 2020 2020 2020 6966 2065  """.        if e
-00003ea0: 6964 2069 7320 6e6f 7420 4e6f 6e65 3a0a  id is not None:.
-00003eb0: 2020 2020 2020 2020 2020 2020 7371 6c20              sql 
-00003ec0: 2b3d 2022 2077 6865 7265 2061 6e6e 2e64  += " where ann.d
-00003ed0: 6574 6169 6c73 2e6f 776e 6572 2e69 6420  etails.owner.id 
-00003ee0: 3d20 3a65 6964 220a 2020 2020 2020 2020  = :eid".        
-00003ef0: 7371 6c20 2b3d 2022 206f 7264 6572 2062  sql += " order b
-00003f00: 7920 616e 6e2e 6964 220a 0a20 2020 2020  y ann.id"..     
-00003f10: 2020 2074 6167 7320 3d20 5b5d 0a20 2020     tags = [].   
-00003f20: 2020 2020 206f 776e 6572 7320 3d20 6469       owners = di
-00003f30: 6374 2829 0a20 2020 2020 2020 2066 6f72  ct().        for
-00003f40: 2065 6c65 6d65 6e74 2069 6e20 712e 7072   element in q.pr
-00003f50: 6f6a 6563 7469 6f6e 2873 716c 2c20 7061  ojection(sql, pa
-00003f60: 7261 6d73 2c20 7365 6c66 2e53 4552 5649  rams, self.SERVI
-00003f70: 4345 5f4f 5054 5329 3a0a 2020 2020 2020  CE_OPTS):.      
-00003f80: 2020 2020 2020 7461 675f 6964 2c20 6465        tag_id, de
-00003f90: 7363 7269 7074 696f 6e2c 2074 6578 742c  scription, text,
-00003fa0: 206e 732c 206f 776e 6572 2c20 6669 7273   ns, owner, firs
-00003fb0: 742c 206c 6173 7420 3d20 6d61 7028 756e  t, last = map(un
-00003fc0: 7772 6170 2c20 656c 656d 656e 7429 0a20  wrap, element). 
-00003fd0: 2020 2020 2020 2020 2020 2074 6167 732e             tags.
-00003fe0: 6170 7065 6e64 280a 2020 2020 2020 2020  append(.        
-00003ff0: 2020 2020 2020 2020 5b0a 2020 2020 2020          [.      
-00004000: 2020 2020 2020 2020 2020 2020 2020 7461                ta
-00004010: 675f 6964 2c0a 2020 2020 2020 2020 2020  g_id,.          
-00004020: 2020 2020 2020 2020 2020 6465 7363 7269            descri
-00004030: 7074 696f 6e2c 0a20 2020 2020 2020 2020  ption,.         
-00004040: 2020 2020 2020 2020 2020 2074 6578 742c             text,
-00004050: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00004060: 2020 2020 206f 776e 6572 2c0a 2020 2020       owner,.    
-00004070: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004080: 2320 6966 2074 6167 7365 742c 206c 6973  # if tagset, lis
-00004090: 7420 746f 2062 6520 6669 6c6c 6564 2069  t to be filled i
-000040a0: 6e20 6c61 7465 722c 206f 7468 6572 7769  n later, otherwi
-000040b0: 7365 2030 0a20 2020 2020 2020 2020 2020  se 0.           
-000040c0: 2020 2020 2020 2020 205b 5d20 6966 206e           [] if n
-000040d0: 7320 3d3d 206f 6d65 726f 2e63 6f6e 7374  s == omero.const
-000040e0: 616e 7473 2e6d 6574 6164 6174 612e 4e53  ants.metadata.NS
-000040f0: 494e 5349 4748 5454 4147 5345 5420 656c  INSIGHTTAGSET el
-00004100: 7365 2030 2c0a 2020 2020 2020 2020 2020  se 0,.          
-00004110: 2020 2020 2020 5d0a 2020 2020 2020 2020        ].        
-00004120: 2020 2020 290a 2020 2020 2020 2020 2020      ).          
-00004130: 2020 6f77 6e65 7273 5b6f 776e 6572 5d20    owners[owner] 
-00004140: 3d20 2225 7320 2573 2220 2520 2866 6972  = "%s %s" % (fir
-00004150: 7374 2c20 6c61 7374 290a 0a20 2020 2020  st, last)..     
-00004160: 2020 2069 6473 203d 205b 7461 675b 305d     ids = [tag[0]
-00004170: 2066 6f72 2074 6167 2069 6e20 7461 6773   for tag in tags
-00004180: 5d0a 0a20 2020 2020 2020 2070 6172 616d  ]..        param
-00004190: 732e 6e6f 5061 6765 2829 0a20 2020 2020  s.noPage().     
-000041a0: 2020 2070 6172 616d 732e 6164 6449 6473     params.addIds
-000041b0: 2869 6473 290a 0a20 2020 2020 2020 2073  (ids)..        s
-000041c0: 716c 203d 2022 2222 0a20 2020 2020 2020  ql = """.       
-000041d0: 2020 2020 2073 656c 6563 7420 6161 6c2e       select aal.
-000041e0: 7061 7265 6e74 2e69 642c 2061 616c 2e63  parent.id, aal.c
-000041f0: 6869 6c64 2e69 640a 2020 2020 2020 2020  hild.id.        
-00004200: 2020 2020 6672 6f6d 2041 6e6e 6f74 6174      from Annotat
-00004210: 696f 6e41 6e6e 6f74 6174 696f 6e4c 696e  ionAnnotationLin
-00004220: 6b20 6161 6c0a 2020 2020 2020 2020 2020  k aal.          
-00004230: 2020 696e 6e65 7220 6a6f 696e 2061 616c    inner join aal
-00004240: 2e70 6172 656e 7420 616e 6e0a 2020 2020  .parent ann.    
-00004250: 2020 2020 2020 2020 7768 6572 6520 616e          where an
-00004260: 6e2e 6e73 3d3a 6e73 0a20 2020 2020 2020  n.ns=:ns.       
-00004270: 2020 2020 2061 6e64 2061 616c 2e70 6172       and aal.par
-00004280: 656e 742e 6964 2069 6e20 283a 6964 7329  ent.id in (:ids)
-00004290: 0a20 2020 2020 2020 2020 2020 2022 2222  .            """
-000042a0: 0a20 2020 2020 2020 2069 6620 6569 6420  .        if eid 
-000042b0: 6973 206e 6f74 204e 6f6e 653a 0a20 2020  is not None:.   
-000042c0: 2020 2020 2020 2020 2073 716c 202b 3d20           sql += 
-000042d0: 2220 616e 6420 616e 6e2e 6465 7461 696c  " and ann.detail
-000042e0: 732e 6f77 6e65 722e 6964 203d 203a 6569  s.owner.id = :ei
-000042f0: 6422 0a0a 2020 2020 2020 2020 6d61 7070  d"..        mapp
-00004300: 696e 6720 3d20 6469 6374 2829 0a20 2020  ing = dict().   
-00004310: 2020 2020 2069 6620 6964 733a 0a20 2020       if ids:.   
-00004320: 2020 2020 2020 2020 2066 6f72 2065 6c65           for ele
-00004330: 6d65 6e74 2069 6e20 712e 7072 6f6a 6563  ment in q.projec
-00004340: 7469 6f6e 2873 716c 2c20 7061 7261 6d73  tion(sql, params
-00004350: 2c20 7365 6c66 2e53 4552 5649 4345 5f4f  , self.SERVICE_O
-00004360: 5054 5329 3a0a 2020 2020 2020 2020 2020  PTS):.          
-00004370: 2020 2020 2020 7061 7265 6e74 203d 2075        parent = u
-00004380: 6e77 7261 7028 656c 656d 656e 745b 305d  nwrap(element[0]
-00004390: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
-000043a0: 2020 6368 696c 6420 3d20 756e 7772 6170    child = unwrap
-000043b0: 2865 6c65 6d65 6e74 5b31 5d29 0a20 2020  (element[1]).   
-000043c0: 2020 2020 2020 2020 2020 2020 206d 6170               map
-000043d0: 7069 6e67 2e73 6574 6465 6661 756c 7428  ping.setdefault(
-000043e0: 7061 7265 6e74 2c20 5b5d 292e 6170 7065  parent, []).appe
-000043f0: 6e64 2863 6869 6c64 290a 0a20 2020 2020  nd(child)..     
-00004400: 2020 2066 6f72 2069 6478 2069 6e20 7261     for idx in ra
-00004410: 6e67 6528 6c65 6e28 7461 6773 2929 3a0a  nge(len(tags)):.
-00004420: 2020 2020 2020 2020 2020 2020 6368 696c              chil
-00004430: 6472 656e 203d 206d 6170 7069 6e67 2e67  dren = mapping.g
-00004440: 6574 2874 6167 735b 6964 785d 5b30 5d29  et(tags[idx][0])
-00004450: 0a20 2020 2020 2020 2020 2020 2069 6620  .            if 
-00004460: 6368 696c 6472 656e 3a0a 2020 2020 2020  children:.      
-00004470: 2020 2020 2020 2020 2020 7461 6773 5b69            tags[i
-00004480: 6478 5d5b 345d 203d 2063 6869 6c64 7265  dx][4] = childre
-00004490: 6e0a 0a20 2020 2020 2020 2072 6574 7572  n..        retur
-000044a0: 6e20 7461 6773 2c20 6f77 6e65 7273 0a0a  n tags, owners..
-000044b0: 2020 2020 6465 6620 6765 7454 6167 436f      def getTagCo
-000044c0: 756e 7428 7365 6c66 2c20 6569 643d 4e6f  unt(self, eid=No
-000044d0: 6e65 293a 0a20 2020 2020 2020 2070 6172  ne):.        par
-000044e0: 616d 7320 3d20 6f6d 6572 6f2e 7379 732e  ams = omero.sys.
-000044f0: 5061 7261 6d65 7465 7273 4928 290a 2020  ParametersI().  
-00004500: 2020 2020 2020 7061 7261 6d73 2e6f 7270        params.orp
-00004510: 6861 6e28 290a 2020 2020 2020 2020 7061  han().        pa
-00004520: 7261 6d73 2e6d 6170 203d 207b 7d0a 0a20  rams.map = {}.. 
-00004530: 2020 2020 2020 2071 203d 2073 656c 662e         q = self.
-00004540: 6765 7451 7565 7279 5365 7276 6963 6528  getQueryService(
-00004550: 290a 0a20 2020 2020 2020 2073 716c 203d  )..        sql =
-00004560: 2022 2222 0a20 2020 2020 2020 2020 2020   """.           
-00004570: 2073 656c 6563 7420 636f 756e 7428 616e   select count(an
-00004580: 6e29 0a20 2020 2020 2020 2020 2020 2066  n).            f
-00004590: 726f 6d20 5461 6741 6e6e 6f74 6174 696f  rom TagAnnotatio
-000045a0: 6e20 616e 6e0a 2020 2020 2020 2020 2020  n ann.          
-000045b0: 2020 2222 220a 0a20 2020 2020 2020 2069    """..        i
-000045c0: 6620 6569 6420 6973 206e 6f74 204e 6f6e  f eid is not Non
-000045d0: 653a 0a20 2020 2020 2020 2020 2020 2070  e:.            p
-000045e0: 6172 616d 732e 6d61 705b 2265 6964 225d  arams.map["eid"]
-000045f0: 203d 2072 6c6f 6e67 2869 6e74 2865 6964   = rlong(int(eid
-00004600: 2929 0a20 2020 2020 2020 2020 2020 2073  )).            s
-00004610: 716c 202b 3d20 2220 7768 6572 6520 616e  ql += " where an
-00004620: 6e2e 6465 7461 696c 732e 6f77 6e65 722e  n.details.owner.
-00004630: 6964 203d 203a 6569 6422 0a0a 2020 2020  id = :eid"..    
-00004640: 2020 2020 7265 7475 726e 2075 6e77 7261      return unwra
-00004650: 7028 712e 7072 6f6a 6563 7469 6f6e 2873  p(q.projection(s
-00004660: 716c 2c20 7061 7261 6d73 2c20 7365 6c66  ql, params, self
-00004670: 2e53 4552 5649 4345 5f4f 5054 5329 5b30  .SERVICE_OPTS)[0
-00004680: 5d5b 305d 290a 0a20 2020 2064 6566 2063  ][0])..    def c
-00004690: 6f75 6e74 4f72 7068 616e 7328 7365 6c66  ountOrphans(self
-000046a0: 2c20 6f62 6a5f 7479 7065 2c20 6569 643d  , obj_type, eid=
-000046b0: 4e6f 6e65 293a 0a20 2020 2020 2020 206c  None):.        l
-000046c0: 696e 6b73 203d 207b 0a20 2020 2020 2020  inks = {.       
-000046d0: 2020 2020 2022 4461 7461 7365 7422 3a20       "Dataset": 
-000046e0: 2822 5072 6f6a 6563 7444 6174 6173 6574  ("ProjectDataset
-000046f0: 4c69 6e6b 222c 2044 6174 6173 6574 5772  Link", DatasetWr
-00004700: 6170 7065 7229 2c0a 2020 2020 2020 2020  apper),.        
-00004710: 2020 2020 2249 6d61 6765 223a 2028 2244      "Image": ("D
-00004720: 6174 6173 6574 496d 6167 654c 696e 6b22  atasetImageLink"
-00004730: 2c20 496d 6167 6557 7261 7070 6572 292c  , ImageWrapper),
-00004740: 0a20 2020 2020 2020 2020 2020 2022 506c  .            "Pl
-00004750: 6174 6522 3a20 2822 5363 7265 656e 506c  ate": ("ScreenPl
-00004760: 6174 654c 696e 6b22 2c20 506c 6174 6557  ateLink", PlateW
-00004770: 7261 7070 6572 292c 0a20 2020 2020 2020  rapper),.       
-00004780: 207d 0a0a 2020 2020 2020 2020 6966 206f   }..        if o
-00004790: 626a 5f74 7970 6520 6e6f 7420 696e 206c  bj_type not in l
-000047a0: 696e 6b73 3a0a 2020 2020 2020 2020 2020  inks:.          
-000047b0: 2020 7261 6973 6520 5479 7065 4572 726f    raise TypeErro
-000047c0: 7228 0a20 2020 2020 2020 2020 2020 2020  r(.             
-000047d0: 2020 2022 2725 7327 2069 7320 6e6f 7420     "'%s' is not 
-000047e0: 7661 6c69 6420 6f62 6a65 6374 2074 7970  valid object typ
-000047f0: 652e 204d 7573 7420 7573 6520 6f6e 6520  e. Must use one 
-00004800: 6f66 2025 7322 0a20 2020 2020 2020 2020  of %s".         
-00004810: 2020 2020 2020 2025 2028 6f62 6a5f 7479         % (obj_ty
-00004820: 7065 2c20 6c69 6e6b 732e 6b65 7973 2829  pe, links.keys()
-00004830: 290a 2020 2020 2020 2020 2020 2020 290a  ).            ).
-00004840: 0a20 2020 2020 2020 2071 203d 2073 656c  .        q = sel
-00004850: 662e 6765 7451 7565 7279 5365 7276 6963  f.getQueryServic
-00004860: 6528 290a 2020 2020 2020 2020 7020 3d20  e().        p = 
-00004870: 6f6d 6572 6f2e 7379 732e 5061 7261 6d65  omero.sys.Parame
-00004880: 7465 7273 2829 0a20 2020 2020 2020 2070  ters().        p
-00004890: 2e6d 6170 203d 207b 7d0a 0a20 2020 2020  .map = {}..     
-000048a0: 2020 206c 696e 6b73 203d 207b 0a20 2020     links = {.   
-000048b0: 2020 2020 2020 2020 2022 4461 7461 7365           "Datase
-000048c0: 7422 3a20 2822 5072 6f6a 6563 7444 6174  t": ("ProjectDat
-000048d0: 6173 6574 4c69 6e6b 222c 2044 6174 6173  asetLink", Datas
-000048e0: 6574 5772 6170 7065 7229 2c0a 2020 2020  etWrapper),.    
-000048f0: 2020 2020 2020 2020 2249 6d61 6765 223a          "Image":
-00004900: 2028 2244 6174 6173 6574 496d 6167 654c   ("DatasetImageL
-00004910: 696e 6b22 2c20 496d 6167 6557 7261 7070  ink", ImageWrapp
-00004920: 6572 292c 0a20 2020 2020 2020 2020 2020  er),.           
-00004930: 2022 506c 6174 6522 3a20 2822 5363 7265   "Plate": ("Scre
-00004940: 656e 506c 6174 654c 696e 6b22 2c20 506c  enPlateLink", Pl
-00004950: 6174 6557 7261 7070 6572 292c 0a20 2020  ateWrapper),.   
-00004960: 2020 2020 207d 0a0a 2020 2020 2020 2020       }..        
-00004970: 6966 206f 626a 5f74 7970 6520 6e6f 7420  if obj_type not 
-00004980: 696e 206c 696e 6b73 3a0a 2020 2020 2020  in links:.      
-00004990: 2020 2020 2020 7261 6973 6520 5479 7065        raise Type
-000049a0: 4572 726f 7228 0a20 2020 2020 2020 2020  Error(.         
-000049b0: 2020 2020 2020 2022 2725 7327 2069 7320         "'%s' is 
-000049c0: 6e6f 7420 7661 6c69 6420 6f62 6a65 6374  not valid object
-000049d0: 2074 7970 652e 204d 7573 7420 7573 6520   type. Must use 
-000049e0: 6f6e 6520 6f66 2025 7322 0a20 2020 2020  one of %s".     
-000049f0: 2020 2020 2020 2020 2020 2025 2028 6f62             % (ob
-00004a00: 6a5f 7479 7065 2c20 6c69 6e6b 732e 6b65  j_type, links.ke
-00004a10: 7973 2829 290a 2020 2020 2020 2020 2020  ys()).          
-00004a20: 2020 290a 0a20 2020 2020 2020 2071 203d    )..        q =
-00004a30: 2073 656c 662e 6765 7451 7565 7279 5365   self.getQuerySe
-00004a40: 7276 6963 6528 290a 2020 2020 2020 2020  rvice().        
-00004a50: 7020 3d20 6f6d 6572 6f2e 7379 732e 5061  p = omero.sys.Pa
-00004a60: 7261 6d65 7465 7273 2829 0a20 2020 2020  rameters().     
-00004a70: 2020 2070 2e6d 6170 203d 207b 7d0a 0a20     p.map = {}.. 
-00004a80: 2020 2020 2020 2069 6620 6569 6420 6973         if eid is
-00004a90: 206e 6f74 204e 6f6e 653a 0a20 2020 2020   not None:.     
-00004aa0: 2020 2020 2020 2070 2e6d 6170 5b22 6569         p.map["ei
-00004ab0: 6422 5d20 3d20 726c 6f6e 6728 696e 7428  d"] = rlong(int(
-00004ac0: 6569 6429 290a 2020 2020 2020 2020 2020  eid)).          
-00004ad0: 2020 6569 6446 696c 7465 7220 3d20 226f    eidFilter = "o
-00004ae0: 626a 2e64 6574 6169 6c73 2e6f 776e 6572  bj.details.owner
-00004af0: 2e69 643d 3a65 6964 2061 6e64 2022 0a20  .id=:eid and ". 
-00004b00: 2020 2020 2020 2020 2020 2065 6964 5773             eidWs
-00004b10: 4669 6c74 6572 203d 2022 2061 6e64 2077  Filter = " and w
-00004b20: 732e 6465 7461 696c 732e 6f77 6e65 722e  s.details.owner.
-00004b30: 6964 3d3a 6569 6422 0a20 2020 2020 2020  id=:eid".       
-00004b40: 2065 6c73 653a 0a20 2020 2020 2020 2020   else:.         
-00004b50: 2020 2065 6964 4669 6c74 6572 203d 2022     eidFilter = "
-00004b60: 220a 2020 2020 2020 2020 2020 2020 6569  ".            ei
-00004b70: 6457 7346 696c 7465 7220 3d20 2222 0a0a  dWsFilter = ""..
-00004b80: 2020 2020 2020 2020 7371 6c20 3d20 280a          sql = (.
-00004b90: 2020 2020 2020 2020 2020 2020 2273 656c              "sel
-00004ba0: 6563 7420 636f 756e 7428 6f62 6a2e 6964  ect count(obj.id
-00004bb0: 2920 6672 6f6d 2025 7320 6173 206f 626a  ) from %s as obj
-00004bc0: 2022 0a20 2020 2020 2020 2020 2020 2022   ".            "
-00004bd0: 6a6f 696e 206f 626a 2e64 6574 6169 6c73  join obj.details
-00004be0: 2e63 7265 6174 696f 6e45 7665 6e74 2022  .creationEvent "
+00003710: 2323 2323 2323 2323 2323 2323 2323 2323  ################
+00003720: 2323 2323 2323 2323 2323 2323 2323 2323  ################
+00003730: 2323 2323 2323 2323 2323 2323 2323 0a20  ##############. 
+00003740: 2020 2023 2020 2043 6f6e 7461 696e 6572     #   Container
+00003750: 2051 7565 7269 6573 2020 2020 2020 2020   Queries        
+00003760: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00003770: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00003780: 2020 2020 2020 2020 2020 2020 230a 2020              #.  
+00003790: 2020 2323 2323 2323 2323 2323 2323 2323    ##############
+000037a0: 2323 2323 2323 2323 2323 2323 2323 2323  ################
+000037b0: 2323 2323 2323 2323 2323 2323 2323 2323  ################
+000037c0: 2323 2323 2323 2323 2323 2323 2323 2323  ################
+000037d0: 2323 2323 2323 2323 2323 2323 0a0a 2020  ############..  
+000037e0: 2020 6465 6620 6c69 7374 5461 6773 2873    def listTags(s
+000037f0: 656c 662c 2065 6964 3d4e 6f6e 6529 3a0a  elf, eid=None):.
+00003800: 2020 2020 2020 2020 7061 7261 6d73 203d          params =
+00003810: 206f 6d65 726f 2e73 7973 2e50 6172 616d   omero.sys.Param
+00003820: 6574 6572 7349 2829 0a20 2020 2020 2020  etersI().       
+00003830: 2070 6172 616d 732e 6f72 7068 616e 2829   params.orphan()
+00003840: 0a20 2020 2020 2020 2070 6172 616d 732e  .        params.
+00003850: 6d61 7020 3d20 7b7d 0a20 2020 2020 2020  map = {}.       
+00003860: 2070 6172 616d 732e 6d61 705b 226e 7322   params.map["ns"
+00003870: 5d20 3d20 7273 7472 696e 6728 6f6d 6572  ] = rstring(omer
+00003880: 6f2e 636f 6e73 7461 6e74 732e 6d65 7461  o.constants.meta
+00003890: 6461 7461 2e4e 5349 4e53 4947 4854 5441  data.NSINSIGHTTA
+000038a0: 4753 4554 290a 0a20 2020 2020 2020 2073  GSET)..        s
+000038b0: 716c 203d 2028 0a20 2020 2020 2020 2020  ql = (.         
+000038c0: 2020 2022 7365 6c65 6374 2074 6720 6672     "select tg fr
+000038d0: 6f6d 2054 6167 416e 6e6f 7461 7469 6f6e  om TagAnnotation
+000038e0: 2074 6722 0a20 2020 2020 2020 2020 2020   tg".           
+000038f0: 2022 2077 6865 7265 2028 286e 733d 3a6e   " where ((ns=:n
+00003900: 7329 220a 2020 2020 2020 2020 2020 2020  s)".            
+00003910: 226f 7220 286e 6f74 2065 7869 7374 7320  "or (not exists 
+00003920: 2820 7365 6c65 6374 2061 616c 2066 726f  ( select aal fro
+00003930: 6d20 416e 6e6f 7461 7469 6f6e 416e 6e6f  m AnnotationAnno
+00003940: 7461 7469 6f6e 4c69 6e6b 220a 2020 2020  tationLink".    
+00003950: 2020 2020 2020 2020 2220 6173 2061 616c          " as aal
+00003960: 2077 6865 7265 2061 616c 2e63 6869 6c64   where aal.child
+00003970: 3d74 672e 6964 2929 2920 220a 2020 2020  =tg.id))) ".    
+00003980: 2020 2020 290a 2020 2020 2020 2020 6966      ).        if
+00003990: 2065 6964 2069 7320 6e6f 7420 4e6f 6e65   eid is not None
+000039a0: 3a0a 2020 2020 2020 2020 2020 2020 7061  :.            pa
+000039b0: 7261 6d73 2e6d 6170 5b22 6569 6422 5d20  rams.map["eid"] 
+000039c0: 3d20 726c 6f6e 6728 696e 7428 6569 6429  = rlong(int(eid)
+000039d0: 290a 2020 2020 2020 2020 2020 2020 7371  ).            sq
+000039e0: 6c20 2b3d 2022 2061 6e64 2074 672e 6465  l += " and tg.de
+000039f0: 7461 696c 732e 6f77 6e65 722e 6964 203d  tails.owner.id =
+00003a00: 203a 6569 6422 0a0a 2020 2020 2020 2020   :eid"..        
+00003a10: 7120 3d20 7365 6c66 2e67 6574 5175 6572  q = self.getQuer
+00003a20: 7953 6572 7669 6365 2829 0a20 2020 2020  yService().     
+00003a30: 2020 2066 6f72 2061 6e6e 2069 6e20 712e     for ann in q.
+00003a40: 6669 6e64 416c 6c42 7951 7565 7279 2873  findAllByQuery(s
+00003a50: 716c 2c20 7061 7261 6d73 2c20 7365 6c66  ql, params, self
+00003a60: 2e53 4552 5649 4345 5f4f 5054 5329 3a0a  .SERVICE_OPTS):.
+00003a70: 2020 2020 2020 2020 2020 2020 7969 656c              yiel
+00003a80: 6420 6f6d 6572 6f2e 6761 7465 7761 792e  d omero.gateway.
+00003a90: 5461 6741 6e6e 6f74 6174 696f 6e57 7261  TagAnnotationWra
+00003aa0: 7070 6572 2873 656c 662c 2061 6e6e 290a  pper(self, ann).
+00003ab0: 0a20 2020 2064 6566 206c 6973 7454 6167  .    def listTag
+00003ac0: 7352 6563 7572 7369 7665 2873 656c 662c  sRecursive(self,
+00003ad0: 2065 6964 3d4e 6f6e 652c 206f 6666 7365   eid=None, offse
+00003ae0: 743d 4e6f 6e65 2c20 6c69 6d69 743d 3130  t=None, limit=10
+00003af0: 3030 293a 0a20 2020 2020 2020 2022 2222  00):.        """
+00003b00: 0a20 2020 2020 2020 2052 6574 7572 6e73  .        Returns
+00003b10: 2061 2074 776f 2d65 6c65 6d65 6e74 2074   a two-element t
+00003b20: 7570 6c65 3a0a 2020 2020 2020 2020 2a20  uple:.        * 
+00003b30: 4120 6c69 7374 206f 6620 7461 6773 2c20  A list of tags, 
+00003b40: 7768 6572 6520 6561 6368 2074 6167 2069  where each tag i
+00003b50: 7320 6120 6c69 7374 2077 6974 6820 7468  s a list with th
+00003b60: 6520 666f 6c6c 6f77 696e 670a 2020 2020  e following.    
+00003b70: 2020 2020 2020 656c 656d 656e 7473 3a0a        elements:.
+00003b80: 2020 2020 2020 2020 2020 303a 2069 640a            0: id.
+00003b90: 2020 2020 2020 2020 2020 313a 2064 6573            1: des
+00003ba0: 6372 6970 7469 6f6e 0a20 2020 2020 2020  cription.       
+00003bb0: 2020 2032 3a20 7465 7874 0a20 2020 2020     2: text.     
+00003bc0: 2020 2020 2033 3a20 6f77 6e65 7220 6964       3: owner id
+00003bd0: 0a20 2020 2020 2020 2020 2034 3a20 6c69  .          4: li
+00003be0: 7374 206f 6620 6368 696c 6420 7461 6720  st of child tag 
+00003bf0: 6964 7320 2870 6f73 7369 626c 7920 656d  ids (possibly em
+00003c00: 7074 7929 2c20 6f72 2030 2069 6620 7468  pty), or 0 if th
+00003c10: 6973 2069 7320 6e6f 7420 6120 7461 670a  is is not a tag.
+00003c20: 2020 2020 2020 2020 2020 2020 2073 6574               set
+00003c30: 0a20 2020 2020 2020 202a 2041 2064 6963  .        * A dic
+00003c40: 7469 6f6e 6172 7920 6f66 2075 7365 7220  tionary of user 
+00003c50: 6964 7320 6d61 7070 6564 2074 6f20 7573  ids mapped to us
+00003c60: 6572 206e 616d 6573 0a20 2020 2020 2020  er names.       
+00003c70: 2022 2222 0a0a 2020 2020 2020 2020 7061   """..        pa
+00003c80: 7261 6d73 203d 206f 6d65 726f 2e73 7973  rams = omero.sys
+00003c90: 2e50 6172 616d 6574 6572 7349 2829 0a20  .ParametersI(). 
+00003ca0: 2020 2020 2020 2070 6172 616d 732e 6f72         params.or
+00003cb0: 7068 616e 2829 0a20 2020 2020 2020 2070  phan().        p
+00003cc0: 6172 616d 732e 6d61 7020 3d20 7b7d 0a20  arams.map = {}. 
+00003cd0: 2020 2020 2020 2070 6172 616d 732e 6d61         params.ma
+00003ce0: 705b 226e 7322 5d20 3d20 7273 7472 696e  p["ns"] = rstrin
+00003cf0: 6728 6f6d 6572 6f2e 636f 6e73 7461 6e74  g(omero.constant
+00003d00: 732e 6d65 7461 6461 7461 2e4e 5349 4e53  s.metadata.NSINS
+00003d10: 4947 4854 5441 4753 4554 290a 2020 2020  IGHTTAGSET).    
+00003d20: 2020 2020 6966 2065 6964 2069 7320 6e6f      if eid is no
+00003d30: 7420 4e6f 6e65 3a0a 2020 2020 2020 2020  t None:.        
+00003d40: 2020 2020 7061 7261 6d73 2e6d 6170 5b22      params.map["
+00003d50: 6569 6422 5d20 3d20 726c 6f6e 6728 696e  eid"] = rlong(in
+00003d60: 7428 6569 6429 290a 0a20 2020 2020 2020  t(eid))..       
+00003d70: 2071 203d 2073 656c 662e 6765 7451 7565   q = self.getQue
+00003d80: 7279 5365 7276 6963 6528 290a 0a20 2020  ryService()..   
+00003d90: 2020 2020 2069 6620 6f66 6673 6574 2069       if offset i
+00003da0: 7320 6e6f 7420 4e6f 6e65 3a0a 2020 2020  s not None:.    
+00003db0: 2020 2020 2020 2020 7061 7261 6d73 2e70          params.p
+00003dc0: 6167 6528 6f66 6673 6574 2c20 6c69 6d69  age(offset, limi
+00003dd0: 7429 0a0a 2020 2020 2020 2020 7371 6c20  t)..        sql 
+00003de0: 3d20 2222 220a 2020 2020 2020 2020 2020  = """.          
+00003df0: 2020 7365 6c65 6374 2061 6e6e 2e69 642c    select ann.id,
+00003e00: 2061 6e6e 2e64 6573 6372 6970 7469 6f6e   ann.description
+00003e10: 2c20 616e 6e2e 7465 7874 5661 6c75 652c  , ann.textValue,
+00003e20: 2061 6e6e 2e6e 732c 0a20 2020 2020 2020   ann.ns,.       
+00003e30: 2020 2020 2061 6e6e 2e64 6574 6169 6c73       ann.details
+00003e40: 2e6f 776e 6572 2e69 642c 0a20 2020 2020  .owner.id,.     
+00003e50: 2020 2020 2020 2061 6e6e 2e64 6574 6169         ann.detai
+00003e60: 6c73 2e6f 776e 6572 2e66 6972 7374 4e61  ls.owner.firstNa
+00003e70: 6d65 2c20 616e 6e2e 6465 7461 696c 732e  me, ann.details.
+00003e80: 6f77 6e65 722e 6c61 7374 4e61 6d65 0a20  owner.lastName. 
+00003e90: 2020 2020 2020 2020 2020 2066 726f 6d20             from 
+00003ea0: 5461 6741 6e6e 6f74 6174 696f 6e20 616e  TagAnnotation an
+00003eb0: 6e0a 2020 2020 2020 2020 2020 2020 2222  n.            ""
+00003ec0: 220a 2020 2020 2020 2020 6966 2065 6964  ".        if eid
+00003ed0: 2069 7320 6e6f 7420 4e6f 6e65 3a0a 2020   is not None:.  
+00003ee0: 2020 2020 2020 2020 2020 7371 6c20 2b3d            sql +=
+00003ef0: 2022 2077 6865 7265 2061 6e6e 2e64 6574   " where ann.det
+00003f00: 6169 6c73 2e6f 776e 6572 2e69 6420 3d20  ails.owner.id = 
+00003f10: 3a65 6964 220a 2020 2020 2020 2020 7371  :eid".        sq
+00003f20: 6c20 2b3d 2022 206f 7264 6572 2062 7920  l += " order by 
+00003f30: 616e 6e2e 6964 220a 0a20 2020 2020 2020  ann.id"..       
+00003f40: 2074 6167 7320 3d20 5b5d 0a20 2020 2020   tags = [].     
+00003f50: 2020 206f 776e 6572 7320 3d20 6469 6374     owners = dict
+00003f60: 2829 0a20 2020 2020 2020 2066 6f72 2065  ().        for e
+00003f70: 6c65 6d65 6e74 2069 6e20 712e 7072 6f6a  lement in q.proj
+00003f80: 6563 7469 6f6e 2873 716c 2c20 7061 7261  ection(sql, para
+00003f90: 6d73 2c20 7365 6c66 2e53 4552 5649 4345  ms, self.SERVICE
+00003fa0: 5f4f 5054 5329 3a0a 2020 2020 2020 2020  _OPTS):.        
+00003fb0: 2020 2020 7461 675f 6964 2c20 6465 7363      tag_id, desc
+00003fc0: 7269 7074 696f 6e2c 2074 6578 742c 206e  ription, text, n
+00003fd0: 732c 206f 776e 6572 2c20 6669 7273 742c  s, owner, first,
+00003fe0: 206c 6173 7420 3d20 6d61 7028 756e 7772   last = map(unwr
+00003ff0: 6170 2c20 656c 656d 656e 7429 0a20 2020  ap, element).   
+00004000: 2020 2020 2020 2020 2074 6167 732e 6170           tags.ap
+00004010: 7065 6e64 280a 2020 2020 2020 2020 2020  pend(.          
+00004020: 2020 2020 2020 5b0a 2020 2020 2020 2020        [.        
+00004030: 2020 2020 2020 2020 2020 2020 7461 675f              tag_
+00004040: 6964 2c0a 2020 2020 2020 2020 2020 2020  id,.            
+00004050: 2020 2020 2020 2020 6465 7363 7269 7074          descript
+00004060: 696f 6e2c 0a20 2020 2020 2020 2020 2020  ion,.           
+00004070: 2020 2020 2020 2020 2074 6578 742c 0a20           text,. 
+00004080: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00004090: 2020 206f 776e 6572 2c0a 2020 2020 2020     owner,.      
+000040a0: 2020 2020 2020 2020 2020 2020 2020 2320                # 
+000040b0: 6966 2074 6167 7365 742c 206c 6973 7420  if tagset, list 
+000040c0: 746f 2062 6520 6669 6c6c 6564 2069 6e20  to be filled in 
+000040d0: 6c61 7465 722c 206f 7468 6572 7769 7365  later, otherwise
+000040e0: 2030 0a20 2020 2020 2020 2020 2020 2020   0.             
+000040f0: 2020 2020 2020 205b 5d20 6966 206e 7320         [] if ns 
+00004100: 3d3d 206f 6d65 726f 2e63 6f6e 7374 616e  == omero.constan
+00004110: 7473 2e6d 6574 6164 6174 612e 4e53 494e  ts.metadata.NSIN
+00004120: 5349 4748 5454 4147 5345 5420 656c 7365  SIGHTTAGSET else
+00004130: 2030 2c0a 2020 2020 2020 2020 2020 2020   0,.            
+00004140: 2020 2020 5d0a 2020 2020 2020 2020 2020      ].          
+00004150: 2020 290a 2020 2020 2020 2020 2020 2020    ).            
+00004160: 6f77 6e65 7273 5b6f 776e 6572 5d20 3d20  owners[owner] = 
+00004170: 2225 7320 2573 2220 2520 2866 6972 7374  "%s %s" % (first
+00004180: 2c20 6c61 7374 290a 0a20 2020 2020 2020  , last)..       
+00004190: 2069 6473 203d 205b 7461 675b 305d 2066   ids = [tag[0] f
+000041a0: 6f72 2074 6167 2069 6e20 7461 6773 5d0a  or tag in tags].
+000041b0: 0a20 2020 2020 2020 2070 6172 616d 732e  .        params.
+000041c0: 6e6f 5061 6765 2829 0a20 2020 2020 2020  noPage().       
+000041d0: 2070 6172 616d 732e 6164 6449 6473 2869   params.addIds(i
+000041e0: 6473 290a 0a20 2020 2020 2020 2073 716c  ds)..        sql
+000041f0: 203d 2022 2222 0a20 2020 2020 2020 2020   = """.         
+00004200: 2020 2073 656c 6563 7420 6161 6c2e 7061     select aal.pa
+00004210: 7265 6e74 2e69 642c 2061 616c 2e63 6869  rent.id, aal.chi
+00004220: 6c64 2e69 640a 2020 2020 2020 2020 2020  ld.id.          
+00004230: 2020 6672 6f6d 2041 6e6e 6f74 6174 696f    from Annotatio
+00004240: 6e41 6e6e 6f74 6174 696f 6e4c 696e 6b20  nAnnotationLink 
+00004250: 6161 6c0a 2020 2020 2020 2020 2020 2020  aal.            
+00004260: 696e 6e65 7220 6a6f 696e 2061 616c 2e70  inner join aal.p
+00004270: 6172 656e 7420 616e 6e0a 2020 2020 2020  arent ann.      
+00004280: 2020 2020 2020 7768 6572 6520 616e 6e2e        where ann.
+00004290: 6e73 3d3a 6e73 0a20 2020 2020 2020 2020  ns=:ns.         
+000042a0: 2020 2061 6e64 2061 616c 2e70 6172 656e     and aal.paren
+000042b0: 742e 6964 2069 6e20 283a 6964 7329 0a20  t.id in (:ids). 
+000042c0: 2020 2020 2020 2020 2020 2022 2222 0a20             """. 
+000042d0: 2020 2020 2020 2069 6620 6569 6420 6973         if eid is
+000042e0: 206e 6f74 204e 6f6e 653a 0a20 2020 2020   not None:.     
+000042f0: 2020 2020 2020 2073 716c 202b 3d20 2220         sql += " 
+00004300: 616e 6420 616e 6e2e 6465 7461 696c 732e  and ann.details.
+00004310: 6f77 6e65 722e 6964 203d 203a 6569 6422  owner.id = :eid"
+00004320: 0a0a 2020 2020 2020 2020 6d61 7070 696e  ..        mappin
+00004330: 6720 3d20 6469 6374 2829 0a20 2020 2020  g = dict().     
+00004340: 2020 2069 6620 6964 733a 0a20 2020 2020     if ids:.     
+00004350: 2020 2020 2020 2066 6f72 2065 6c65 6d65         for eleme
+00004360: 6e74 2069 6e20 712e 7072 6f6a 6563 7469  nt in q.projecti
+00004370: 6f6e 2873 716c 2c20 7061 7261 6d73 2c20  on(sql, params, 
+00004380: 7365 6c66 2e53 4552 5649 4345 5f4f 5054  self.SERVICE_OPT
+00004390: 5329 3a0a 2020 2020 2020 2020 2020 2020  S):.            
+000043a0: 2020 2020 7061 7265 6e74 203d 2075 6e77      parent = unw
+000043b0: 7261 7028 656c 656d 656e 745b 305d 290a  rap(element[0]).
+000043c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000043d0: 6368 696c 6420 3d20 756e 7772 6170 2865  child = unwrap(e
+000043e0: 6c65 6d65 6e74 5b31 5d29 0a20 2020 2020  lement[1]).     
+000043f0: 2020 2020 2020 2020 2020 206d 6170 7069             mappi
+00004400: 6e67 2e73 6574 6465 6661 756c 7428 7061  ng.setdefault(pa
+00004410: 7265 6e74 2c20 5b5d 292e 6170 7065 6e64  rent, []).append
+00004420: 2863 6869 6c64 290a 0a20 2020 2020 2020  (child)..       
+00004430: 2066 6f72 2069 6478 2069 6e20 7261 6e67   for idx in rang
+00004440: 6528 6c65 6e28 7461 6773 2929 3a0a 2020  e(len(tags)):.  
+00004450: 2020 2020 2020 2020 2020 6368 696c 6472            childr
+00004460: 656e 203d 206d 6170 7069 6e67 2e67 6574  en = mapping.get
+00004470: 2874 6167 735b 6964 785d 5b30 5d29 0a20  (tags[idx][0]). 
+00004480: 2020 2020 2020 2020 2020 2069 6620 6368             if ch
+00004490: 696c 6472 656e 3a0a 2020 2020 2020 2020  ildren:.        
+000044a0: 2020 2020 2020 2020 7461 6773 5b69 6478          tags[idx
+000044b0: 5d5b 345d 203d 2063 6869 6c64 7265 6e0a  ][4] = children.
+000044c0: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
+000044d0: 7461 6773 2c20 6f77 6e65 7273 0a0a 2020  tags, owners..  
+000044e0: 2020 6465 6620 6765 7454 6167 436f 756e    def getTagCoun
+000044f0: 7428 7365 6c66 2c20 6569 643d 4e6f 6e65  t(self, eid=None
+00004500: 293a 0a20 2020 2020 2020 2070 6172 616d  ):.        param
+00004510: 7320 3d20 6f6d 6572 6f2e 7379 732e 5061  s = omero.sys.Pa
+00004520: 7261 6d65 7465 7273 4928 290a 2020 2020  rametersI().    
+00004530: 2020 2020 7061 7261 6d73 2e6f 7270 6861      params.orpha
+00004540: 6e28 290a 2020 2020 2020 2020 7061 7261  n().        para
+00004550: 6d73 2e6d 6170 203d 207b 7d0a 0a20 2020  ms.map = {}..   
+00004560: 2020 2020 2071 203d 2073 656c 662e 6765       q = self.ge
+00004570: 7451 7565 7279 5365 7276 6963 6528 290a  tQueryService().
+00004580: 0a20 2020 2020 2020 2073 716c 203d 2022  .        sql = "
+00004590: 2222 0a20 2020 2020 2020 2020 2020 2073  "".            s
+000045a0: 656c 6563 7420 636f 756e 7428 616e 6e29  elect count(ann)
+000045b0: 0a20 2020 2020 2020 2020 2020 2066 726f  .            fro
+000045c0: 6d20 5461 6741 6e6e 6f74 6174 696f 6e20  m TagAnnotation 
+000045d0: 616e 6e0a 2020 2020 2020 2020 2020 2020  ann.            
+000045e0: 2222 220a 0a20 2020 2020 2020 2069 6620  """..        if 
+000045f0: 6569 6420 6973 206e 6f74 204e 6f6e 653a  eid is not None:
+00004600: 0a20 2020 2020 2020 2020 2020 2070 6172  .            par
+00004610: 616d 732e 6d61 705b 2265 6964 225d 203d  ams.map["eid"] =
+00004620: 2072 6c6f 6e67 2869 6e74 2865 6964 2929   rlong(int(eid))
+00004630: 0a20 2020 2020 2020 2020 2020 2073 716c  .            sql
+00004640: 202b 3d20 2220 7768 6572 6520 616e 6e2e   += " where ann.
+00004650: 6465 7461 696c 732e 6f77 6e65 722e 6964  details.owner.id
+00004660: 203d 203a 6569 6422 0a0a 2020 2020 2020   = :eid"..      
+00004670: 2020 7265 7475 726e 2075 6e77 7261 7028    return unwrap(
+00004680: 712e 7072 6f6a 6563 7469 6f6e 2873 716c  q.projection(sql
+00004690: 2c20 7061 7261 6d73 2c20 7365 6c66 2e53  , params, self.S
+000046a0: 4552 5649 4345 5f4f 5054 5329 5b30 5d5b  ERVICE_OPTS)[0][
+000046b0: 305d 290a 0a20 2020 2064 6566 2063 6f75  0])..    def cou
+000046c0: 6e74 4f72 7068 616e 7328 7365 6c66 2c20  ntOrphans(self, 
+000046d0: 6f62 6a5f 7479 7065 2c20 6569 643d 4e6f  obj_type, eid=No
+000046e0: 6e65 293a 0a20 2020 2020 2020 206c 696e  ne):.        lin
+000046f0: 6b73 203d 207b 0a20 2020 2020 2020 2020  ks = {.         
+00004700: 2020 2022 4461 7461 7365 7422 3a20 2822     "Dataset": ("
+00004710: 5072 6f6a 6563 7444 6174 6173 6574 4c69  ProjectDatasetLi
+00004720: 6e6b 222c 2044 6174 6173 6574 5772 6170  nk", DatasetWrap
+00004730: 7065 7229 2c0a 2020 2020 2020 2020 2020  per),.          
+00004740: 2020 2249 6d61 6765 223a 2028 2244 6174    "Image": ("Dat
+00004750: 6173 6574 496d 6167 654c 696e 6b22 2c20  asetImageLink", 
+00004760: 496d 6167 6557 7261 7070 6572 292c 0a20  ImageWrapper),. 
+00004770: 2020 2020 2020 2020 2020 2022 506c 6174             "Plat
+00004780: 6522 3a20 2822 5363 7265 656e 506c 6174  e": ("ScreenPlat
+00004790: 654c 696e 6b22 2c20 506c 6174 6557 7261  eLink", PlateWra
+000047a0: 7070 6572 292c 0a20 2020 2020 2020 207d  pper),.        }
+000047b0: 0a0a 2020 2020 2020 2020 6966 206f 626a  ..        if obj
+000047c0: 5f74 7970 6520 6e6f 7420 696e 206c 696e  _type not in lin
+000047d0: 6b73 3a0a 2020 2020 2020 2020 2020 2020  ks:.            
+000047e0: 7261 6973 6520 5479 7065 4572 726f 7228  raise TypeError(
+000047f0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00004800: 2022 2725 7327 2069 7320 6e6f 7420 7661   "'%s' is not va
+00004810: 6c69 6420 6f62 6a65 6374 2074 7970 652e  lid object type.
+00004820: 204d 7573 7420 7573 6520 6f6e 6520 6f66   Must use one of
+00004830: 2025 7322 0a20 2020 2020 2020 2020 2020   %s".           
+00004840: 2020 2020 2025 2028 6f62 6a5f 7479 7065       % (obj_type
+00004850: 2c20 6c69 6e6b 732e 6b65 7973 2829 290a  , links.keys()).
+00004860: 2020 2020 2020 2020 2020 2020 290a 0a20              ).. 
+00004870: 2020 2020 2020 2071 203d 2073 656c 662e         q = self.
+00004880: 6765 7451 7565 7279 5365 7276 6963 6528  getQueryService(
+00004890: 290a 2020 2020 2020 2020 7020 3d20 6f6d  ).        p = om
+000048a0: 6572 6f2e 7379 732e 5061 7261 6d65 7465  ero.sys.Paramete
+000048b0: 7273 2829 0a20 2020 2020 2020 2070 2e6d  rs().        p.m
+000048c0: 6170 203d 207b 7d0a 0a20 2020 2020 2020  ap = {}..       
+000048d0: 206c 696e 6b73 203d 207b 0a20 2020 2020   links = {.     
+000048e0: 2020 2020 2020 2022 4461 7461 7365 7422         "Dataset"
+000048f0: 3a20 2822 5072 6f6a 6563 7444 6174 6173  : ("ProjectDatas
+00004900: 6574 4c69 6e6b 222c 2044 6174 6173 6574  etLink", Dataset
+00004910: 5772 6170 7065 7229 2c0a 2020 2020 2020  Wrapper),.      
+00004920: 2020 2020 2020 2249 6d61 6765 223a 2028        "Image": (
+00004930: 2244 6174 6173 6574 496d 6167 654c 696e  "DatasetImageLin
+00004940: 6b22 2c20 496d 6167 6557 7261 7070 6572  k", ImageWrapper
+00004950: 292c 0a20 2020 2020 2020 2020 2020 2022  ),.            "
+00004960: 506c 6174 6522 3a20 2822 5363 7265 656e  Plate": ("Screen
+00004970: 506c 6174 654c 696e 6b22 2c20 506c 6174  PlateLink", Plat
+00004980: 6557 7261 7070 6572 292c 0a20 2020 2020  eWrapper),.     
+00004990: 2020 207d 0a0a 2020 2020 2020 2020 6966     }..        if
+000049a0: 206f 626a 5f74 7970 6520 6e6f 7420 696e   obj_type not in
+000049b0: 206c 696e 6b73 3a0a 2020 2020 2020 2020   links:.        
+000049c0: 2020 2020 7261 6973 6520 5479 7065 4572      raise TypeEr
+000049d0: 726f 7228 0a20 2020 2020 2020 2020 2020  ror(.           
+000049e0: 2020 2020 2022 2725 7327 2069 7320 6e6f       "'%s' is no
+000049f0: 7420 7661 6c69 6420 6f62 6a65 6374 2074  t valid object t
+00004a00: 7970 652e 204d 7573 7420 7573 6520 6f6e  ype. Must use on
+00004a10: 6520 6f66 2025 7322 0a20 2020 2020 2020  e of %s".       
+00004a20: 2020 2020 2020 2020 2025 2028 6f62 6a5f           % (obj_
+00004a30: 7479 7065 2c20 6c69 6e6b 732e 6b65 7973  type, links.keys
+00004a40: 2829 290a 2020 2020 2020 2020 2020 2020  ()).            
+00004a50: 290a 0a20 2020 2020 2020 2071 203d 2073  )..        q = s
+00004a60: 656c 662e 6765 7451 7565 7279 5365 7276  elf.getQueryServ
+00004a70: 6963 6528 290a 2020 2020 2020 2020 7020  ice().        p 
+00004a80: 3d20 6f6d 6572 6f2e 7379 732e 5061 7261  = omero.sys.Para
+00004a90: 6d65 7465 7273 2829 0a20 2020 2020 2020  meters().       
+00004aa0: 2070 2e6d 6170 203d 207b 7d0a 0a20 2020   p.map = {}..   
+00004ab0: 2020 2020 2069 6620 6569 6420 6973 206e       if eid is n
+00004ac0: 6f74 204e 6f6e 653a 0a20 2020 2020 2020  ot None:.       
+00004ad0: 2020 2020 2070 2e6d 6170 5b22 6569 6422       p.map["eid"
+00004ae0: 5d20 3d20 726c 6f6e 6728 696e 7428 6569  ] = rlong(int(ei
+00004af0: 6429 290a 2020 2020 2020 2020 2020 2020  d)).            
+00004b00: 6569 6446 696c 7465 7220 3d20 226f 626a  eidFilter = "obj
+00004b10: 2e64 6574 6169 6c73 2e6f 776e 6572 2e69  .details.owner.i
+00004b20: 643d 3a65 6964 2061 6e64 2022 0a20 2020  d=:eid and ".   
+00004b30: 2020 2020 2020 2020 2065 6964 5773 4669           eidWsFi
+00004b40: 6c74 6572 203d 2022 2061 6e64 2077 732e  lter = " and ws.
+00004b50: 6465 7461 696c 732e 6f77 6e65 722e 6964  details.owner.id
+00004b60: 3d3a 6569 6422 0a20 2020 2020 2020 2065  =:eid".        e
+00004b70: 6c73 653a 0a20 2020 2020 2020 2020 2020  lse:.           
+00004b80: 2065 6964 4669 6c74 6572 203d 2022 220a   eidFilter = "".
+00004b90: 2020 2020 2020 2020 2020 2020 6569 6457              eidW
+00004ba0: 7346 696c 7465 7220 3d20 2222 0a0a 2020  sFilter = ""..  
+00004bb0: 2020 2020 2020 7371 6c20 3d20 280a 2020        sql = (.  
+00004bc0: 2020 2020 2020 2020 2020 2273 656c 6563            "selec
+00004bd0: 7420 636f 756e 7428 6f62 6a2e 6964 2920  t count(obj.id) 
+00004be0: 6672 6f6d 2025 7320 6173 206f 626a 2022  from %s as obj "
 00004bf0: 0a20 2020 2020 2020 2020 2020 2022 6a6f  .            "jo
-00004c00: 696e 206f 626a 2e64 6574 6169 6c73 2e6f  in obj.details.o
-00004c10: 776e 6572 206a 6f69 6e20 6f62 6a2e 6465  wner join obj.de
-00004c20: 7461 696c 732e 6772 6f75 7020 220a 2020  tails.group ".  
-00004c30: 2020 2020 2020 2020 2020 2277 6865 7265            "where
-00004c40: 2025 7322 0a20 2020 2020 2020 2020 2020   %s".           
-00004c50: 2022 6e6f 7420 6578 6973 7473 2028 7365   "not exists (se
-00004c60: 6c65 6374 206f 626c 2066 726f 6d20 2573  lect obl from %s
-00004c70: 2061 7320 6f62 6c20 7768 6572 6520 220a   as obl where ".
-00004c80: 2020 2020 2020 2020 2020 2020 226f 626c              "obl
-00004c90: 2e63 6869 6c64 3d6f 626a 2e69 6429 2220  .child=obj.id)" 
-00004ca0: 2520 286f 626a 5f74 7970 652c 2065 6964  % (obj_type, eid
-00004cb0: 4669 6c74 6572 2c20 6c69 6e6b 735b 6f62  Filter, links[ob
-00004cc0: 6a5f 7479 7065 5d5b 305d 290a 2020 2020  j_type][0]).    
-00004cd0: 2020 2020 290a 2020 2020 2020 2020 6966      ).        if
-00004ce0: 206f 626a 5f74 7970 6520 3d3d 2022 496d   obj_type == "Im
-00004cf0: 6167 6522 3a0a 2020 2020 2020 2020 2020  age":.          
-00004d00: 2020 7371 6c20 2b3d 2028 0a20 2020 2020    sql += (.     
-00004d10: 2020 2020 2020 2020 2020 2022 616e 6420             "and 
-00004d20: 6e6f 7420 6578 6973 7473 2028 2022 0a20  not exists ( ". 
-00004d30: 2020 2020 2020 2020 2020 2020 2020 2022                 "
-00004d40: 7365 6c65 6374 2077 7320 6672 6f6d 2057  select ws from W
-00004d50: 656c 6c53 616d 706c 6520 6173 2077 7320  ellSample as ws 
-00004d60: 220a 2020 2020 2020 2020 2020 2020 2020  ".              
-00004d70: 2020 2277 6865 7265 2077 732e 696d 6167    "where ws.imag
-00004d80: 653d 6f62 6a2e 6964 2025 7329 2220 2520  e=obj.id %s)" % 
-00004d90: 6569 6457 7346 696c 7465 720a 2020 2020  eidWsFilter.    
-00004da0: 2020 2020 2020 2020 290a 0a20 2020 2020          )..     
-00004db0: 2020 2072 736c 7420 3d20 712e 7072 6f6a     rslt = q.proj
-00004dc0: 6563 7469 6f6e 2873 716c 2c20 702c 2073  ection(sql, p, s
-00004dd0: 656c 662e 5345 5256 4943 455f 4f50 5453  elf.SERVICE_OPTS
-00004de0: 290a 2020 2020 2020 2020 6966 206c 656e  ).        if len
-00004df0: 2872 736c 7429 203e 2030 3a0a 2020 2020  (rslt) > 0:.    
-00004e00: 2020 2020 2020 2020 6966 206c 656e 2872          if len(r
-00004e10: 736c 745b 305d 2920 3e20 303a 0a20 2020  slt[0]) > 0:.   
-00004e20: 2020 2020 2020 2020 2020 2020 2072 6574               ret
-00004e30: 7572 6e20 7273 6c74 5b30 5d5b 305d 2e76  urn rslt[0][0].v
-00004e40: 616c 0a20 2020 2020 2020 2072 6574 7572  al.        retur
-00004e50: 6e20 300a 0a20 2020 2064 6566 206c 6973  n 0..    def lis
-00004e60: 7449 6d61 6765 7349 6e44 6174 6173 6574  tImagesInDataset
-00004e70: 2873 656c 662c 206f 6964 2c20 6569 643d  (self, oid, eid=
-00004e80: 4e6f 6e65 2c20 7061 6765 3d4e 6f6e 652c  None, page=None,
-00004e90: 206c 6f61 645f 7069 7865 6c73 3d46 616c   load_pixels=Fal
-00004ea0: 7365 293a 0a20 2020 2020 2020 2022 2222  se):.        """
-00004eb0: 0a20 2020 2020 2020 204c 6973 7420 496d  .        List Im
-00004ec0: 6167 6573 2069 6e20 7468 6520 6769 7665  ages in the give
-00004ed0: 6e20 4461 7461 7365 742e 0a20 2020 2020  n Dataset..     
-00004ee0: 2020 204f 7074 696e 616c 6c79 2066 696c     Optinally fil
-00004ef0: 7465 7220 6279 2065 7870 6572 696d 656e  ter by experimen
-00004f00: 7465 7220 2765 6964 270a 0a20 2020 2020  ter 'eid'..     
-00004f10: 2020 2040 7061 7261 6d20 6569 643a 2020     @param eid:  
-00004f20: 2020 2020 2020 2065 7870 6572 696d 656e         experimen
-00004f30: 7465 7220 6964 0a20 2020 2020 2020 2040  ter id.        @
-00004f40: 7479 7065 2065 6964 3a20 2020 2020 2020  type eid:       
-00004f50: 2020 204c 6f6e 670a 2020 2020 2020 2020     Long.        
-00004f60: 4070 6172 616d 2070 6167 653a 2020 2020  @param page:    
-00004f70: 2020 2020 7061 6765 206e 756d 6265 720a      page number.
-00004f80: 2020 2020 2020 2020 4074 7970 6520 7061          @type pa
-00004f90: 6765 3a20 2020 2020 2020 2020 4c6f 6e67  ge:         Long
-00004fa0: 0a20 2020 2020 2020 2040 7265 7475 726e  .        @return
-00004fb0: 3a20 2020 2020 2020 2020 2020 2047 656e  :            Gen
-00004fc0: 6572 6174 6f72 2079 6965 6c64 696e 6720  erator yielding 
-00004fd0: 496d 6167 6573 0a20 2020 2020 2020 2040  Images.        @
-00004fe0: 7274 7970 653a 2020 2020 2020 2020 2020  rtype:          
-00004ff0: 2020 204c 7b49 6d61 6765 5772 6170 7065     L{ImageWrappe
-00005000: 727d 2067 656e 6572 6174 6f72 0a20 2020  r} generator.   
-00005010: 2020 2020 2022 2222 0a20 2020 2020 2020       """.       
-00005020: 2077 6172 6e69 6e67 732e 7761 726e 280a   warnings.warn(.
-00005030: 2020 2020 2020 2020 2020 2020 2244 6570              "Dep
-00005040: 7265 6361 7465 6420 6173 206f 6620 4f4d  recated as of OM
-00005050: 4552 4f20 352e 342e 302e 2022 0a20 2020  ERO 5.4.0. ".   
-00005060: 2020 2020 2020 2020 2022 5573 6520 6765           "Use ge
-00005070: 744f 626a 6563 7473 2827 496d 6167 6527  tObjects('Image'
-00005080: 2c20 6f70 7473 3d7b 2764 6174 6173 6574  , opts={'dataset
-00005090: 273a 2069 647d 2922 2c0a 2020 2020 2020  ': id})",.      
-000050a0: 2020 2020 2020 4465 7072 6563 6174 696f        Deprecatio
-000050b0: 6e57 6172 6e69 6e67 2c0a 2020 2020 2020  nWarning,.      
-000050c0: 2020 290a 0a20 2020 2020 2020 2071 203d    )..        q =
-000050d0: 2073 656c 662e 6765 7451 7565 7279 5365   self.getQuerySe
-000050e0: 7276 6963 6528 290a 2020 2020 2020 2020  rvice().        
-000050f0: 7020 3d20 6f6d 6572 6f2e 7379 732e 5061  p = omero.sys.Pa
-00005100: 7261 6d65 7465 7273 4928 290a 2020 2020  rametersI().    
-00005110: 2020 2020 702e 6d61 705b 226f 6964 225d      p.map["oid"]
-00005120: 203d 2072 6c6f 6e67 2869 6e74 286f 6964   = rlong(int(oid
-00005130: 2929 0a20 2020 2020 2020 2069 6620 7061  )).        if pa
-00005140: 6765 2069 7320 6e6f 7420 4e6f 6e65 3a0a  ge is not None:.
-00005150: 2020 2020 2020 2020 2020 2020 702e 7061              p.pa
-00005160: 6765 2828 2869 6e74 2870 6167 6529 202d  ge(((int(page) -
-00005170: 2031 2920 2a20 7365 7474 696e 6773 2e50   1) * settings.P
-00005180: 4147 4529 2c20 7365 7474 696e 6773 2e50  AGE), settings.P
-00005190: 4147 4529 0a20 2020 2020 2020 2069 6620  AGE).        if 
-000051a0: 6c6f 6164 5f70 6978 656c 733a 0a20 2020  load_pixels:.   
-000051b0: 2020 2020 2020 2020 2070 6978 656c 7320           pixels 
-000051c0: 3d20 280a 2020 2020 2020 2020 2020 2020  = (.            
-000051d0: 2020 2020 226a 6f69 6e20 6665 7463 6820      "join fetch 
-000051e0: 696d 2e70 6978 656c 7320 6173 2070 6978  im.pixels as pix
-000051f0: 2220 2220 6c65 6674 206f 7574 6572 206a  " " left outer j
-00005200: 6f69 6e20 6665 7463 6820 7069 782e 7468  oin fetch pix.th
-00005210: 756d 626e 6169 6c73 2022 0a20 2020 2020  umbnails ".     
-00005220: 2020 2020 2020 2029 0a20 2020 2020 2020         ).       
-00005230: 2065 6c73 653a 0a20 2020 2020 2020 2020   else:.         
-00005240: 2020 2070 6978 656c 7320 3d20 2222 0a20     pixels = "". 
-00005250: 2020 2020 2020 2073 716c 203d 2028 0a20         sql = (. 
-00005260: 2020 2020 2020 2020 2020 2022 7365 6c65             "sele
-00005270: 6374 2069 6d20 6672 6f6d 2049 6d61 6765  ct im from Image
-00005280: 2069 6d20 220a 2020 2020 2020 2020 2020   im ".          
-00005290: 2020 226a 6f69 6e20 6665 7463 6820 696d    "join fetch im
-000052a0: 2e64 6574 6169 6c73 2e63 7265 6174 696f  .details.creatio
-000052b0: 6e45 7665 6e74 2022 0a20 2020 2020 2020  nEvent ".       
-000052c0: 2020 2020 2022 6a6f 696e 2066 6574 6368       "join fetch
-000052d0: 2069 6d2e 6465 7461 696c 732e 6f77 6e65   im.details.owne
-000052e0: 7220 6a6f 696e 2066 6574 6368 2069 6d2e  r join fetch im.
-000052f0: 6465 7461 696c 732e 6772 6f75 7020 220a  details.group ".
-00005300: 2020 2020 2020 2020 2020 2020 226c 6566              "lef
-00005310: 7420 6f75 7465 7220 6a6f 696e 2066 6574  t outer join fet
-00005320: 6368 2069 6d2e 6461 7461 7365 744c 696e  ch im.datasetLin
-00005330: 6b73 2064 696c 2022 0a20 2020 2020 2020  ks dil ".       
-00005340: 2020 2020 2022 6c65 6674 206f 7574 6572       "left outer
-00005350: 206a 6f69 6e20 6665 7463 6820 6469 6c2e   join fetch dil.
-00005360: 7061 7265 6e74 2064 2025 7322 0a20 2020  parent d %s".   
-00005370: 2020 2020 2020 2020 2022 7768 6572 6520           "where 
-00005380: 642e 6964 203d 203a 6f69 6422 2025 2070  d.id = :oid" % p
-00005390: 6978 656c 730a 2020 2020 2020 2020 290a  ixels.        ).
-000053a0: 2020 2020 2020 2020 6966 2065 6964 2069          if eid i
-000053b0: 7320 6e6f 7420 4e6f 6e65 3a0a 2020 2020  s not None:.    
-000053c0: 2020 2020 2020 2020 702e 6d61 705b 2265          p.map["e
-000053d0: 6964 225d 203d 2072 6c6f 6e67 2869 6e74  id"] = rlong(int
-000053e0: 2865 6964 2929 0a20 2020 2020 2020 2020  (eid)).         
-000053f0: 2020 2073 716c 202b 3d20 2220 616e 6420     sql += " and 
-00005400: 696d 2e64 6574 6169 6c73 2e6f 776e 6572  im.details.owner
-00005410: 2e69 643d 3a65 6964 220a 2020 2020 2020  .id=:eid".      
-00005420: 2020 7371 6c20 2b3d 2022 206f 7264 6572    sql += " order
-00005430: 2062 7920 6c6f 7765 7228 696d 2e6e 616d   by lower(im.nam
-00005440: 6529 2c20 696d 2e69 6422 0a0a 2020 2020  e), im.id"..    
-00005450: 2020 2020 666f 7220 6520 696e 2071 2e66      for e in q.f
-00005460: 696e 6441 6c6c 4279 5175 6572 7928 7371  indAllByQuery(sq
-00005470: 6c2c 2070 2c20 7365 6c66 2e53 4552 5649  l, p, self.SERVI
-00005480: 4345 5f4f 5054 5329 3a0a 2020 2020 2020  CE_OPTS):.      
-00005490: 2020 2020 2020 6b77 6172 6773 203d 207b        kwargs = {
-000054a0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-000054b0: 2022 6c69 6e6b 223a 206f 6d65 726f 2e67   "link": omero.g
-000054c0: 6174 6577 6179 2e42 6c69 747a 4f62 6a65  ateway.BlitzObje
-000054d0: 6374 5772 6170 7065 7228 7365 6c66 2c20  ctWrapper(self, 
-000054e0: 652e 636f 7079 4461 7461 7365 744c 696e  e.copyDatasetLin
-000054f0: 6b73 2829 5b30 5d29 0a20 2020 2020 2020  ks()[0]).       
-00005500: 2020 2020 207d 0a20 2020 2020 2020 2020       }.         
-00005510: 2020 2079 6965 6c64 2049 6d61 6765 5772     yield ImageWr
-00005520: 6170 7065 7228 7365 6c66 2c20 652c 204e  apper(self, e, N
-00005530: 6f6e 652c 202a 2a6b 7761 7267 7329 0a0a  one, **kwargs)..
-00005540: 2020 2020 6465 6620 6372 6561 7465 4461      def createDa
-00005550: 7461 7365 7428 7365 6c66 2c20 6e61 6d65  taset(self, name
-00005560: 2c20 6465 7363 7269 7074 696f 6e3d 4e6f  , description=No
-00005570: 6e65 2c20 696d 675f 6964 733d 4e6f 6e65  ne, img_ids=None
-00005580: 2c20 6f77 6e65 723d 4e6f 6e65 293a 0a20  , owner=None):. 
-00005590: 2020 2020 2020 2022 2222 0a20 2020 2020         """.     
-000055a0: 2020 2043 7265 6174 6573 2061 2044 6174     Creates a Dat
-000055b0: 6173 6574 2061 6e64 2061 6464 7320 696d  aset and adds im
-000055c0: 6167 6573 2069 6620 696d 675f 6964 7320  ages if img_ids 
-000055d0: 6973 2073 7065 6369 6669 6564 2e0a 2020  is specified..  
-000055e0: 2020 2020 2020 5265 7475 726e 7320 7468        Returns th
-000055f0: 6520 6e65 7720 4461 7461 7365 7420 4944  e new Dataset ID
-00005600: 2e0a 2020 2020 2020 2020 2222 220a 2020  ..        """.  
-00005610: 2020 2020 2020 6473 6964 203d 2073 656c        dsid = sel
-00005620: 662e 6372 6561 7465 436f 6e74 6169 6e65  f.createContaine
-00005630: 7228 0a20 2020 2020 2020 2020 2020 2022  r(.            "
-00005640: 6461 7461 7365 7422 2c20 6e61 6d65 2c20  dataset", name, 
-00005650: 6465 7363 7269 7074 696f 6e3d 6465 7363  description=desc
-00005660: 7269 7074 696f 6e2c 206f 776e 6572 3d6f  ription, owner=o
-00005670: 776e 6572 0a20 2020 2020 2020 2029 0a20  wner.        ). 
-00005680: 2020 2020 2020 2069 6620 696d 675f 6964         if img_id
-00005690: 7320 6973 206e 6f74 204e 6f6e 653a 0a20  s is not None:. 
-000056a0: 2020 2020 2020 2020 2020 2069 6964 7320             iids 
-000056b0: 3d20 5b69 6e74 2869 2920 666f 7220 6920  = [int(i) for i 
-000056c0: 696e 2069 6d67 5f69 6473 5d0a 2020 2020  in img_ids].    
-000056d0: 2020 2020 2020 2020 6c69 6e6b 7320 3d20          links = 
-000056e0: 5b5d 0a20 2020 2020 2020 2020 2020 2066  [].            f
-000056f0: 6f72 2069 6964 2069 6e20 6969 6473 3a0a  or iid in iids:.
-00005700: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00005710: 6c69 6e6b 203d 206f 6d65 726f 2e6d 6f64  link = omero.mod
-00005720: 656c 2e44 6174 6173 6574 496d 6167 654c  el.DatasetImageL
-00005730: 696e 6b49 2829 0a20 2020 2020 2020 2020  inkI().         
-00005740: 2020 2020 2020 206c 696e 6b2e 7365 7450         link.setP
-00005750: 6172 656e 7428 6f6d 6572 6f2e 6d6f 6465  arent(omero.mode
-00005760: 6c2e 4461 7461 7365 7449 2864 7369 642c  l.DatasetI(dsid,
-00005770: 2046 616c 7365 2929 0a20 2020 2020 2020   False)).       
-00005780: 2020 2020 2020 2020 206c 696e 6b2e 7365           link.se
-00005790: 7443 6869 6c64 286f 6d65 726f 2e6d 6f64  tChild(omero.mod
-000057a0: 656c 2e49 6d61 6765 4928 6969 642c 2046  el.ImageI(iid, F
-000057b0: 616c 7365 2929 0a20 2020 2020 2020 2020  alse)).         
-000057c0: 2020 2020 2020 206c 696e 6b73 2e61 7070         links.app
-000057d0: 656e 6428 6c69 6e6b 290a 2020 2020 2020  end(link).      
-000057e0: 2020 2020 2020 7365 6c66 2e73 6176 6541        self.saveA
-000057f0: 7272 6179 286c 696e 6b73 2c20 6f77 6e65  rray(links, owne
-00005800: 723d 6f77 6e65 7229 0a20 2020 2020 2020  r=owner).       
-00005810: 2072 6574 7572 6e20 6473 6964 0a0a 2020   return dsid..  
-00005820: 2020 6465 6620 6372 6561 7465 5072 6f6a    def createProj
-00005830: 6563 7428 7365 6c66 2c20 6e61 6d65 2c20  ect(self, name, 
-00005840: 6465 7363 7269 7074 696f 6e3d 4e6f 6e65  description=None
-00005850: 293a 0a20 2020 2020 2020 2022 2222 2043  ):.        """ C
-00005860: 7265 6174 6573 206e 6577 2050 726f 6a65  reates new Proje
-00005870: 6374 2061 6e64 2072 6574 7572 6e73 2049  ct and returns I
-00005880: 4420 2222 220a 2020 2020 2020 2020 7761  D """.        wa
-00005890: 726e 696e 6773 2e77 6172 6e28 0a20 2020  rnings.warn(.   
-000058a0: 2020 2020 2020 2020 2022 4465 7072 6563           "Deprec
-000058b0: 6174 6564 2061 7320 6f66 204f 4d45 524f  ated as of OMERO
-000058c0: 2035 2e34 2e30 2e20 5573 6520 6372 6561   5.4.0. Use crea
-000058d0: 7465 436f 6e74 6169 6e65 7228 2922 2c20  teContainer()", 
-000058e0: 4465 7072 6563 6174 696f 6e57 6172 6e69  DeprecationWarni
-000058f0: 6e67 0a20 2020 2020 2020 2029 0a20 2020  ng.        ).   
-00005900: 2020 2020 2070 7220 3d20 6f6d 6572 6f2e       pr = omero.
-00005910: 6d6f 6465 6c2e 5072 6f6a 6563 7449 2829  model.ProjectI()
-00005920: 0a20 2020 2020 2020 2070 722e 6e61 6d65  .        pr.name
-00005930: 203d 2072 7374 7269 6e67 2873 7472 286e   = rstring(str(n
-00005940: 616d 6529 290a 2020 2020 2020 2020 6966  ame)).        if
-00005950: 2064 6573 6372 6970 7469 6f6e 2069 7320   description is 
-00005960: 6e6f 7420 4e6f 6e65 2061 6e64 2064 6573  not None and des
-00005970: 6372 6970 7469 6f6e 2021 3d20 2222 3a0a  cription != "":.
-00005980: 2020 2020 2020 2020 2020 2020 7072 2e64              pr.d
-00005990: 6573 6372 6970 7469 6f6e 203d 2072 7374  escription = rst
-000059a0: 7269 6e67 2873 7472 2864 6573 6372 6970  ring(str(descrip
-000059b0: 7469 6f6e 2929 0a20 2020 2020 2020 2072  tion)).        r
-000059c0: 6574 7572 6e20 7365 6c66 2e73 6176 6541  eturn self.saveA
-000059d0: 6e64 5265 7475 726e 4964 2870 7229 0a0a  ndReturnId(pr)..
-000059e0: 2020 2020 6465 6620 6372 6561 7465 5363      def createSc
-000059f0: 7265 656e 2873 656c 662c 206e 616d 652c  reen(self, name,
-00005a00: 2064 6573 6372 6970 7469 6f6e 3d4e 6f6e   description=Non
-00005a10: 6529 3a0a 2020 2020 2020 2020 2222 2220  e):.        """ 
-00005a20: 4372 6561 7465 7320 6e65 7720 5363 7265  Creates new Scre
-00005a30: 656e 2061 6e64 2072 6574 7572 6e73 2049  en and returns I
-00005a40: 4420 2222 220a 2020 2020 2020 2020 7761  D """.        wa
-00005a50: 726e 696e 6773 2e77 6172 6e28 0a20 2020  rnings.warn(.   
-00005a60: 2020 2020 2020 2020 2022 4465 7072 6563           "Deprec
-00005a70: 6174 6564 2061 7320 6f66 204f 4d45 524f  ated as of OMERO
-00005a80: 2035 2e34 2e30 2e20 5573 6520 6372 6561   5.4.0. Use crea
-00005a90: 7465 436f 6e74 6169 6e65 7228 2922 2c20  teContainer()", 
-00005aa0: 4465 7072 6563 6174 696f 6e57 6172 6e69  DeprecationWarni
-00005ab0: 6e67 0a20 2020 2020 2020 2029 0a20 2020  ng.        ).   
-00005ac0: 2020 2020 2073 6320 3d20 6f6d 6572 6f2e       sc = omero.
-00005ad0: 6d6f 6465 6c2e 5363 7265 656e 4928 290a  model.ScreenI().
-00005ae0: 2020 2020 2020 2020 7363 2e6e 616d 6520          sc.name 
-00005af0: 3d20 7273 7472 696e 6728 7374 7228 6e61  = rstring(str(na
-00005b00: 6d65 2929 0a20 2020 2020 2020 2069 6620  me)).        if 
-00005b10: 6465 7363 7269 7074 696f 6e20 6973 206e  description is n
-00005b20: 6f74 204e 6f6e 6520 616e 6420 6465 7363  ot None and desc
-00005b30: 7269 7074 696f 6e20 213d 2022 223a 0a20  ription != "":. 
-00005b40: 2020 2020 2020 2020 2020 2073 632e 6465             sc.de
-00005b50: 7363 7269 7074 696f 6e20 3d20 7273 7472  scription = rstr
-00005b60: 696e 6728 7374 7228 6465 7363 7269 7074  ing(str(descript
-00005b70: 696f 6e29 290a 2020 2020 2020 2020 7265  ion)).        re
-00005b80: 7475 726e 2073 656c 662e 7361 7665 416e  turn self.saveAn
-00005b90: 6452 6574 7572 6e49 6428 7363 290a 0a20  dReturnId(sc).. 
-00005ba0: 2020 2064 6566 2063 7265 6174 6554 6167     def createTag
-00005bb0: 2873 656c 662c 206e 616d 652c 2064 6573  (self, name, des
-00005bc0: 6372 6970 7469 6f6e 3d4e 6f6e 6529 3a0a  cription=None):.
-00005bd0: 2020 2020 2020 2020 2222 2220 4372 6561          """ Crea
-00005be0: 7465 7320 6e65 7720 5461 6720 616e 6420  tes new Tag and 
-00005bf0: 7265 7475 726e 7320 4944 2022 2222 0a20  returns ID """. 
-00005c00: 2020 2020 2020 2077 6172 6e69 6e67 732e         warnings.
-00005c10: 7761 726e 280a 2020 2020 2020 2020 2020  warn(.          
-00005c20: 2020 2244 6570 7265 6361 7465 6420 6173    "Deprecated as
-00005c30: 206f 6620 4f4d 4552 4f20 352e 342e 302e   of OMERO 5.4.0.
-00005c40: 2055 7365 2063 7265 6174 6543 6f6e 7461   Use createConta
-00005c50: 696e 6572 2829 222c 2044 6570 7265 6361  iner()", Depreca
-00005c60: 7469 6f6e 5761 726e 696e 670a 2020 2020  tionWarning.    
-00005c70: 2020 2020 290a 2020 2020 2020 2020 7461      ).        ta
-00005c80: 6720 3d20 6f6d 6572 6f2e 6d6f 6465 6c2e  g = omero.model.
-00005c90: 5461 6741 6e6e 6f74 6174 696f 6e49 2829  TagAnnotationI()
-00005ca0: 0a20 2020 2020 2020 2074 6167 2e74 6578  .        tag.tex
-00005cb0: 7456 616c 7565 203d 2072 7374 7269 6e67  tValue = rstring
-00005cc0: 2873 7472 286e 616d 6529 290a 2020 2020  (str(name)).    
-00005cd0: 2020 2020 6966 2064 6573 6372 6970 7469      if descripti
-00005ce0: 6f6e 2069 7320 6e6f 7420 4e6f 6e65 2061  on is not None a
-00005cf0: 6e64 2064 6573 6372 6970 7469 6f6e 2021  nd description !
-00005d00: 3d20 2222 3a0a 2020 2020 2020 2020 2020  = "":.          
-00005d10: 2020 7461 672e 6465 7363 7269 7074 696f    tag.descriptio
-00005d20: 6e20 3d20 7273 7472 696e 6728 7374 7228  n = rstring(str(
-00005d30: 6465 7363 7269 7074 696f 6e29 290a 2020  description)).  
-00005d40: 2020 2020 2020 7265 7475 726e 2073 656c        return sel
-00005d50: 662e 7361 7665 416e 6452 6574 7572 6e49  f.saveAndReturnI
-00005d60: 6428 7461 6729 0a0a 2020 2020 6465 6620  d(tag)..    def 
-00005d70: 6372 6561 7465 5461 6773 6574 2873 656c  createTagset(sel
-00005d80: 662c 206e 616d 652c 2064 6573 6372 6970  f, name, descrip
-00005d90: 7469 6f6e 3d4e 6f6e 6529 3a0a 2020 2020  tion=None):.    
-00005da0: 2020 2020 2222 2220 4372 6561 7465 7320      """ Creates 
-00005db0: 6e65 7720 5461 6720 5365 7420 616e 6420  new Tag Set and 
-00005dc0: 7265 7475 726e 7320 4944 2022 2222 0a20  returns ID """. 
-00005dd0: 2020 2020 2020 2077 6172 6e69 6e67 732e         warnings.
-00005de0: 7761 726e 280a 2020 2020 2020 2020 2020  warn(.          
-00005df0: 2020 2244 6570 7265 6361 7465 6420 6173    "Deprecated as
-00005e00: 206f 6620 4f4d 4552 4f20 352e 342e 302e   of OMERO 5.4.0.
-00005e10: 2055 7365 2063 7265 6174 6543 6f6e 7461   Use createConta
-00005e20: 696e 6572 2829 222c 2044 6570 7265 6361  iner()", Depreca
-00005e30: 7469 6f6e 5761 726e 696e 670a 2020 2020  tionWarning.    
-00005e40: 2020 2020 290a 2020 2020 2020 2020 7461      ).        ta
-00005e50: 6720 3d20 6f6d 6572 6f2e 6d6f 6465 6c2e  g = omero.model.
-00005e60: 5461 6741 6e6e 6f74 6174 696f 6e49 2829  TagAnnotationI()
-00005e70: 0a20 2020 2020 2020 2074 6167 2e74 6578  .        tag.tex
-00005e80: 7456 616c 7565 203d 2072 7374 7269 6e67  tValue = rstring
-00005e90: 2873 7472 286e 616d 6529 290a 2020 2020  (str(name)).    
-00005ea0: 2020 2020 7461 672e 6e73 203d 2072 7374      tag.ns = rst
-00005eb0: 7269 6e67 286f 6d65 726f 2e63 6f6e 7374  ring(omero.const
-00005ec0: 616e 7473 2e6d 6574 6164 6174 612e 4e53  ants.metadata.NS
-00005ed0: 494e 5349 4748 5454 4147 5345 5429 0a20  INSIGHTTAGSET). 
-00005ee0: 2020 2020 2020 2069 6620 6465 7363 7269         if descri
-00005ef0: 7074 696f 6e20 6973 206e 6f74 204e 6f6e  ption is not Non
-00005f00: 6520 616e 6420 6465 7363 7269 7074 696f  e and descriptio
-00005f10: 6e20 213d 2022 223a 0a20 2020 2020 2020  n != "":.       
-00005f20: 2020 2020 2074 6167 2e64 6573 6372 6970       tag.descrip
-00005f30: 7469 6f6e 203d 2072 7374 7269 6e67 2873  tion = rstring(s
-00005f40: 7472 2864 6573 6372 6970 7469 6f6e 2929  tr(description))
-00005f50: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
-00005f60: 7365 6c66 2e73 6176 6541 6e64 5265 7475  self.saveAndRetu
-00005f70: 726e 4964 2874 6167 290a 0a20 2020 2064  rnId(tag)..    d
-00005f80: 6566 2063 7265 6174 6543 6f6e 7461 696e  ef createContain
-00005f90: 6572 2873 656c 662c 2064 7479 7065 2c20  er(self, dtype, 
-00005fa0: 6e61 6d65 2c20 6465 7363 7269 7074 696f  name, descriptio
-00005fb0: 6e3d 4e6f 6e65 2c20 6f77 6e65 723d 4e6f  n=None, owner=No
-00005fc0: 6e65 293a 0a20 2020 2020 2020 2022 2222  ne):.        """
-00005fd0: 4372 6561 7465 7320 5072 6f6a 6563 742c  Creates Project,
-00005fe0: 2044 6174 6173 6574 2c20 5363 7265 656e   Dataset, Screen
-00005ff0: 2c20 5461 6720 6f72 2054 6167 7365 7420  , Tag or Tagset 
-00006000: 616e 6420 7265 7475 726e 7320 4944 2e22  and returns ID."
-00006010: 2222 0a20 2020 2020 2020 2064 7479 7065  "".        dtype
-00006020: 203d 2064 7479 7065 2e6c 6f77 6572 2829   = dtype.lower()
-00006030: 0a20 2020 2020 2020 2069 6620 6474 7970  .        if dtyp
-00006040: 6520 3d3d 2022 7072 6f6a 6563 7422 3a0a  e == "project":.
-00006050: 2020 2020 2020 2020 2020 2020 6320 3d20              c = 
-00006060: 6f6d 6572 6f2e 6d6f 6465 6c2e 5072 6f6a  omero.model.Proj
-00006070: 6563 7449 2829 0a20 2020 2020 2020 2065  ectI().        e
-00006080: 6c69 6620 6474 7970 6520 3d3d 2022 6461  lif dtype == "da
-00006090: 7461 7365 7422 3a0a 2020 2020 2020 2020  taset":.        
-000060a0: 2020 2020 6320 3d20 6f6d 6572 6f2e 6d6f      c = omero.mo
-000060b0: 6465 6c2e 4461 7461 7365 7449 2829 0a20  del.DatasetI(). 
-000060c0: 2020 2020 2020 2065 6c69 6620 6474 7970         elif dtyp
-000060d0: 6520 3d3d 2022 7363 7265 656e 223a 0a20  e == "screen":. 
-000060e0: 2020 2020 2020 2020 2020 2063 203d 206f             c = o
-000060f0: 6d65 726f 2e6d 6f64 656c 2e53 6372 6565  mero.model.Scree
-00006100: 6e49 2829 0a20 2020 2020 2020 2069 6620  nI().        if 
-00006110: 6474 7970 6520 3d3d 2022 7461 6722 206f  dtype == "tag" o
-00006120: 7220 6474 7970 6520 3d3d 2022 7461 6773  r dtype == "tags
-00006130: 6574 223a 0a20 2020 2020 2020 2020 2020  et":.           
-00006140: 2063 203d 206f 6d65 726f 2e6d 6f64 656c   c = omero.model
-00006150: 2e54 6167 416e 6e6f 7461 7469 6f6e 4928  .TagAnnotationI(
-00006160: 290a 2020 2020 2020 2020 2020 2020 632e  ).            c.
-00006170: 7465 7874 5661 6c75 6520 3d20 7273 7472  textValue = rstr
-00006180: 696e 6728 7374 7228 6e61 6d65 2929 0a20  ing(str(name)). 
-00006190: 2020 2020 2020 2020 2020 2069 6620 6474             if dt
-000061a0: 7970 6520 3d3d 2022 7461 6773 6574 223a  ype == "tagset":
-000061b0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-000061c0: 2063 2e6e 7320 3d20 7273 7472 696e 6728   c.ns = rstring(
-000061d0: 6f6d 6572 6f2e 636f 6e73 7461 6e74 732e  omero.constants.
-000061e0: 6d65 7461 6461 7461 2e4e 5349 4e53 4947  metadata.NSINSIG
-000061f0: 4854 5441 4753 4554 290a 2020 2020 2020  HTTAGSET).      
-00006200: 2020 656c 7365 3a0a 2020 2020 2020 2020    else:.        
-00006210: 2020 2020 632e 6e61 6d65 203d 2072 7374      c.name = rst
-00006220: 7269 6e67 2873 7472 286e 616d 6529 290a  ring(str(name)).
-00006230: 2020 2020 2020 2020 2020 2020 632e 6465              c.de
-00006240: 7363 7269 7074 696f 6e20 3d20 7273 7472  scription = rstr
-00006250: 696e 6728 7374 7228 6465 7363 7269 7074  ing(str(descript
-00006260: 696f 6e29 290a 0a20 2020 2020 2020 206f  ion))..        o
-00006270: 6964 203d 2073 656c 662e 7361 7665 416e  id = self.saveAn
-00006280: 6452 6574 7572 6e49 6428 632c 206f 776e  dReturnId(c, own
-00006290: 6572 3d6f 776e 6572 290a 2020 2020 2020  er=owner).      
-000062a0: 2020 7265 7475 726e 206f 6964 0a0a 2020    return oid..  
-000062b0: 2020 2320 4441 5441 2052 4554 5249 5641    # DATA RETRIVA
-000062c0: 4c20 4259 2054 4147 730a 2020 2020 6465  L BY TAGs.    de
-000062d0: 6620 6669 6e64 5461 6728 7365 6c66 2c20  f findTag(self, 
-000062e0: 6e61 6d65 2c20 6465 7363 3d4e 6f6e 6529  name, desc=None)
-000062f0: 3a0a 2020 2020 2020 2020 2222 220a 2020  :.        """.  
-00006300: 2020 2020 2020 5265 7472 6965 7665 7320        Retrieves 
-00006310: 5461 6720 6279 2067 6976 656e 204e 616d  Tag by given Nam
-00006320: 6520 616e 6420 6465 7363 7269 7074 696f  e and descriptio
-00006330: 6e0a 0a20 2020 2020 2020 2040 7061 7261  n..        @para
-00006340: 6d20 6e61 6d65 2020 2020 206e 616d 6520  m name     name 
-00006350: 6f66 2074 6167 0a20 2020 2020 2020 2040  of tag.        @
-00006360: 7479 7065 206e 616d 6520 2020 2020 2053  type name      S
-00006370: 7472 696e 670a 2020 2020 2020 2020 4070  tring.        @p
-00006380: 6172 616d 2064 6573 6320 2020 2020 6465  aram desc     de
-00006390: 7363 7269 7074 696f 6e20 6f66 2074 6167  scription of tag
-000063a0: 0a20 2020 2020 2020 2040 7479 7065 2064  .        @type d
-000063b0: 6573 6320 2020 2020 2053 7472 696e 670a  esc      String.
-000063c0: 2020 2020 2020 2020 4072 6574 7572 6e3a          @return:
-000063d0: 2020 2020 2020 2020 5461 6741 6e6e 6f74          TagAnnot
-000063e0: 6174 696f 6e0a 2020 2020 2020 2020 4072  ation.        @r
-000063f0: 7479 7065 3a20 2020 2020 2020 2020 416e  type:         An
-00006400: 6e6f 7461 7469 6f6e 5772 6170 7065 720a  notationWrapper.
-00006410: 2020 2020 2020 2020 2222 220a 2020 2020          """.    
-00006420: 2020 2020 2222 2254 4f44 4f3a 2023 3130      """TODO: #10
-00006430: 3135 0a20 2020 2020 2020 2049 7420 646f  15.        It do
-00006440: 6573 206e 6f74 2073 7570 706f 7274 2053  es not support S
-00006450: 5057 2222 220a 0a20 2020 2020 2020 2071  PW"""..        q
-00006460: 7565 7279 5f73 6572 7620 3d20 7365 6c66  uery_serv = self
-00006470: 2e67 6574 5175 6572 7953 6572 7669 6365  .getQueryService
-00006480: 2829 0a20 2020 2020 2020 2072 6573 203d  ().        res =
-00006490: 206c 6973 7428 290a 2020 2020 2020 2020   list().        
-000064a0: 7020 3d20 6f6d 6572 6f2e 7379 732e 5061  p = omero.sys.Pa
-000064b0: 7261 6d65 7465 7273 2829 0a20 2020 2020  rameters().     
-000064c0: 2020 2070 2e6d 6170 203d 207b 7d0a 2020     p.map = {}.  
-000064d0: 2020 2020 2020 702e 6d61 705b 2274 6578        p.map["tex
-000064e0: 7422 5d20 3d20 7273 7472 696e 6728 7374  t"] = rstring(st
-000064f0: 7228 6e61 6d65 2929 0a20 2020 2020 2020  r(name)).       
-00006500: 2069 6620 6465 7363 2069 7320 6e6f 7420   if desc is not 
-00006510: 4e6f 6e65 3a0a 2020 2020 2020 2020 2020  None:.          
-00006520: 2020 702e 6d61 705b 2264 6573 6322 5d20    p.map["desc"] 
-00006530: 3d20 7273 7472 696e 6728 7374 7228 6465  = rstring(str(de
-00006540: 7363 2929 0a20 2020 2020 2020 2023 2070  sc)).        # p
-00006550: 2e6d 6170 5b22 6569 6422 5d20 3d20 726c  .map["eid"] = rl
-00006560: 6f6e 6728 7365 6c66 2e67 6574 4576 656e  ong(self.getEven
-00006570: 7443 6f6e 7465 7874 2829 2e75 7365 7249  tContext().userI
-00006580: 6429 0a20 2020 2020 2020 2066 203d 206f  d).        f = o
-00006590: 6d65 726f 2e73 7973 2e46 696c 7465 7228  mero.sys.Filter(
-000065a0: 290a 2020 2020 2020 2020 662e 6c69 6d69  ).        f.limi
-000065b0: 7420 3d20 7269 6e74 2831 290a 2020 2020  t = rint(1).    
-000065c0: 2020 2020 702e 7468 6546 696c 7465 7220      p.theFilter 
-000065d0: 3d20 660a 2020 2020 2020 2020 7371 6c20  = f.        sql 
-000065e0: 3d20 2273 656c 6563 7420 7467 2066 726f  = "select tg fro
-000065f0: 6d20 5461 6741 6e6e 6f74 6174 696f 6e20  m TagAnnotation 
-00006600: 7467 2022 2022 7768 6572 6520 7467 2e74  tg " "where tg.t
-00006610: 6578 7456 616c 7565 3d3a 7465 7874 220a  extValue=:text".
-00006620: 2020 2020 2020 2020 6966 2064 6573 6320          if desc 
-00006630: 6973 206e 6f74 204e 6f6e 653a 0a20 2020  is not None:.   
-00006640: 2020 2020 2020 2020 2073 716c 202b 3d20           sql += 
-00006650: 2220 616e 6420 7467 2e64 6573 6372 6970  " and tg.descrip
-00006660: 7469 6f6e 3d3a 6465 7363 220a 2020 2020  tion=:desc".    
-00006670: 2020 2020 7371 6c20 2b3d 2022 2061 6e64      sql += " and
-00006680: 2074 672e 6e73 2069 7320 6e75 6c6c 206f   tg.ns is null o
-00006690: 7264 6572 2062 7920 7467 2e74 6578 7456  rder by tg.textV
-000066a0: 616c 7565 220a 2020 2020 2020 2020 7265  alue".        re
-000066b0: 7320 3d20 7175 6572 795f 7365 7276 2e66  s = query_serv.f
-000066c0: 696e 6441 6c6c 4279 5175 6572 7928 7371  indAllByQuery(sq
-000066d0: 6c2c 2070 2c20 7365 6c66 2e53 4552 5649  l, p, self.SERVI
-000066e0: 4345 5f4f 5054 5329 0a20 2020 2020 2020  CE_OPTS).       
-000066f0: 2069 6620 6c65 6e28 7265 7329 203e 2030   if len(res) > 0
-00006700: 3a0a 2020 2020 2020 2020 2020 2020 7265  :.            re
-00006710: 7475 726e 206f 6d65 726f 2e67 6174 6577  turn omero.gatew
-00006720: 6179 2e54 6167 416e 6e6f 7461 7469 6f6e  ay.TagAnnotation
-00006730: 5772 6170 7065 7228 7365 6c66 2c20 7265  Wrapper(self, re
-00006740: 735b 305d 290a 2020 2020 2020 2020 7265  s[0]).        re
-00006750: 7475 726e 204e 6f6e 650a 0a20 2020 2023  turn None..    #
-00006760: 2041 5641 5441 5220 230a 2020 2020 6465   AVATAR #.    de
-00006770: 6620 7570 6c6f 6164 4d79 5573 6572 5068  f uploadMyUserPh
-00006780: 6f74 6f28 7365 6c66 2c20 6669 6c65 6e61  oto(self, filena
-00006790: 6d65 2c20 666f 726d 6174 2c20 6461 7461  me, format, data
-000067a0: 293a 0a20 2020 2020 2020 2022 2222 0a20  ):.        """. 
-000067b0: 2020 2020 2020 2055 706c 6f61 6473 2061         Uploads a
-000067c0: 2070 686f 746f 2066 6f72 2074 6865 2075   photo for the u
-000067d0: 7365 7220 7768 6963 6820 7769 6c6c 2062  ser which will b
-000067e0: 6520 6469 7370 6c61 7965 6420 6f6e 2068  e displayed on h
-000067f0: 6973 2f68 6572 0a20 2020 2020 2020 2070  is/her.        p
-00006800: 726f 6669 6c65 2e0a 2020 2020 2020 2020  rofile..        
-00006810: 5468 6973 2070 686f 746f 2077 696c 6c20  This photo will 
-00006820: 6265 2073 6176 6564 2061 7320 616e 204f  be saved as an O
-00006830: 7269 6769 6e61 6c46 696c 6520 6f62 6a65  riginalFile obje
-00006840: 6374 0a20 2020 2020 2020 2077 6974 6820  ct.        with 
-00006850: 7468 6520 6769 7665 6e20 666f 726d 6174  the given format
-00006860: 2c20 616e 6420 6174 7461 6368 6564 2074  , and attached t
-00006870: 6f20 7468 6520 7573 6572 2773 2045 7870  o the user's Exp
-00006880: 6572 696d 656e 7465 720a 2020 2020 2020  erimenter.      
-00006890: 2020 6f62 6a65 6374 2076 6961 2061 6e20    object via an 
-000068a0: 4669 6c65 2041 6e6e 6f74 6174 696f 6e20  File Annotation 
-000068b0: 7769 7468 0a20 2020 2020 2020 2074 6865  with.        the
-000068c0: 206e 616d 6573 7061 6365 3a20 226f 7065   namespace: "ope
-000068d0: 6e6d 6963 726f 7363 6f70 792e 6f72 672f  nmicroscopy.org/
-000068e0: 6f6d 6572 6f2f 6578 7065 7269 6d65 6e74  omero/experiment
-000068f0: 6572 2f70 686f 746f 220a 2020 2020 2020  er/photo".      
-00006900: 2020 284e 5345 5850 4552 494d 454e 5445    (NSEXPERIMENTE
-00006910: 5250 484f 544f 292e 0a20 2020 2020 2020  RPHOTO)..       
-00006920: 2049 6620 7375 6368 2061 6e20 4f72 6967   If such an Orig
-00006930: 696e 616c 4669 6c65 2069 6e73 7461 6e63  inalFile instanc
-00006940: 6520 616c 7265 6164 7920 6578 6973 7473  e already exists
-00006950: 2c0a 2020 2020 2020 2020 6974 2077 696c  ,.        it wil
-00006960: 6c20 6265 206f 7665 7277 7269 7474 656e  l be overwritten
-00006970: 2e20 4966 206d 6f72 6520 7468 616e 206f  . If more than o
-00006980: 6e65 2070 686f 746f 2069 7320 7072 6573  ne photo is pres
-00006990: 656e 742c 2074 6865 206f 6c64 6573 740a  ent, the oldest.
-000069a0: 2020 2020 2020 2020 7665 7273 696f 6e20          version 
-000069b0: 7769 6c6c 2062 6520 6d6f 6469 6669 6564  will be modified
-000069c0: 2028 692e 652e 2074 6865 2068 6967 6865   (i.e. the highe
-000069d0: 7374 2075 7064 6174 6545 7665 6e74 2069  st updateEvent i
-000069e0: 6429 2e0a 0a20 2020 2020 2020 204e 6f74  d)...        Not
-000069f0: 653a 2061 7320 6f75 746c 696e 6564 2069  e: as outlined i
-00006a00: 6e20 7469 636b 6574 3a31 3739 342c 2074  n ticket:1794, t
-00006a10: 6869 7320 7068 6f74 6f20 7769 6c6c 2062  his photo will b
-00006a20: 6520 706c 6163 6564 2069 6e20 7468 650a  e placed in the.
-00006a30: 2020 2020 2020 2020 2275 7365 7222 2067          "user" g
-00006a40: 726f 7570 2061 6e64 2074 6865 7265 666f  roup and therefo
-00006a50: 7265 2077 696c 6c20 6265 2076 6973 6962  re will be visib
-00006a60: 6c65 2074 6f20 6576 6572 796f 6e65 206f  le to everyone o
-00006a70: 6e20 7468 6520 7379 7374 656d 2e0a 0a20  n the system... 
-00006a80: 2020 2020 2020 2040 7061 7261 6d20 6669         @param fi
-00006a90: 6c65 6e61 6d65 2020 2020 206e 616d 6520  lename     name 
-00006aa0: 7768 6963 6820 7769 6c6c 2062 6520 7573  which will be us
-00006ab0: 6564 2e0a 2020 2020 2020 2020 4074 7970  ed..        @typ
-00006ac0: 6520 6669 6c65 6e61 6d65 2020 2020 2020  e filename      
-00006ad0: 5374 7269 6e67 0a20 2020 2020 2020 2040  String.        @
-00006ae0: 7061 7261 6d20 666f 726d 6174 2020 2020  param format    
-00006af0: 2020 2046 6f72 6d61 742e 7661 6c75 6520     Format.value 
-00006b00: 7374 7269 6e67 2e20 2769 6d61 6765 2f6a  string. 'image/j
-00006b10: 7065 6727 2061 6e64 2027 696d 6167 652f  peg' and 'image/
-00006b20: 706e 6727 0a20 2020 2020 2020 2020 2020  png'.           
-00006b30: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00006b40: 2061 7265 2063 6f6d 6d6f 6e20 7661 6c75   are common valu
-00006b50: 6573 2e0a 2020 2020 2020 2020 4074 7970  es..        @typ
-00006b60: 6520 666f 726d 6174 2020 2020 2020 2020  e format        
-00006b70: 5374 7269 6e67 0a20 2020 2020 2020 2040  String.        @
-00006b80: 7061 7261 6d20 6461 7461 2020 2020 2020  param data      
-00006b90: 2020 2044 6174 6120 6672 6f6d 2074 6865     Data from the
-00006ba0: 2069 6d61 6765 2e20 5468 6973 2077 696c   image. This wil
-00006bb0: 6c20 6265 2077 7269 7474 656e 2074 6f20  l be written to 
-00006bc0: 6469 736b 2e0a 2020 2020 2020 2020 4074  disk..        @t
-00006bd0: 7970 6520 6461 7461 2020 2020 2020 2020  ype data        
-00006be0: 2020 5374 7269 6e67 0a0a 2020 2020 2020    String..      
-00006bf0: 2020 4072 6574 7572 6e20 2020 2020 2020    @return       
-00006c00: 2020 2020 2020 4944 206f 6620 7468 6520        ID of the 
-00006c10: 6f76 6572 7772 6974 7465 6e20 6f72 206e  overwritten or n
-00006c20: 6577 6c79 2063 7265 6174 6564 2075 7365  ewly created use
-00006c30: 7220 7068 6f74 6f0a 2020 2020 2020 2020  r photo.        
-00006c40: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00006c50: 2020 2020 4f72 6967 696e 616c 4669 6c65      OriginalFile
-00006c60: 206f 626a 6563 742e 0a20 2020 2020 2020   object..       
-00006c70: 2040 7274 7970 6520 2020 2020 2020 2020   @rtype         
-00006c80: 2020 2020 204c 6f6e 670a 2020 2020 2020       Long.      
-00006c90: 2020 2222 220a 0a20 2020 2020 2020 2061    """..        a
-00006ca0: 646d 696e 5f73 6572 7620 3d20 7365 6c66  dmin_serv = self
-00006cb0: 2e67 6574 4164 6d69 6e53 6572 7669 6365  .getAdminService
-00006cc0: 2829 0a20 2020 2020 2020 2070 6964 203d  ().        pid =
-00006cd0: 2061 646d 696e 5f73 6572 762e 7570 6c6f   admin_serv.uplo
-00006ce0: 6164 4d79 5573 6572 5068 6f74 6f28 6669  adMyUserPhoto(fi
-00006cf0: 6c65 6e61 6d65 2c20 666f 726d 6174 2c20  lename, format, 
-00006d00: 6461 7461 290a 2020 2020 2020 2020 6966  data).        if
-00006d10: 2070 6964 2069 7320 6e6f 7420 4e6f 6e65   pid is not None
-00006d20: 3a0a 2020 2020 2020 2020 2020 2020 7265  :.            re
-00006d30: 7475 726e 2070 6964 0a0a 2020 2020 6465  turn pid..    de
-00006d40: 6620 6861 7345 7870 6572 696d 656e 7465  f hasExperimente
-00006d50: 7250 686f 746f 2873 656c 662c 206f 6964  rPhoto(self, oid
-00006d60: 3d4e 6f6e 6529 3a0a 2020 2020 2020 2020  =None):.        
-00006d70: 2222 220a 2020 2020 2020 2020 4368 6563  """.        Chec
-00006d80: 6b20 6966 2046 696c 6520 616e 6e6f 7461  k if File annota
-00006d90: 7469 6f6e 2077 6974 6820 7468 6520 6e61  tion with the na
-00006da0: 6d65 7370 6163 653a 0a20 2020 2020 2020  mespace:.       
-00006db0: 2022 6f70 656e 6d69 6372 6f73 636f 7079   "openmicroscopy
-00006dc0: 2e6f 7267 2f6f 6d65 726f 2f65 7870 6572  .org/omero/exper
-00006dd0: 696d 656e 7465 722f 7068 6f74 6f22 2028  imenter/photo" (
-00006de0: 4e53 4558 5045 5249 4d45 4e54 4552 5048  NSEXPERIMENTERPH
-00006df0: 4f54 4f29 2069 730a 2020 2020 2020 2020  OTO) is.        
-00006e00: 6c69 6e6b 6564 2074 6f20 7468 6520 6769  linked to the gi
-00006e10: 7665 6e20 7573 6572 2049 442e 2049 6620  ven user ID. If 
-00006e20: 7573 6572 2069 6420 6e6f 7420 7365 742c  user id not set,
-00006e30: 206f 776e 6564 2062 7920 7468 6520 6375   owned by the cu
-00006e40: 7272 656e 740a 2020 2020 2020 2020 7573  rrent.        us
-00006e50: 6572 2e0a 0a20 2020 2020 2020 2040 7061  er...        @pa
-00006e60: 7261 6d20 6f69 6420 2020 2020 2065 7870  ram oid      exp
-00006e70: 6572 696d 656e 7465 7220 4944 0a20 2020  erimenter ID.   
-00006e80: 2020 2020 2040 7479 7065 206f 6964 2020       @type oid  
-00006e90: 2020 2020 204c 6f6e 670a 2020 2020 2020       Long.      
-00006ea0: 2020 4072 6574 7572 6e20 2020 2020 2020    @return       
-00006eb0: 2020 5472 7565 206f 7220 4661 6c73 650a    True or False.
-00006ec0: 2020 2020 2020 2020 4072 7479 7065 2020          @rtype  
-00006ed0: 2020 2020 2020 2020 426f 6f6c 6561 6e0a          Boolean.
-00006ee0: 2020 2020 2020 2020 2222 220a 0a20 2020          """..   
-00006ef0: 2020 2020 206d 6574 6120 3d20 7365 6c66       meta = self
-00006f00: 2e67 6574 4d65 7461 6461 7461 5365 7276  .getMetadataServ
-00006f10: 6963 6528 290a 2020 2020 2020 2020 7472  ice().        tr
-00006f20: 793a 0a20 2020 2020 2020 2020 2020 2069  y:.            i
-00006f30: 6620 6f69 6420 6973 204e 6f6e 653a 0a20  f oid is None:. 
-00006f40: 2020 2020 2020 2020 2020 2020 2020 2061                 a
-00006f50: 6e6e 203d 206d 6574 612e 6c6f 6164 416e  nn = meta.loadAn
-00006f60: 6e6f 7461 7469 6f6e 7328 0a20 2020 2020  notations(.     
-00006f70: 2020 2020 2020 2020 2020 2020 2020 2022                 "
-00006f80: 4578 7065 7269 6d65 6e74 6572 222c 205b  Experimenter", [
-00006f90: 7365 6c66 2e67 6574 4576 656e 7443 6f6e  self.getEventCon
-00006fa0: 7465 7874 2829 2e75 7365 7249 645d 2c20  text().userId], 
-00006fb0: 4e6f 6e65 2c20 4e6f 6e65 2c20 4e6f 6e65  None, None, None
-00006fc0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00006fd0: 2029 2e67 6574 2873 656c 662e 6765 7445   ).get(self.getE
-00006fe0: 7665 6e74 436f 6e74 6578 7428 292e 7573  ventContext().us
-00006ff0: 6572 4964 2c20 5b5d 290a 2020 2020 2020  erId, []).      
-00007000: 2020 2020 2020 656c 7365 3a0a 2020 2020        else:.    
-00007010: 2020 2020 2020 2020 2020 2020 616e 6e20              ann 
-00007020: 3d20 6d65 7461 2e6c 6f61 6441 6e6e 6f74  = meta.loadAnnot
-00007030: 6174 696f 6e73 280a 2020 2020 2020 2020  ations(.        
-00007040: 2020 2020 2020 2020 2020 2020 2245 7870              "Exp
-00007050: 6572 696d 656e 7465 7222 2c20 5b69 6e74  erimenter", [int
-00007060: 286f 6964 295d 2c20 4e6f 6e65 2c20 4e6f  (oid)], None, No
-00007070: 6e65 2c20 4e6f 6e65 0a20 2020 2020 2020  ne, None.       
-00007080: 2020 2020 2020 2020 2029 2e67 6574 2869           ).get(i
-00007090: 6e74 286f 6964 292c 205b 5d29 0a20 2020  nt(oid), []).   
-000070a0: 2020 2020 2020 2020 2069 6620 6c65 6e28           if len(
-000070b0: 616e 6e29 203e 2030 3a0a 2020 2020 2020  ann) > 0:.      
-000070c0: 2020 2020 2020 2020 2020 7265 7475 726e            return
-000070d0: 2054 7275 650a 2020 2020 2020 2020 2020   True.          
-000070e0: 2020 656c 7365 3a0a 2020 2020 2020 2020    else:.        
-000070f0: 2020 2020 2020 2020 7265 7475 726e 2046          return F
-00007100: 616c 7365 0a20 2020 2020 2020 2065 7863  alse.        exc
-00007110: 6570 7420 4578 6365 7074 696f 6e3a 0a20  ept Exception:. 
-00007120: 2020 2020 2020 2020 2020 206c 6f67 6765             logge
-00007130: 722e 6572 726f 7228 7472 6163 6562 6163  r.error(tracebac
-00007140: 6b2e 666f 726d 6174 5f65 7863 2829 290a  k.format_exc()).
-00007150: 2020 2020 2020 2020 2020 2020 7265 7475              retu
-00007160: 726e 2046 616c 7365 0a0a 2020 2020 6465  rn False..    de
-00007170: 6620 6765 7445 7870 6572 696d 656e 7465  f getExperimente
-00007180: 7250 686f 746f 2873 656c 662c 206f 6964  rPhoto(self, oid
-00007190: 3d4e 6f6e 6529 3a0a 2020 2020 2020 2020  =None):.        
-000071a0: 2222 220a 2020 2020 2020 2020 4765 7420  """.        Get 
-000071b0: 4669 6c65 2061 6e6e 6f74 6174 696f 6e20  File annotation 
-000071c0: 7769 7468 2074 6865 206e 616d 6573 7061  with the namespa
-000071d0: 6365 3a0a 2020 2020 2020 2020 226f 7065  ce:.        "ope
-000071e0: 6e6d 6963 726f 7363 6f70 792e 6f72 672f  nmicroscopy.org/
-000071f0: 6f6d 6572 6f2f 6578 7065 7269 6d65 6e74  omero/experiment
-00007200: 6572 2f70 686f 746f 2220 284e 5345 5850  er/photo" (NSEXP
-00007210: 4552 494d 454e 5445 5250 484f 544f 290a  ERIMENTERPHOTO).
-00007220: 2020 2020 2020 2020 6c69 6e6b 6564 2074          linked t
-00007230: 6f20 7468 6520 6769 7665 6e20 7573 6572  o the given user
-00007240: 2049 442e 2049 6620 7573 6572 2069 6420   ID. If user id 
-00007250: 6e6f 7420 7365 742c 206f 776e 6564 2062  not set, owned b
-00007260: 7920 7468 6520 6375 7272 656e 740a 2020  y the current.  
-00007270: 2020 2020 2020 7573 6572 2e0a 0a20 2020        user...   
-00007280: 2020 2020 2040 7061 7261 6d20 6f69 6420       @param oid 
-00007290: 2020 2020 2065 7870 6572 696d 656e 7465       experimente
-000072a0: 7220 4944 0a20 2020 2020 2020 2040 7479  r ID.        @ty
-000072b0: 7065 206f 6964 2020 2020 2020 204c 6f6e  pe oid       Lon
-000072c0: 670a 2020 2020 2020 2020 4072 6574 7572  g.        @retur
-000072d0: 6e20 2020 2020 2020 2020 4461 7461 2066  n         Data f
-000072e0: 726f 6d20 7468 6520 696d 6167 652e 0a20  rom the image.. 
-000072f0: 2020 2020 2020 2040 7274 7970 6520 2020         @rtype   
-00007300: 2020 2020 2020 2053 7472 696e 670a 2020         String.  
-00007310: 2020 2020 2020 2222 220a 0a20 2020 2020        """..     
-00007320: 2020 2070 686f 746f 203d 204e 6f6e 650a     photo = None.
-00007330: 2020 2020 2020 2020 6d65 7461 203d 2073          meta = s
-00007340: 656c 662e 6765 744d 6574 6164 6174 6153  elf.getMetadataS
-00007350: 6572 7669 6365 2829 0a20 2020 2020 2020  ervice().       
-00007360: 2074 7279 3a0a 2020 2020 2020 2020 2020   try:.          
-00007370: 2020 6966 206f 6964 2069 7320 4e6f 6e65    if oid is None
-00007380: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-00007390: 2020 616e 6e20 3d20 6d65 7461 2e6c 6f61    ann = meta.loa
-000073a0: 6441 6e6e 6f74 6174 696f 6e73 280a 2020  dAnnotations(.  
-000073b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000073c0: 2020 2245 7870 6572 696d 656e 7465 7222    "Experimenter"
-000073d0: 2c20 5b73 656c 662e 6765 7445 7665 6e74  , [self.getEvent
-000073e0: 436f 6e74 6578 7428 292e 7573 6572 4964  Context().userId
-000073f0: 5d2c 204e 6f6e 652c 204e 6f6e 652c 204e  ], None, None, N
-00007400: 6f6e 650a 2020 2020 2020 2020 2020 2020  one.            
-00007410: 2020 2020 292e 6765 7428 7365 6c66 2e67      ).get(self.g
-00007420: 6574 4576 656e 7443 6f6e 7465 7874 2829  etEventContext()
-00007430: 2e75 7365 7249 642c 205b 5d29 0a20 2020  .userId, []).   
-00007440: 2020 2020 2020 2020 2065 6c73 653a 0a20           else:. 
-00007450: 2020 2020 2020 2020 2020 2020 2020 2061                 a
-00007460: 6e6e 203d 206d 6574 612e 6c6f 6164 416e  nn = meta.loadAn
-00007470: 6e6f 7461 7469 6f6e 7328 0a20 2020 2020  notations(.     
-00007480: 2020 2020 2020 2020 2020 2020 2020 2022                 "
-00007490: 4578 7065 7269 6d65 6e74 6572 222c 205b  Experimenter", [
-000074a0: 696e 7428 6f69 6429 5d2c 204e 6f6e 652c  int(oid)], None,
-000074b0: 204e 6f6e 652c 204e 6f6e 650a 2020 2020   None, None.    
-000074c0: 2020 2020 2020 2020 2020 2020 292e 6765              ).ge
-000074d0: 7428 696e 7428 6f69 6429 2c20 5b5d 290a  t(int(oid), []).
-000074e0: 2020 2020 2020 2020 2020 2020 6966 206c              if l
-000074f0: 656e 2861 6e6e 2920 3e20 303a 0a20 2020  en(ann) > 0:.   
-00007500: 2020 2020 2020 2020 2020 2020 2061 6e6e               ann
-00007510: 203d 2061 6e6e 5b30 5d0a 2020 2020 2020   = ann[0].      
-00007520: 2020 2020 2020 2020 2020 7374 6f72 6520            store 
-00007530: 3d20 7365 6c66 2e63 7265 6174 6552 6177  = self.createRaw
-00007540: 4669 6c65 5374 6f72 6528 290a 2020 2020  FileStore().    
-00007550: 2020 2020 2020 2020 2020 2020 7472 793a              try:
-00007560: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00007570: 2020 2020 2073 746f 7265 2e73 6574 4669       store.setFi
-00007580: 6c65 4964 2861 6e6e 2e66 696c 652e 6964  leId(ann.file.id
-00007590: 2e76 616c 290a 2020 2020 2020 2020 2020  .val).          
-000075a0: 2020 2020 2020 2020 2020 7068 6f74 6f20            photo 
-000075b0: 3d20 7374 6f72 652e 7265 6164 2830 2c20  = store.read(0, 
-000075c0: 696e 7428 616e 6e2e 6669 6c65 2e73 697a  int(ann.file.siz
-000075d0: 652e 7661 6c29 290a 2020 2020 2020 2020  e.val)).        
-000075e0: 2020 2020 2020 2020 6669 6e61 6c6c 793a          finally:
-000075f0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00007600: 2020 2020 2073 746f 7265 2e63 6c6f 7365       store.close
-00007610: 2829 0a20 2020 2020 2020 2020 2020 2065  ().            e
-00007620: 6c73 653a 0a20 2020 2020 2020 2020 2020  lse:.           
-00007630: 2020 2020 2070 686f 746f 203d 2073 656c       photo = sel
-00007640: 662e 6765 7445 7870 6572 696d 656e 7465  f.getExperimente
-00007650: 7244 6566 6175 6c74 5068 6f74 6f28 290a  rDefaultPhoto().
-00007660: 2020 2020 2020 2020 6578 6365 7074 2045          except E
-00007670: 7863 6570 7469 6f6e 3a0a 2020 2020 2020  xception:.      
-00007680: 2020 2020 2020 6c6f 6767 6572 2e65 7272        logger.err
-00007690: 6f72 2874 7261 6365 6261 636b 2e66 6f72  or(traceback.for
-000076a0: 6d61 745f 6578 6328 2929 0a20 2020 2020  mat_exc()).     
-000076b0: 2020 2020 2020 2070 686f 746f 203d 2073         photo = s
-000076c0: 656c 662e 6765 7445 7870 6572 696d 656e  elf.getExperimen
-000076d0: 7465 7244 6566 6175 6c74 5068 6f74 6f28  terDefaultPhoto(
-000076e0: 290a 2020 2020 2020 2020 6966 2070 686f  ).        if pho
-000076f0: 746f 2069 7320 4e6f 6e65 3a0a 2020 2020  to is None:.    
-00007700: 2020 2020 2020 2020 7068 6f74 6f20 3d20          photo = 
-00007710: 7365 6c66 2e67 6574 4578 7065 7269 6d65  self.getExperime
-00007720: 6e74 6572 4465 6661 756c 7450 686f 746f  nterDefaultPhoto
-00007730: 2829 0a20 2020 2020 2020 2072 6574 7572  ().        retur
-00007740: 6e20 7068 6f74 6f0a 0a20 2020 2064 6566  n photo..    def
-00007750: 2067 6574 4578 7065 7269 6d65 6e74 6572   getExperimenter
-00007760: 5068 6f74 6f53 697a 6528 7365 6c66 2c20  PhotoSize(self, 
-00007770: 6f69 643d 4e6f 6e65 293a 0a20 2020 2020  oid=None):.     
-00007780: 2020 2022 2222 0a20 2020 2020 2020 2047     """.        G
-00007790: 6574 2073 697a 6520 6f66 2046 696c 6520  et size of File 
-000077a0: 616e 6e6f 7461 7469 6f6e 2077 6974 6820  annotation with 
-000077b0: 7468 6520 6e61 6d65 7370 6163 653a 0a20  the namespace:. 
-000077c0: 2020 2020 2020 2022 6f70 656e 6d69 6372         "openmicr
-000077d0: 6f73 636f 7079 2e6f 7267 2f6f 6d65 726f  oscopy.org/omero
-000077e0: 2f65 7870 6572 696d 656e 7465 722f 7068  /experimenter/ph
-000077f0: 6f74 6f22 2028 4e53 4558 5045 5249 4d45  oto" (NSEXPERIME
-00007800: 4e54 4552 5048 4f54 4f29 0a20 2020 2020  NTERPHOTO).     
-00007810: 2020 206c 696e 6b65 6420 746f 2074 6865     linked to the
-00007820: 2067 6976 656e 2075 7365 7220 4944 2e20   given user ID. 
-00007830: 4966 2075 7365 7220 6964 206e 6f74 2073  If user id not s
-00007840: 6574 2c20 6f77 6e65 6420 6279 2074 6865  et, owned by the
-00007850: 2063 7572 7265 6e74 0a20 2020 2020 2020   current.       
-00007860: 2075 7365 722e 0a0a 2020 2020 2020 2020   user...        
-00007870: 4070 6172 616d 206f 6964 2020 2020 2020  @param oid      
-00007880: 6578 7065 7269 6d65 6e74 6572 2049 440a  experimenter ID.
-00007890: 2020 2020 2020 2020 4074 7970 6520 6f69          @type oi
-000078a0: 6420 2020 2020 2020 4c6f 6e67 0a20 2020  d       Long.   
-000078b0: 2020 2020 2040 7265 7475 726e 2020 2020       @return    
-000078c0: 2020 2020 2054 7570 6c65 2069 6e63 6c75       Tuple inclu
-000078d0: 6469 6e67 2064 696d 656e 7469 6f6e 2061  ding dimention a
-000078e0: 6e64 2073 697a 6520 6f66 2074 6865 2066  nd size of the f
-000078f0: 696c 650a 2020 2020 2020 2020 4072 7479  ile.        @rty
-00007900: 7065 2020 2020 2020 2020 2020 5475 706c  pe          Tupl
-00007910: 650a 2020 2020 2020 2020 2222 220a 0a20  e.        """.. 
-00007920: 2020 2020 2020 2070 686f 746f 203d 204e         photo = N
-00007930: 6f6e 650a 2020 2020 2020 2020 6d65 7461  one.        meta
-00007940: 203d 2073 656c 662e 6765 744d 6574 6164   = self.getMetad
-00007950: 6174 6153 6572 7669 6365 2829 0a20 2020  ataService().   
-00007960: 2020 2020 2074 7279 3a0a 2020 2020 2020       try:.      
-00007970: 2020 2020 2020 6966 206f 6964 2069 7320        if oid is 
-00007980: 4e6f 6e65 3a0a 2020 2020 2020 2020 2020  None:.          
-00007990: 2020 2020 2020 616e 6e20 3d20 6d65 7461        ann = meta
-000079a0: 2e6c 6f61 6441 6e6e 6f74 6174 696f 6e73  .loadAnnotations
-000079b0: 280a 2020 2020 2020 2020 2020 2020 2020  (.              
-000079c0: 2020 2020 2020 2245 7870 6572 696d 656e        "Experimen
-000079d0: 7465 7222 2c20 5b73 656c 662e 6765 7445  ter", [self.getE
-000079e0: 7665 6e74 436f 6e74 6578 7428 292e 7573  ventContext().us
-000079f0: 6572 4964 5d2c 204e 6f6e 652c 204e 6f6e  erId], None, Non
-00007a00: 652c 204e 6f6e 650a 2020 2020 2020 2020  e, None.        
-00007a10: 2020 2020 2020 2020 292e 6765 7428 7365          ).get(se
-00007a20: 6c66 2e67 6574 4576 656e 7443 6f6e 7465  lf.getEventConte
-00007a30: 7874 2829 2e75 7365 7249 642c 205b 5d29  xt().userId, [])
-00007a40: 5b30 5d0a 2020 2020 2020 2020 2020 2020  [0].            
-00007a50: 656c 7365 3a0a 2020 2020 2020 2020 2020  else:.          
-00007a60: 2020 2020 2020 616e 6e20 3d20 6d65 7461        ann = meta
-00007a70: 2e6c 6f61 6441 6e6e 6f74 6174 696f 6e73  .loadAnnotations
-00007a80: 280a 2020 2020 2020 2020 2020 2020 2020  (.              
-00007a90: 2020 2020 2020 2245 7870 6572 696d 656e        "Experimen
-00007aa0: 7465 7222 2c20 5b69 6e74 286f 6964 295d  ter", [int(oid)]
-00007ab0: 2c20 4e6f 6e65 2c20 4e6f 6e65 2c20 4e6f  , None, None, No
-00007ac0: 6e65 0a20 2020 2020 2020 2020 2020 2020  ne.             
-00007ad0: 2020 2029 2e67 6574 2869 6e74 286f 6964     ).get(int(oid
-00007ae0: 292c 205b 5d29 5b30 5d0a 2020 2020 2020  ), [])[0].      
-00007af0: 2020 2020 2020 7374 6f72 6520 3d20 7365        store = se
-00007b00: 6c66 2e63 7265 6174 6552 6177 4669 6c65  lf.createRawFile
-00007b10: 5374 6f72 6528 290a 2020 2020 2020 2020  Store().        
-00007b20: 2020 2020 7472 793a 0a20 2020 2020 2020      try:.       
-00007b30: 2020 2020 2020 2020 2073 746f 7265 2e73           store.s
-00007b40: 6574 4669 6c65 4964 2861 6e6e 2e66 696c  etFileId(ann.fil
-00007b50: 652e 6964 2e76 616c 290a 2020 2020 2020  e.id.val).      
-00007b60: 2020 2020 2020 2020 2020 7068 6f74 6f20            photo 
-00007b70: 3d20 7374 6f72 652e 7265 6164 2830 2c20  = store.read(0, 
-00007b80: 696e 7428 616e 6e2e 6669 6c65 2e73 697a  int(ann.file.siz
-00007b90: 652e 7661 6c29 290a 2020 2020 2020 2020  e.val)).        
-00007ba0: 2020 2020 6669 6e61 6c6c 793a 0a20 2020      finally:.   
-00007bb0: 2020 2020 2020 2020 2020 2020 2073 746f               sto
-00007bc0: 7265 2e63 6c6f 7365 2829 0a20 2020 2020  re.close().     
-00007bd0: 2020 2020 2020 2074 7279 3a0a 2020 2020         try:.    
-00007be0: 2020 2020 2020 2020 2020 2020 696d 203d              im =
-00007bf0: 2049 6d61 6765 2e6f 7065 6e28 5374 7269   Image.open(Stri
-00007c00: 6e67 494f 2870 686f 746f 2929 0a20 2020  ngIO(photo)).   
-00007c10: 2020 2020 2020 2020 2065 7863 6570 7420           except 
-00007c20: 4578 6365 7074 696f 6e3a 0a20 2020 2020  Exception:.     
-00007c30: 2020 2020 2020 2020 2020 206c 6f67 6765             logge
-00007c40: 722e 6572 726f 7228 7472 6163 6562 6163  r.error(tracebac
-00007c50: 6b2e 666f 726d 6174 5f65 7863 2829 290a  k.format_exc()).
-00007c60: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00007c70: 7265 7475 726e 204e 6f6e 650a 2020 2020  return None.    
-00007c80: 2020 2020 2020 2020 656c 7365 3a0a 2020          else:.  
-00007c90: 2020 2020 2020 2020 2020 2020 2020 7265                re
-00007ca0: 7475 726e 2028 696d 2e73 697a 652c 2061  turn (im.size, a
-00007cb0: 6e6e 2e66 696c 652e 7369 7a65 2e76 616c  nn.file.size.val
-00007cc0: 290a 2020 2020 2020 2020 6578 6365 7074  ).        except
-00007cd0: 2045 7863 6570 7469 6f6e 3a0a 2020 2020   Exception:.    
-00007ce0: 2020 2020 2020 2020 7265 7475 726e 204e          return N
-00007cf0: 6f6e 650a 0a20 2020 2064 6566 2064 656c  one..    def del
-00007d00: 6574 6545 7870 6572 696d 656e 7465 7250  eteExperimenterP
-00007d10: 686f 746f 2873 656c 662c 206f 6964 3d4e  hoto(self, oid=N
-00007d20: 6f6e 6529 3a0a 2020 2020 2020 2020 616e  one):.        an
-00007d30: 6e20 3d20 4e6f 6e65 0a20 2020 2020 2020  n = None.       
-00007d40: 206d 6574 6120 3d20 7365 6c66 2e67 6574   meta = self.get
-00007d50: 4d65 7461 6461 7461 5365 7276 6963 6528  MetadataService(
-00007d60: 290a 2020 2020 2020 2020 7472 793a 0a20  ).        try:. 
-00007d70: 2020 2020 2020 2020 2020 2069 6620 6f69             if oi
-00007d80: 6420 6973 204e 6f6e 653a 0a20 2020 2020  d is None:.     
-00007d90: 2020 2020 2020 2020 2020 2061 6e6e 203d             ann =
-00007da0: 206d 6574 612e 6c6f 6164 416e 6e6f 7461   meta.loadAnnota
-00007db0: 7469 6f6e 7328 0a20 2020 2020 2020 2020  tions(.         
-00007dc0: 2020 2020 2020 2020 2020 2022 4578 7065             "Expe
-00007dd0: 7269 6d65 6e74 6572 222c 205b 7365 6c66  rimenter", [self
-00007de0: 2e67 6574 4576 656e 7443 6f6e 7465 7874  .getEventContext
-00007df0: 2829 2e75 7365 7249 645d 2c20 4e6f 6e65  ().userId], None
-00007e00: 2c20 4e6f 6e65 2c20 4e6f 6e65 0a20 2020  , None, None.   
-00007e10: 2020 2020 2020 2020 2020 2020 2029 2e67               ).g
-00007e20: 6574 2873 656c 662e 6765 7445 7665 6e74  et(self.getEvent
-00007e30: 436f 6e74 6578 7428 292e 7573 6572 4964  Context().userId
-00007e40: 2c20 5b5d 295b 305d 0a20 2020 2020 2020  , [])[0].       
-00007e50: 2020 2020 2065 6c73 653a 0a20 2020 2020       else:.     
-00007e60: 2020 2020 2020 2020 2020 2061 6e6e 203d             ann =
-00007e70: 206d 6574 612e 6c6f 6164 416e 6e6f 7461   meta.loadAnnota
-00007e80: 7469 6f6e 7328 0a20 2020 2020 2020 2020  tions(.         
-00007e90: 2020 2020 2020 2020 2020 2022 4578 7065             "Expe
-00007ea0: 7269 6d65 6e74 6572 222c 205b 696e 7428  rimenter", [int(
-00007eb0: 6f69 6429 5d2c 204e 6f6e 652c 204e 6f6e  oid)], None, Non
-00007ec0: 652c 204e 6f6e 650a 2020 2020 2020 2020  e, None.        
-00007ed0: 2020 2020 2020 2020 292e 6765 7428 696e          ).get(in
-00007ee0: 7428 6f69 6429 2c20 5b5d 295b 305d 0a20  t(oid), [])[0]. 
-00007ef0: 2020 2020 2020 2065 7863 6570 7420 4578         except Ex
-00007f00: 6365 7074 696f 6e3a 0a20 2020 2020 2020  ception:.       
-00007f10: 2020 2020 206c 6f67 6765 722e 6572 726f       logger.erro
-00007f20: 7228 7472 6163 6562 6163 6b2e 666f 726d  r(traceback.form
-00007f30: 6174 5f65 7863 2829 290a 2020 2020 2020  at_exc()).      
-00007f40: 2020 2020 2020 7261 6973 6520 494f 4572        raise IOEr
-00007f50: 726f 7228 2250 686f 746f 2064 6f65 7320  ror("Photo does 
-00007f60: 6e6f 7420 6578 6973 742e 2229 0a20 2020  not exist.").   
-00007f70: 2020 2020 2065 6c73 653a 0a20 2020 2020       else:.     
-00007f80: 2020 2020 2020 2065 7870 203d 2073 656c         exp = sel
-00007f90: 662e 6765 7455 7365 7228 290a 2020 2020  f.getUser().    
-00007fa0: 2020 2020 2020 2020 6c69 6e6b 7320 3d20          links = 
-00007fb0: 6578 702e 5f67 6574 416e 6e6f 7461 7469  exp._getAnnotati
-00007fc0: 6f6e 4c69 6e6b 7328 290a 2020 2020 2020  onLinks().      
-00007fd0: 2020 2020 2020 2320 7468 6572 6520 7368        # there sh
-00007fe0: 6f75 6c64 2062 6520 6f6e 6c79 206f 6e65  ould be only one
-00007ff0: 2045 7870 6572 696d 656e 7465 7241 6e6e   ExperimenterAnn
-00008000: 6f74 6174 696f 6e4c 696e 6b0a 2020 2020  otationLink.    
-00008010: 2020 2020 2020 2020 2320 6275 7420 6966          # but if
-00008020: 2074 6865 7265 2069 7320 6d6f 7265 2074   there is more t
-00008030: 6865 6e20 6f6e 6520 616c 6c20 6f66 2074  hen one all of t
-00008040: 6865 6d20 7368 6f75 6c64 2062 6520 6465  hem should be de
-00008050: 6c65 7465 642e 0a20 2020 2020 2020 2020  leted..         
-00008060: 2020 206c 696e 6b49 6473 203d 205b 6c69     linkIds = [li
-00008070: 6e6b 2e69 642e 7661 6c20 666f 7220 6c69  nk.id.val for li
-00008080: 6e6b 2069 6e20 6c69 6e6b 735d 0a20 2020  nk in links].   
-00008090: 2020 2020 2020 2020 2073 656c 662e 6465           self.de
-000080a0: 6c65 7465 4f62 6a65 6374 7328 2245 7870  leteObjects("Exp
-000080b0: 6572 696d 656e 7465 7241 6e6e 6f74 6174  erimenterAnnotat
-000080c0: 696f 6e4c 696e 6b22 2c20 6c69 6e6b 4964  ionLink", linkId
-000080d0: 732c 2077 6169 743d 5472 7565 290a 2020  s, wait=True).  
-000080e0: 2020 2020 2020 2020 2020 2320 4e6f 2065            # No e
-000080f0: 7272 6f72 2068 616e 646c 696e 673f 0a20  rror handling?. 
-00008100: 2020 2020 2020 2020 2020 2073 656c 662e             self.
-00008110: 6465 6c65 7465 4f62 6a65 6374 2861 6e6e  deleteObject(ann
-00008120: 290a 0a20 2020 2064 6566 2063 726f 7045  )..    def cropE
-00008130: 7870 6572 696d 656e 7465 7250 686f 746f  xperimenterPhoto
-00008140: 2873 656c 662c 2062 6f78 2c20 6f69 643d  (self, box, oid=
-00008150: 4e6f 6e65 293a 0a20 2020 2020 2020 2022  None):.        "
-00008160: 2222 0a20 2020 2020 2020 2043 726f 7020  "".        Crop 
-00008170: 4669 6c65 2061 6e6e 6f74 6174 696f 6e20  File annotation 
-00008180: 7769 7468 2074 6865 206e 616d 6573 7061  with the namespa
-00008190: 6365 3a0a 2020 2020 2020 2020 226f 7065  ce:.        "ope
-000081a0: 6e6d 6963 726f 7363 6f70 792e 6f72 672f  nmicroscopy.org/
-000081b0: 6f6d 6572 6f2f 6578 7065 7269 6d65 6e74  omero/experiment
-000081c0: 6572 2f70 686f 746f 2220 284e 5345 5850  er/photo" (NSEXP
-000081d0: 4552 494d 454e 5445 5250 484f 544f 290a  ERIMENTERPHOTO).
-000081e0: 2020 2020 2020 2020 6c69 6e6b 6564 2074          linked t
-000081f0: 6f20 7468 6520 6769 7665 6e20 7573 6572  o the given user
-00008200: 2049 442e 2049 6620 7573 6572 2069 6420   ID. If user id 
-00008210: 6e6f 7420 7365 742c 206f 776e 6564 2062  not set, owned b
-00008220: 7920 7468 6520 6375 7272 656e 740a 2020  y the current.  
-00008230: 2020 2020 2020 7573 6572 2e0a 2020 2020        user..    
-00008240: 2020 2020 4e65 7720 6469 6d65 6e73 696f      New dimensio
-00008250: 6e73 2061 7265 2064 6566 696e 6564 2062  ns are defined b
-00008260: 7920 7371 7565 7220 706f 7369 7469 6f6e  y squer position
-00008270: 7320 626f 7820 3d20 2878 312c 7931 2c78  s box = (x1,y1,x
-00008280: 322c 7932 290a 0a20 2020 2020 2020 2040  2,y2)..        @
-00008290: 7061 7261 6d20 626f 7820 2020 2020 2074  param box      t
-000082a0: 7570 6c65 206f 6620 6e65 7720 7371 7561  uple of new squa
-000082b0: 7265 2070 6f73 6974 696f 6e73 0a20 2020  re positions.   
-000082c0: 2020 2020 2040 7479 7065 2062 6f78 2020       @type box  
-000082d0: 2020 2020 2054 7570 6c65 0a20 2020 2020       Tuple.     
-000082e0: 2020 2040 7061 7261 6d20 6f69 6420 2020     @param oid   
-000082f0: 2020 2065 7870 6572 696d 656e 7465 7220     experimenter 
-00008300: 4944 0a20 2020 2020 2020 2040 7479 7065  ID.        @type
-00008310: 206f 6964 2020 2020 2020 204c 6f6e 670a   oid       Long.
-00008320: 2020 2020 2020 2020 2222 220a 2020 2020          """.    
-00008330: 2020 2020 2320 544f 444f 3a20 6372 6f70      # TODO: crop
-00008340: 206d 6574 686f 6420 636f 756c 6420 6265   method could be
-00008350: 206d 6f76 6564 2074 6f20 7468 6520 7365   moved to the se
-00008360: 7276 6572 2073 6964 650a 0a20 2020 2020  rver side..     
-00008370: 2020 2070 686f 746f 203d 204e 6f6e 650a     photo = None.
-00008380: 2020 2020 2020 2020 6d65 7461 203d 2073          meta = s
-00008390: 656c 662e 6765 744d 6574 6164 6174 6153  elf.getMetadataS
-000083a0: 6572 7669 6365 2829 0a20 2020 2020 2020  ervice().       
-000083b0: 2061 6e6e 203d 204e 6f6e 650a 2020 2020   ann = None.    
-000083c0: 2020 2020 7472 793a 0a20 2020 2020 2020      try:.       
-000083d0: 2020 2020 2069 6620 6f69 6420 6973 204e       if oid is N
-000083e0: 6f6e 653a 0a20 2020 2020 2020 2020 2020  one:.           
-000083f0: 2020 2020 2061 6e6e 203d 206d 6574 612e       ann = meta.
-00008400: 6c6f 6164 416e 6e6f 7461 7469 6f6e 7328  loadAnnotations(
-00008410: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00008420: 2020 2020 2022 4578 7065 7269 6d65 6e74       "Experiment
-00008430: 6572 222c 205b 7365 6c66 2e67 6574 4576  er", [self.getEv
-00008440: 656e 7443 6f6e 7465 7874 2829 2e75 7365  entContext().use
-00008450: 7249 645d 2c20 4e6f 6e65 2c20 4e6f 6e65  rId], None, None
-00008460: 2c20 4e6f 6e65 0a20 2020 2020 2020 2020  , None.         
-00008470: 2020 2020 2020 2029 2e67 6574 2873 656c         ).get(sel
-00008480: 662e 6765 7445 7665 6e74 436f 6e74 6578  f.getEventContex
-00008490: 7428 292e 7573 6572 4964 2c20 5b5d 295b  t().userId, [])[
-000084a0: 305d 0a20 2020 2020 2020 2020 2020 2065  0].            e
-000084b0: 6c73 653a 0a20 2020 2020 2020 2020 2020  lse:.           
-000084c0: 2020 2020 2061 6e6e 203d 206d 6574 612e       ann = meta.
-000084d0: 6c6f 6164 416e 6e6f 7461 7469 6f6e 7328  loadAnnotations(
-000084e0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-000084f0: 2020 2020 2022 4578 7065 7269 6d65 6e74       "Experiment
-00008500: 6572 222c 205b 696e 7428 6f69 6429 5d2c  er", [int(oid)],
-00008510: 204e 6f6e 652c 204e 6f6e 652c 204e 6f6e   None, None, Non
-00008520: 650a 2020 2020 2020 2020 2020 2020 2020  e.              
-00008530: 2020 292e 6765 7428 696e 7428 6f69 6429    ).get(int(oid)
-00008540: 2c20 5b5d 295b 305d 0a20 2020 2020 2020  , [])[0].       
-00008550: 2020 2020 2073 746f 7265 203d 2073 656c       store = sel
-00008560: 662e 6372 6561 7465 5261 7746 696c 6553  f.createRawFileS
-00008570: 746f 7265 2829 0a20 2020 2020 2020 2020  tore().         
-00008580: 2020 2074 7279 3a0a 2020 2020 2020 2020     try:.        
-00008590: 2020 2020 2020 2020 7374 6f72 652e 7365          store.se
-000085a0: 7446 696c 6549 6428 616e 6e2e 6669 6c65  tFileId(ann.file
-000085b0: 2e69 642e 7661 6c29 0a20 2020 2020 2020  .id.val).       
-000085c0: 2020 2020 2020 2020 2070 686f 746f 203d           photo =
-000085d0: 2073 746f 7265 2e72 6561 6428 302c 2069   store.read(0, i
-000085e0: 6e74 2861 6e6e 2e66 696c 652e 7369 7a65  nt(ann.file.size
-000085f0: 2e76 616c 2929 0a20 2020 2020 2020 2020  .val)).         
-00008600: 2020 2066 696e 616c 6c79 3a0a 2020 2020     finally:.    
-00008610: 2020 2020 2020 2020 2020 2020 7374 6f72              stor
-00008620: 652e 636c 6f73 6528 290a 2020 2020 2020  e.close().      
-00008630: 2020 6578 6365 7074 2045 7863 6570 7469    except Excepti
-00008640: 6f6e 3a0a 2020 2020 2020 2020 2020 2020  on:.            
-00008650: 6c6f 6767 6572 2e65 7272 6f72 2874 7261  logger.error(tra
-00008660: 6365 6261 636b 2e66 6f72 6d61 745f 6578  ceback.format_ex
-00008670: 6328 2929 0a20 2020 2020 2020 2020 2020  c()).           
-00008680: 2072 6169 7365 2049 4f45 7272 6f72 2822   raise IOError("
-00008690: 5068 6f74 6f20 646f 6573 206e 6f74 2065  Photo does not e
-000086a0: 7869 7374 2e22 290a 2020 2020 2020 2020  xist.").        
-000086b0: 656c 7365 3a0a 2020 2020 2020 2020 2020  else:.          
-000086c0: 2020 7265 6769 6f6e 203d 204e 6f6e 650a    region = None.
-000086d0: 2020 2020 2020 2020 2020 2020 7472 793a              try:
-000086e0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-000086f0: 2069 6d20 3d20 496d 6167 652e 6f70 656e   im = Image.open
-00008700: 2842 7974 6573 494f 2870 686f 746f 2929  (BytesIO(photo))
-00008710: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00008720: 2072 6567 696f 6e20 3d20 696d 2e63 726f   region = im.cro
-00008730: 7028 626f 7829 0a20 2020 2020 2020 2020  p(box).         
-00008740: 2020 2065 7863 6570 7420 494f 4572 726f     except IOErro
-00008750: 723a 0a20 2020 2020 2020 2020 2020 2020  r:.             
-00008760: 2020 206c 6f67 6765 722e 6572 726f 7228     logger.error(
-00008770: 7472 6163 6562 6163 6b2e 666f 726d 6174  traceback.format
-00008780: 5f65 7863 2829 290a 2020 2020 2020 2020  _exc()).        
-00008790: 2020 2020 2020 2020 7261 6973 6520 494f          raise IO
-000087a0: 4572 726f 7228 2243 616e 6e6f 7420 6f70  Error("Cannot op
-000087b0: 656e 2074 6861 7420 7068 6f74 6f2e 2229  en that photo.")
-000087c0: 0a20 2020 2020 2020 2020 2020 2065 6c73  .            els
-000087d0: 653a 0a20 2020 2020 2020 2020 2020 2020  e:.             
-000087e0: 2020 2069 6d64 6174 6120 3d20 4279 7465     imdata = Byte
-000087f0: 7349 4f28 290a 2020 2020 2020 2020 2020  sIO().          
-00008800: 2020 2020 2020 7265 6769 6f6e 2e73 6176        region.sav
-00008810: 6528 696d 6461 7461 2c20 666f 726d 6174  e(imdata, format
-00008820: 3d69 6d2e 666f 726d 6174 290a 2020 2020  =im.format).    
-00008830: 2020 2020 2020 2020 2020 2020 7365 6c66              self
-00008840: 2e75 706c 6f61 644d 7955 7365 7250 686f  .uploadMyUserPho
-00008850: 746f 280a 2020 2020 2020 2020 2020 2020  to(.            
-00008860: 2020 2020 2020 2020 616e 6e2e 6669 6c65          ann.file
-00008870: 2e6e 616d 652e 7661 6c2c 2061 6e6e 2e66  .name.val, ann.f
-00008880: 696c 652e 6d69 6d65 7479 7065 2e76 616c  ile.mimetype.val
-00008890: 2c20 696d 6461 7461 2e67 6574 7661 6c75  , imdata.getvalu
-000088a0: 6528 290a 2020 2020 2020 2020 2020 2020  e().            
-000088b0: 2020 2020 290a 0a20 2020 2064 6566 2067      )..    def g
-000088c0: 6574 4578 7065 7269 6d65 6e74 6572 4465  etExperimenterDe
-000088d0: 6661 756c 7450 686f 746f 2873 656c 6629  faultPhoto(self)
-000088e0: 3a0a 2020 2020 2020 2020 2222 220a 2020  :.        """.  
-000088f0: 2020 2020 2020 4966 2066 696c 6520 616e        If file an
-00008900: 6e6f 7461 7469 6f6e 2077 6974 6820 7468  notation with th
-00008910: 6520 6e61 6d65 7370 6163 653a 0a20 2020  e namespace:.   
-00008920: 2020 2020 2022 6f70 656e 6d69 6372 6f73       "openmicros
-00008930: 636f 7079 2e6f 7267 2f6f 6d65 726f 2f65  copy.org/omero/e
-00008940: 7870 6572 696d 656e 7465 722f 7068 6f74  xperimenter/phot
-00008950: 6f22 2028 4e53 4558 5045 5249 4d45 4e54  o" (NSEXPERIMENT
-00008960: 4552 5048 4f54 4f29 0a20 2020 2020 2020  ERPHOTO).       
-00008970: 2069 7320 6e6f 7420 6c69 6e6b 6564 2074   is not linked t
-00008980: 6f20 6578 7065 7269 6d65 6e74 6572 2074  o experimenter t
-00008990: 6869 7320 6d65 7468 6f64 2067 656e 6572  his method gener
-000089a0: 6174 6520 6465 6661 756c 7420 7069 6374  ate default pict
-000089b0: 7572 6520 6f66 0a20 2020 2020 2020 2074  ure of.        t
-000089c0: 6865 2070 6572 736f 6e2e 0a0a 2020 2020  he person...    
-000089d0: 2020 2020 4072 6574 7572 6e20 2020 2020      @return     
-000089e0: 2020 2020 4461 7461 2066 726f 6d20 7468      Data from th
-000089f0: 6520 696d 6167 652e 0a20 2020 2020 2020  e image..       
-00008a00: 2040 7274 7970 6520 2020 2020 2020 2020   @rtype         
-00008a10: 2053 7472 696e 670a 2020 2020 2020 2020   String.        
-00008a20: 2222 220a 0a20 2020 2020 2020 2069 6d67  """..        img
-00008a30: 203d 2049 6d61 6765 2e6f 7065 6e28 7365   = Image.open(se
-00008a40: 7474 696e 6773 2e44 4546 4155 4c54 5f55  ttings.DEFAULT_U
-00008a50: 5345 5229 0a20 2020 2020 2020 2069 6d67  SER).        img
-00008a60: 2e74 6875 6d62 6e61 696c 2828 3135 302c  .thumbnail((150,
-00008a70: 2031 3530 292c 2049 6d61 6765 2e41 4e54   150), Image.ANT
-00008a80: 4941 4c49 4153 290a 2020 2020 2020 2020  IALIAS).        
-00008a90: 6620 3d20 4279 7465 7349 4f28 290a 2020  f = BytesIO().  
-00008aa0: 2020 2020 2020 696d 672e 7361 7665 2866        img.save(f
-00008ab0: 2c20 2250 4e47 2229 0a20 2020 2020 2020  , "PNG").       
-00008ac0: 2066 2e73 6565 6b28 3029 0a20 2020 2020   f.seek(0).     
-00008ad0: 2020 2072 6574 7572 6e20 662e 7265 6164     return f.read
-00008ae0: 2829 0a0a 2020 2020 6465 6620 6765 7446  ()..    def getF
-00008af0: 696c 6546 6f72 6d61 7428 7365 6c66 2c20  ileFormat(self, 
-00008b00: 666f 726d 6174 293a 0a20 2020 2020 2020  format):.       
-00008b10: 2022 2222 0a20 2020 2020 2020 2047 6574   """.        Get
-00008b20: 2066 696c 6520 616e 6e6f 7461 7469 6f6e   file annotation
-00008b30: 2066 6f72 6d61 7420 666f 7220 7468 6520   format for the 
-00008b40: 6769 7665 6e20 7661 6c75 652e 0a0a 2020  given value...  
-00008b50: 2020 2020 2020 4072 6574 7572 6e20 2020        @return   
-00008b60: 2020 2020 2020 4f6d 6572 6f20 4669 6c65        Omero File
-00008b70: 2066 6f72 6d61 740a 2020 2020 2020 2020   format.        
-00008b80: 4072 7479 7065 2020 2020 2020 2020 2020  @rtype          
-00008b90: 5374 7269 6e67 0a20 2020 2020 2020 2022  String.        "
-00008ba0: 2222 0a20 2020 2020 2020 2071 7565 7279  "".        query
-00008bb0: 5f73 6572 7620 3d20 7365 6c66 2e67 6574  _serv = self.get
-00008bc0: 5175 6572 7953 6572 7669 6365 2829 0a20  QueryService(). 
-00008bd0: 2020 2020 2020 2072 6574 7572 6e20 7175         return qu
-00008be0: 6572 795f 7365 7276 2e66 696e 6442 7953  ery_serv.findByS
-00008bf0: 7472 696e 6728 2246 6f72 6d61 7422 2c20  tring("Format", 
-00008c00: 2276 616c 7565 222c 2066 6f72 6d61 7429  "value", format)
-00008c10: 2e67 6574 5661 6c75 6528 292e 7661 6c0a  .getValue().val.
-00008c20: 0a20 2020 2023 2323 2323 2323 2323 2323  .    ###########
-00008c30: 2323 2323 2323 2323 2323 2323 2323 2323  ################
-00008c40: 2323 2323 2323 2323 2323 2323 2323 2323  ################
-00008c50: 2323 2323 230a 2020 2020 2320 2020 436f  #####.    #   Co
-00008c60: 756e 7465 7273 0a0a 2020 2020 6465 6620  unters..    def 
-00008c70: 6765 7443 6f6c 6c65 6374 696f 6e43 6f75  getCollectionCou
-00008c80: 6e74 2873 656c 662c 2070 6172 656e 742c  nt(self, parent,
-00008c90: 2063 6869 6c64 2c20 6964 7329 3a0a 2020   child, ids):.  
-00008ca0: 2020 2020 2020 2222 220a 2020 2020 2020        """.      
-00008cb0: 2020 436f 756e 7473 2074 6865 206e 756d    Counts the num
-00008cc0: 6265 7220 6f66 206d 656d 6265 7273 2069  ber of members i
-00008cd0: 6e20 6120 636f 6c6c 6563 7469 6f6e 2066  n a collection f
-00008ce0: 6f72 2061 2067 6976 656e 206f 626a 6563  or a given objec
-00008cf0: 742e 0a0a 2020 2020 2020 2020 4070 6172  t...        @par
-00008d00: 616d 2070 6172 656e 7420 2020 2020 2020  am parent       
-00008d10: 5468 6520 6675 6c6c 792d 7175 616c 6966  The fully-qualif
-00008d20: 6965 6420 636c 6173 736e 616d 6520 6f66  ied classname of
-00008d30: 2074 6865 206f 626a 6563 7420 746f 2062   the object to b
-00008d40: 650a 2020 2020 2020 2020 2020 2020 2020  e.              
-00008d50: 2020 2020 2020 2020 2020 2020 2020 7465                te
-00008d60: 7374 6564 0a20 2020 2020 2020 2040 7479  sted.        @ty
-00008d70: 7065 2070 6172 656e 7420 2020 2020 2020  pe parent       
-00008d80: 2053 7472 696e 670a 2020 2020 2020 2020   String.        
-00008d90: 4070 6172 616d 2063 6869 6c64 2020 2020  @param child    
-00008da0: 2020 2020 4e61 6d65 206f 6620 7468 6520      Name of the 
-00008db0: 7072 6f70 6572 7479 206f 6e20 7468 6174  property on that
-00008dc0: 2063 6c61 7373 2c20 6f6d 6974 7469 6e67   class, omitting
-00008dd0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00008de0: 2020 2020 2020 2020 2020 2020 2067 6574               get
-00008df0: 7465 7273 2061 6e64 2073 6574 7465 7273  ters and setters
-00008e00: 2e0a 2020 2020 2020 2020 4074 7970 6520  ..        @type 
-00008e10: 6368 696c 6420 2020 2020 2020 2020 5374  child         St
-00008e20: 7269 6e67 0a20 2020 2020 2020 2040 7061  ring.        @pa
-00008e30: 7261 6d20 6964 7320 2020 2020 2020 2020  ram ids         
-00008e40: 2053 6574 206f 6620 4c6f 6e67 732c 2074   Set of Longs, t
-00008e50: 6865 2069 6473 206f 6620 7468 6520 6f62  he ids of the ob
-00008e60: 6a65 6374 7320 746f 2074 6573 740a 2020  jects to test.  
-00008e70: 2020 2020 2020 4074 7970 6520 6964 7320        @type ids 
-00008e80: 2020 2020 2020 2020 2020 4c7b 4c6f 6e67            L{Long
-00008e90: 7d0a 2020 2020 2020 2020 4072 6574 7572  }.        @retur
-00008ea0: 6e20 2020 2020 2020 2020 2020 2020 4120  n             A 
-00008eb0: 6d61 7020 6672 6f6d 2069 6420 696e 7465  map from id inte
-00008ec0: 6765 7220 746f 2063 6f75 6e74 2069 6e74  ger to count int
-00008ed0: 6567 6572 0a20 2020 2020 2020 2040 7274  eger.        @rt
-00008ee0: 7970 6520 2020 2020 2020 2020 2020 2020  ype             
-00008ef0: 204c 7b28 4c6f 6e67 2c20 4c6f 6e67 297d   L{(Long, Long)}
-00008f00: 0a20 2020 2020 2020 2022 2222 0a20 2020  .        """.   
-00008f10: 2020 2020 2063 6f6e 7461 696e 6572 203d       container =
-00008f20: 2073 656c 662e 6765 7443 6f6e 7461 696e   self.getContain
-00008f30: 6572 5365 7276 6963 6528 290a 2020 2020  erService().    
-00008f40: 2020 2020 7265 7475 726e 2063 6f6e 7461      return conta
-00008f50: 696e 6572 2e67 6574 436f 6c6c 6563 7469  iner.getCollecti
-00008f60: 6f6e 436f 756e 7428 7061 7265 6e74 2c20  onCount(parent, 
-00008f70: 6368 696c 642c 2069 6473 2c20 4e6f 6e65  child, ids, None
-00008f80: 2c20 7365 6c66 2e53 4552 5649 4345 5f4f  , self.SERVICE_O
-00008f90: 5054 5329 0a0a 2020 2020 2323 2323 2323  PTS)..    ######
-00008fa0: 2323 2323 2323 2323 2323 2323 2323 2323  ################
-00008fb0: 2323 2323 2323 2323 2323 2323 2323 2323  ################
-00008fc0: 2323 2323 2323 2323 2323 0a20 2020 2023  ##########.    #
-00008fd0: 2020 2056 616c 6964 6174 6f72 730a 0a20     Validators.. 
-00008fe0: 2020 2064 6566 2063 6865 636b 4f6d 654e     def checkOmeN
-00008ff0: 616d 6528 7365 6c66 2c20 6f6d 655f 6e61  ame(self, ome_na
-00009000: 6d65 2c20 6f6c 645f 6f6d 654e 616d 653d  me, old_omeName=
-00009010: 4e6f 6e65 293a 0a20 2020 2020 2020 2069  None):.        i
-00009020: 6620 6f6d 655f 6e61 6d65 203d 3d20 6f6c  f ome_name == ol
-00009030: 645f 6f6d 654e 616d 653a 0a20 2020 2020  d_omeName:.     
-00009040: 2020 2020 2020 2072 6574 7572 6e20 4661         return Fa
-00009050: 6c73 650a 2020 2020 2020 2020 7175 6572  lse.        quer
-00009060: 795f 7365 7276 203d 2073 656c 662e 6765  y_serv = self.ge
-00009070: 7451 7565 7279 5365 7276 6963 6528 290a  tQueryService().
-00009080: 2020 2020 2020 2020 7020 3d20 6f6d 6572          p = omer
-00009090: 6f2e 7379 732e 5061 7261 6d65 7465 7273  o.sys.Parameters
-000090a0: 2829 0a20 2020 2020 2020 2070 2e6d 6170  ().        p.map
-000090b0: 203d 207b 7d0a 2020 2020 2020 2020 702e   = {}.        p.
-000090c0: 6d61 705b 226f 6d65 4e61 6d65 225d 203d  map["omeName"] =
-000090d0: 2072 7374 7269 6e67 2873 6d61 7274 5f73   rstring(smart_s
-000090e0: 7472 286f 6d65 5f6e 616d 6529 290a 2020  tr(ome_name)).  
-000090f0: 2020 2020 2020 7371 6c20 3d20 2273 656c        sql = "sel
-00009100: 6563 7420 6520 6672 6f6d 2045 7870 6572  ect e from Exper
-00009110: 696d 656e 7465 7220 6173 2065 2077 6865  imenter as e whe
-00009120: 7265 2065 2e6f 6d65 4e61 6d65 203d 2028  re e.omeName = (
-00009130: 3a6f 6d65 4e61 6d65 2922 0a20 2020 2020  :omeName)".     
-00009140: 2020 2065 7870 7320 3d20 7175 6572 795f     exps = query_
-00009150: 7365 7276 2e66 696e 6441 6c6c 4279 5175  serv.findAllByQu
-00009160: 6572 7928 7371 6c2c 2070 2c20 7365 6c66  ery(sql, p, self
-00009170: 2e53 4552 5649 4345 5f4f 5054 5329 0a20  .SERVICE_OPTS). 
-00009180: 2020 2020 2020 2069 6620 6c65 6e28 6578         if len(ex
-00009190: 7073 2920 3e20 303a 0a20 2020 2020 2020  ps) > 0:.       
-000091a0: 2020 2020 2072 6574 7572 6e20 5472 7565       return True
-000091b0: 0a20 2020 2020 2020 2065 6c73 653a 0a20  .        else:. 
-000091c0: 2020 2020 2020 2020 2020 2072 6574 7572             retur
-000091d0: 6e20 4661 6c73 650a 0a20 2020 2064 6566  n False..    def
-000091e0: 2063 6865 636b 4772 6f75 704e 616d 6528   checkGroupName(
-000091f0: 7365 6c66 2c20 6e61 6d65 2c20 6f6c 645f  self, name, old_
-00009200: 6e61 6d65 3d4e 6f6e 6529 3a0a 2020 2020  name=None):.    
-00009210: 2020 2020 6966 206e 616d 6520 3d3d 206f      if name == o
-00009220: 6c64 5f6e 616d 653a 0a20 2020 2020 2020  ld_name:.       
-00009230: 2020 2020 2072 6574 7572 6e20 4661 6c73       return Fals
-00009240: 650a 2020 2020 2020 2020 7175 6572 795f  e.        query_
-00009250: 7365 7276 203d 2073 656c 662e 6765 7451  serv = self.getQ
-00009260: 7565 7279 5365 7276 6963 6528 290a 2020  ueryService().  
-00009270: 2020 2020 2020 7020 3d20 6f6d 6572 6f2e        p = omero.
-00009280: 7379 732e 5061 7261 6d65 7465 7273 2829  sys.Parameters()
-00009290: 0a20 2020 2020 2020 2070 2e6d 6170 203d  .        p.map =
-000092a0: 207b 7d0a 2020 2020 2020 2020 702e 6d61   {}.        p.ma
-000092b0: 705b 226e 616d 6522 5d20 3d20 7273 7472  p["name"] = rstr
-000092c0: 696e 6728 736d 6172 745f 7374 7228 6e61  ing(smart_str(na
-000092d0: 6d65 2929 0a20 2020 2020 2020 2063 7478  me)).        ctx
-000092e0: 203d 2073 656c 662e 5345 5256 4943 455f   = self.SERVICE_
-000092f0: 4f50 5453 2e63 6f70 7928 290a 2020 2020  OPTS.copy().    
-00009300: 2020 2020 6374 782e 7365 744f 6d65 726f      ctx.setOmero
-00009310: 4772 6f75 7028 2d31 290a 2020 2020 2020  Group(-1).      
-00009320: 2020 7371 6c20 3d20 2273 656c 6563 7420    sql = "select 
-00009330: 6720 6672 6f6d 2045 7870 6572 696d 656e  g from Experimen
-00009340: 7465 7247 726f 7570 2061 7320 6720 7768  terGroup as g wh
-00009350: 6572 6520 672e 6e61 6d65 203d 2028 3a6e  ere g.name = (:n
-00009360: 616d 6529 220a 2020 2020 2020 2020 6772  ame)".        gr
-00009370: 7320 3d20 7175 6572 795f 7365 7276 2e66  s = query_serv.f
-00009380: 696e 6441 6c6c 4279 5175 6572 7928 7371  indAllByQuery(sq
-00009390: 6c2c 2070 2c20 6374 7829 0a20 2020 2020  l, p, ctx).     
-000093a0: 2020 2069 6620 6c65 6e28 6772 7329 203e     if len(grs) >
-000093b0: 2030 3a0a 2020 2020 2020 2020 2020 2020   0:.            
-000093c0: 7265 7475 726e 2054 7275 650a 2020 2020  return True.    
-000093d0: 2020 2020 656c 7365 3a0a 2020 2020 2020      else:.      
-000093e0: 2020 2020 2020 7265 7475 726e 2046 616c        return Fal
-000093f0: 7365 0a0a 2020 2020 6465 6620 6368 6563  se..    def chec
-00009400: 6b45 6d61 696c 2873 656c 662c 2065 6d61  kEmail(self, ema
-00009410: 696c 2c20 6f6c 645f 656d 6169 6c3d 4e6f  il, old_email=No
-00009420: 6e65 293a 0a20 2020 2020 2020 2069 6620  ne):.        if 
-00009430: 656d 6169 6c20 3d3d 2022 223a 0a20 2020  email == "":.   
-00009440: 2020 2020 2020 2020 2072 6574 7572 6e20           return 
-00009450: 4661 6c73 650a 2020 2020 2020 2020 6966  False.        if
-00009460: 2065 6d61 696c 203d 3d20 6f6c 645f 656d   email == old_em
-00009470: 6169 6c3a 0a20 2020 2020 2020 2020 2020  ail:.           
-00009480: 2072 6574 7572 6e20 4661 6c73 650a 2020   return False.  
-00009490: 2020 2020 2020 7175 6572 795f 7365 7276        query_serv
-000094a0: 203d 2073 656c 662e 6765 7451 7565 7279   = self.getQuery
-000094b0: 5365 7276 6963 6528 290a 2020 2020 2020  Service().      
-000094c0: 2020 6374 7820 3d20 7365 6c66 2e53 4552    ctx = self.SER
-000094d0: 5649 4345 5f4f 5054 532e 636f 7079 2829  VICE_OPTS.copy()
-000094e0: 0a20 2020 2020 2020 2063 7478 2e73 6574  .        ctx.set
-000094f0: 4f6d 6572 6f47 726f 7570 282d 3129 0a20  OmeroGroup(-1). 
-00009500: 2020 2020 2020 2070 203d 206f 6d65 726f         p = omero
-00009510: 2e73 7973 2e50 6172 616d 6574 6572 7328  .sys.Parameters(
-00009520: 290a 2020 2020 2020 2020 702e 6d61 7020  ).        p.map 
-00009530: 3d20 7b7d 0a20 2020 2020 2020 2070 2e6d  = {}.        p.m
-00009540: 6170 5b22 656d 6169 6c22 5d20 3d20 7273  ap["email"] = rs
-00009550: 7472 696e 6728 736d 6172 745f 7374 7228  tring(smart_str(
-00009560: 656d 6169 6c29 290a 2020 2020 2020 2020  email)).        
-00009570: 7371 6c20 3d20 2273 656c 6563 7420 6520  sql = "select e 
-00009580: 6672 6f6d 2045 7870 6572 696d 656e 7465  from Experimente
-00009590: 7220 6173 2065 2077 6865 7265 2065 2e65  r as e where e.e
-000095a0: 6d61 696c 203d 2028 3a65 6d61 696c 2922  mail = (:email)"
-000095b0: 0a20 2020 2020 2020 2065 7870 7320 3d20  .        exps = 
-000095c0: 7175 6572 795f 7365 7276 2e66 696e 6441  query_serv.findA
-000095d0: 6c6c 4279 5175 6572 7928 7371 6c2c 2070  llByQuery(sql, p
-000095e0: 2c20 6374 7829 0a20 2020 2020 2020 2069  , ctx).        i
-000095f0: 6620 6c65 6e28 6578 7073 2920 3e20 303a  f len(exps) > 0:
-00009600: 0a20 2020 2020 2020 2020 2020 2072 6574  .            ret
-00009610: 7572 6e20 5472 7565 0a20 2020 2020 2020  urn True.       
-00009620: 2065 6c73 653a 0a20 2020 2020 2020 2020   else:.         
-00009630: 2020 2072 6574 7572 6e20 4661 6c73 650a     return False.
-00009640: 0a20 2020 2023 2323 2323 2323 2323 2323  .    ###########
-00009650: 2323 2323 2323 2323 2323 2323 2323 2323  ################
-00009660: 2323 2323 2323 2323 2323 2323 2323 2323  ################
-00009670: 2323 230a 2020 2020 2320 2020 5365 7473  ###.    #   Sets
-00009680: 206d 6574 686f 6473 2020 2020 2020 2020   methods        
-00009690: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000096a0: 2020 2023 230a 0a20 2020 2064 6566 2063     ##..    def c
-000096b0: 6861 6e67 6555 7365 7250 6173 7377 6f72  hangeUserPasswor
-000096c0: 6428 7365 6c66 2c20 6f6d 654e 616d 652c  d(self, omeName,
-000096d0: 2070 6173 7377 6f72 642c 206d 795f 7061   password, my_pa
-000096e0: 7373 776f 7264 293a 0a20 2020 2020 2020  ssword):.       
-000096f0: 2022 2222 0a20 2020 2020 2020 2043 6861   """.        Cha
-00009700: 6e67 6520 7468 6520 7061 7373 776f 7264  nge the password
-00009710: 2066 6f72 2074 6865 2061 2067 6976 656e   for the a given
-00009720: 2075 7365 722e 0a0a 2020 2020 2020 2020   user...        
-00009730: 4070 6172 616d 206f 6d65 4e61 6d65 2020  @param omeName  
-00009740: 2020 2020 4578 7065 7269 6d65 746e 6572      Experimetner
-00009750: 206f 6d65 6e61 6d65 0a20 2020 2020 2020   omename.       
-00009760: 2040 7479 7065 206f 6d65 4e61 6d65 2020   @type omeName  
-00009770: 2020 2020 2053 7472 696e 670a 2020 2020       String.    
-00009780: 2020 2020 4070 6172 616d 2070 6173 7377      @param passw
-00009790: 6f72 6420 2020 2020 4d75 7374 2070 6173  ord     Must pas
-000097a0: 7320 7661 6c69 6461 7469 6f6e 2069 6e20  s validation in 
-000097b0: 7468 6520 7365 6375 7269 7479 2073 7562  the security sub
-000097c0: 2d73 7973 7465 6d2e 0a20 2020 2020 2020  -system..       
-000097d0: 2040 7479 7065 2070 6173 7377 6f72 6420   @type password 
-000097e0: 2020 2020 2053 7472 696e 670a 2020 2020       String.    
-000097f0: 2020 2020 4070 6172 616d 206d 795f 7061      @param my_pa
-00009800: 7373 776f 7264 2020 4d75 7374 2070 6173  ssword  Must pas
-00009810: 7320 7661 6c69 6461 7469 6f6e 2069 6e20  s validation in 
-00009820: 7468 6520 7365 6375 7269 7479 2073 7562  the security sub
-00009830: 2d73 7973 7465 6d2e 0a20 2020 2020 2020  -system..       
-00009840: 2040 7479 7065 206d 795f 7061 7373 776f   @type my_passwo
-00009850: 7264 2020 2053 7472 696e 670a 2020 2020  rd   String.    
-00009860: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
-00009870: 6164 6d69 6e5f 7365 7276 203d 2073 656c  admin_serv = sel
-00009880: 662e 6765 7441 646d 696e 5365 7276 6963  f.getAdminServic
-00009890: 6528 290a 2020 2020 2020 2020 7365 6c66  e().        self
-000098a0: 2e63 2e73 662e 7365 7453 6563 7572 6974  .c.sf.setSecurit
-000098b0: 7950 6173 7377 6f72 6428 6d79 5f70 6173  yPassword(my_pas
-000098c0: 7377 6f72 6429 0a20 2020 2020 2020 2061  sword).        a
-000098d0: 646d 696e 5f73 6572 762e 6368 616e 6765  dmin_serv.change
-000098e0: 5573 6572 5061 7373 776f 7264 286f 6d65  UserPassword(ome
-000098f0: 4e61 6d65 2c20 7273 7472 696e 6728 7374  Name, rstring(st
-00009900: 7228 7061 7373 776f 7264 2929 290a 0a20  r(password))).. 
-00009910: 2020 2064 6566 2063 6861 6e67 654d 7950     def changeMyP
-00009920: 6173 7377 6f72 6428 7365 6c66 2c20 7061  assword(self, pa
-00009930: 7373 776f 7264 2c20 6f6c 645f 7061 7373  ssword, old_pass
-00009940: 776f 7264 293a 0a20 2020 2020 2020 2022  word):.        "
-00009950: 2222 0a20 2020 2020 2020 2043 6861 6e67  "".        Chang
-00009960: 6520 7468 6520 7061 7373 776f 7264 2066  e the password f
-00009970: 6f72 2074 6865 2063 7572 7265 6e74 2075  or the current u
-00009980: 7365 7220 6279 2070 6173 7369 6e67 2074  ser by passing t
-00009990: 6865 206f 6c64 2070 6173 7377 6f72 642e  he old password.
-000099a0: 0a0a 2020 2020 2020 2020 4070 6172 616d  ..        @param
-000099b0: 2070 6173 7377 6f72 6420 2020 2020 2020   password       
-000099c0: 2020 4d75 7374 2070 6173 7320 7661 6c69    Must pass vali
-000099d0: 6461 7469 6f6e 2069 6e20 7468 6520 7365  dation in the se
-000099e0: 6375 7269 7479 0a20 2020 2020 2020 2020  curity.         
-000099f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00009a00: 2020 2020 2020 2073 7562 2d73 7973 7465         sub-syste
-00009a10: 6d2e 0a20 2020 2020 2020 2040 7479 7065  m..        @type
-00009a20: 2070 6173 7377 6f72 6420 2020 2020 2020   password       
-00009a30: 2020 2053 7472 696e 670a 2020 2020 2020     String.      
-00009a40: 2020 4070 6172 616d 206f 6c64 5f70 6173    @param old_pas
-00009a50: 7377 6f72 6420 2020 2020 4f6c 6420 7061  sword     Old pa
-00009a60: 7373 776f 7264 0a20 2020 2020 2020 2040  ssword.        @
-00009a70: 7479 7065 206f 6c64 5f70 6173 7377 6f72  type old_passwor
-00009a80: 6420 2020 2020 2053 7472 696e 670a 2020  d      String.  
-00009a90: 2020 2020 2020 4072 6574 7572 6e20 2020        @return   
-00009aa0: 2020 2020 2020 2020 2020 2020 2020 4e6f                No
-00009ab0: 6e65 206f 7220 6572 726f 7220 6d65 7373  ne or error mess
-00009ac0: 6167 6520 6966 2070 6173 7377 6f72 6420  age if password 
-00009ad0: 636f 756c 6420 6e6f 7420 6265 0a20 2020  could not be.   
-00009ae0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00009af0: 2020 2020 2020 2020 2020 2020 2063 6861               cha
-00009b00: 6e67 6564 0a20 2020 2020 2020 2040 7274  nged.        @rt
-00009b10: 7970 6520 2020 2020 2020 2020 2020 2020  ype             
-00009b20: 2020 2020 2053 7472 696e 670a 2020 2020       String.    
-00009b30: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
-00009b40: 6164 6d69 6e5f 7365 7276 203d 2073 656c  admin_serv = sel
-00009b50: 662e 6765 7441 646d 696e 5365 7276 6963  f.getAdminServic
-00009b60: 6528 290a 2020 2020 2020 2020 6164 6d69  e().        admi
-00009b70: 6e5f 7365 7276 2e63 6861 6e67 6550 6173  n_serv.changePas
-00009b80: 7377 6f72 6457 6974 684f 6c64 5061 7373  swordWithOldPass
-00009b90: 776f 7264 280a 2020 2020 2020 2020 2020  word(.          
-00009ba0: 2020 7273 7472 696e 6728 7374 7228 6f6c    rstring(str(ol
-00009bb0: 645f 7061 7373 776f 7264 2929 2c20 7273  d_password)), rs
-00009bc0: 7472 696e 6728 7374 7228 7061 7373 776f  tring(str(passwo
-00009bd0: 7264 2929 0a20 2020 2020 2020 2029 0a0a  rd)).        )..
-00009be0: 2020 2020 6465 6620 6372 6561 7465 4578      def createEx
-00009bf0: 7065 7269 6d65 6e74 6572 280a 2020 2020  perimenter(.    
-00009c00: 2020 2020 7365 6c66 2c0a 2020 2020 2020      self,.      
-00009c10: 2020 6f6d 654e 616d 652c 0a20 2020 2020    omeName,.     
-00009c20: 2020 2066 6972 7374 4e61 6d65 2c0a 2020     firstName,.  
-00009c30: 2020 2020 2020 6c61 7374 4e61 6d65 2c0a        lastName,.
-00009c40: 2020 2020 2020 2020 656d 6169 6c2c 0a20          email,. 
-00009c50: 2020 2020 2020 2069 7341 646d 696e 2c0a         isAdmin,.
-00009c60: 2020 2020 2020 2020 6973 4163 7469 7665          isActive
-00009c70: 2c0a 2020 2020 2020 2020 6465 6661 756c  ,.        defaul
-00009c80: 7447 726f 7570 4964 2c0a 2020 2020 2020  tGroupId,.      
-00009c90: 2020 6f74 6865 7247 726f 7570 4964 732c    otherGroupIds,
-00009ca0: 0a20 2020 2020 2020 2070 6173 7377 6f72  .        passwor
-00009cb0: 642c 0a20 2020 2020 2020 2070 7269 7669  d,.        privi
-00009cc0: 6c65 6765 733d 4e6f 6e65 2c0a 2020 2020  leges=None,.    
-00009cd0: 2020 2020 6d69 6464 6c65 4e61 6d65 3d4e      middleName=N
-00009ce0: 6f6e 652c 0a20 2020 2020 2020 2069 6e73  one,.        ins
-00009cf0: 7469 7475 7469 6f6e 3d4e 6f6e 652c 0a20  titution=None,. 
-00009d00: 2020 2029 3a0a 2020 2020 2020 2020 2222     ):.        ""
-00009d10: 220a 2020 2020 2020 2020 4372 6561 7465  ".        Create
-00009d20: 2061 6e64 2072 6574 7572 6e20 6120 6e65   and return a ne
-00009d30: 7720 7573 6572 2069 6e20 7468 6520 6769  w user in the gi
-00009d40: 7665 6e20 6772 6f75 7073 2077 6974 6820  ven groups with 
-00009d50: 7061 7373 776f 7264 2e0a 2020 2020 2020  password..      
-00009d60: 2020 4070 6172 616d 206f 6d65 4e61 6d65    @param omeName
-00009d70: 2041 206e 6577 2075 7365 726e 616d 652e   A new username.
-00009d80: 0a20 2020 2020 2020 2040 7479 7065 206f  .        @type o
-00009d90: 6d65 4e61 6d65 2053 7472 696e 670a 2020  meName String.  
-00009da0: 2020 2020 2020 4070 6172 616d 2066 6972        @param fir
-00009db0: 7374 4e61 6d65 2041 206e 6577 2066 6972  stName A new fir
-00009dc0: 7374 206e 616d 652e 0a20 2020 2020 2020  st name..       
-00009dd0: 2040 7479 7065 2066 6972 7374 4e61 6d65   @type firstName
-00009de0: 2053 7472 696e 670a 2020 2020 2020 2020   String.        
-00009df0: 4070 6172 616d 206c 6173 744e 616d 6520  @param lastName 
-00009e00: 4120 6e65 7720 6c61 7374 206e 616d 652e  A new last name.
-00009e10: 0a20 2020 2020 2020 2040 7479 7065 206c  .        @type l
-00009e20: 6173 744e 616d 6520 5374 7269 6e67 0a20  astName String. 
-00009e30: 2020 2020 2020 2040 7061 7261 6d20 656d         @param em
-00009e40: 6169 6c20 4120 6e65 7720 656d 6169 6c2e  ail A new email.
-00009e50: 0a20 2020 2020 2020 2040 7479 7065 2065  .        @type e
-00009e60: 6d61 696c 2053 7472 696e 670a 2020 2020  mail String.    
-00009e70: 2020 2020 4070 6172 616d 2069 7341 646d      @param isAdm
-00009e80: 696e 2049 6620 5472 7565 2c20 6e65 7720  in If True, new 
-00009e90: 7573 6572 2069 7320 616e 2041 646d 696e  user is an Admin
-00009ea0: 206f 7220 5265 7374 7269 6374 6564 2041   or Restricted A
-00009eb0: 646d 696e 2e0a 2020 2020 2020 2020 4074  dmin..        @t
-00009ec0: 7970 6520 6973 4164 6d69 6e20 426f 6f6c  ype isAdmin Bool
-00009ed0: 6561 6e0a 2020 2020 2020 2020 4070 6172  ean.        @par
-00009ee0: 616d 2069 7341 6374 6976 6520 4163 7469  am isActive Acti
-00009ef0: 7665 2075 7365 7220 2875 7365 7220 6361  ve user (user ca
-00009f00: 6e20 6c6f 6720 696e 292e 0a20 2020 2020  n log in)..     
-00009f10: 2020 2040 7479 7065 2069 7341 6374 6976     @type isActiv
-00009f20: 6520 426f 6f6c 6561 6e0a 2020 2020 2020  e Boolean.      
-00009f30: 2020 4070 6172 616d 2064 6566 6175 6c74    @param default
-00009f40: 4772 6f75 7049 6420 4465 6661 756c 7420  GroupId Default 
-00009f50: 6163 7469 7665 2067 726f 7570 2049 442e  active group ID.
-00009f60: 0a20 2020 2020 2020 2040 7479 7065 2064  .        @type d
-00009f70: 6566 6175 6c74 4772 6f75 7049 6420 4578  efaultGroupId Ex
-00009f80: 7065 7269 6d65 6e74 6572 4772 6f75 7049  perimenterGroupI
-00009f90: 0a20 2020 2020 2020 2040 7061 7261 6d20  .        @param 
-00009fa0: 6f74 6865 7247 726f 7570 4964 7320 4c69  otherGroupIds Li
-00009fb0: 7374 206f 6620 4772 6f75 7020 4944 732e  st of Group IDs.
-00009fc0: 2043 616e 2062 6520 656d 7074 792e 0a20   Can be empty.. 
-00009fd0: 2020 2020 2020 2040 7479 7065 206f 7468         @type oth
-00009fe0: 6572 4772 6f75 7049 6473 204c 7b45 7870  erGroupIds L{Exp
-00009ff0: 6572 696d 656e 7465 7247 726f 7570 497d  erimenterGroupI}
-0000a000: 0a20 2020 2020 2020 2040 7061 7261 6d20  .        @param 
-0000a010: 7061 7373 776f 7264 204d 7573 7420 7061  password Must pa
-0000a020: 7373 2076 616c 6964 6174 696f 6e20 696e  ss validation in
-0000a030: 2074 6865 2073 6563 7572 6974 7920 7375   the security su
-0000a040: 622d 7379 7374 656d 2e0a 2020 2020 2020  b-system..      
-0000a050: 2020 4074 7970 6520 7061 7373 776f 7264    @type password
-0000a060: 2053 7472 696e 670a 2020 2020 2020 2020   String.        
-0000a070: 4070 6172 616d 2070 7269 7669 6c65 6765  @param privilege
-0000a080: 7320 2020 4c69 7374 206f 6620 4164 6d69  s   List of Admi
-0000a090: 6e20 5072 6976 696c 6567 6573 2e20 4967  n Privileges. Ig
-0000a0a0: 6e6f 7265 6420 6966 2069 7341 646d 696e  nored if isAdmin
-0000a0b0: 2046 616c 7365 2e0a 2020 2020 2020 2020   False..        
-0000a0c0: 4074 7970 6520 7072 6976 696c 6567 6573  @type privileges
-0000a0d0: 2020 2020 4c69 7374 206f 6620 5374 7269      List of Stri
-0000a0e0: 6e67 730a 2020 2020 2020 2020 4070 6172  ngs.        @par
-0000a0f0: 616d 206d 6964 646c 654e 616d 6520 4120  am middleName A 
-0000a100: 6d69 6464 6c65 206e 616d 652e 0a20 2020  middle name..   
-0000a110: 2020 2020 2040 7479 7065 206d 6964 646c       @type middl
-0000a120: 654e 616d 6520 5374 7269 6e67 0a20 2020  eName String.   
-0000a130: 2020 2020 2040 7061 7261 6d20 696e 7374       @param inst
-0000a140: 6974 7574 696f 6e20 416e 2069 6e73 7469  itution An insti
-0000a150: 7475 7469 6f6e 2e0a 2020 2020 2020 2020  tution..        
-0000a160: 4074 7970 6520 696e 7374 6974 7574 696f  @type institutio
-0000a170: 6e20 5374 7269 6e67 0a20 2020 2020 2020  n String.       
-0000a180: 2040 7265 7475 726e 2049 4420 6f66 2074   @return ID of t
-0000a190: 6865 206e 6577 6c79 2063 7265 6174 6564  he newly created
-0000a1a0: 2045 7870 6572 696d 656e 7465 7220 4e6f   Experimenter No
-0000a1b0: 7420 6e75 6c6c 2e0a 2020 2020 2020 2020  t null..        
-0000a1c0: 4072 7479 7065 204c 6f6e 670a 2020 2020  @rtype Long.    
-0000a1d0: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
-0000a1e0: 6578 7065 7269 6d65 6e74 6572 203d 2045  experimenter = E
-0000a1f0: 7870 6572 696d 656e 7465 7249 2829 0a20  xperimenterI(). 
-0000a200: 2020 2020 2020 2065 7870 6572 696d 656e         experimen
-0000a210: 7465 722e 6f6d 654e 616d 6520 3d20 7273  ter.omeName = rs
-0000a220: 7472 696e 6728 7374 7228 6f6d 654e 616d  tring(str(omeNam
-0000a230: 6529 290a 2020 2020 2020 2020 6578 7065  e)).        expe
-0000a240: 7269 6d65 6e74 6572 2e66 6972 7374 4e61  rimenter.firstNa
-0000a250: 6d65 203d 2072 7374 7269 6e67 2873 7472  me = rstring(str
-0000a260: 2866 6972 7374 4e61 6d65 2929 0a20 2020  (firstName)).   
-0000a270: 2020 2020 2065 7870 6572 696d 656e 7465       experimente
-0000a280: 722e 6d69 6464 6c65 4e61 6d65 203d 2028  r.middleName = (
-0000a290: 0a20 2020 2020 2020 2020 2020 206d 6964  .            mid
-0000a2a0: 646c 654e 616d 6520 6973 206e 6f74 204e  dleName is not N
-0000a2b0: 6f6e 6520 616e 6420 7273 7472 696e 6728  one and rstring(
-0000a2c0: 7374 7228 6d69 6464 6c65 4e61 6d65 2929  str(middleName))
-0000a2d0: 206f 7220 4e6f 6e65 0a20 2020 2020 2020   or None.       
-0000a2e0: 2029 0a20 2020 2020 2020 2065 7870 6572   ).        exper
-0000a2f0: 696d 656e 7465 722e 6c61 7374 4e61 6d65  imenter.lastName
-0000a300: 203d 2072 7374 7269 6e67 2873 7472 286c   = rstring(str(l
-0000a310: 6173 744e 616d 6529 290a 2020 2020 2020  astName)).      
-0000a320: 2020 6578 7065 7269 6d65 6e74 6572 2e65    experimenter.e
-0000a330: 6d61 696c 203d 2072 7374 7269 6e67 2873  mail = rstring(s
-0000a340: 7472 2865 6d61 696c 2929 0a20 2020 2020  tr(email)).     
-0000a350: 2020 2065 7870 6572 696d 656e 7465 722e     experimenter.
-0000a360: 696e 7374 6974 7574 696f 6e20 3d20 280a  institution = (.
-0000a370: 2020 2020 2020 2020 2020 2020 2869 6e73              (ins
-0000a380: 7469 7475 7469 6f6e 2021 3d20 2222 2061  titution != "" a
-0000a390: 6e64 2069 6e73 7469 7475 7469 6f6e 2069  nd institution i
-0000a3a0: 7320 6e6f 7420 4e6f 6e65 290a 2020 2020  s not None).    
-0000a3b0: 2020 2020 2020 2020 616e 6420 7273 7472          and rstr
-0000a3c0: 696e 6728 7374 7228 696e 7374 6974 7574  ing(str(institut
-0000a3d0: 696f 6e29 290a 2020 2020 2020 2020 2020  ion)).          
-0000a3e0: 2020 6f72 204e 6f6e 650a 2020 2020 2020    or None.      
-0000a3f0: 2020 290a 2020 2020 2020 2020 6578 7065    ).        expe
-0000a400: 7269 6d65 6e74 6572 2e6c 6461 7020 3d20  rimenter.ldap = 
-0000a410: 7262 6f6f 6c28 4661 6c73 6529 0a0a 2020  rbool(False)..  
-0000a420: 2020 2020 2020 6164 6d69 6e5f 7365 7276        admin_serv
-0000a430: 203d 2073 656c 662e 6765 7441 646d 696e   = self.getAdmin
-0000a440: 5365 7276 6963 6528 290a 2020 2020 2020  Service().      
-0000a450: 2020 6c69 7374 4f66 4772 6f75 7073 203d    listOfGroups =
-0000a460: 206c 6973 7428 290a 2020 2020 2020 2020   list().        
-0000a470: 2320 7379 7374 656d 2067 726f 7570 0a20  # system group. 
-0000a480: 2020 2020 2020 2069 6620 6973 4164 6d69         if isAdmi
-0000a490: 6e3a 0a20 2020 2020 2020 2020 2020 2067  n:.            g
-0000a4a0: 6964 203d 2061 646d 696e 5f73 6572 762e  id = admin_serv.
-0000a4b0: 6765 7453 6563 7572 6974 7952 6f6c 6573  getSecurityRoles
-0000a4c0: 2829 2e73 7973 7465 6d47 726f 7570 4964  ().systemGroupId
-0000a4d0: 0a20 2020 2020 2020 2020 2020 206c 6973  .            lis
-0000a4e0: 744f 6647 726f 7570 732e 6170 7065 6e64  tOfGroups.append
-0000a4f0: 2845 7870 6572 696d 656e 7465 7247 726f  (ExperimenterGro
-0000a500: 7570 4928 6769 642c 2046 616c 7365 2929  upI(gid, False))
-0000a510: 0a0a 2020 2020 2020 2020 2320 7573 6572  ..        # user
-0000a520: 2067 726f 7570 0a20 2020 2020 2020 2069   group.        i
-0000a530: 6620 6973 4163 7469 7665 3a0a 2020 2020  f isActive:.    
-0000a540: 2020 2020 2020 2020 6769 6420 3d20 6164          gid = ad
-0000a550: 6d69 6e5f 7365 7276 2e67 6574 5365 6375  min_serv.getSecu
-0000a560: 7269 7479 526f 6c65 7328 292e 7573 6572  rityRoles().user
-0000a570: 4772 6f75 7049 640a 2020 2020 2020 2020  GroupId.        
-0000a580: 2020 2020 6c69 7374 4f66 4772 6f75 7073      listOfGroups
-0000a590: 2e61 7070 656e 6428 4578 7065 7269 6d65  .append(Experime
-0000a5a0: 6e74 6572 4772 6f75 7049 2867 6964 2c20  nterGroupI(gid, 
-0000a5b0: 4661 6c73 6529 290a 0a20 2020 2020 2020  False))..       
-0000a5c0: 2066 6f72 2069 2069 6e20 6f74 6865 7247   for i in otherG
-0000a5d0: 726f 7570 4964 733a 0a20 2020 2020 2020  roupIds:.       
-0000a5e0: 2020 2020 206c 6973 744f 6647 726f 7570       listOfGroup
-0000a5f0: 732e 6170 7065 6e64 2845 7870 6572 696d  s.append(Experim
-0000a600: 656e 7465 7247 726f 7570 4928 692c 2046  enterGroupI(i, F
-0000a610: 616c 7365 2929 0a0a 2020 2020 2020 2020  alse))..        
-0000a620: 6465 6661 756c 7447 726f 7570 203d 2045  defaultGroup = E
-0000a630: 7870 6572 696d 656e 7465 7247 726f 7570  xperimenterGroup
-0000a640: 4928 6465 6661 756c 7447 726f 7570 4964  I(defaultGroupId
-0000a650: 2c20 4661 6c73 6529 0a0a 2020 2020 2020  , False)..      
-0000a660: 2020 6966 2069 7341 646d 696e 3a0a 2020    if isAdmin:.  
-0000a670: 2020 2020 2020 2020 2020 6966 2070 7269            if pri
-0000a680: 7669 6c65 6765 7320 6973 204e 6f6e 653a  vileges is None:
-0000a690: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0000a6a0: 2070 7269 7669 6c65 6765 7320 3d20 5b5d   privileges = []
-0000a6b0: 0a0a 2020 2020 2020 2020 2020 2020 6966  ..            if
-0000a6c0: 2064 6566 6175 6c74 4772 6f75 7049 6420   defaultGroupId 
-0000a6d0: 6e6f 7420 696e 206f 7468 6572 4772 6f75  not in otherGrou
-0000a6e0: 7049 6473 3a0a 2020 2020 2020 2020 2020  pIds:.          
-0000a6f0: 2020 2020 2020 6c69 7374 4f66 4772 6f75        listOfGrou
-0000a700: 7073 2e61 7070 656e 6428 4578 7065 7269  ps.append(Experi
-0000a710: 6d65 6e74 6572 4772 6f75 7049 2864 6566  menterGroupI(def
-0000a720: 6175 6c74 4772 6f75 7049 642c 2046 616c  aultGroupId, Fal
-0000a730: 7365 2929 0a0a 2020 2020 2020 2020 2020  se))..          
-0000a740: 2020 6164 6d69 6e5f 7072 6976 696c 6567    admin_privileg
-0000a750: 6573 203d 205b 5d0a 2020 2020 2020 2020  es = [].        
-0000a760: 2020 2020 666f 7220 7020 696e 2070 7269      for p in pri
-0000a770: 7669 6c65 6765 733a 0a20 2020 2020 2020  vileges:.       
-0000a780: 2020 2020 2020 2020 2070 7269 7669 6c65           privile
-0000a790: 6765 203d 206f 6d65 726f 2e6d 6f64 656c  ge = omero.model
-0000a7a0: 2e41 646d 696e 5072 6976 696c 6567 6549  .AdminPrivilegeI
-0000a7b0: 2829 0a20 2020 2020 2020 2020 2020 2020  ().             
-0000a7c0: 2020 2070 7269 7669 6c65 6765 2e73 6574     privilege.set
-0000a7d0: 5661 6c75 6528 7273 7472 696e 6728 7029  Value(rstring(p)
-0000a7e0: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
-0000a7f0: 2020 6164 6d69 6e5f 7072 6976 696c 6567    admin_privileg
-0000a800: 6573 2e61 7070 656e 6428 7072 6976 696c  es.append(privil
-0000a810: 6567 6529 0a20 2020 2020 2020 2020 2020  ege).           
-0000a820: 2065 7870 5f69 6420 3d20 6164 6d69 6e5f   exp_id = admin_
-0000a830: 7365 7276 2e63 7265 6174 6552 6573 7472  serv.createRestr
-0000a840: 6963 7465 6453 7973 7465 6d55 7365 7257  ictedSystemUserW
-0000a850: 6974 6850 6173 7377 6f72 6428 0a20 2020  ithPassword(.   
-0000a860: 2020 2020 2020 2020 2020 2020 2065 7870               exp
-0000a870: 6572 696d 656e 7465 722c 2061 646d 696e  erimenter, admin
-0000a880: 5f70 7269 7669 6c65 6765 732c 2072 7374  _privileges, rst
-0000a890: 7269 6e67 2870 6173 7377 6f72 6429 0a20  ring(password). 
-0000a8a0: 2020 2020 2020 2020 2020 2029 0a20 2020             ).   
-0000a8b0: 2020 2020 2020 2020 2065 7870 203d 2045           exp = E
-0000a8c0: 7870 6572 696d 656e 7465 7249 2865 7870  xperimenterI(exp
-0000a8d0: 5f69 642c 2046 616c 7365 290a 0a20 2020  _id, False)..   
-0000a8e0: 2020 2020 2020 2020 2069 6620 224d 6f64           if "Mod
-0000a8f0: 6966 7947 726f 7570 4d65 6d62 6572 7368  ifyGroupMembersh
-0000a900: 6970 2220 696e 2073 656c 662e 6765 7443  ip" in self.getC
-0000a910: 7572 7265 6e74 4164 6d69 6e50 7269 7669  urrentAdminPrivi
-0000a920: 6c65 6765 7328 293a 0a20 2020 2020 2020  leges():.       
-0000a930: 2020 2020 2020 2020 2061 646d 696e 5f73           admin_s
-0000a940: 6572 762e 6164 6447 726f 7570 7328 6578  erv.addGroups(ex
-0000a950: 702c 206c 6973 744f 6647 726f 7570 7329  p, listOfGroups)
-0000a960: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0000a970: 2061 646d 696e 5f73 6572 762e 7365 7444   admin_serv.setD
-0000a980: 6566 6175 6c74 4772 6f75 7028 6578 702c  efaultGroup(exp,
-0000a990: 2064 6566 6175 6c74 4772 6f75 7029 0a0a   defaultGroup)..
-0000a9a0: 2020 2020 2020 2020 656c 7365 3a0a 2020          else:.  
-0000a9b0: 2020 2020 2020 2020 2020 2320 5468 6973            # This
-0000a9c0: 2077 696c 6c20 6861 6e64 6c65 2065 6d70   will handle emp
-0000a9d0: 7479 206c 6973 744f 6647 726f 7570 730a  ty listOfGroups.
-0000a9e0: 2020 2020 2020 2020 2020 2020 6578 7020              exp 
-0000a9f0: 3d20 6164 6d69 6e5f 7365 7276 2e63 7265  = admin_serv.cre
-0000aa00: 6174 6545 7870 6572 696d 656e 7465 7257  ateExperimenterW
-0000aa10: 6974 6850 6173 7377 6f72 6428 0a20 2020  ithPassword(.   
-0000aa20: 2020 2020 2020 2020 2020 2020 2065 7870               exp
-0000aa30: 6572 696d 656e 7465 722c 2072 7374 7269  erimenter, rstri
-0000aa40: 6e67 2870 6173 7377 6f72 6429 2c20 6465  ng(password), de
-0000aa50: 6661 756c 7447 726f 7570 2c20 6c69 7374  faultGroup, list
-0000aa60: 4f66 4772 6f75 7073 0a20 2020 2020 2020  OfGroups.       
-0000aa70: 2020 2020 2029 0a0a 2020 2020 2020 2020       )..        
-0000aa80: 7265 7475 726e 2065 7870 0a0a 2020 2020  return exp..    
-0000aa90: 6465 6620 7570 6461 7465 4578 7065 7269  def updateExperi
-0000aaa0: 6d65 6e74 6572 280a 2020 2020 2020 2020  menter(.        
-0000aab0: 7365 6c66 2c0a 2020 2020 2020 2020 6578  self,.        ex
-0000aac0: 7065 7269 6d65 6e74 6572 2c0a 2020 2020  perimenter,.    
-0000aad0: 2020 2020 6f6d 654e 616d 652c 0a20 2020      omeName,.   
-0000aae0: 2020 2020 2066 6972 7374 4e61 6d65 2c0a       firstName,.
-0000aaf0: 2020 2020 2020 2020 6c61 7374 4e61 6d65          lastName
-0000ab00: 2c0a 2020 2020 2020 2020 656d 6169 6c2c  ,.        email,
-0000ab10: 0a20 2020 2020 2020 2069 7341 646d 696e  .        isAdmin
-0000ab20: 2c0a 2020 2020 2020 2020 6973 4163 7469  ,.        isActi
-0000ab30: 7665 2c0a 2020 2020 2020 2020 6465 6661  ve,.        defa
-0000ab40: 756c 7447 726f 7570 2c0a 2020 2020 2020  ultGroup,.      
-0000ab50: 2020 6f74 6865 7247 726f 7570 732c 0a20    otherGroups,. 
-0000ab60: 2020 2020 2020 206d 6964 646c 654e 616d         middleNam
-0000ab70: 653d 4e6f 6e65 2c0a 2020 2020 2020 2020  e=None,.        
-0000ab80: 696e 7374 6974 7574 696f 6e3d 4e6f 6e65  institution=None
-0000ab90: 2c0a 2020 2020 293a 0a20 2020 2020 2020  ,.    ):.       
-0000aba0: 2022 2222 0a20 2020 2020 2020 2055 7064   """.        Upd
-0000abb0: 6174 6520 616e 2065 7869 7374 696e 6720  ate an existing 
-0000abc0: 7573 6572 2069 6e63 6c75 6469 6e67 2067  user including g
-0000abd0: 726f 7570 7320 7573 6572 2069 7320 6120  roups user is a 
-0000abe0: 6d65 6d62 6572 206f 662e 0a20 2020 2020  member of..     
-0000abf0: 2020 2050 6173 7377 6f72 6420 6361 6e6e     Password cann
-0000ac00: 6f74 2062 6520 6368 616e 6765 6420 6279  ot be changed by
-0000ac10: 2063 616c 6c69 6e67 2074 6861 7420 6d65   calling that me
-0000ac20: 7468 6f64 2e0a 2020 2020 2020 2020 4070  thod..        @p
-0000ac30: 6172 616d 2065 7870 6572 696d 656e 7465  aram experimente
-0000ac40: 7220 416e 2065 7869 7374 696e 6720 4578  r An existing Ex
-0000ac50: 7065 7269 6d65 6e74 6572 2069 6e73 7461  perimenter insta
-0000ac60: 6e63 652e 0a20 2020 2020 2020 2040 7479  nce..        @ty
-0000ac70: 7065 2065 7870 6572 696d 656e 7465 7220  pe experimenter 
-0000ac80: 4578 7065 7269 6d65 6e74 6572 5772 6170  ExperimenterWrap
-0000ac90: 7065 720a 2020 2020 2020 2020 4070 6172  per.        @par
-0000aca0: 616d 206f 6d65 4e61 6d65 2041 206e 6577  am omeName A new
-0000acb0: 2075 7365 726e 616d 652e 0a20 2020 2020   username..     
-0000acc0: 2020 2040 7479 7065 206f 6d65 4e61 6d65     @type omeName
-0000acd0: 2053 7472 696e 670a 2020 2020 2020 2020   String.        
-0000ace0: 4070 6172 616d 2066 6972 7374 4e61 6d65  @param firstName
-0000acf0: 2041 206e 6577 2066 6972 7374 206e 616d   A new first nam
-0000ad00: 652e 0a20 2020 2020 2020 2040 7479 7065  e..        @type
-0000ad10: 2066 6972 7374 4e61 6d65 2053 7472 696e   firstName Strin
-0000ad20: 670a 2020 2020 2020 2020 4070 6172 616d  g.        @param
-0000ad30: 206c 6173 744e 616d 6520 4120 6e65 7720   lastName A new 
-0000ad40: 6c61 7374 206e 616d 652e 0a20 2020 2020  last name..     
-0000ad50: 2020 2040 7479 7065 206c 6173 744e 616d     @type lastNam
-0000ad60: 6520 5374 7269 6e67 0a20 2020 2020 2020  e String.       
-0000ad70: 2040 7061 7261 6d20 656d 6169 6c20 4120   @param email A 
-0000ad80: 6e65 7720 656d 6169 6c2e 0a20 2020 2020  new email..     
-0000ad90: 2020 2040 7479 7065 2065 6d61 696c 2053     @type email S
-0000ada0: 7472 696e 670a 2020 2020 2020 2020 4070  tring.        @p
-0000adb0: 6172 616d 2069 7341 646d 696e 2041 6e20  aram isAdmin An 
-0000adc0: 4164 6d69 6e20 7065 726d 6973 7369 6f6e  Admin permission
-0000add0: 2e0a 2020 2020 2020 2020 4074 7970 6520  ..        @type 
-0000ade0: 6973 4164 6d69 6e20 426f 6f6c 6561 6e0a  isAdmin Boolean.
-0000adf0: 2020 2020 2020 2020 4070 6172 616d 2069          @param i
-0000ae00: 7341 6374 6976 6520 4163 7469 7665 2075  sActive Active u
-0000ae10: 7365 7220 2875 7365 7220 6361 6e20 6c6f  ser (user can lo
-0000ae20: 6720 696e 292e 0a20 2020 2020 2020 2040  g in)..        @
-0000ae30: 7479 7065 2069 7341 6374 6976 6520 426f  type isActive Bo
-0000ae40: 6f6c 6561 6e0a 2020 2020 2020 2020 4070  olean.        @p
-0000ae50: 6172 616d 2064 6566 6175 6c74 4772 6f75  aram defaultGrou
-0000ae60: 7020 496e 7374 616e 6365 206f 6620 4578  p Instance of Ex
-0000ae70: 7065 7269 6d65 6e74 6572 4772 6f75 7020  perimenterGroup 
-0000ae80: 7365 6c65 6374 6564 2061 7320 6120 6669  selected as a fi
-0000ae90: 7273 740a 2020 2020 2020 2020 2020 2020  rst.            
-0000aea0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000aeb0: 6163 7469 7665 2067 726f 7570 2e0a 2020  active group..  
-0000aec0: 2020 2020 2020 4074 7970 6520 6465 6661        @type defa
-0000aed0: 756c 7447 726f 7570 2045 7870 6572 696d  ultGroup Experim
-0000aee0: 656e 7465 7247 726f 7570 490a 2020 2020  enterGroupI.    
-0000aef0: 2020 2020 4070 6172 616d 206f 7468 6572      @param other
-0000af00: 4772 6f75 7073 204c 6973 7420 6f66 2045  Groups List of E
-0000af10: 7870 6572 696d 656e 7465 7247 726f 7570  xperimenterGroup
-0000af20: 2069 6e73 7461 6e63 6573 2e20 4361 6e20   instances. Can 
-0000af30: 6265 2065 6d70 7479 2e0a 2020 2020 2020  be empty..      
-0000af40: 2020 4074 7970 6520 6f74 6865 7247 726f    @type otherGro
-0000af50: 7570 7320 4c7b 4578 7065 7269 6d65 6e74  ups L{Experiment
-0000af60: 6572 4772 6f75 7049 7d0a 2020 2020 2020  erGroupI}.      
-0000af70: 2020 4070 6172 616d 206d 6964 646c 654e    @param middleN
-0000af80: 616d 6520 4120 6d69 6464 6c65 206e 616d  ame A middle nam
-0000af90: 652e 0a20 2020 2020 2020 2040 7479 7065  e..        @type
-0000afa0: 206d 6964 646c 654e 616d 6520 5374 7269   middleName Stri
-0000afb0: 6e67 0a20 2020 2020 2020 2040 7061 7261  ng.        @para
-0000afc0: 6d20 696e 7374 6974 7574 696f 6e20 416e  m institution An
-0000afd0: 2069 6e73 7469 7475 7469 6f6e 2e0a 2020   institution..  
-0000afe0: 2020 2020 2020 4074 7970 6520 696e 7374        @type inst
-0000aff0: 6974 7574 696f 6e20 5374 7269 6e67 0a20  itution String. 
-0000b000: 2020 2020 2020 2022 2222 0a20 2020 2020         """.     
-0000b010: 2020 2075 705f 6578 7020 3d20 6578 7065     up_exp = expe
-0000b020: 7269 6d65 6e74 6572 2e5f 6f62 6a0a 2020  rimenter._obj.  
-0000b030: 2020 2020 2020 7570 5f65 7870 2e6f 6d65        up_exp.ome
-0000b040: 4e61 6d65 203d 2072 7374 7269 6e67 2873  Name = rstring(s
-0000b050: 7472 286f 6d65 4e61 6d65 2929 0a20 2020  tr(omeName)).   
-0000b060: 2020 2020 2075 705f 6578 702e 6669 7273       up_exp.firs
-0000b070: 744e 616d 6520 3d20 7273 7472 696e 6728  tName = rstring(
-0000b080: 7374 7228 6669 7273 744e 616d 6529 290a  str(firstName)).
-0000b090: 2020 2020 2020 2020 7570 5f65 7870 2e6d          up_exp.m
-0000b0a0: 6964 646c 654e 616d 6520 3d20 6d69 6464  iddleName = midd
-0000b0b0: 6c65 4e61 6d65 2069 7320 6e6f 7420 4e6f  leName is not No
-0000b0c0: 6e65 2061 6e64 2072 7374 7269 6e67 2873  ne and rstring(s
-0000b0d0: 7472 286d 6964 646c 654e 616d 6529 2920  tr(middleName)) 
-0000b0e0: 6f72 204e 6f6e 650a 2020 2020 2020 2020  or None.        
-0000b0f0: 7570 5f65 7870 2e6c 6173 744e 616d 6520  up_exp.lastName 
-0000b100: 3d20 7273 7472 696e 6728 7374 7228 6c61  = rstring(str(la
-0000b110: 7374 4e61 6d65 2929 0a20 2020 2020 2020  stName)).       
-0000b120: 2075 705f 6578 702e 656d 6169 6c20 3d20   up_exp.email = 
-0000b130: 7273 7472 696e 6728 7374 7228 656d 6169  rstring(str(emai
-0000b140: 6c29 290a 2020 2020 2020 2020 7570 5f65  l)).        up_e
-0000b150: 7870 2e69 6e73 7469 7475 7469 6f6e 203d  xp.institution =
-0000b160: 2028 0a20 2020 2020 2020 2020 2020 2028   (.            (
-0000b170: 696e 7374 6974 7574 696f 6e20 213d 2022  institution != "
-0000b180: 2220 616e 6420 696e 7374 6974 7574 696f  " and institutio
-0000b190: 6e20 6973 206e 6f74 204e 6f6e 6529 0a20  n is not None). 
-0000b1a0: 2020 2020 2020 2020 2020 2061 6e64 2072             and r
-0000b1b0: 7374 7269 6e67 2873 7472 2869 6e73 7469  string(str(insti
-0000b1c0: 7475 7469 6f6e 2929 0a20 2020 2020 2020  tution)).       
-0000b1d0: 2020 2020 206f 7220 4e6f 6e65 0a20 2020       or None.   
-0000b1e0: 2020 2020 2029 0a0a 2020 2020 2020 2020       )..        
-0000b1f0: 2320 6f6c 6420 6c69 7374 206f 6620 6772  # old list of gr
-0000b200: 6f75 7073 0a20 2020 2020 2020 206f 6c64  oups.        old
-0000b210: 5f67 726f 7570 7320 3d20 6c69 7374 2829  _groups = list()
-0000b220: 0a20 2020 2020 2020 2066 6f72 206f 6772  .        for ogr
-0000b230: 2069 6e20 7570 5f65 7870 2e63 6f70 7947   in up_exp.copyG
-0000b240: 726f 7570 4578 7065 7269 6d65 6e74 6572  roupExperimenter
-0000b250: 4d61 7028 293a 0a20 2020 2020 2020 2020  Map():.         
-0000b260: 2020 2069 6620 6f67 7220 6973 204e 6f6e     if ogr is Non
-0000b270: 653a 0a20 2020 2020 2020 2020 2020 2020  e:.             
-0000b280: 2020 2063 6f6e 7469 6e75 650a 2020 2020     continue.    
-0000b290: 2020 2020 2020 2020 6f6c 645f 6772 6f75          old_grou
-0000b2a0: 7073 2e61 7070 656e 6428 6f67 722e 7061  ps.append(ogr.pa
-0000b2b0: 7265 6e74 290a 0a20 2020 2020 2020 2023  rent)..        #
-0000b2c0: 2063 7265 6174 6520 6c69 7374 206f 6620   create list of 
-0000b2d0: 6e65 7720 6772 6f75 7073 0a20 2020 2020  new groups.     
-0000b2e0: 2020 206e 6577 5f67 726f 7570 7320 3d20     new_groups = 
-0000b2f0: 6c69 7374 2829 0a0a 2020 2020 2020 2020  list()..        
-0000b300: 2320 6465 6661 756c 7420 6772 6f75 700a  # default group.
-0000b310: 2020 2020 2020 2020 6e65 775f 6772 6f75          new_grou
-0000b320: 7073 2e61 7070 656e 6428 6465 6661 756c  ps.append(defaul
-0000b330: 7447 726f 7570 2e5f 6f62 6a29 0a0a 2020  tGroup._obj)..  
-0000b340: 2020 2020 2020 2320 7379 7374 656d 2067        # system g
-0000b350: 726f 7570 0a20 2020 2020 2020 2069 6620  roup.        if 
-0000b360: 6973 4164 6d69 6e3a 0a20 2020 2020 2020  isAdmin:.       
-0000b370: 2020 2020 2067 203d 2073 656c 662e 6765       g = self.ge
-0000b380: 744f 626a 6563 7428 2245 7870 6572 696d  tObject("Experim
-0000b390: 656e 7465 7247 726f 7570 222c 2061 7474  enterGroup", att
-0000b3a0: 7269 6275 7465 733d 7b22 6e61 6d65 223a  ributes={"name":
-0000b3b0: 2022 7379 7374 656d 227d 290a 2020 2020   "system"}).    
-0000b3c0: 2020 2020 2020 2020 6966 2064 6566 6175          if defau
-0000b3d0: 6c74 4772 6f75 702e 6964 2021 3d20 672e  ltGroup.id != g.
-0000b3e0: 6964 3a0a 2020 2020 2020 2020 2020 2020  id:.            
-0000b3f0: 2020 2020 6e65 775f 6772 6f75 7073 2e61      new_groups.a
-0000b400: 7070 656e 6428 672e 5f6f 626a 290a 0a20  ppend(g._obj).. 
-0000b410: 2020 2020 2020 2023 2075 7365 7220 6772         # user gr
-0000b420: 6f75 700a 2020 2020 2020 2020 6966 2069  oup.        if i
-0000b430: 7341 6374 6976 653a 0a20 2020 2020 2020  sActive:.       
-0000b440: 2020 2020 2067 203d 2073 656c 662e 6765       g = self.ge
-0000b450: 744f 626a 6563 7428 2245 7870 6572 696d  tObject("Experim
-0000b460: 656e 7465 7247 726f 7570 222c 2061 7474  enterGroup", att
-0000b470: 7269 6275 7465 733d 7b22 6e61 6d65 223a  ributes={"name":
-0000b480: 2022 7573 6572 227d 290a 2020 2020 2020   "user"}).      
-0000b490: 2020 2020 2020 6e65 775f 6772 6f75 7073        new_groups
-0000b4a0: 2e61 7070 656e 6428 672e 5f6f 626a 290a  .append(g._obj).
-0000b4b0: 0a20 2020 2020 2020 2023 2072 6573 7420  .        # rest 
-0000b4c0: 6f66 2067 726f 7570 730a 2020 2020 2020  of groups.      
-0000b4d0: 2020 666f 7220 6720 696e 206f 7468 6572    for g in other
-0000b4e0: 4772 6f75 7073 3a0a 2020 2020 2020 2020  Groups:.        
-0000b4f0: 2020 2020 6e65 775f 6772 6f75 7073 2e61      new_groups.a
-0000b500: 7070 656e 6428 672e 5f6f 626a 290a 0a20  ppend(g._obj).. 
-0000b510: 2020 2020 2020 2061 6464 4772 6f75 7073         addGroups
-0000b520: 203d 206c 6973 7428 290a 2020 2020 2020   = list().      
-0000b530: 2020 726d 4772 6f75 7073 203d 206c 6973    rmGroups = lis
-0000b540: 7428 290a 0a20 2020 2020 2020 2023 2072  t()..        # r
-0000b550: 656d 6f76 650a 2020 2020 2020 2020 666f  emove.        fo
-0000b560: 7220 6f67 7220 696e 206f 6c64 5f67 726f  r ogr in old_gro
-0000b570: 7570 733a 0a20 2020 2020 2020 2020 2020  ups:.           
-0000b580: 2066 6c61 6720 3d20 4661 6c73 650a 2020   flag = False.  
-0000b590: 2020 2020 2020 2020 2020 666f 7220 6e67            for ng
-0000b5a0: 7220 696e 206e 6577 5f67 726f 7570 733a  r in new_groups:
-0000b5b0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0000b5c0: 2069 6620 6e67 722e 6964 2e76 616c 203d   if ngr.id.val =
-0000b5d0: 3d20 6f67 722e 6964 2e76 616c 3a0a 2020  = ogr.id.val:.  
-0000b5e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000b5f0: 2020 666c 6167 203d 2054 7275 650a 2020    flag = True.  
-0000b600: 2020 2020 2020 2020 2020 6966 206e 6f74            if not
-0000b610: 2066 6c61 673a 0a20 2020 2020 2020 2020   flag:.         
-0000b620: 2020 2020 2020 2072 6d47 726f 7570 732e         rmGroups.
-0000b630: 6170 7065 6e64 286f 6772 290a 0a20 2020  append(ogr)..   
-0000b640: 2020 2020 2023 2061 6464 0a20 2020 2020       # add.     
-0000b650: 2020 2066 6f72 206e 6772 2069 6e20 6e65     for ngr in ne
-0000b660: 775f 6772 6f75 7073 3a0a 2020 2020 2020  w_groups:.      
-0000b670: 2020 2020 2020 666c 6167 203d 2046 616c        flag = Fal
-0000b680: 7365 0a20 2020 2020 2020 2020 2020 2066  se.            f
-0000b690: 6f72 206f 6772 2069 6e20 6f6c 645f 6772  or ogr in old_gr
-0000b6a0: 6f75 7073 3a0a 2020 2020 2020 2020 2020  oups:.          
-0000b6b0: 2020 2020 2020 6966 206f 6772 2e69 642e        if ogr.id.
-0000b6c0: 7661 6c20 3d3d 206e 6772 2e69 642e 7661  val == ngr.id.va
-0000b6d0: 6c3a 0a20 2020 2020 2020 2020 2020 2020  l:.             
-0000b6e0: 2020 2020 2020 2066 6c61 6720 3d20 5472         flag = Tr
-0000b6f0: 7565 0a20 2020 2020 2020 2020 2020 2069  ue.            i
-0000b700: 6620 6e6f 7420 666c 6167 3a0a 2020 2020  f not flag:.    
-0000b710: 2020 2020 2020 2020 2020 2020 6164 6447              addG
-0000b720: 726f 7570 732e 6170 7065 6e64 286e 6772  roups.append(ngr
-0000b730: 290a 0a20 2020 2020 2020 2061 646d 696e  )..        admin
-0000b740: 5f73 6572 7620 3d20 7365 6c66 2e67 6574  _serv = self.get
-0000b750: 4164 6d69 6e53 6572 7669 6365 2829 0a20  AdminService(). 
-0000b760: 2020 2020 2020 2061 646d 696e 5f73 6572         admin_ser
-0000b770: 762e 7570 6461 7465 4578 7065 7269 6d65  v.updateExperime
-0000b780: 6e74 6572 2875 705f 6578 7029 0a20 2020  nter(up_exp).   
-0000b790: 2020 2020 2063 616e 5f6d 6f64 203d 2022       can_mod = "
-0000b7a0: 4d6f 6469 6679 4772 6f75 704d 656d 6265  ModifyGroupMembe
-0000b7b0: 7273 6869 7022 2069 6e20 7365 6c66 2e67  rship" in self.g
-0000b7c0: 6574 4375 7272 656e 7441 646d 696e 5072  etCurrentAdminPr
-0000b7d0: 6976 696c 6567 6573 2829 0a20 2020 2020  ivileges().     
-0000b7e0: 2020 2069 6620 6c65 6e28 6164 6447 726f     if len(addGro
-0000b7f0: 7570 7329 203e 2030 2061 6e64 2063 616e  ups) > 0 and can
-0000b800: 5f6d 6f64 3a0a 2020 2020 2020 2020 2020  _mod:.          
-0000b810: 2020 6164 6d69 6e5f 7365 7276 2e61 6464    admin_serv.add
-0000b820: 4772 6f75 7073 2875 705f 6578 702c 2061  Groups(up_exp, a
-0000b830: 6464 4772 6f75 7073 290a 2020 2020 2020  ddGroups).      
-0000b840: 2020 6164 6d69 6e5f 7365 7276 2e73 6574    admin_serv.set
-0000b850: 4465 6661 756c 7447 726f 7570 2875 705f  DefaultGroup(up_
-0000b860: 6578 702c 2064 6566 6175 6c74 4772 6f75  exp, defaultGrou
-0000b870: 702e 5f6f 626a 290a 2020 2020 2020 2020  p._obj).        
-0000b880: 6966 206c 656e 2872 6d47 726f 7570 7329  if len(rmGroups)
-0000b890: 203e 2030 2061 6e64 2063 616e 5f6d 6f64   > 0 and can_mod
-0000b8a0: 3a0a 2020 2020 2020 2020 2020 2020 6164  :.            ad
-0000b8b0: 6d69 6e5f 7365 7276 2e72 656d 6f76 6547  min_serv.removeG
-0000b8c0: 726f 7570 7328 7570 5f65 7870 2c20 726d  roups(up_exp, rm
-0000b8d0: 4772 6f75 7073 290a 0a20 2020 2064 6566  Groups)..    def
-0000b8e0: 2067 6574 5f70 7269 7669 6c65 6765 735f   get_privileges_
-0000b8f0: 6672 6f6d 5f66 6f72 6d28 7365 6c66 2c20  from_form(self, 
-0000b900: 6578 7065 7269 6d65 6e74 6572 5f66 6f72  experimenter_for
-0000b910: 6d29 3a0a 2020 2020 2020 2020 2222 220a  m):.        """.
-0000b920: 2020 2020 2020 2020 4765 7420 2741 646d          Get 'Adm
-0000b930: 696e 5072 6976 696c 6567 6527 2072 6f6c  inPrivilege' rol
-0000b940: 6573 2066 726f 6d20 4578 7065 7269 6d65  es from Experime
-0000b950: 6e74 6572 2046 6f72 6d0a 0a20 2020 2020  nter Form..     
-0000b960: 2020 2052 6574 7572 6e73 204e 6f6e 6520     Returns None 
-0000b970: 6966 2052 6f6c 6520 7365 6374 696f 6e20  if Role section 
-0000b980: 6f66 2066 6f72 6d20 6973 2064 6973 6162  of form is disab
-0000b990: 6c65 642e 0a20 2020 2020 2020 2052 6574  led..        Ret
-0000b9a0: 7572 6e73 2065 6d70 7479 206c 6973 7420  urns empty list 
-0000b9b0: 6966 2072 6f6c 6520 6973 2072 6567 756c  if role is regul
-0000b9c0: 6172 2027 7573 6572 272c 206e 6f74 2061  ar 'user', not a
-0000b9d0: 646d 696e 2e0a 2020 2020 2020 2020 4966  dmin..        If
-0000b9e0: 2072 6f6c 6520 6973 2027 6164 6d69 6e69   role is 'admini
-0000b9f0: 7374 7261 746f 7227 2072 6574 7572 6e73  strator' returns
-0000ba00: 2041 4c4c 2070 7269 7669 6c65 6765 732e   ALL privileges.
-0000ba10: 0a0a 2020 2020 2020 2020 4070 6172 616d  ..        @param
-0000ba20: 2065 7870 6572 696d 656e 7465 725f 666f   experimenter_fo
-0000ba30: 726d 2020 2020 5375 626d 6974 7465 6420  rm    Submitted 
-0000ba40: 696e 7374 616e 6365 206f 6620 4578 7065  instance of Expe
-0000ba50: 7269 6d65 6e74 6572 466f 726d 0a20 2020  rimenterForm.   
-0000ba60: 2020 2020 2022 2222 0a20 2020 2020 2020       """.       
-0000ba70: 2070 7269 7669 6c65 6765 7320 3d20 5b5d   privileges = []
-0000ba80: 0a20 2020 2020 2020 2072 6f6c 6520 3d20  .        role = 
-0000ba90: 6578 7065 7269 6d65 6e74 6572 5f66 6f72  experimenter_for
-0000baa0: 6d2e 636c 6561 6e65 645f 6461 7461 5b22  m.cleaned_data["
-0000bab0: 726f 6c65 225d 0a20 2020 2020 2020 2023  role"].        #
-0000bac0: 2049 6620 526f 6c65 2065 6c65 6d65 6e74   If Role element
-0000bad0: 2069 7320 6469 7361 626c 6564 2c20 7765   is disabled, we
-0000bae0: 2064 6f6e 2774 2075 7064 6174 6520 7072   don't update pr
-0000baf0: 6976 696c 6567 6573 0a20 2020 2020 2020  ivileges.       
-0000bb00: 2069 6620 726f 6c65 203d 3d20 2222 3a0a   if role == "":.
-0000bb10: 2020 2020 2020 2020 2020 2020 7265 7475              retu
-0000bb20: 726e 204e 6f6e 650a 2020 2020 2020 2020  rn None.        
-0000bb30: 2320 4966 2075 7365 7220 6973 2041 646d  # If user is Adm
-0000bb40: 696e 2c20 7765 2067 6976 6520 7468 656d  in, we give them
-0000bb50: 2041 4c4c 2070 7269 7669 6c65 6765 7321   ALL privileges!
-0000bb60: 0a20 2020 2020 2020 2069 6620 726f 6c65  .        if role
-0000bb70: 203d 3d20 2261 646d 696e 6973 7472 6174   == "administrat
-0000bb80: 6f72 223a 0a20 2020 2020 2020 2020 2020  or":.           
-0000bb90: 2066 6f72 2070 2069 6e20 7365 6c66 2e67   for p in self.g
-0000bba0: 6574 456e 756d 6572 6174 696f 6e45 6e74  etEnumerationEnt
-0000bbb0: 7269 6573 2822 4164 6d69 6e50 7269 7669  ries("AdminPrivi
-0000bbc0: 6c65 6765 2229 3a0a 2020 2020 2020 2020  lege"):.        
-0000bbd0: 2020 2020 2020 2020 7072 6976 696c 6567          privileg
-0000bbe0: 6573 2e61 7070 656e 6428 702e 6765 7456  es.append(p.getV
-0000bbf0: 616c 7565 2829 290a 2020 2020 2020 2020  alue()).        
-0000bc00: 656c 6966 2072 6f6c 6520 3d3d 2022 7265  elif role == "re
-0000bc10: 7374 7269 6374 6564 5f61 646d 696e 6973  stricted_adminis
-0000bc20: 7472 6174 6f72 223a 0a20 2020 2020 2020  trator":.       
-0000bc30: 2020 2020 2023 204f 7468 6572 7769 7365       # Otherwise
-0000bc40: 2c20 7265 7374 7269 6374 2074 6f20 2763  , restrict to 'c
-0000bc50: 6865 636b 6564 2720 7072 6976 696c 6567  hecked' privileg
-0000bc60: 6573 206f 6e20 666f 726d 0a20 2020 2020  es on form.     
-0000bc70: 2020 2020 2020 2066 6f72 6d5f 7072 6976         form_priv
-0000bc80: 696c 6567 6573 203d 205b 0a20 2020 2020  ileges = [.     
-0000bc90: 2020 2020 2020 2020 2020 2022 4368 6772             "Chgr
-0000bca0: 7022 2c0a 2020 2020 2020 2020 2020 2020  p",.            
-0000bcb0: 2020 2020 2243 686f 776e 222c 0a20 2020      "Chown",.   
-0000bcc0: 2020 2020 2020 2020 2020 2020 2022 4d6f               "Mo
-0000bcd0: 6469 6679 4772 6f75 7022 2c0a 2020 2020  difyGroup",.    
-0000bce0: 2020 2020 2020 2020 2020 2020 224d 6f64              "Mod
-0000bcf0: 6966 7947 726f 7570 4d65 6d62 6572 7368  ifyGroupMembersh
-0000bd00: 6970 222c 0a20 2020 2020 2020 2020 2020  ip",.           
-0000bd10: 2020 2020 2022 4d6f 6469 6679 5573 6572       "ModifyUser
-0000bd20: 222c 0a20 2020 2020 2020 2020 2020 2020  ",.             
-0000bd30: 2020 2022 5375 646f 222c 0a20 2020 2020     "Sudo",.     
-0000bd40: 2020 2020 2020 205d 0a20 2020 2020 2020         ].       
-0000bd50: 2020 2020 2066 6f72 2070 2069 6e20 666f       for p in fo
-0000bd60: 726d 5f70 7269 7669 6c65 6765 733a 0a20  rm_privileges:. 
-0000bd70: 2020 2020 2020 2020 2020 2020 2020 2069                 i
-0000bd80: 6620 6578 7065 7269 6d65 6e74 6572 5f66  f experimenter_f
-0000bd90: 6f72 6d2e 636c 6561 6e65 645f 6461 7461  orm.cleaned_data
-0000bda0: 5b70 5d3a 0a20 2020 2020 2020 2020 2020  [p]:.           
-0000bdb0: 2020 2020 2020 2020 2070 7269 7669 6c65           privile
-0000bdc0: 6765 732e 6170 7065 6e64 2870 290a 2020  ges.append(p).  
-0000bdd0: 2020 2020 2020 2020 2020 2320 2744 656c            # 'Del
-0000bde0: 6574 6527 2c20 2757 7269 7465 2720 616e  ete', 'Write' an
-0000bdf0: 6420 2753 6372 6970 7427 2063 6865 636b  d 'Script' check
-0000be00: 626f 7865 7320 7570 6461 7465 2073 6576  boxes update sev
-0000be10: 6572 616c 2072 6f6c 6573 0a20 2020 2020  eral roles.     
-0000be20: 2020 2020 2020 2069 6620 6578 7065 7269         if experi
-0000be30: 6d65 6e74 6572 5f66 6f72 6d2e 636c 6561  menter_form.clea
-0000be40: 6e65 645f 6461 7461 5b22 4465 6c65 7465  ned_data["Delete
-0000be50: 225d 3a0a 2020 2020 2020 2020 2020 2020  "]:.            
-0000be60: 2020 2020 7072 6976 696c 6567 6573 2e61      privileges.a
-0000be70: 7070 656e 6428 2244 656c 6574 6546 696c  ppend("DeleteFil
-0000be80: 6522 290a 2020 2020 2020 2020 2020 2020  e").            
-0000be90: 2020 2020 7072 6976 696c 6567 6573 2e61      privileges.a
-0000bea0: 7070 656e 6428 2244 656c 6574 654d 616e  ppend("DeleteMan
-0000beb0: 6167 6564 5265 706f 2229 0a20 2020 2020  agedRepo").     
-0000bec0: 2020 2020 2020 2020 2020 2070 7269 7669             privi
-0000bed0: 6c65 6765 732e 6170 7065 6e64 2822 4465  leges.append("De
-0000bee0: 6c65 7465 4f77 6e65 6422 290a 2020 2020  leteOwned").    
-0000bef0: 2020 2020 2020 2020 6966 2065 7870 6572          if exper
-0000bf00: 696d 656e 7465 725f 666f 726d 2e63 6c65  imenter_form.cle
-0000bf10: 616e 6564 5f64 6174 615b 2257 7269 7465  aned_data["Write
-0000bf20: 225d 3a0a 2020 2020 2020 2020 2020 2020  "]:.            
-0000bf30: 2020 2020 7072 6976 696c 6567 6573 2e61      privileges.a
-0000bf40: 7070 656e 6428 2257 7269 7465 4669 6c65  ppend("WriteFile
-0000bf50: 2229 0a20 2020 2020 2020 2020 2020 2020  ").             
-0000bf60: 2020 2070 7269 7669 6c65 6765 732e 6170     privileges.ap
-0000bf70: 7065 6e64 2822 5772 6974 654d 616e 6167  pend("WriteManag
-0000bf80: 6564 5265 706f 2229 0a20 2020 2020 2020  edRepo").       
-0000bf90: 2020 2020 2020 2020 2070 7269 7669 6c65           privile
-0000bfa0: 6765 732e 6170 7065 6e64 2822 5772 6974  ges.append("Writ
-0000bfb0: 654f 776e 6564 2229 0a20 2020 2020 2020  eOwned").       
-0000bfc0: 2020 2020 2069 6620 6578 7065 7269 6d65       if experime
-0000bfd0: 6e74 6572 5f66 6f72 6d2e 636c 6561 6e65  nter_form.cleane
-0000bfe0: 645f 6461 7461 5b22 5363 7269 7074 225d  d_data["Script"]
-0000bff0: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-0000c000: 2020 7072 6976 696c 6567 6573 2e61 7070    privileges.app
-0000c010: 656e 6428 2257 7269 7465 5363 7269 7074  end("WriteScript
-0000c020: 5265 706f 2229 0a20 2020 2020 2020 2020  Repo").         
-0000c030: 2020 2020 2020 2070 7269 7669 6c65 6765         privilege
-0000c040: 732e 6170 7065 6e64 2822 4465 6c65 7465  s.append("Delete
-0000c050: 5363 7269 7074 5265 706f 2229 0a20 2020  ScriptRepo").   
-0000c060: 2020 2020 2072 6574 7572 6e20 7072 6976       return priv
-0000c070: 696c 6567 6573 0a0a 2020 2020 6465 6620  ileges..    def 
-0000c080: 6765 745f 7072 6976 696c 6567 6573 5f66  get_privileges_f
-0000c090: 6f72 5f66 6f72 6d28 7365 6c66 2c20 7072  or_form(self, pr
-0000c0a0: 6976 696c 6567 6573 293a 0a20 2020 2020  ivileges):.     
-0000c0b0: 2020 2022 2222 0a20 2020 2020 2020 204d     """.        M
-0000c0c0: 6170 7320 7468 6520 7661 7269 6f75 7320  aps the various 
-0000c0d0: 7365 7276 6572 2d73 6964 6520 7072 6976  server-side priv
-0000c0e0: 696c 6567 6573 2066 6f72 2045 7870 6572  ileges for Exper
-0000c0f0: 696d 656e 7465 7246 6f72 6d2e 0a0a 2020  imenterForm...  
-0000c100: 2020 2020 2020 466f 7220 6578 616d 706c        For exampl
-0000c110: 652c 2027 4465 6c65 7465 2720 7072 6976  e, 'Delete' priv
-0000c120: 696c 6567 6520 6973 2054 7275 6520 6f6e  ilege is True on
-0000c130: 6c79 2069 6620 616c 6c20 6f66 0a20 2020  ly if all of.   
-0000c140: 2020 2020 2027 4465 6c65 7465 4f77 6e65       'DeleteOwne
-0000c150: 6427 2c20 2744 656c 6574 6546 696c 6527  d', 'DeleteFile'
-0000c160: 2061 6e64 2027 4465 6c65 7465 4d61 6e61   and 'DeleteMana
-0000c170: 6765 6452 6570 6f27 2061 7265 2054 7275  gedRepo' are Tru
-0000c180: 650a 2020 2020 2020 2020 2222 220a 2020  e.        """.  
-0000c190: 2020 2020 2020 656e 6162 6c65 6420 3d20        enabled = 
-0000c1a0: 5b5d 0a20 2020 2020 2020 2064 656c 6574  [].        delet
-0000c1b0: 655f 7065 726d 7320 3d20 5b5d 0a20 2020  e_perms = [].   
-0000c1c0: 2020 2020 2077 7269 7465 5f70 6572 6d73       write_perms
-0000c1d0: 203d 205b 5d0a 2020 2020 2020 2020 7363   = [].        sc
-0000c1e0: 7269 7074 5f70 6572 6d73 203d 205b 5d0a  ript_perms = [].
-0000c1f0: 0a20 2020 2020 2020 2066 6f72 2070 7269  .        for pri
-0000c200: 7669 6c65 6765 2069 6e20 7072 6976 696c  vilege in privil
-0000c210: 6567 6573 3a0a 2020 2020 2020 2020 2020  eges:.          
-0000c220: 2020 6966 2070 7269 7669 6c65 6765 2069    if privilege i
-0000c230: 6e20 2822 4465 6c65 7465 4f77 6e65 6422  n ("DeleteOwned"
-0000c240: 2c20 2244 656c 6574 6546 696c 6522 2c20  , "DeleteFile", 
-0000c250: 2244 656c 6574 654d 616e 6167 6564 5265  "DeleteManagedRe
-0000c260: 706f 2229 3a0a 2020 2020 2020 2020 2020  po"):.          
-0000c270: 2020 2020 2020 6465 6c65 7465 5f70 6572        delete_per
-0000c280: 6d73 2e61 7070 656e 6428 7072 6976 696c  ms.append(privil
-0000c290: 6567 6529 0a20 2020 2020 2020 2020 2020  ege).           
-0000c2a0: 2065 6c69 6620 7072 6976 696c 6567 6520   elif privilege 
-0000c2b0: 696e 2028 2257 7269 7465 4f77 6e65 6422  in ("WriteOwned"
-0000c2c0: 2c20 2257 7269 7465 4669 6c65 222c 2022  , "WriteFile", "
-0000c2d0: 5772 6974 654d 616e 6167 6564 5265 706f  WriteManagedRepo
-0000c2e0: 2229 3a0a 2020 2020 2020 2020 2020 2020  "):.            
-0000c2f0: 2020 2020 7772 6974 655f 7065 726d 732e      write_perms.
-0000c300: 6170 7065 6e64 2870 7269 7669 6c65 6765  append(privilege
-0000c310: 290a 2020 2020 2020 2020 2020 2020 656c  ).            el
-0000c320: 6966 2070 7269 7669 6c65 6765 2069 6e20  if privilege in 
-0000c330: 2822 5772 6974 6553 6372 6970 7452 6570  ("WriteScriptRep
-0000c340: 6f22 2c20 2244 656c 6574 6553 6372 6970  o", "DeleteScrip
-0000c350: 7452 6570 6f22 293a 0a20 2020 2020 2020  tRepo"):.       
-0000c360: 2020 2020 2020 2020 2073 6372 6970 745f           script_
-0000c370: 7065 726d 732e 6170 7065 6e64 2870 7269  perms.append(pri
-0000c380: 7669 6c65 6765 290a 2020 2020 2020 2020  vilege).        
-0000c390: 2020 2020 656c 7365 3a0a 2020 2020 2020      else:.      
-0000c3a0: 2020 2020 2020 2020 2020 656e 6162 6c65            enable
-0000c3b0: 642e 6170 7065 6e64 2870 7269 7669 6c65  d.append(privile
-0000c3c0: 6765 290a 2020 2020 2020 2020 2320 6966  ge).        # if
-0000c3d0: 2041 4c4c 2074 6865 2044 656c 6574 652f   ALL the Delete/
-0000c3e0: 5772 6974 6520 7065 726d 6973 7369 6f6e  Write permission
-0000c3f0: 7320 6172 6520 666f 756e 642c 2044 656c  s are found, Del
-0000c400: 6574 652f 5772 6974 6520 6973 2054 7275  ete/Write is Tru
-0000c410: 650a 2020 2020 2020 2020 6966 2073 6574  e.        if set
-0000c420: 2864 656c 6574 655f 7065 726d 7329 203d  (delete_perms) =
-0000c430: 3d20 7365 7428 2822 4465 6c65 7465 4f77  = set(("DeleteOw
-0000c440: 6e65 6422 2c20 2244 656c 6574 6546 696c  ned", "DeleteFil
-0000c450: 6522 2c20 2244 656c 6574 654d 616e 6167  e", "DeleteManag
-0000c460: 6564 5265 706f 2229 293a 0a20 2020 2020  edRepo")):.     
-0000c470: 2020 2020 2020 2065 6e61 626c 6564 2e61         enabled.a
-0000c480: 7070 656e 6428 2244 656c 6574 6522 290a  ppend("Delete").
-0000c490: 2020 2020 2020 2020 6966 2073 6574 2877          if set(w
-0000c4a0: 7269 7465 5f70 6572 6d73 2920 3d3d 2073  rite_perms) == s
-0000c4b0: 6574 2828 2257 7269 7465 4f77 6e65 6422  et(("WriteOwned"
-0000c4c0: 2c20 2257 7269 7465 4669 6c65 222c 2022  , "WriteFile", "
-0000c4d0: 5772 6974 654d 616e 6167 6564 5265 706f  WriteManagedRepo
-0000c4e0: 2229 293a 0a20 2020 2020 2020 2020 2020  ")):.           
-0000c4f0: 2065 6e61 626c 6564 2e61 7070 656e 6428   enabled.append(
-0000c500: 2257 7269 7465 2229 0a20 2020 2020 2020  "Write").       
-0000c510: 2069 6620 7365 7428 7363 7269 7074 5f70   if set(script_p
-0000c520: 6572 6d73 2920 3d3d 2073 6574 2828 2257  erms) == set(("W
-0000c530: 7269 7465 5363 7269 7074 5265 706f 222c  riteScriptRepo",
-0000c540: 2022 4465 6c65 7465 5363 7269 7074 5265   "DeleteScriptRe
-0000c550: 706f 2229 293a 0a20 2020 2020 2020 2020  po")):.         
-0000c560: 2020 2065 6e61 626c 6564 2e61 7070 656e     enabled.appen
-0000c570: 6428 2253 6372 6970 7422 290a 2020 2020  d("Script").    
-0000c580: 2020 2020 7265 7475 726e 2065 6e61 626c      return enabl
-0000c590: 6564 0a0a 2020 2020 6465 6620 7365 744d  ed..    def setM
-0000c5a0: 656d 6265 7273 4f66 4772 6f75 7028 7365  embersOfGroup(se
-0000c5b0: 6c66 2c20 6772 6f75 702c 206e 6577 5f6d  lf, group, new_m
-0000c5c0: 656d 6265 7273 293a 0a20 2020 2020 2020  embers):.       
-0000c5d0: 2022 2222 0a20 2020 2020 2020 2043 6861   """.        Cha
-0000c5e0: 6e67 6520 6d65 6d62 6572 7320 6f66 2074  nge members of t
-0000c5f0: 6865 2067 726f 7570 2e20 5265 7475 726e  he group. Return
-0000c600: 7320 6120 6c69 7374 206f 6620 6578 6973  s a list of exis
-0000c610: 7469 6e67 2067 726f 7570 206d 656d 6265  ting group membe
-0000c620: 7273 0a20 2020 2020 2020 2074 6861 7420  rs.        that 
-0000c630: 636f 756c 6420 6e6f 7420 6265 2072 656d  could not be rem
-0000c640: 6f76 6564 2066 726f 6d20 7468 6520 6772  oved from the gr
-0000c650: 6f75 7020 6265 6361 7573 6520 6974 2069  oup because it i
-0000c660: 7320 7468 6569 7220 6f6e 6c79 0a20 2020  s their only.   
-0000c670: 2020 2020 2067 726f 7570 2e0a 0a20 2020       group...   
-0000c680: 2020 2020 2040 7061 7261 6d20 6772 6f75       @param grou
-0000c690: 7020 2020 2020 2020 2020 2020 2041 6e20  p            An 
-0000c6a0: 6578 6973 7469 6e67 2045 7870 6572 696d  existing Experim
-0000c6b0: 656e 7465 7247 726f 7570 2069 6e73 7461  enterGroup insta
-0000c6c0: 6e63 652e 0a20 2020 2020 2020 2040 7479  nce..        @ty
-0000c6d0: 7065 2067 726f 7570 2020 2020 2020 2020  pe group        
-0000c6e0: 2020 2020 2045 7870 6572 696d 656e 7465       Experimente
-0000c6f0: 7247 726f 7570 490a 2020 2020 2020 2020  rGroupI.        
-0000c700: 4070 6172 616d 206e 6577 5f6d 656d 6265  @param new_membe
-0000c710: 7273 2020 2020 2020 4c69 7374 206f 6620  rs      List of 
-0000c720: 6e65 7720 6e65 7720 4578 7065 7269 6d65  new new Experime
-0000c730: 6e74 6572 2049 6473 2e0a 2020 2020 2020  nter Ids..      
-0000c740: 2020 4074 7970 6520 6e65 775f 6d65 6d62    @type new_memb
-0000c750: 6572 7320 2020 2020 2020 4c7b 4c6f 6e67  ers       L{Long
-0000c760: 7d0a 2020 2020 2020 2020 4072 6574 7572  }.        @retur
-0000c770: 6e20 2020 2020 2020 2020 2020 2020 2020  n               
-0000c780: 2020 4c69 7374 206f 6620 4578 7065 7269    List of Experi
-0000c790: 6d65 6e74 6572 7320 6e6f 7420 7265 6d6f  menters not remo
-0000c7a0: 7665 6420 6672 6f6d 2067 726f 7570 0a20  ved from group. 
-0000c7b0: 2020 2020 2020 2040 7274 7970 6520 2020         @rtype   
-0000c7c0: 2020 2020 2020 2020 2020 2020 2020 204c                 L
-0000c7d0: 6973 7420 6f66 204c 7b45 7870 6572 696d  ist of L{Experim
-0000c7e0: 656e 7465 7257 7261 7070 6572 7d0a 2020  enterWrapper}.  
-0000c7f0: 2020 2020 2020 2222 220a 0a20 2020 2020        """..     
-0000c800: 2020 2023 204d 616b 6520 7375 7265 2077     # Make sure w
-0000c810: 6527 7665 206c 6f61 6465 6420 6578 7065  e've loaded expe
-0000c820: 7269 6d65 6e74 6572 730a 2020 2020 2020  rimenters.      
-0000c830: 2020 6772 6f75 7020 3d20 7365 6c66 2e67    group = self.g
-0000c840: 6574 4f62 6a65 6374 280a 2020 2020 2020  etObject(.      
-0000c850: 2020 2020 2020 2245 7870 6572 696d 656e        "Experimen
-0000c860: 7465 7247 726f 7570 222c 2067 726f 7570  terGroup", group
-0000c870: 2e69 642c 206f 7074 733d 7b22 6c6f 6164  .id, opts={"load
-0000c880: 5f65 7870 6572 696d 656e 7465 7273 223a  _experimenters":
-0000c890: 2054 7275 657d 0a20 2020 2020 2020 2029   True}.        )
-0000c8a0: 0a0a 2020 2020 2020 2020 6578 7065 7269  ..        experi
-0000c8b0: 6d65 6e74 6572 7320 3d20 6c69 7374 2873  menters = list(s
-0000c8c0: 656c 662e 6765 744f 626a 6563 7473 2822  elf.getObjects("
-0000c8d0: 4578 7065 7269 6d65 6e74 6572 2229 290a  Experimenter")).
-0000c8e0: 0a20 2020 2020 2020 206e 6577 5f6d 656d  .        new_mem
-0000c8f0: 6265 7273 4964 7320 3d20 5b6e 6d2e 6964  bersIds = [nm.id
-0000c900: 2066 6f72 206e 6d20 696e 206e 6577 5f6d   for nm in new_m
-0000c910: 656d 6265 7273 5d0a 0a20 2020 2020 2020  embers]..       
-0000c920: 206f 6c64 5f6d 656d 6265 7273 203d 2067   old_members = g
-0000c930: 726f 7570 2e67 6574 4d65 6d62 6572 7328  roup.getMembers(
-0000c940: 290a 2020 2020 2020 2020 6f6c 645f 6d65  ).        old_me
-0000c950: 6d62 6572 7349 6473 203d 205b 6f6d 2e69  mbersIds = [om.i
-0000c960: 6420 666f 7220 6f6d 2069 6e20 6f6c 645f  d for om in old_
-0000c970: 6d65 6d62 6572 735d 0a0a 2020 2020 2020  members]..      
-0000c980: 2020 6f6c 645f 6176 6169 6c61 626c 6549    old_availableI
-0000c990: 6473 203d 205b 5d0a 2020 2020 2020 2020  ds = [].        
-0000c9a0: 666f 7220 6520 696e 2065 7870 6572 696d  for e in experim
-0000c9b0: 656e 7465 7273 3a0a 2020 2020 2020 2020  enters:.        
-0000c9c0: 2020 2020 6966 2065 2e69 6420 6e6f 7420      if e.id not 
-0000c9d0: 696e 206f 6c64 5f6d 656d 6265 7273 4964  in old_membersId
-0000c9e0: 733a 0a20 2020 2020 2020 2020 2020 2020  s:.             
-0000c9f0: 2020 206f 6c64 5f61 7661 696c 6162 6c65     old_available
-0000ca00: 4964 732e 6170 7065 6e64 2865 2e69 6429  Ids.append(e.id)
-0000ca10: 0a0a 2020 2020 2020 2020 6e65 775f 6176  ..        new_av
-0000ca20: 6169 6c61 626c 6520 3d20 6c69 7374 2829  ailable = list()
-0000ca30: 0a20 2020 2020 2020 2066 6f72 2065 2069  .        for e i
-0000ca40: 6e20 6578 7065 7269 6d65 6e74 6572 733a  n experimenters:
-0000ca50: 0a20 2020 2020 2020 2020 2020 2069 6620  .            if 
-0000ca60: 652e 6964 206e 6f74 2069 6e20 6e65 775f  e.id not in new_
-0000ca70: 6d65 6d62 6572 7349 6473 3a0a 2020 2020  membersIds:.    
-0000ca80: 2020 2020 2020 2020 2020 2020 6e65 775f              new_
-0000ca90: 6176 6169 6c61 626c 652e 6170 7065 6e64  available.append
-0000caa0: 2865 290a 0a20 2020 2020 2020 206e 6577  (e)..        new
-0000cab0: 5f61 7661 696c 6162 6c65 4964 7320 3d20  _availableIds = 
-0000cac0: 5b6e 612e 6964 2066 6f72 206e 6120 696e  [na.id for na in
-0000cad0: 206e 6577 5f61 7661 696c 6162 6c65 5d0a   new_available].
-0000cae0: 0a20 2020 2020 2020 2072 6d5f 6578 7073  .        rm_exps
-0000caf0: 203d 206c 6973 7428 7365 7428 6f6c 645f   = list(set(old_
-0000cb00: 6d65 6d62 6572 7349 6473 2920 2d20 7365  membersIds) - se
-0000cb10: 7428 6e65 775f 6d65 6d62 6572 7349 6473  t(new_membersIds
-0000cb20: 2929 0a20 2020 2020 2020 2061 6464 5f65  )).        add_e
-0000cb30: 7870 7320 3d20 6c69 7374 2873 6574 286f  xps = list(set(o
-0000cb40: 6c64 5f61 7661 696c 6162 6c65 4964 7329  ld_availableIds)
-0000cb50: 202d 2073 6574 286e 6577 5f61 7661 696c   - set(new_avail
-0000cb60: 6162 6c65 4964 7329 290a 0a20 2020 2020  ableIds))..     
-0000cb70: 2020 2074 6f5f 7265 6d6f 7665 203d 206c     to_remove = l
-0000cb80: 6973 7428 290a 2020 2020 2020 2020 746f  ist().        to
-0000cb90: 5f61 6464 203d 206c 6973 7428 290a 2020  _add = list().  
-0000cba0: 2020 2020 2020 666f 7220 6520 696e 2065        for e in e
-0000cbb0: 7870 6572 696d 656e 7465 7273 3a0a 2020  xperimenters:.  
-0000cbc0: 2020 2020 2020 2020 2020 6966 2065 2e69            if e.i
-0000cbd0: 6420 696e 2072 6d5f 6578 7073 3a0a 2020  d in rm_exps:.  
-0000cbe0: 2020 2020 2020 2020 2020 2020 2020 2320                # 
-0000cbf0: 7265 6d6f 7669 6e67 2075 7365 7220 6672  removing user fr
-0000cc00: 6f6d 2074 6865 6972 2064 6566 6175 6c74  om their default
-0000cc10: 2067 726f 7570 2023 3931 3933 0a20 2020   group #9193.   
-0000cc20: 2020 2020 2020 2020 2020 2020 2023 2069               # i
-0000cc30: 6620 652e 6765 7444 6566 6175 6c74 4772  f e.getDefaultGr
-0000cc40: 6f75 7028 292e 6964 2021 3d20 6772 6f75  oup().id != grou
-0000cc50: 702e 6964 3a0a 2020 2020 2020 2020 2020  p.id:.          
-0000cc60: 2020 2020 2020 746f 5f72 656d 6f76 652e        to_remove.
-0000cc70: 6170 7065 6e64 2865 290a 2020 2020 2020  append(e).      
-0000cc80: 2020 2020 2020 6966 2065 2e69 6420 696e        if e.id in
-0000cc90: 2061 6464 5f65 7870 733a 0a20 2020 2020   add_exps:.     
-0000cca0: 2020 2020 2020 2020 2020 2074 6f5f 6164             to_ad
-0000ccb0: 642e 6170 7065 6e64 2865 290a 0a20 2020  d.append(e)..   
-0000ccc0: 2020 2020 2061 646d 696e 5f73 6572 7620       admin_serv 
-0000ccd0: 3d20 7365 6c66 2e67 6574 4164 6d69 6e53  = self.getAdminS
-0000cce0: 6572 7669 6365 2829 0a20 2020 2020 2020  ervice().       
-0000ccf0: 2075 7365 7247 6964 203d 2061 646d 696e   userGid = admin
-0000cd00: 5f73 6572 762e 6765 7453 6563 7572 6974  _serv.getSecurit
-0000cd10: 7952 6f6c 6573 2829 2e75 7365 7247 726f  yRoles().userGro
-0000cd20: 7570 4964 0a20 2020 2020 2020 2066 6169  upId.        fai
-0000cd30: 6c75 7265 7320 3d20 5b5d 0a20 2020 2020  lures = [].     
-0000cd40: 2020 2066 6f72 2065 2069 6e20 746f 5f61     for e in to_a
-0000cd50: 6464 3a0a 2020 2020 2020 2020 2020 2020  dd:.            
-0000cd60: 6164 6d69 6e5f 7365 7276 2e61 6464 4772  admin_serv.addGr
-0000cd70: 6f75 7073 2865 2e5f 6f62 6a2c 205b 6772  oups(e._obj, [gr
-0000cd80: 6f75 702e 5f6f 626a 5d29 0a20 2020 2020  oup._obj]).     
-0000cd90: 2020 2066 6f72 2065 2069 6e20 746f 5f72     for e in to_r
-0000cda0: 656d 6f76 653a 0a20 2020 2020 2020 2020  emove:.         
-0000cdb0: 2020 2023 2045 7870 6572 696d 656e 7465     # Experimente
-0000cdc0: 7220 6e65 6564 7320 746f 2073 7461 7920  r needs to stay 
-0000cdd0: 696e 2061 7420 6c65 6173 7420 3120 6e6f  in at least 1 no
-0000cde0: 6e2d 7573 6572 2067 726f 7570 0a20 2020  n-user group.   
-0000cdf0: 2020 2020 2020 2020 2067 7320 3d20 5b0a           gs = [.
-0000ce00: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000ce10: 6c69 6e6b 2e70 6172 656e 742e 6964 0a20  link.parent.id. 
-0000ce20: 2020 2020 2020 2020 2020 2020 2020 2066                 f
-0000ce30: 6f72 206c 696e 6b20 696e 2065 2e63 6f70  or link in e.cop
-0000ce40: 7947 726f 7570 4578 7065 7269 6d65 6e74  yGroupExperiment
-0000ce50: 6572 4d61 7028 290a 2020 2020 2020 2020  erMap().        
-0000ce60: 2020 2020 2020 2020 6966 206c 696e 6b2e          if link.
-0000ce70: 7061 7265 6e74 2e69 642e 7661 6c20 213d  parent.id.val !=
-0000ce80: 2075 7365 7247 6964 0a20 2020 2020 2020   userGid.       
-0000ce90: 2020 2020 205d 0a20 2020 2020 2020 2020       ].         
-0000cea0: 2020 2069 6620 6c65 6e28 6773 2920 3d3d     if len(gs) ==
-0000ceb0: 2031 3a0a 2020 2020 2020 2020 2020 2020   1:.            
-0000cec0: 2020 2020 6661 696c 7572 6573 2e61 7070      failures.app
-0000ced0: 656e 6428 4578 7065 7269 6d65 6e74 6572  end(Experimenter
-0000cee0: 5772 6170 7065 7228 7365 6c66 2c20 652e  Wrapper(self, e.
-0000cef0: 5f6f 626a 2929 0a20 2020 2020 2020 2020  _obj)).         
-0000cf00: 2020 2020 2020 2063 6f6e 7469 6e75 650a         continue.
-0000cf10: 2020 2020 2020 2020 2020 2020 6164 6d69              admi
-0000cf20: 6e5f 7365 7276 2e72 656d 6f76 6547 726f  n_serv.removeGro
-0000cf30: 7570 7328 652e 5f6f 626a 2c20 5b67 726f  ups(e._obj, [gro
-0000cf40: 7570 2e5f 6f62 6a5d 290a 2020 2020 2020  up._obj]).      
-0000cf50: 2020 7265 7475 726e 2066 6169 6c75 7265    return failure
-0000cf60: 730a 0a20 2020 2064 6566 2073 6574 4f77  s..    def setOw
-0000cf70: 6e65 7273 4f66 4772 6f75 7028 7365 6c66  nersOfGroup(self
-0000cf80: 2c20 6772 6f75 702c 206f 776e 6572 7329  , group, owners)
-0000cf90: 3a0a 2020 2020 2020 2020 2222 220a 2020  :.        """.  
-0000cfa0: 2020 2020 2020 5365 7420 6f77 6e65 7273        Set owners
-0000cfb0: 206f 6620 6772 6f75 700a 0a20 2020 2020   of group..     
-0000cfc0: 2020 2040 7061 7261 6d20 6772 6f75 7020     @param group 
-0000cfd0: 2020 2020 2020 2041 206e 6577 2045 7870         A new Exp
-0000cfe0: 6572 696d 656e 7465 7247 726f 7570 2069  erimenterGroup i
-0000cff0: 6e73 7461 6e63 652e 0a20 2020 2020 2020  nstance..       
-0000d000: 2040 7479 7065 2067 726f 7570 2020 2020   @type group    
-0000d010: 2020 2020 2045 7870 6572 696d 656e 7465       Experimente
-0000d020: 7247 726f 7570 490a 2020 2020 2020 2020  rGroupI.        
-0000d030: 4070 6172 616d 206f 776e 6572 7320 2020  @param owners   
-0000d040: 2020 2020 4c69 7374 206f 6620 4578 7065      List of Expe
-0000d050: 7269 6d65 6e74 6572 2069 6e73 7461 6e63  rimenter instanc
-0000d060: 6573 2e20 4361 6e20 6265 2065 6d70 7479  es. Can be empty
-0000d070: 2e0a 2020 2020 2020 2020 4074 7970 6520  ..        @type 
-0000d080: 6f77 6e65 7273 2020 2020 2020 2020 4c7b  owners        L{
-0000d090: 4578 7065 7269 6d65 6e74 6572 497d 0a20  ExperimenterI}. 
-0000d0a0: 2020 2020 2020 2022 2222 0a0a 2020 2020         """..    
-0000d0b0: 2020 2020 7570 5f67 7220 3d20 6772 6f75      up_gr = grou
-0000d0c0: 702e 5f6f 626a 0a0a 2020 2020 2020 2020  p._obj..        
-0000d0d0: 2320 6f6c 6420 6c69 7374 206f 6620 6f77  # old list of ow
-0000d0e0: 6e65 7273 0a20 2020 2020 2020 206f 6c64  ners.        old
-0000d0f0: 5f6f 776e 6572 7320 3d20 5b5d 0a20 2020  _owners = [].   
-0000d100: 2020 2020 2066 6f72 206f 6578 2069 6e20       for oex in 
-0000d110: 6772 6f75 702e 636f 7079 4772 6f75 7045  group.copyGroupE
-0000d120: 7870 6572 696d 656e 7465 724d 6170 2829  xperimenterMap()
-0000d130: 3a0a 2020 2020 2020 2020 2020 2020 6966  :.            if
-0000d140: 206f 6578 2069 7320 4e6f 6e65 3a0a 2020   oex is None:.  
-0000d150: 2020 2020 2020 2020 2020 2020 2020 636f                co
-0000d160: 6e74 696e 7565 0a20 2020 2020 2020 2020  ntinue.         
-0000d170: 2020 2069 6620 6f65 782e 6f77 6e65 722e     if oex.owner.
-0000d180: 7661 6c3a 0a20 2020 2020 2020 2020 2020  val:.           
-0000d190: 2020 2020 206f 6c64 5f6f 776e 6572 732e       old_owners.
-0000d1a0: 6170 7065 6e64 286f 6578 2e63 6869 6c64  append(oex.child
-0000d1b0: 290a 0a20 2020 2020 2020 2061 6464 5f65  )..        add_e
-0000d1c0: 7870 7320 3d20 5b5d 0a20 2020 2020 2020  xps = [].       
-0000d1d0: 2072 6d5f 6578 7073 203d 205b 5d0a 2020   rm_exps = [].  
-0000d1e0: 2020 2020 2020 2320 7265 6d6f 7665 0a20        # remove. 
-0000d1f0: 2020 2020 2020 2066 6f72 206f 6578 2069         for oex i
-0000d200: 6e20 6f6c 645f 6f77 6e65 7273 3a0a 2020  n old_owners:.  
-0000d210: 2020 2020 2020 2020 2020 666c 6167 203d            flag =
-0000d220: 2046 616c 7365 0a20 2020 2020 2020 2020   False.         
-0000d230: 2020 2066 6f72 206e 6578 2069 6e20 6f77     for nex in ow
-0000d240: 6e65 7273 3a0a 2020 2020 2020 2020 2020  ners:.          
-0000d250: 2020 2020 2020 6966 206e 6578 2e5f 6f62        if nex._ob
-0000d260: 6a2e 6964 2e76 616c 203d 3d20 6f65 782e  j.id.val == oex.
-0000d270: 6964 2e76 616c 3a0a 2020 2020 2020 2020  id.val:.        
-0000d280: 2020 2020 2020 2020 2020 2020 666c 6167              flag
-0000d290: 203d 2054 7275 650a 2020 2020 2020 2020   = True.        
-0000d2a0: 2020 2020 6966 206e 6f74 2066 6c61 673a      if not flag:
-0000d2b0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0000d2c0: 2072 6d5f 6578 7073 2e61 7070 656e 6428   rm_exps.append(
-0000d2d0: 6f65 7829 0a0a 2020 2020 2020 2020 2320  oex)..        # 
-0000d2e0: 6164 640a 2020 2020 2020 2020 666f 7220  add.        for 
-0000d2f0: 6e65 7820 696e 206f 776e 6572 733a 0a20  nex in owners:. 
-0000d300: 2020 2020 2020 2020 2020 2066 6c61 6720             flag 
-0000d310: 3d20 4661 6c73 650a 2020 2020 2020 2020  = False.        
-0000d320: 2020 2020 666f 7220 6f65 7820 696e 206f      for oex in o
-0000d330: 6c64 5f6f 776e 6572 733a 0a20 2020 2020  ld_owners:.     
-0000d340: 2020 2020 2020 2020 2020 2069 6620 6f65             if oe
-0000d350: 782e 6964 2e76 616c 203d 3d20 6e65 782e  x.id.val == nex.
-0000d360: 5f6f 626a 2e69 642e 7661 6c3a 0a20 2020  _obj.id.val:.   
-0000d370: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000d380: 2066 6c61 6720 3d20 5472 7565 0a20 2020   flag = True.   
-0000d390: 2020 2020 2020 2020 2069 6620 6e6f 7420           if not 
-0000d3a0: 666c 6167 3a0a 2020 2020 2020 2020 2020  flag:.          
-0000d3b0: 2020 2020 2020 6164 645f 6578 7073 2e61        add_exps.a
-0000d3c0: 7070 656e 6428 6e65 782e 5f6f 626a 290a  ppend(nex._obj).
-0000d3d0: 0a20 2020 2020 2020 2061 646d 696e 5f73  .        admin_s
-0000d3e0: 6572 7620 3d20 7365 6c66 2e67 6574 4164  erv = self.getAd
-0000d3f0: 6d69 6e53 6572 7669 6365 2829 0a20 2020  minService().   
-0000d400: 2020 2020 2069 6620 6164 645f 6578 7073       if add_exps
-0000d410: 3a0a 2020 2020 2020 2020 2020 2020 6164  :.            ad
-0000d420: 6d69 6e5f 7365 7276 2e61 6464 4772 6f75  min_serv.addGrou
-0000d430: 704f 776e 6572 7328 7570 5f67 722c 2061  pOwners(up_gr, a
-0000d440: 6464 5f65 7870 7329 0a20 2020 2020 2020  dd_exps).       
-0000d450: 2069 6620 726d 5f65 7870 733a 0a20 2020   if rm_exps:.   
-0000d460: 2020 2020 2020 2020 2061 646d 696e 5f73           admin_s
-0000d470: 6572 762e 7265 6d6f 7665 4772 6f75 704f  erv.removeGroupO
-0000d480: 776e 6572 7328 7570 5f67 722c 2072 6d5f  wners(up_gr, rm_
-0000d490: 6578 7073 290a 0a20 2020 2064 6566 2063  exps)..    def c
-0000d4a0: 7265 6174 6547 726f 7570 2873 656c 662c  reateGroup(self,
-0000d4b0: 206e 616d 652c 2070 6572 6d69 7373 696f   name, permissio
-0000d4c0: 6e73 2c20 6465 7363 7269 7074 696f 6e3d  ns, description=
-0000d4d0: 4e6f 6e65 293a 0a20 2020 2020 2020 2022  None):.        "
-0000d4e0: 2222 0a20 2020 2020 2020 2043 7265 6174  "".        Creat
-0000d4f0: 6520 616e 6420 7265 7475 726e 2061 206e  e and return a n
-0000d500: 6577 2067 726f 7570 2077 6974 6820 7468  ew group with th
-0000d510: 6520 6769 7665 6e20 6f77 6e65 7273 2e0a  e given owners..
-0000d520: 0a20 2020 2020 2020 2040 7061 7261 6d20  .        @param 
-0000d530: 6772 6f75 7020 2020 2020 2020 2041 206e  group        A n
-0000d540: 6577 2045 7870 6572 696d 656e 7465 7247  ew ExperimenterG
-0000d550: 726f 7570 2069 6e73 7461 6e63 652e 0a20  roup instance.. 
-0000d560: 2020 2020 2020 2040 7479 7065 2067 726f         @type gro
-0000d570: 7570 2020 2020 2020 2020 2045 7870 6572  up         Exper
-0000d580: 696d 656e 7465 7247 726f 7570 490a 2020  imenterGroupI.  
-0000d590: 2020 2020 2020 4070 6172 616d 206f 776e        @param own
-0000d5a0: 6572 7320 2020 2020 2020 4c69 7374 206f  ers       List o
-0000d5b0: 6620 4578 7065 7269 6d65 6e74 6572 2069  f Experimenter i
-0000d5c0: 6e73 7461 6e63 6573 2e20 4361 6e20 6265  nstances. Can be
-0000d5d0: 2065 6d70 7479 2e0a 2020 2020 2020 2020   empty..        
-0000d5e0: 4074 7970 6520 6f77 6e65 7273 2020 2020  @type owners    
-0000d5f0: 2020 2020 4c7b 4578 7065 7269 6d65 6e74      L{Experiment
-0000d600: 6572 497d 0a20 2020 2020 2020 2040 7061  erI}.        @pa
-0000d610: 7261 6d20 7065 726d 6973 7369 6f6e 7320  ram permissions 
-0000d620: 2050 6572 6d69 7373 696f 6e73 2069 6e73   Permissions ins
-0000d630: 7461 6e63 6573 2e0a 2020 2020 2020 2020  tances..        
-0000d640: 4074 7970 6520 7065 726d 6973 7369 6f6e  @type permission
-0000d650: 7320 2020 4c7b 5065 726d 6973 7369 6f6e  s   L{Permission
-0000d660: 7349 7d0a 2020 2020 2020 2020 4072 6574  sI}.        @ret
-0000d670: 7572 6e20 2020 2020 2020 2020 2020 2020  urn             
-0000d680: 4944 206f 6620 7468 6520 6e65 776c 7920  ID of the newly 
-0000d690: 6372 6561 7465 6420 4578 7065 7269 6d65  created Experime
-0000d6a0: 6e74 6572 4772 6f75 7020 4e6f 740a 2020  nterGroup Not.  
-0000d6b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000d6c0: 2020 2020 2020 2020 2020 6e75 6c6c 2e0a            null..
-0000d6d0: 2020 2020 2020 2020 4072 7479 7065 2020          @rtype  
-0000d6e0: 2020 2020 2020 2020 2020 2020 4c6f 6e67              Long
-0000d6f0: 0a20 2020 2020 2020 2022 2222 0a20 2020  .        """.   
-0000d700: 2020 2020 206e 6577 5f67 7220 3d20 4578       new_gr = Ex
-0000d710: 7065 7269 6d65 6e74 6572 4772 6f75 7049  perimenterGroupI
-0000d720: 2829 0a20 2020 2020 2020 206e 6577 5f67  ().        new_g
-0000d730: 722e 6e61 6d65 203d 2072 7374 7269 6e67  r.name = rstring
-0000d740: 2873 7472 286e 616d 6529 290a 2020 2020  (str(name)).    
-0000d750: 2020 2020 6e65 775f 6772 2e64 6573 6372      new_gr.descr
-0000d760: 6970 7469 6f6e 203d 2028 0a20 2020 2020  iption = (.     
-0000d770: 2020 2020 2020 2028 6465 7363 7269 7074         (descript
-0000d780: 696f 6e20 213d 2022 2220 616e 6420 6465  ion != "" and de
-0000d790: 7363 7269 7074 696f 6e20 6973 206e 6f74  scription is not
-0000d7a0: 204e 6f6e 6529 0a20 2020 2020 2020 2020   None).         
-0000d7b0: 2020 2061 6e64 2072 7374 7269 6e67 2873     and rstring(s
-0000d7c0: 7472 2864 6573 6372 6970 7469 6f6e 2929  tr(description))
-0000d7d0: 0a20 2020 2020 2020 2020 2020 206f 7220  .            or 
-0000d7e0: 4e6f 6e65 0a20 2020 2020 2020 2029 0a20  None.        ). 
-0000d7f0: 2020 2020 2020 206e 6577 5f67 722e 6c64         new_gr.ld
-0000d800: 6170 203d 2072 626f 6f6c 2846 616c 7365  ap = rbool(False
-0000d810: 290a 2020 2020 2020 2020 6e65 775f 6772  ).        new_gr
-0000d820: 2e64 6574 6169 6c73 2e70 6572 6d69 7373  .details.permiss
-0000d830: 696f 6e73 203d 2070 6572 6d69 7373 696f  ions = permissio
-0000d840: 6e73 0a0a 2020 2020 2020 2020 6164 6d69  ns..        admi
-0000d850: 6e5f 7365 7276 203d 2073 656c 662e 6765  n_serv = self.ge
-0000d860: 7441 646d 696e 5365 7276 6963 6528 290a  tAdminService().
-0000d870: 2020 2020 2020 2020 6772 5f69 6420 3d20          gr_id = 
-0000d880: 6164 6d69 6e5f 7365 7276 2e63 7265 6174  admin_serv.creat
-0000d890: 6547 726f 7570 286e 6577 5f67 7229 0a20  eGroup(new_gr). 
-0000d8a0: 2020 2020 2020 2072 6574 7572 6e20 6772         return gr
-0000d8b0: 5f69 640a 0a20 2020 2064 6566 2075 7064  _id..    def upd
-0000d8c0: 6174 6547 726f 7570 2873 656c 662c 2067  ateGroup(self, g
-0000d8d0: 726f 7570 2c20 6e61 6d65 2c20 7065 726d  roup, name, perm
-0000d8e0: 6973 7369 6f6e 732c 2064 6573 6372 6970  issions, descrip
-0000d8f0: 7469 6f6e 3d4e 6f6e 6529 3a0a 2020 2020  tion=None):.    
-0000d900: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
-0000d910: 5570 6461 7465 2061 6e20 6578 6973 7469  Update an existi
-0000d920: 6e67 2067 726f 7570 2e0a 0a20 2020 2020  ng group...     
-0000d930: 2020 2040 7061 7261 6d20 6772 6f75 7020     @param group 
-0000d940: 2020 2020 2020 2041 206e 6577 2045 7870         A new Exp
-0000d950: 6572 696d 656e 7465 7247 726f 7570 2069  erimenterGroup i
-0000d960: 6e73 7461 6e63 652e 0a20 2020 2020 2020  nstance..       
-0000d970: 2040 7479 7065 2067 726f 7570 2020 2020   @type group    
-0000d980: 2020 2020 2045 7870 6572 696d 656e 7465       Experimente
-0000d990: 7247 726f 7570 490a 2020 2020 2020 2020  rGroupI.        
-0000d9a0: 4070 6172 616d 206e 616d 6520 2020 2020  @param name     
-0000d9b0: 2020 2020 4120 6e65 7720 6772 6f75 7020      A new group 
-0000d9c0: 6e61 6d65 2e0a 2020 2020 2020 2020 4074  name..        @t
-0000d9d0: 7970 6520 6e61 6d65 2020 2020 2020 2020  ype name        
-0000d9e0: 2020 5374 7269 6e67 0a20 2020 2020 2020    String.       
-0000d9f0: 2040 7061 7261 6d20 7065 726d 6973 7369   @param permissi
-0000da00: 6f6e 7320 2050 6572 6d69 7373 696f 6e73  ons  Permissions
-0000da10: 2069 6e73 7461 6e63 6573 2e0a 2020 2020   instances..    
-0000da20: 2020 2020 4074 7970 6520 7065 726d 6973      @type permis
-0000da30: 7369 6f6e 7320 2020 4c7b 5065 726d 6973  sions   L{Permis
-0000da40: 7369 6f6e 7349 7d0a 2020 2020 2020 2020  sionsI}.        
-0000da50: 4070 6172 616d 2064 6573 6372 6970 7469  @param descripti
-0000da60: 6f6e 2020 4120 6465 7363 7269 7074 696f  on  A descriptio
-0000da70: 6e2e 0a20 2020 2020 2020 2040 7479 7065  n..        @type
-0000da80: 2064 6573 6372 6970 7469 6f6e 2020 2053   description   S
-0000da90: 7472 696e 670a 0a20 2020 2020 2020 2022  tring..        "
-0000daa0: 2222 0a0a 2020 2020 2020 2020 7570 5f67  ""..        up_g
-0000dab0: 7220 3d20 6772 6f75 702e 5f6f 626a 0a20  r = group._obj. 
-0000dac0: 2020 2020 2020 2075 705f 6772 2e6e 616d         up_gr.nam
-0000dad0: 6520 3d20 7273 7472 696e 6728 7374 7228  e = rstring(str(
-0000dae0: 6e61 6d65 2929 0a20 2020 2020 2020 2075  name)).        u
-0000daf0: 705f 6772 2e64 6573 6372 6970 7469 6f6e  p_gr.description
-0000db00: 203d 2028 0a20 2020 2020 2020 2020 2020   = (.           
-0000db10: 2028 6465 7363 7269 7074 696f 6e20 213d   (description !=
-0000db20: 2022 2220 616e 6420 6465 7363 7269 7074   "" and descript
-0000db30: 696f 6e20 6973 206e 6f74 204e 6f6e 6529  ion is not None)
-0000db40: 0a20 2020 2020 2020 2020 2020 2061 6e64  .            and
-0000db50: 2072 7374 7269 6e67 2873 7472 2864 6573   rstring(str(des
-0000db60: 6372 6970 7469 6f6e 2929 0a20 2020 2020  cription)).     
-0000db70: 2020 2020 2020 206f 7220 4e6f 6e65 0a20         or None. 
-0000db80: 2020 2020 2020 2029 0a0a 2020 2020 2020         )..      
-0000db90: 2020 6d73 6773 203d 205b 5d0a 2020 2020    msgs = [].    
-0000dba0: 2020 2020 6164 6d69 6e5f 7365 7276 203d      admin_serv =
-0000dbb0: 2073 656c 662e 6765 7441 646d 696e 5365   self.getAdminSe
-0000dbc0: 7276 6963 6528 290a 2020 2020 2020 2020  rvice().        
-0000dbd0: 6164 6d69 6e5f 7365 7276 2e75 7064 6174  admin_serv.updat
-0000dbe0: 6547 726f 7570 2875 705f 6772 290a 0a20  eGroup(up_gr).. 
-0000dbf0: 2020 2020 2020 2069 6620 7374 7228 7065         if str(pe
-0000dc00: 726d 6973 7369 6f6e 7329 2021 3d20 7374  rmissions) != st
-0000dc10: 7228 7570 5f67 722e 6465 7461 696c 732e  r(up_gr.details.
-0000dc20: 6765 7450 6572 6d69 7373 696f 6e73 2829  getPermissions()
-0000dc30: 293a 0a20 2020 2020 2020 2020 2020 2065  ):.            e
-0000dc40: 7272 203d 2073 656c 662e 7570 6461 7465  rr = self.update
-0000dc50: 5065 726d 6973 7369 6f6e 7328 6772 6f75  Permissions(grou
-0000dc60: 702c 2070 6572 6d69 7373 696f 6e73 290a  p, permissions).
-0000dc70: 2020 2020 2020 2020 2020 2020 6966 2065              if e
-0000dc80: 7272 2069 7320 6e6f 7420 4e6f 6e65 3a0a  rr is not None:.
-0000dc90: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000dca0: 6d73 6773 2e61 7070 656e 6428 6572 7229  msgs.append(err)
-0000dcb0: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
-0000dcc0: 6d73 6773 0a0a 2020 2020 6465 6620 7570  msgs..    def up
-0000dcd0: 6461 7465 4d79 4163 636f 756e 7428 0a20  dateMyAccount(. 
-0000dce0: 2020 2020 2020 2073 656c 662c 0a20 2020         self,.   
-0000dcf0: 2020 2020 2065 7870 6572 696d 656e 7465       experimente
-0000dd00: 722c 0a20 2020 2020 2020 2066 6972 7374  r,.        first
-0000dd10: 4e61 6d65 2c0a 2020 2020 2020 2020 6c61  Name,.        la
-0000dd20: 7374 4e61 6d65 2c0a 2020 2020 2020 2020  stName,.        
-0000dd30: 656d 6169 6c2c 0a20 2020 2020 2020 2064  email,.        d
-0000dd40: 6566 6175 6c74 4772 6f75 7049 642c 0a20  efaultGroupId,. 
-0000dd50: 2020 2020 2020 206d 6964 646c 654e 616d         middleNam
-0000dd60: 653d 4e6f 6e65 2c0a 2020 2020 2020 2020  e=None,.        
-0000dd70: 696e 7374 6974 7574 696f 6e3d 4e6f 6e65  institution=None
-0000dd80: 2c0a 2020 2020 293a 0a20 2020 2020 2020  ,.    ):.       
-0000dd90: 2022 2222 0a20 2020 2020 2020 2041 6c6c   """.        All
-0000dda0: 6f77 7320 6120 7573 6572 2074 6f20 7570  ows a user to up
-0000ddb0: 6461 7465 2068 6973 2f68 6572 206f 776e  date his/her own
-0000ddc0: 2069 6e66 6f72 6d61 7469 6f6e 2061 6e64   information and
-0000ddd0: 2073 6574 2074 6865 2064 6566 6175 6c74   set the default
-0000dde0: 0a20 2020 2020 2020 2067 726f 7570 2066  .        group f
-0000ddf0: 6f72 2061 2067 6976 656e 2075 7365 722e  or a given user.
-0000de00: 0a20 2020 2020 2020 2040 7061 7261 6d20  .        @param 
-0000de10: 6578 7065 7269 6d65 6e74 6572 2020 2020  experimenter    
-0000de20: 2041 2064 6174 6120 7472 616e 7366 6572   A data transfer
-0000de30: 206f 626a 6563 742e 204f 6e6c 7920 7468   object. Only th
-0000de40: 6520 6669 656c 6473 3a0a 2020 2020 2020  e fields:.      
-0000de50: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000de60: 2020 2020 2020 2020 2020 6669 7273 744e            firstN
-0000de70: 616d 652c 206d 6964 646c 654e 616d 652c  ame, middleName,
-0000de80: 206c 6173 744e 616d 652c 2065 6d61 696c   lastName, email
-0000de90: 2c20 616e 640a 2020 2020 2020 2020 2020  , and.          
-0000dea0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000deb0: 2020 2020 2020 696e 7374 6974 7574 696f        institutio
-0000dec0: 6e20 6172 6520 6368 6563 6b65 642e 204e  n are checked. N
-0000ded0: 6f74 206e 756c 6c2e 0a20 2020 2020 2020  ot null..       
-0000dee0: 2040 7479 7065 2065 7870 6572 696d 656e   @type experimen
-0000def0: 7465 7220 2020 2020 2045 7870 6572 696d  ter      Experim
-0000df00: 656e 7465 7257 7261 7070 6572 0a20 2020  enterWrapper.   
-0000df10: 2020 2020 2040 7061 7261 6d20 6669 7273       @param firs
-0000df20: 744e 616d 6520 2020 2020 2020 2041 206e  tName        A n
-0000df30: 6577 2066 6972 7374 206e 616d 652e 0a20  ew first name.. 
-0000df40: 2020 2020 2020 2040 7479 7065 2066 6972         @type fir
-0000df50: 7374 4e61 6d65 2020 2020 2020 2020 2053  stName         S
-0000df60: 7472 696e 670a 2020 2020 2020 2020 4070  tring.        @p
-0000df70: 6172 616d 206c 6173 744e 616d 6520 2020  aram lastName   
-0000df80: 2020 2020 2020 4120 6e65 7720 6c61 7374        A new last
-0000df90: 206e 616d 652e 0a20 2020 2020 2020 2040   name..        @
-0000dfa0: 7479 7065 206c 6173 744e 616d 6520 2020  type lastName   
-0000dfb0: 2020 2020 2020 2053 7472 696e 670a 2020         String.  
-0000dfc0: 2020 2020 2020 4070 6172 616d 2065 6d61        @param ema
-0000dfd0: 696c 2020 2020 2020 2020 2020 2020 4120  il            A 
-0000dfe0: 6e65 7720 656d 6169 6c2e 0a20 2020 2020  new email..     
-0000dff0: 2020 2040 7479 7065 2065 6d61 696c 2020     @type email  
-0000e000: 2020 2020 2020 2020 2020 2053 7472 696e             Strin
-0000e010: 670a 2020 2020 2020 2020 4070 6172 616d  g.        @param
-0000e020: 2064 6566 6175 6c74 4772 6f75 7020 2020   defaultGroup   
-0000e030: 2020 496e 7374 616e 6365 206f 6620 4578    Instance of Ex
-0000e040: 7065 7269 6d65 6e74 6572 4772 6f75 7020  perimenterGroup 
-0000e050: 7365 6c65 6374 6564 2061 7320 610a 2020  selected as a.  
-0000e060: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000e070: 2020 2020 2020 2020 2020 2020 2020 6669                fi
-0000e080: 7273 7420 6163 7469 7665 2067 726f 7570  rst active group
-0000e090: 2e0a 2020 2020 2020 2020 4074 7970 6520  ..        @type 
-0000e0a0: 6465 6661 756c 7447 726f 7570 2020 2020  defaultGroup    
-0000e0b0: 2020 4578 7065 7269 6d65 6e74 6572 4772    ExperimenterGr
-0000e0c0: 6f75 7049 0a20 2020 2020 2020 2040 7061  oupI.        @pa
-0000e0d0: 7261 6d20 6d69 6464 6c65 4e61 6d65 2020  ram middleName  
-0000e0e0: 2020 2020 2041 206d 6964 646c 6520 6e61       A middle na
-0000e0f0: 6d65 2e0a 2020 2020 2020 2020 4074 7970  me..        @typ
-0000e100: 6520 6d69 6464 6c65 4e61 6d65 2020 2020  e middleName    
-0000e110: 2020 2020 5374 7269 6e67 0a20 2020 2020      String.     
-0000e120: 2020 2040 7061 7261 6d20 696e 7374 6974     @param instit
-0000e130: 7574 696f 6e20 2020 2020 2041 6e20 696e  ution      An in
-0000e140: 7374 6974 7574 696f 6e2e 0a20 2020 2020  stitution..     
-0000e150: 2020 2040 7479 7065 2069 6e73 7469 7475     @type institu
-0000e160: 7469 6f6e 2020 2020 2020 2053 7472 696e  tion       Strin
-0000e170: 670a 2020 2020 2020 2020 2222 220a 0a20  g.        """.. 
-0000e180: 2020 2020 2020 2075 705f 6578 7020 3d20         up_exp = 
-0000e190: 6578 7065 7269 6d65 6e74 6572 2e5f 6f62  experimenter._ob
-0000e1a0: 6a0a 2020 2020 2020 2020 7570 5f65 7870  j.        up_exp
-0000e1b0: 2e66 6972 7374 4e61 6d65 203d 2072 7374  .firstName = rst
-0000e1c0: 7269 6e67 2873 7472 2866 6972 7374 4e61  ring(str(firstNa
-0000e1d0: 6d65 2929 0a20 2020 2020 2020 2075 705f  me)).        up_
-0000e1e0: 6578 702e 6d69 6464 6c65 4e61 6d65 203d  exp.middleName =
-0000e1f0: 206d 6964 646c 654e 616d 6520 6973 206e   middleName is n
-0000e200: 6f74 204e 6f6e 6520 616e 6420 7273 7472  ot None and rstr
-0000e210: 696e 6728 7374 7228 6d69 6464 6c65 4e61  ing(str(middleNa
-0000e220: 6d65 2929 206f 7220 4e6f 6e65 0a20 2020  me)) or None.   
-0000e230: 2020 2020 2075 705f 6578 702e 6c61 7374       up_exp.last
-0000e240: 4e61 6d65 203d 2072 7374 7269 6e67 2873  Name = rstring(s
-0000e250: 7472 286c 6173 744e 616d 6529 290a 2020  tr(lastName)).  
-0000e260: 2020 2020 2020 7570 5f65 7870 2e65 6d61        up_exp.ema
-0000e270: 696c 203d 2072 7374 7269 6e67 2873 7472  il = rstring(str
-0000e280: 2865 6d61 696c 2929 0a20 2020 2020 2020  (email)).       
-0000e290: 2075 705f 6578 702e 696e 7374 6974 7574   up_exp.institut
-0000e2a0: 696f 6e20 3d20 280a 2020 2020 2020 2020  ion = (.        
-0000e2b0: 2020 2020 2869 6e73 7469 7475 7469 6f6e      (institution
-0000e2c0: 2021 3d20 2222 2061 6e64 2069 6e73 7469   != "" and insti
-0000e2d0: 7475 7469 6f6e 2069 7320 6e6f 7420 4e6f  tution is not No
-0000e2e0: 6e65 290a 2020 2020 2020 2020 2020 2020  ne).            
-0000e2f0: 616e 6420 7273 7472 696e 6728 7374 7228  and rstring(str(
-0000e300: 696e 7374 6974 7574 696f 6e29 290a 2020  institution)).  
-0000e310: 2020 2020 2020 2020 2020 6f72 204e 6f6e            or Non
-0000e320: 650a 2020 2020 2020 2020 290a 0a20 2020  e.        )..   
-0000e330: 2020 2020 2061 646d 696e 5f73 6572 7620       admin_serv 
-0000e340: 3d20 7365 6c66 2e67 6574 4164 6d69 6e53  = self.getAdminS
-0000e350: 6572 7669 6365 2829 0a20 2020 2020 2020  ervice().       
-0000e360: 2061 646d 696e 5f73 6572 762e 7570 6461   admin_serv.upda
-0000e370: 7465 5365 6c66 2875 705f 6578 7029 0a20  teSelf(up_exp). 
-0000e380: 2020 2020 2020 2064 6566 6175 6c74 4772         defaultGr
-0000e390: 6f75 7020 3d20 7365 6c66 2e67 6574 4f62  oup = self.getOb
-0000e3a0: 6a65 6374 2822 4578 7065 7269 6d65 6e74  ject("Experiment
-0000e3b0: 6572 4772 6f75 7022 2c20 696e 7428 6465  erGroup", int(de
-0000e3c0: 6661 756c 7447 726f 7570 4964 2929 2e5f  faultGroupId))._
-0000e3d0: 6f62 6a0a 2020 2020 2020 2020 6164 6d69  obj.        admi
-0000e3e0: 6e5f 7365 7276 2e73 6574 4465 6661 756c  n_serv.setDefaul
-0000e3f0: 7447 726f 7570 2875 705f 6578 702c 2064  tGroup(up_exp, d
-0000e400: 6566 6175 6c74 4772 6f75 7029 0a20 2020  efaultGroup).   
-0000e410: 2020 2020 2073 656c 662e 6368 616e 6765       self.change
-0000e420: 4163 7469 7665 4772 6f75 7028 6465 6661  ActiveGroup(defa
-0000e430: 756c 7447 726f 7570 2e69 6429 0a0a 2020  ultGroup.id)..  
-0000e440: 2020 6465 6620 7365 7444 6566 6175 6c74    def setDefault
-0000e450: 4772 6f75 7028 7365 6c66 2c20 6772 6f75  Group(self, grou
-0000e460: 705f 6964 2c20 6578 705f 6964 3d4e 6f6e  p_id, exp_id=Non
-0000e470: 6529 3a0a 2020 2020 2020 2020 2222 220a  e):.        """.
-0000e480: 2020 2020 2020 2020 5365 7473 2074 6865          Sets the
-0000e490: 2064 6566 6175 6c74 2067 726f 7570 2066   default group f
-0000e4a0: 6f72 2074 6865 2073 7065 6369 6669 6564  or the specified
-0000e4b0: 2065 7870 6572 696d 656e 7465 722c 206f   experimenter, o
-0000e4c0: 7220 6375 7272 656e 7420 7573 6572 0a20  r current user. 
-0000e4d0: 2020 2020 2020 2069 6620 6e6f 7420 7370         if not sp
-0000e4e0: 6563 6966 6965 642e 0a20 2020 2020 2020  ecified..       
-0000e4f0: 2022 2222 0a20 2020 2020 2020 2067 726f   """.        gro
-0000e500: 7570 5f69 6420 3d20 696e 7428 6772 6f75  up_id = int(grou
-0000e510: 705f 6964 290a 2020 2020 2020 2020 6578  p_id).        ex
-0000e520: 705f 6964 203d 2065 7870 5f69 6420 6973  p_id = exp_id is
-0000e530: 206e 6f74 204e 6f6e 6520 616e 6420 696e   not None and in
-0000e540: 7428 6578 705f 6964 2920 6f72 2073 656c  t(exp_id) or sel
-0000e550: 662e 6765 7445 7665 6e74 436f 6e74 6578  f.getEventContex
-0000e560: 7428 292e 7573 6572 4964 0a20 2020 2020  t().userId.     
-0000e570: 2020 2061 646d 696e 5f73 6572 7620 3d20     admin_serv = 
-0000e580: 7365 6c66 2e67 6574 4164 6d69 6e53 6572  self.getAdminSer
-0000e590: 7669 6365 2829 0a20 2020 2020 2020 2061  vice().        a
-0000e5a0: 646d 696e 5f73 6572 762e 7365 7444 6566  dmin_serv.setDef
-0000e5b0: 6175 6c74 4772 6f75 7028 0a20 2020 2020  aultGroup(.     
-0000e5c0: 2020 2020 2020 2045 7870 6572 696d 656e         Experimen
-0000e5d0: 7465 7249 2865 7870 5f69 642c 2046 616c  terI(exp_id, Fal
-0000e5e0: 7365 292c 2045 7870 6572 696d 656e 7465  se), Experimente
-0000e5f0: 7247 726f 7570 4928 6772 6f75 705f 6964  rGroupI(group_id
-0000e600: 2c20 4661 6c73 6529 0a20 2020 2020 2020  , False).       
-0000e610: 2029 0a0a 2020 2020 6465 6620 7570 6461   )..    def upda
-0000e620: 7465 5065 726d 6973 7369 6f6e 7328 7365  tePermissions(se
-0000e630: 6c66 2c20 6772 6f75 702c 2070 6572 6d69  lf, group, permi
-0000e640: 7373 696f 6e73 293a 0a20 2020 2020 2020  ssions):.       
-0000e650: 2022 2222 0a20 2020 2020 2020 2041 6c6c   """.        All
-0000e660: 6f77 2074 6f20 6368 616e 6765 2074 6865  ow to change the
-0000e670: 2070 6572 6d69 7373 696f 6e20 6f66 2074   permission of t
-0000e680: 6865 2067 726f 7570 2e0a 0a20 2020 2020  he group...     
-0000e690: 2020 2040 7061 7261 6d20 6772 6f75 7020     @param group 
-0000e6a0: 2020 2020 2041 2077 7261 7070 6564 2065       A wrapped e
-0000e6b0: 6e74 6974 7920 6f72 2061 6e20 756e 6c6f  ntity or an unlo
-0000e6c0: 6164 6564 2072 6566 6572 656e 6365 2074  aded reference t
-0000e6d0: 6f20 616e 0a20 2020 2020 2020 2020 2020  o an.           
-0000e6e0: 2020 2020 2020 2020 2020 2020 2065 6e74               ent
-0000e6f0: 6974 792e 204e 6f74 206e 756c 6c2e 0a20  ity. Not null.. 
-0000e700: 2020 2020 2020 2040 7479 7065 2067 726f         @type gro
-0000e710: 7570 2020 2020 2020 2042 6c69 747a 4f62  up       BlitzOb
-0000e720: 6a65 6374 5772 6170 7065 720a 2020 2020  jectWrapper.    
-0000e730: 2020 2020 4070 6172 616d 2070 6572 6d20      @param perm 
-0000e740: 2020 2020 5468 6520 7065 726d 6973 7369      The permissi
-0000e750: 6f6e 7320 7661 6c75 6520 666f 7220 7468  ons value for th
-0000e760: 6973 2065 6e74 6974 792e 204e 6f74 206e  is entity. Not n
-0000e770: 756c 6c2e 0a20 2020 2020 2020 2040 7479  ull..        @ty
-0000e780: 7065 2070 6572 6d20 2020 2020 2050 6572  pe perm      Per
-0000e790: 6d69 7373 696f 6e73 490a 2020 2020 2020  missionsI.      
-0000e7a0: 2020 2222 220a 0a20 2020 2020 2020 2070    """..        p
-0000e7b0: 6572 6d73 203d 2073 7472 2870 6572 6d69  erms = str(permi
-0000e7c0: 7373 696f 6e73 290a 2020 2020 2020 2020  ssions).        
-0000e7d0: 6c6f 6767 6572 2e64 6562 7567 2822 4368  logger.debug("Ch
-0000e7e0: 6d6f 6420 6f66 2067 726f 7570 2049 443a  mod of group ID:
-0000e7f0: 2025 7320 746f 2025 7322 2025 2028 6772   %s to %s" % (gr
-0000e800: 6f75 702e 6964 2c20 7065 726d 7329 290a  oup.id, perms)).
-0000e810: 2020 2020 2020 2020 636f 6d6d 616e 6420          command 
-0000e820: 3d20 4368 6d6f 6432 280a 2020 2020 2020  = Chmod2(.      
-0000e830: 2020 2020 2020 7461 7267 6574 4f62 6a65        targetObje
-0000e840: 6374 733d 7b22 4578 7065 7269 6d65 6e74  cts={"Experiment
-0000e850: 6572 4772 6f75 7022 3a20 5b67 726f 7570  erGroup": [group
-0000e860: 2e69 645d 7d2c 2070 6572 6d69 7373 696f  .id]}, permissio
-0000e870: 6e73 3d70 6572 6d73 0a20 2020 2020 2020  ns=perms.       
-0000e880: 2029 0a20 2020 2020 2020 2063 6220 3d20   ).        cb = 
-0000e890: 4e6f 6e65 0a20 2020 2020 2020 206d 6573  None.        mes
-0000e8a0: 7361 6765 203d 204e 6f6e 650a 2020 2020  sage = None.    
-0000e8b0: 2020 2020 7472 793a 0a20 2020 2020 2020      try:.       
-0000e8c0: 2020 2020 2063 6220 3d20 7365 6c66 2e63       cb = self.c
-0000e8d0: 2e73 7562 6d69 7428 636f 6d6d 616e 642c  .submit(command,
-0000e8e0: 206c 6f6f 7073 3d31 3230 290a 2020 2020   loops=120).    
-0000e8f0: 2020 2020 6578 6365 7074 206f 6d65 726f      except omero
-0000e900: 2e43 6d64 4572 726f 7220 6173 2065 783a  .CmdError as ex:
-0000e910: 0a20 2020 2020 2020 2020 2020 206d 6573  .            mes
-0000e920: 7361 6765 203d 2065 782e 6572 722e 6d65  sage = ex.err.me
-0000e930: 7373 6167 650a 2020 2020 2020 2020 6669  ssage.        fi
-0000e940: 6e61 6c6c 793a 0a20 2020 2020 2020 2020  nally:.         
-0000e950: 2020 2069 6620 6362 3a0a 2020 2020 2020     if cb:.      
-0000e960: 2020 2020 2020 2020 2020 6362 2e63 6c6f            cb.clo
-0000e970: 7365 2854 7275 6529 0a20 2020 2020 2020  se(True).       
-0000e980: 2072 6574 7572 6e20 6d65 7373 6167 650a   return message.
-0000e990: 0a20 2020 2064 6566 2073 6176 654f 626a  .    def saveObj
-0000e9a0: 6563 7428 7365 6c66 2c20 6f62 6a2c 206f  ect(self, obj, o
-0000e9b0: 776e 6572 3d4e 6f6e 6529 3a0a 2020 2020  wner=None):.    
-0000e9c0: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
-0000e9d0: 5072 6f76 6964 6520 6d65 7468 6f64 2066  Provide method f
-0000e9e0: 6f72 2064 6972 6563 746c 7920 7570 6461  or directly upda
-0000e9f0: 7469 6e67 206f 626a 6563 7420 6772 6170  ting object grap
-0000ea00: 6873 2e20 4163 7420 7265 6375 7273 6976  hs. Act recursiv
-0000ea10: 656c 7920 6f6e 0a20 2020 2020 2020 2074  ely on.        t
-0000ea20: 6865 2065 6e74 6972 6520 6f62 6a65 6374  he entire object
-0000ea30: 2067 7261 7068 2c20 7265 706c 6163 696e   graph, replacin
-0000ea40: 6720 706c 6163 6568 6f6c 6465 7273 2061  g placeholders a
-0000ea50: 6e64 2064 6574 6169 6c73 2077 6865 7265  nd details where
-0000ea60: 0a20 2020 2020 2020 206e 6563 6573 7361  .        necessa
-0000ea70: 7279 2c20 616e 6420 7468 656e 2022 6d65  ry, and then "me
-0000ea80: 7267 696e 6722 2074 6865 2066 696e 616c  rging" the final
-0000ea90: 2067 7261 7068 2e20 5468 6973 206d 6561   graph. This mea
-0000eaa0: 6e73 2074 6861 7420 7468 650a 2020 2020  ns that the.    
-0000eab0: 2020 2020 6f62 6a65 6374 7320 7468 6174      objects that
-0000eac0: 2061 7265 2070 6173 7365 6420 696e 746f   are passed into
-0000ead0: 206d 6574 686f 6473 2061 7265 2063 6f70   methods are cop
-0000eae0: 6965 6420 6f76 6572 2074 6f20 6e65 7720  ied over to new 
-0000eaf0: 696e 7374 616e 6365 730a 2020 2020 2020  instances.      
-0000eb00: 2020 7768 6963 6820 6172 6520 7468 656e    which are then
-0000eb10: 2072 6574 7572 6e65 642e 0a20 2020 2020   returned..     
-0000eb20: 2020 2054 6865 206f 7269 6769 6e61 6c20     The original 
-0000eb30: 6f62 6a65 6374 7320 7368 6f75 6c64 2062  objects should b
-0000eb40: 6520 6469 7363 6172 6465 642e 0a0a 2020  e discarded...  
-0000eb50: 2020 2020 2020 4070 6172 616d 206f 626a        @param obj
-0000eb60: 2020 2020 2020 416e 2065 6e74 6974 7920        An entity 
-0000eb70: 6f72 2061 6e20 756e 6c6f 6164 6564 2072  or an unloaded r
-0000eb80: 6566 6572 656e 6365 2074 6f20 616e 2065  eference to an e
-0000eb90: 6e74 6974 792e 204e 6f74 0a20 2020 2020  ntity. Not.     
-0000eba0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000ebb0: 2020 206e 756c 6c2e 0a20 2020 2020 2020     null..       
-0000ebc0: 2040 7479 7065 206f 626a 2020 2020 2020   @type obj      
-0000ebd0: 204f 626a 6563 7449 0a20 2020 2020 2020   ObjectI.       
-0000ebe0: 2022 2222 0a20 2020 2020 2020 2063 7478   """.        ctx
-0000ebf0: 203d 2073 656c 662e 5345 5256 4943 455f   = self.SERVICE_
-0000ec00: 4f50 5453 2e63 6f70 7928 290a 2020 2020  OPTS.copy().    
-0000ec10: 2020 2020 6966 206f 776e 6572 2069 7320      if owner is 
-0000ec20: 6e6f 7420 4e6f 6e65 3a0a 2020 2020 2020  not None:.      
-0000ec30: 2020 2020 2020 6374 782e 7365 744f 6d65        ctx.setOme
-0000ec40: 726f 5573 6572 286f 776e 6572 290a 2020  roUser(owner).  
-0000ec50: 2020 2020 2020 7520 3d20 7365 6c66 2e67        u = self.g
-0000ec60: 6574 5570 6461 7465 5365 7276 6963 6528  etUpdateService(
-0000ec70: 290a 2020 2020 2020 2020 752e 7361 7665  ).        u.save
-0000ec80: 4f62 6a65 6374 286f 626a 2c20 6374 7829  Object(obj, ctx)
-0000ec90: 0a0a 2020 2020 6465 6620 7361 7665 4172  ..    def saveAr
-0000eca0: 7261 7928 7365 6c66 2c20 6f62 6a73 2c20  ray(self, objs, 
-0000ecb0: 6f77 6e65 723d 4e6f 6e65 293a 0a20 2020  owner=None):.   
-0000ecc0: 2020 2020 2022 2222 0a20 2020 2020 2020       """.       
-0000ecd0: 2050 726f 7669 6465 206d 6574 686f 6420   Provide method 
-0000ece0: 666f 7220 6469 7265 6374 6c79 2075 7064  for directly upd
-0000ecf0: 6174 696e 6720 6c69 7374 206f 6620 6f62  ating list of ob
-0000ed00: 6a65 6374 2067 7261 7068 732e 2041 6374  ject graphs. Act
-0000ed10: 0a20 2020 2020 2020 2072 6563 7572 7369  .        recursi
-0000ed20: 7665 6c79 206f 6e20 7468 6520 656e 7469  vely on the enti
-0000ed30: 7265 206f 626a 6563 7420 6772 6170 682c  re object graph,
-0000ed40: 2072 6570 6c61 6369 6e67 2070 6c61 6365   replacing place
-0000ed50: 686f 6c64 6572 7320 616e 640a 2020 2020  holders and.    
-0000ed60: 2020 2020 6465 7461 696c 7320 7768 6572      details wher
-0000ed70: 6520 6e65 6365 7373 6172 792c 2061 6e64  e necessary, and
-0000ed80: 2074 6865 6e20 226d 6572 6769 6e67 2220   then "merging" 
-0000ed90: 7468 6520 6669 6e61 6c20 6772 6170 682e  the final graph.
-0000eda0: 2054 6869 730a 2020 2020 2020 2020 6d65   This.        me
-0000edb0: 616e 7320 7468 6174 2074 6865 206f 626a  ans that the obj
-0000edc0: 6563 7473 2074 6861 7420 6172 6520 7061  ects that are pa
-0000edd0: 7373 6564 2069 6e74 6f20 6d65 7468 6f64  ssed into method
-0000ede0: 7320 6172 6520 636f 7069 6564 206f 7665  s are copied ove
-0000edf0: 7220 746f 0a20 2020 2020 2020 206e 6577  r to.        new
-0000ee00: 2069 6e73 7461 6e63 6573 2077 6869 6368   instances which
-0000ee10: 2061 7265 2074 6865 6e20 7265 7475 726e   are then return
-0000ee20: 6564 2e0a 2020 2020 2020 2020 5468 6520  ed..        The 
-0000ee30: 6f72 6967 696e 616c 206f 626a 6563 7473  original objects
-0000ee40: 2073 686f 756c 6420 6265 2064 6973 6361   should be disca
-0000ee50: 7264 6564 2e0a 0a20 2020 2020 2020 2040  rded...        @
-0000ee60: 7061 7261 6d20 6f62 6a20 2020 2020 204c  param obj      L
-0000ee70: 6973 7420 6f66 2065 6e74 6974 6965 7320  ist of entities 
-0000ee80: 6f72 2061 6e20 756e 6c6f 6164 6564 2072  or an unloaded r
-0000ee90: 6566 6572 656e 6365 7320 746f 2061 6e0a  eferences to an.
-0000eea0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000eeb0: 2020 2020 2020 2020 656e 7469 7479 2e20          entity. 
-0000eec0: 4e6f 7420 6e75 6c6c 2e0a 2020 2020 2020  Not null..      
-0000eed0: 2020 4074 7970 6520 6f62 6a20 2020 2020    @type obj     
-0000eee0: 2020 4c7b 4f62 6a65 6374 497d 0a20 2020    L{ObjectI}.   
-0000eef0: 2020 2020 2022 2222 0a20 2020 2020 2020       """.       
-0000ef00: 2063 7478 203d 2073 656c 662e 5345 5256   ctx = self.SERV
-0000ef10: 4943 455f 4f50 5453 2e63 6f70 7928 290a  ICE_OPTS.copy().
-0000ef20: 2020 2020 2020 2020 6966 206f 776e 6572          if owner
-0000ef30: 2069 7320 6e6f 7420 4e6f 6e65 3a0a 2020   is not None:.  
-0000ef40: 2020 2020 2020 2020 2020 6374 782e 7365            ctx.se
-0000ef50: 744f 6d65 726f 5573 6572 286f 776e 6572  tOmeroUser(owner
-0000ef60: 290a 2020 2020 2020 2020 7520 3d20 7365  ).        u = se
-0000ef70: 6c66 2e67 6574 5570 6461 7465 5365 7276  lf.getUpdateServ
-0000ef80: 6963 6528 290a 2020 2020 2020 2020 752e  ice().        u.
-0000ef90: 7361 7665 4172 7261 7928 6f62 6a73 2c20  saveArray(objs, 
-0000efa0: 6374 7829 0a0a 2020 2020 6465 6620 7361  ctx)..    def sa
-0000efb0: 7665 416e 6452 6574 7572 6e4f 626a 6563  veAndReturnObjec
-0000efc0: 7428 7365 6c66 2c20 6f62 6a2c 206f 776e  t(self, obj, own
-0000efd0: 6572 3d4e 6f6e 6529 3a0a 2020 2020 2020  er=None):.      
-0000efe0: 2020 2222 220a 2020 2020 2020 2020 5072    """.        Pr
-0000eff0: 6f76 6964 6520 6d65 7468 6f64 2066 6f72  ovide method for
-0000f000: 2064 6972 6563 746c 7920 7570 6461 7469   directly updati
-0000f010: 6e67 206f 626a 6563 7420 6772 6170 6873  ng object graphs
-0000f020: 2061 6e64 2072 6574 7572 6e20 6974 2e20   and return it. 
-0000f030: 4163 740a 2020 2020 2020 2020 7265 6375  Act.        recu
-0000f040: 7273 6976 656c 7920 6f6e 2074 6865 2065  rsively on the e
-0000f050: 6e74 6972 6520 6f62 6a65 6374 2067 7261  ntire object gra
-0000f060: 7068 2c20 7265 706c 6163 696e 6720 706c  ph, replacing pl
-0000f070: 6163 6568 6f6c 6465 7273 2061 6e64 0a20  aceholders and. 
-0000f080: 2020 2020 2020 2064 6574 6169 6c73 2077         details w
-0000f090: 6865 7265 206e 6563 6573 7361 7279 2c20  here necessary, 
-0000f0a0: 616e 6420 7468 656e 2022 6d65 7267 696e  and then "mergin
-0000f0b0: 6722 2074 6865 2066 696e 616c 2067 7261  g" the final gra
-0000f0c0: 7068 2e20 5468 6973 0a20 2020 2020 2020  ph. This.       
-0000f0d0: 206d 6561 6e73 2074 6861 7420 7468 6520   means that the 
-0000f0e0: 6f62 6a65 6374 7320 7468 6174 2061 7265  objects that are
-0000f0f0: 2070 6173 7365 6420 696e 746f 206d 6574   passed into met
-0000f100: 686f 6473 2061 7265 2063 6f70 6965 6420  hods are copied 
-0000f110: 6f76 6572 2074 6f0a 2020 2020 2020 2020  over to.        
-0000f120: 6e65 7720 696e 7374 616e 6365 7320 7768  new instances wh
-0000f130: 6963 6820 6172 6520 7468 656e 2072 6574  ich are then ret
-0000f140: 7572 6e65 642e 0a20 2020 2020 2020 2054  urned..        T
-0000f150: 6865 206f 7269 6769 6e61 6c20 6f62 6a65  he original obje
-0000f160: 6374 7320 7368 6f75 6c64 2062 6520 6469  cts should be di
-0000f170: 7363 6172 6465 642e 0a0a 2020 2020 2020  scarded...      
-0000f180: 2020 4070 6172 616d 206f 626a 2020 2020    @param obj    
-0000f190: 2020 416e 2065 6e74 6974 7920 6f72 2061    An entity or a
-0000f1a0: 6e20 756e 6c6f 6164 6564 2072 6566 6572  n unloaded refer
-0000f1b0: 656e 6365 2074 6f20 616e 2065 6e74 6974  ence to an entit
-0000f1c0: 792e 204e 6f74 0a20 2020 2020 2020 2020  y. Not.         
-0000f1d0: 2020 2020 2020 2020 2020 2020 2020 206e                 n
-0000f1e0: 756c 6c2e 0a20 2020 2020 2020 2040 7479  ull..        @ty
-0000f1f0: 7065 206f 626a 2020 2020 2020 204f 626a  pe obj       Obj
-0000f200: 6563 7449 0a20 2020 2020 2020 2040 7265  ectI.        @re
-0000f210: 7475 726e 2020 2020 2020 2020 2053 6176  turn         Sav
-0000f220: 6564 206f 626a 6563 740a 2020 2020 2020  ed object.      
-0000f230: 2020 4072 7479 7065 2020 2020 2020 2020    @rtype        
-0000f240: 2020 4f62 6a65 6374 490a 2020 2020 2020    ObjectI.      
-0000f250: 2020 2222 220a 2020 2020 2020 2020 7520    """.        u 
-0000f260: 3d20 7365 6c66 2e67 6574 5570 6461 7465  = self.getUpdate
-0000f270: 5365 7276 6963 6528 290a 2020 2020 2020  Service().      
-0000f280: 2020 6374 7820 3d20 7365 6c66 2e53 4552    ctx = self.SER
-0000f290: 5649 4345 5f4f 5054 532e 636f 7079 2829  VICE_OPTS.copy()
-0000f2a0: 0a20 2020 2020 2020 2069 6620 6f77 6e65  .        if owne
-0000f2b0: 7220 6973 206e 6f74 204e 6f6e 653a 0a20  r is not None:. 
-0000f2c0: 2020 2020 2020 2020 2020 2063 7478 2e73             ctx.s
-0000f2d0: 6574 4f6d 6572 6f55 7365 7228 6f77 6e65  etOmeroUser(owne
-0000f2e0: 7229 0a20 2020 2020 2020 2072 6573 203d  r).        res =
-0000f2f0: 2075 2e73 6176 6541 6e64 5265 7475 726e   u.saveAndReturn
-0000f300: 4f62 6a65 6374 286f 626a 2c20 6374 7829  Object(obj, ctx)
-0000f310: 0a20 2020 2020 2020 2072 6573 2e75 6e6c  .        res.unl
-0000f320: 6f61 6428 290a 2020 2020 2020 2020 6f62  oad().        ob
-0000f330: 6a20 3d20 6f6d 6572 6f2e 6761 7465 7761  j = omero.gatewa
-0000f340: 792e 426c 6974 7a4f 626a 6563 7457 7261  y.BlitzObjectWra
-0000f350: 7070 6572 2873 656c 662c 2072 6573 290a  pper(self, res).
-0000f360: 2020 2020 2020 2020 7265 7475 726e 206f          return o
-0000f370: 626a 0a0a 2020 2020 6465 6620 7361 7665  bj..    def save
-0000f380: 416e 6452 6574 7572 6e49 6428 7365 6c66  AndReturnId(self
-0000f390: 2c20 6f62 6a2c 206f 776e 6572 3d4e 6f6e  , obj, owner=Non
-0000f3a0: 6529 3a0a 2020 2020 2020 2020 2222 220a  e):.        """.
-0000f3b0: 2020 2020 2020 2020 5072 6f76 6964 6520          Provide 
-0000f3c0: 6d65 7468 6f64 2066 6f72 2064 6972 6563  method for direc
-0000f3d0: 746c 7920 7570 6461 7469 6e67 206f 626a  tly updating obj
-0000f3e0: 6563 7420 6772 6170 6873 2061 6e64 2072  ect graphs and r
-0000f3f0: 6574 7572 6e20 4944 2e20 4163 740a 2020  eturn ID. Act.  
-0000f400: 2020 2020 2020 7265 6375 7273 6976 656c        recursivel
-0000f410: 7920 6f6e 2074 6865 2065 6e74 6972 6520  y on the entire 
-0000f420: 6f62 6a65 6374 2067 7261 7068 2c20 7265  object graph, re
-0000f430: 706c 6163 696e 6720 706c 6163 6568 6f6c  placing placehol
-0000f440: 6465 7273 2061 6e64 0a20 2020 2020 2020  ders and.       
-0000f450: 2064 6574 6169 6c73 2077 6865 7265 206e   details where n
-0000f460: 6563 6573 7361 7279 2c20 616e 6420 7468  ecessary, and th
-0000f470: 656e 2022 6d65 7267 696e 6722 2074 6865  en "merging" the
-0000f480: 2066 696e 616c 2067 7261 7068 2e20 5468   final graph. Th
-0000f490: 6973 0a20 2020 2020 2020 206d 6561 6e73  is.        means
-0000f4a0: 2074 6861 7420 7468 6520 6f62 6a65 6374   that the object
-0000f4b0: 7320 7468 6174 2061 7265 2070 6173 7365  s that are passe
-0000f4c0: 6420 696e 746f 206d 6574 686f 6473 2061  d into methods a
-0000f4d0: 7265 2063 6f70 6965 6420 6f76 6572 2074  re copied over t
-0000f4e0: 6f0a 2020 2020 2020 2020 6e65 7720 696e  o.        new in
-0000f4f0: 7374 616e 6365 7320 7768 6963 6820 6172  stances which ar
-0000f500: 6520 7468 656e 2072 6574 7572 6e65 642e  e then returned.
-0000f510: 0a20 2020 2020 2020 2054 6865 206f 7269  .        The ori
-0000f520: 6769 6e61 6c20 6f62 6a65 6374 7320 7368  ginal objects sh
-0000f530: 6f75 6c64 2062 6520 6469 7363 6172 6465  ould be discarde
-0000f540: 642e 0a0a 2020 2020 2020 2020 4070 6172  d...        @par
-0000f550: 616d 206f 626a 2020 2020 2020 416e 2065  am obj      An e
-0000f560: 6e74 6974 7920 6f72 2061 6e20 756e 6c6f  ntity or an unlo
-0000f570: 6164 6564 2072 6566 6572 656e 6365 2074  aded reference t
-0000f580: 6f20 616e 2065 6e74 6974 792e 204e 6f74  o an entity. Not
-0000f590: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0000f5a0: 2020 2020 2020 2020 206e 756c 6c2e 0a20           null.. 
-0000f5b0: 2020 2020 2020 2040 7479 7065 206f 626a         @type obj
-0000f5c0: 2020 2020 2020 204f 626a 6563 7449 0a20         ObjectI. 
-0000f5d0: 2020 2020 2020 2040 7265 7475 726e 2020         @return  
-0000f5e0: 2020 2020 2020 2049 4420 6f66 2073 6176         ID of sav
-0000f5f0: 6564 206f 626a 6563 740a 2020 2020 2020  ed object.      
-0000f600: 2020 4072 7479 7065 2020 2020 2020 2020    @rtype        
-0000f610: 2020 4c6f 6e67 0a20 2020 2020 2020 2022    Long.        "
-0000f620: 2222 0a20 2020 2020 2020 2075 203d 2073  "".        u = s
-0000f630: 656c 662e 6765 7455 7064 6174 6553 6572  elf.getUpdateSer
-0000f640: 7669 6365 2829 0a20 2020 2020 2020 2063  vice().        c
-0000f650: 7478 203d 2073 656c 662e 5345 5256 4943  tx = self.SERVIC
-0000f660: 455f 4f50 5453 2e63 6f70 7928 290a 2020  E_OPTS.copy().  
-0000f670: 2020 2020 2020 6966 206f 776e 6572 2069        if owner i
-0000f680: 7320 6e6f 7420 4e6f 6e65 3a0a 2020 2020  s not None:.    
-0000f690: 2020 2020 2020 2020 6374 782e 7365 744f          ctx.setO
-0000f6a0: 6d65 726f 5573 6572 286f 776e 6572 290a  meroUser(owner).
-0000f6b0: 2020 2020 2020 2020 7265 7320 3d20 752e          res = u.
-0000f6c0: 7361 7665 416e 6452 6574 7572 6e4f 626a  saveAndReturnObj
-0000f6d0: 6563 7428 6f62 6a2c 2063 7478 290a 2020  ect(obj, ctx).  
-0000f6e0: 2020 2020 2020 7265 732e 756e 6c6f 6164        res.unload
-0000f6f0: 2829 0a20 2020 2020 2020 2072 6574 7572  ().        retur
-0000f700: 6e20 7265 732e 6964 2e76 616c 0a0a 2020  n res.id.val..  
-0000f710: 2020 6465 6620 7361 7665 416e 6452 6574    def saveAndRet
-0000f720: 7572 6e46 696c 6528 7365 6c66 2c20 6269  urnFile(self, bi
-0000f730: 6e61 7279 2c20 6f46 696c 655f 6964 293a  nary, oFile_id):
-0000f740: 0a20 2020 2020 2020 2022 2222 0a20 2020  .        """.   
-0000f750: 2020 2020 2050 726f 7669 6465 206d 6574       Provide met
-0000f760: 686f 6420 666f 7220 6469 7265 6374 6c79  hod for directly
-0000f770: 2075 7064 6174 696e 6720 6120 6669 6c65   updating a file
-0000f780: 206f 626a 6563 7420 616e 6420 7265 7475   object and retu
-0000f790: 726e 2062 696e 6172 792e 0a20 2020 2020  rn binary..     
-0000f7a0: 2020 2041 7373 756d 6573 2074 6861 7420     Assumes that 
-0000f7b0: 7468 6520 6368 6563 6b73 756d 2061 6c67  the checksum alg
-0000f7c0: 6f72 6974 686d 2075 7365 6420 666f 7220  orithm used for 
-0000f7d0: 6669 6c65 2069 6e74 6567 7269 7479 0a20  file integrity. 
-0000f7e0: 2020 2020 2020 2076 6572 6966 6963 6174         verificat
-0000f7f0: 696f 6e20 6973 2053 4841 2d31 2e0a 0a20  ion is SHA-1... 
-0000f800: 2020 2020 2020 2040 7061 7261 6d20 6269         @param bi
-0000f810: 6e61 7279 2020 2020 2020 2042 696e 6172  nary       Binar
-0000f820: 792e 204e 6f74 206e 756c 6c2e 0a20 2020  y. Not null..   
-0000f830: 2020 2020 2040 7479 7065 2062 696e 6172       @type binar
-0000f840: 7920 2020 2020 2020 2053 7472 696e 670a  y        String.
-0000f850: 2020 2020 2020 2020 4070 6172 616d 206f          @param o
-0000f860: 4669 6c65 5f69 6420 2020 2020 4669 6c65  File_id     File
-0000f870: 2049 6420 696e 206f 7264 6572 2074 6f20   Id in order to 
-0000f880: 6d61 6e61 6765 2074 6865 2073 7461 7465  manage the state
-0000f890: 206f 6620 7468 650a 2020 2020 2020 2020   of the.        
-0000f8a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000f8b0: 2020 2020 7365 7276 6963 652e 204e 6f74      service. Not
-0000f8c0: 206e 756c 6c2e 0a20 2020 2020 2020 2040   null..        @
-0000f8d0: 7479 7065 206f 4669 6c65 5f69 6420 2020  type oFile_id   
-0000f8e0: 2020 204c 6f6e 670a 2020 2020 2020 2020     Long.        
-0000f8f0: 4072 6574 7572 6e20 2020 2020 2020 2020  @return         
-0000f900: 2020 2020 5368 616c 6c6f 7720 636f 7079      Shallow copy
-0000f910: 206f 6620 6669 6c65 2e0a 2020 2020 2020   of file..      
-0000f920: 2020 2222 220a 0a20 2020 2020 2020 2073    """..        s
-0000f930: 746f 7265 203d 2073 656c 662e 6372 6561  tore = self.crea
-0000f940: 7465 5261 7746 696c 6553 746f 7265 2829  teRawFileStore()
-0000f950: 0a20 2020 2020 2020 2073 746f 7265 2e73  .        store.s
-0000f960: 6574 4669 6c65 4964 286f 4669 6c65 5f69  etFileId(oFile_i
-0000f970: 642c 2073 656c 662e 5345 5256 4943 455f  d, self.SERVICE_
-0000f980: 4f50 5453 290a 2020 2020 2020 2020 706f  OPTS).        po
-0000f990: 7320 3d20 300a 2020 2020 2020 2020 726c  s = 0.        rl
-0000f9a0: 656e 203d 2030 0a20 2020 2020 2020 2068  en = 0.        h
-0000f9b0: 6173 6820 3d20 6861 7368 5f73 6861 3128  ash = hash_sha1(
-0000f9c0: 290a 0a20 2020 2020 2020 2066 6f72 2063  )..        for c
-0000f9d0: 6875 6e6b 2069 6e20 6269 6e61 7279 2e63  hunk in binary.c
-0000f9e0: 6875 6e6b 7328 293a 0a20 2020 2020 2020  hunks():.       
-0000f9f0: 2020 2020 2072 6c65 6e20 3d20 6c65 6e28       rlen = len(
-0000fa00: 6368 756e 6b29 0a20 2020 2020 2020 2020  chunk).         
-0000fa10: 2020 2073 746f 7265 2e77 7269 7465 2863     store.write(c
-0000fa20: 6875 6e6b 2c20 706f 732c 2072 6c65 6e29  hunk, pos, rlen)
-0000fa30: 0a20 2020 2020 2020 2020 2020 2068 6173  .            has
-0000fa40: 682e 7570 6461 7465 2863 6875 6e6b 290a  h.update(chunk).
-0000fa50: 2020 2020 2020 2020 2020 2020 706f 7320              pos 
-0000fa60: 3d20 706f 7320 2b20 726c 656e 0a20 2020  = pos + rlen.   
-0000fa70: 2020 2020 206f 6669 6c65 203d 2073 746f       ofile = sto
-0000fa80: 7265 2e73 6176 6528 7365 6c66 2e53 4552  re.save(self.SER
-0000fa90: 5649 4345 5f4f 5054 5329 0a20 2020 2020  VICE_OPTS).     
-0000faa0: 2020 2073 746f 7265 2e63 6c6f 7365 2829     store.close()
-0000fab0: 0a0a 2020 2020 2020 2020 7365 7276 6572  ..        server
-0000fac0: 6861 7368 203d 206f 6669 6c65 2e68 6173  hash = ofile.has
-0000fad0: 682e 7661 6c0a 2020 2020 2020 2020 636c  h.val.        cl
-0000fae0: 6965 6e74 6861 7368 203d 2068 6173 682e  ienthash = hash.
-0000faf0: 6865 7864 6967 6573 7428 290a 0a20 2020  hexdigest()..   
-0000fb00: 2020 2020 2069 6620 7365 7276 6572 6861       if serverha
-0000fb10: 7368 2021 3d20 636c 6965 6e74 6861 7368  sh != clienthash
-0000fb20: 3a0a 2020 2020 2020 2020 2020 2020 6d73  :.            ms
-0000fb30: 6720 3d20 280a 2020 2020 2020 2020 2020  g = (.          
-0000fb40: 2020 2020 2020 2253 4841 2d31 2063 6865        "SHA-1 che
-0000fb50: 636b 7375 6d73 2064 6f20 6e6f 7420 6d61  cksums do not ma
-0000fb60: 7463 6820 696e 2066 696c 6520 7570 6c6f  tch in file uplo
-0000fb70: 6164 3a20 636c 6965 6e74 2068 6173 220a  ad: client has".
-0000fb80: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000fb90: 2220 2573 2062 7574 2073 6572 7665 7220  " %s but server 
-0000fba0: 6861 7320 2573 2220 2520 2863 6c69 656e  has %s" % (clien
-0000fbb0: 7468 6173 682c 2073 6572 7665 7268 6173  thash, serverhas
-0000fbc0: 6829 0a20 2020 2020 2020 2020 2020 2029  h).            )
-0000fbd0: 0a20 2020 2020 2020 2020 2020 206c 6f67  .            log
-0000fbe0: 6765 722e 6572 726f 7228 6d73 6729 0a20  ger.error(msg). 
-0000fbf0: 2020 2020 2020 2020 2020 2072 6169 7365             raise
-0000fc00: 2045 7863 6570 7469 6f6e 286d 7367 290a   Exception(msg).
-0000fc10: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
-0000fc20: 6f66 696c 650a 0a20 2020 2023 2323 2323  ofile..    #####
-0000fc30: 2323 2323 2323 2323 2323 2323 2323 2323  ################
-0000fc40: 2323 2323 2323 2323 2323 2323 2323 2323  ################
-0000fc50: 2323 2323 2323 2323 230a 2020 2020 2320  #########.    # 
-0000fc60: 4953 6861 7265 0a0a 2020 2020 6465 6620  IShare..    def 
-0000fc70: 6765 7453 6861 7265 2873 656c 662c 206f  getShare(self, o
-0000fc80: 6964 293a 0a20 2020 2020 2020 2022 2222  id):.        """
-0000fc90: 0a20 2020 2020 2020 2047 6574 7320 7368  .        Gets sh
-0000fca0: 6172 6520 666f 7220 7468 6520 6769 7665  are for the give
-0000fcb0: 6e20 7368 6172 6520 6964 2e0a 0a20 2020  n share id...   
-0000fcc0: 2020 2020 2040 7061 7261 6d20 6f69 643a       @param oid:
-0000fcd0: 2020 2020 2053 6861 7265 2049 442e 0a20       Share ID.. 
-0000fce0: 2020 2020 2020 2040 7479 7065 206f 6964         @type oid
-0000fcf0: 3a20 2020 2020 204c 6f6e 670a 2020 2020  :      Long.    
-0000fd00: 2020 2020 4072 6574 7572 6e3a 2020 2020      @return:    
-0000fd10: 2020 2020 5368 6172 6557 7261 7070 6572      ShareWrapper
-0000fd20: 206f 7220 4e6f 6e65 0a20 2020 2020 2020   or None.       
-0000fd30: 2040 7274 7970 653a 2020 2020 2020 2020   @rtype:        
-0000fd40: 204c 7b53 6861 7265 5772 6170 7065 727d   L{ShareWrapper}
-0000fd50: 0a20 2020 2020 2020 2022 2222 0a0a 2020  .        """..  
-0000fd60: 2020 2020 2020 7368 5f73 6572 7620 3d20        sh_serv = 
-0000fd70: 7365 6c66 2e67 6574 5368 6172 6553 6572  self.getShareSer
-0000fd80: 7669 6365 2829 0a20 2020 2020 2020 2073  vice().        s
-0000fd90: 6820 3d20 7368 5f73 6572 762e 6765 7453  h = sh_serv.getS
-0000fda0: 6861 7265 2869 6e74 286f 6964 2929 0a20  hare(int(oid)). 
-0000fdb0: 2020 2020 2020 2069 6620 7368 2069 7320         if sh is 
-0000fdc0: 6e6f 7420 4e6f 6e65 3a0a 2020 2020 2020  not None:.      
-0000fdd0: 2020 2020 2020 7265 7475 726e 2053 6861        return Sha
-0000fde0: 7265 5772 6170 7065 7228 7365 6c66 2c20  reWrapper(self, 
-0000fdf0: 7368 290a 2020 2020 2020 2020 656c 7365  sh).        else
-0000fe00: 3a0a 2020 2020 2020 2020 2020 2020 7265  :.            re
-0000fe10: 7475 726e 204e 6f6e 650a 0a20 2020 2064  turn None..    d
-0000fe20: 6566 2067 6574 4f77 6e53 6861 7265 7328  ef getOwnShares(
-0000fe30: 7365 6c66 293a 0a20 2020 2020 2020 2022  self):.        "
-0000fe40: 2222 0a20 2020 2020 2020 2047 6574 7320  "".        Gets 
-0000fe50: 616c 6c20 6f77 6e65 6420 7368 6172 6573  all owned shares
-0000fe60: 2066 6f72 2074 6865 2063 7572 7265 6e74   for the current
-0000fe70: 2075 7365 722e 0a0a 2020 2020 2020 2020   user...        
-0000fe80: 4072 6574 7572 6e3a 2020 2020 5368 6172  @return:    Shar
-0000fe90: 6573 2074 6861 7420 7573 6572 206f 776e  es that user own
-0000fea0: 730a 2020 2020 2020 2020 4072 7479 7065  s.        @rtype
-0000feb0: 3a20 2020 2020 4c7b 5368 6172 6557 7261  :     L{ShareWra
-0000fec0: 7070 6572 7d20 6765 6e65 7261 746f 720a  pper} generator.
-0000fed0: 2020 2020 2020 2020 2222 220a 0a20 2020          """..   
-0000fee0: 2020 2020 2073 6820 3d20 7365 6c66 2e67       sh = self.g
-0000fef0: 6574 5368 6172 6553 6572 7669 6365 2829  etShareService()
-0000ff00: 0a20 2020 2020 2020 2066 6f72 2065 2069  .        for e i
-0000ff10: 6e20 7368 2e67 6574 4f77 6e53 6861 7265  n sh.getOwnShare
-0000ff20: 7328 4661 6c73 6529 3a0a 2020 2020 2020  s(False):.      
-0000ff30: 2020 2020 2020 7969 656c 6420 5368 6172        yield Shar
-0000ff40: 6557 7261 7070 6572 2873 656c 662c 2065  eWrapper(self, e
-0000ff50: 290a 0a20 2020 2064 6566 2067 6574 4d65  )..    def getMe
-0000ff60: 6d62 6572 5368 6172 6573 2873 656c 6629  mberShares(self)
-0000ff70: 3a0a 2020 2020 2020 2020 2222 220a 2020  :.        """.  
-0000ff80: 2020 2020 2020 4765 7473 2061 6c6c 2073        Gets all s
-0000ff90: 6861 7265 7320 7768 6572 6520 6375 7272  hares where curr
-0000ffa0: 656e 7420 7573 6572 2069 7320 6120 6d65  ent user is a me
-0000ffb0: 6d62 6572 2e0a 0a20 2020 2020 2020 2040  mber...        @
-0000ffc0: 7265 7475 726e 3a20 2020 2053 6861 7265  return:    Share
-0000ffd0: 7320 7468 6174 2075 7365 7220 6973 2061  s that user is a
-0000ffe0: 206d 656d 6265 7220 6f66 0a20 2020 2020   member of.     
-0000fff0: 2020 2040 7274 7970 653a 2020 2020 204c     @rtype:     L
-00010000: 7b53 6861 7265 5772 6170 7065 727d 2067  {ShareWrapper} g
-00010010: 656e 6572 6174 6f72 0a20 2020 2020 2020  enerator.       
-00010020: 2022 2222 0a0a 2020 2020 2020 2020 7368   """..        sh
-00010030: 203d 2073 656c 662e 6765 7453 6861 7265   = self.getShare
-00010040: 5365 7276 6963 6528 290a 2020 2020 2020  Service().      
-00010050: 2020 666f 7220 6520 696e 2073 682e 6765    for e in sh.ge
-00010060: 744d 656d 6265 7253 6861 7265 7328 4661  tMemberShares(Fa
-00010070: 6c73 6529 3a0a 2020 2020 2020 2020 2020  lse):.          
-00010080: 2020 7969 656c 6420 5368 6172 6557 7261    yield ShareWra
-00010090: 7070 6572 2873 656c 662c 2065 290a 0a20  pper(self, e).. 
-000100a0: 2020 2064 6566 2067 6574 4d65 6d62 6572     def getMember
-000100b0: 436f 756e 7428 7365 6c66 2c20 7368 6172  Count(self, shar
-000100c0: 655f 6964 7329 3a0a 2020 2020 2020 2020  e_ids):.        
-000100d0: 2222 220a 2020 2020 2020 2020 5265 7475  """.        Retu
-000100e0: 726e 7320 6120 6d61 7020 6672 6f6d 2073  rns a map from s
-000100f0: 6861 7265 2069 6420 746f 2074 6865 2063  hare id to the c
-00010100: 6f75 6e74 206f 6620 746f 7461 6c20 6d65  ount of total me
-00010110: 6d62 6572 7320 2869 6e63 6c75 6469 6e67  mbers (including
-00010120: 0a20 2020 2020 2020 2074 6865 206f 776e  .        the own
-00010130: 6572 292e 2054 6869 7320 6973 2072 6570  er). This is rep
-00010140: 7265 7365 6e74 6564 2062 7920 6f6d 652e  resented by ome.
-00010150: 6d6f 6465 6c2e 6d65 7461 2e53 6861 7265  model.meta.Share
-00010160: 4d65 6d62 6572 206c 696e 6b73 2e0a 0a20  Member links... 
-00010170: 2020 2020 2020 2040 7061 7261 6d20 7368         @param sh
-00010180: 6172 655f 6964 733a 2020 204c 6973 7420  are_ids:   List 
-00010190: 6f66 2049 4473 0a20 2020 2020 2020 2040  of IDs.        @
-000101a0: 7479 7065 2073 6861 7265 5f69 6473 3a20  type share_ids: 
-000101b0: 2020 204c 6973 7420 6f66 204c 6f6e 6773     List of Longs
-000101c0: 0a20 2020 2020 2020 2040 7265 7475 726e  .        @return
-000101d0: 3a20 2020 2020 2020 2020 2020 2044 6963  :            Dic
-000101e0: 7420 6f66 2073 6861 7265 4964 3a20 6d65  t of shareId: me
-000101f0: 6d62 6572 2d63 6f75 6e74 0a20 2020 2020  mber-count.     
-00010200: 2020 2040 7274 7970 653a 2020 2020 2020     @rtype:      
-00010210: 2020 2020 2020 2044 6963 7420 6f66 206c         Dict of l
-00010220: 6f6e 673a 206c 6f6e 670a 2020 2020 2020  ong: long.      
-00010230: 2020 2222 220a 0a20 2020 2020 2020 2073    """..        s
-00010240: 6820 3d20 7365 6c66 2e67 6574 5368 6172  h = self.getShar
-00010250: 6553 6572 7669 6365 2829 0a20 2020 2020  eService().     
-00010260: 2020 2072 6574 7572 6e20 7368 2e67 6574     return sh.get
-00010270: 4d65 6d62 6572 436f 756e 7428 7368 6172  MemberCount(shar
-00010280: 655f 6964 7329 0a0a 2020 2020 6465 6620  e_ids)..    def 
-00010290: 6765 7443 6f6d 6d65 6e74 436f 756e 7428  getCommentCount(
-000102a0: 7365 6c66 2c20 7368 6172 655f 6964 7329  self, share_ids)
-000102b0: 3a0a 2020 2020 2020 2020 2222 220a 2020  :.        """.  
-000102c0: 2020 2020 2020 5265 7475 726e 7320 6120        Returns a 
-000102d0: 6d61 7020 6672 6f6d 2073 6861 7265 2069  map from share i
-000102e0: 6420 746f 2063 6f6d 6d65 6e74 2063 6f75  d to comment cou
-000102f0: 6e74 2e0a 0a20 2020 2020 2020 2040 7061  nt...        @pa
-00010300: 7261 6d20 7368 6172 655f 6964 733a 2020  ram share_ids:  
-00010310: 204c 6973 7420 6f66 2049 4473 0a20 2020   List of IDs.   
-00010320: 2020 2020 2040 7479 7065 2073 6861 7265       @type share
-00010330: 5f69 6473 3a20 2020 204c 6973 7420 6f66  _ids:    List of
-00010340: 204c 6f6e 6773 0a20 2020 2020 2020 2040   Longs.        @
-00010350: 7265 7475 726e 3a20 2020 2020 2020 2020  return:         
-00010360: 2020 2044 6963 7420 6f66 2073 6861 7265     Dict of share
-00010370: 4964 3a20 636f 6d6d 656e 742d 636f 756e  Id: comment-coun
-00010380: 740a 2020 2020 2020 2020 4072 7479 7065  t.        @rtype
-00010390: 3a20 2020 2020 2020 2020 2020 2020 4469  :             Di
-000103a0: 6374 206f 6620 6c6f 6e67 3a20 6c6f 6e67  ct of long: long
-000103b0: 0a20 2020 2020 2020 2022 2222 0a0a 2020  .        """..  
-000103c0: 2020 2020 2020 7368 203d 2073 656c 662e        sh = self.
-000103d0: 6765 7453 6861 7265 5365 7276 6963 6528  getShareService(
-000103e0: 290a 2020 2020 2020 2020 7265 7475 726e  ).        return
-000103f0: 2073 682e 6765 7443 6f6d 6d65 6e74 436f   sh.getCommentCo
-00010400: 756e 7428 7368 6172 655f 6964 7329 0a0a  unt(share_ids)..
-00010410: 2020 2020 6465 6620 6765 7443 6f6e 7465      def getConte
-00010420: 6e74 7328 7365 6c66 2c20 7368 6172 655f  nts(self, share_
-00010430: 6964 293a 0a20 2020 2020 2020 2022 2222  id):.        """
-00010440: 0a20 2020 2020 2020 204c 6f6f 6b73 2075  .        Looks u
-00010450: 7020 616c 6c20 6974 656d 7320 6265 6c6f  p all items belo
-00010460: 6e67 696e 6720 746f 2074 6865 2073 6861  nging to the sha
-00010470: 7265 2c20 7772 6170 7065 6420 696e 206f  re, wrapped in o
-00010480: 626a 6563 7420 7772 6170 7065 720a 0a20  bject wrapper.. 
-00010490: 2020 2020 2020 2040 7061 7261 6d20 7368         @param sh
-000104a0: 6172 655f 6964 3a20 2020 2073 6861 7265  are_id:    share
-000104b0: 2049 440a 2020 2020 2020 2020 4074 7970   ID.        @typ
-000104c0: 6520 7368 6172 655f 6964 3a20 2020 2020  e share_id:     
-000104d0: 4c6f 6e67 0a20 2020 2020 2020 2040 7265  Long.        @re
-000104e0: 7475 726e 3a20 2020 2020 2020 2020 2020  turn:           
-000104f0: 2053 6861 7265 2063 6f6e 7465 6e74 730a   Share contents.
-00010500: 2020 2020 2020 2020 4072 7479 7065 3a20          @rtype: 
-00010510: 2020 2020 2020 2020 2020 2020 4c7b 6f6d              L{om
-00010520: 6572 6f2e 6761 7465 7761 792e 426c 6974  ero.gateway.Blit
-00010530: 7a4f 626a 6563 7457 7261 7070 6572 7d20  zObjectWrapper} 
-00010540: 6765 6e65 7261 746f 720a 2020 2020 2020  generator.      
-00010550: 2020 2222 220a 0a20 2020 2020 2020 2073    """..        s
-00010560: 6820 3d20 7365 6c66 2e67 6574 5368 6172  h = self.getShar
-00010570: 6553 6572 7669 6365 2829 0a20 2020 2020  eService().     
-00010580: 2020 2066 6f72 2065 2069 6e20 7368 2e67     for e in sh.g
-00010590: 6574 436f 6e74 656e 7473 2869 6e74 2873  etContents(int(s
-000105a0: 6861 7265 5f69 6429 293a 0a20 2020 2020  hare_id)):.     
-000105b0: 2020 2020 2020 2069 6620 6973 696e 7374         if isinst
-000105c0: 616e 6365 2865 2c20 6f6d 6572 6f2e 6d6f  ance(e, omero.mo
-000105d0: 6465 6c2e 496d 6167 6549 293a 0a20 2020  del.ImageI):.   
-000105e0: 2020 2020 2020 2020 2020 2020 2074 7279               try
-000105f0: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-00010600: 2020 2020 2020 6f62 6a20 3d20 6f6d 6572        obj = omer
-00010610: 6f2e 6761 7465 7761 792e 496d 6167 6557  o.gateway.ImageW
-00010620: 7261 7070 6572 2873 656c 662c 2065 290a  rapper(self, e).
-00010630: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00010640: 6578 6365 7074 206f 6d65 726f 2e56 616c  except omero.Val
-00010650: 6964 6174 696f 6e45 7863 6570 7469 6f6e  idationException
-00010660: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-00010670: 2020 2020 2020 2320 4966 204f 626a 6563        # If Objec
-00010680: 7420 6465 6c65 7465 642c 2073 696d 706c  t deleted, simpl
-00010690: 7920 7265 7475 726e 2070 6c61 6365 686f  y return placeho
-000106a0: 6c64 6572 0a20 2020 2020 2020 2020 2020  lder.           
-000106b0: 2020 2020 2020 2020 2023 2049 4420 7573           # ID us
-000106c0: 6564 2074 6f20 6765 6e65 7261 7465 2070  ed to generate p
-000106d0: 6c61 6365 686f 6c64 6572 2074 6875 6d62  laceholder thumb
-000106e0: 6e61 696c 0a20 2020 2020 2020 2020 2020  nail.           
-000106f0: 2020 2020 2020 2020 206f 626a 203d 207b           obj = {
-00010700: 2269 6422 3a20 652e 6964 2e76 616c 7d0a  "id": e.id.val}.
-00010710: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00010720: 7969 656c 6420 6f62 6a0a 0a20 2020 2064  yield obj..    d
-00010730: 6566 2067 6574 436f 6d6d 656e 7473 2873  ef getComments(s
-00010740: 656c 662c 2073 6861 7265 5f69 6429 3a0a  elf, share_id):.
-00010750: 2020 2020 2020 2020 2222 220a 2020 2020          """.    
-00010760: 2020 2020 4c6f 6f6b 7320 7570 2061 6c6c      Looks up all
-00010770: 2063 6f6d 6d65 6e74 7320 7768 6963 6820   comments which 
-00010780: 6265 6c6f 6e67 2074 6f20 7468 6520 7368  belong to the sh
-00010790: 6172 652c 2077 7261 7070 6564 2069 6e20  are, wrapped in 
-000107a0: 6f62 6a65 6374 0a20 2020 2020 2020 2077  object.        w
-000107b0: 7261 7070 6572 0a0a 2020 2020 2020 2020  rapper..        
-000107c0: 4070 6172 616d 2073 6861 7265 5f69 643a  @param share_id:
-000107d0: 2020 2020 7368 6172 6520 4944 0a20 2020      share ID.   
-000107e0: 2020 2020 2040 7479 7065 2073 6861 7265       @type share
-000107f0: 5f69 643a 2020 2020 204c 6f6e 670a 2020  _id:     Long.  
-00010800: 2020 2020 2020 4072 6574 7572 6e3a 2020        @return:  
-00010810: 2020 2020 2020 2020 2020 5368 6172 6520            Share 
-00010820: 636f 6d6d 656e 7473 0a20 2020 2020 2020  comments.       
-00010830: 2040 7274 7970 653a 2020 2020 2020 2020   @rtype:        
-00010840: 2020 2020 204c 7b41 6e6e 6f74 6174 696f       L{Annotatio
-00010850: 6e57 7261 7070 6572 7d20 6765 6e65 7261  nWrapper} genera
-00010860: 746f 720a 2020 2020 2020 2020 2222 220a  tor.        """.
-00010870: 0a20 2020 2020 2020 2073 6820 3d20 7365  .        sh = se
-00010880: 6c66 2e67 6574 5368 6172 6553 6572 7669  lf.getShareServi
-00010890: 6365 2829 0a20 2020 2020 2020 2066 6f72  ce().        for
-000108a0: 2065 2069 6e20 7368 2e67 6574 436f 6d6d   e in sh.getComm
-000108b0: 656e 7473 2869 6e74 2873 6861 7265 5f69  ents(int(share_i
-000108c0: 6429 293a 0a20 2020 2020 2020 2020 2020  d)):.           
-000108d0: 2079 6965 6c64 2041 6e6e 6f74 6174 696f   yield Annotatio
-000108e0: 6e57 7261 7070 6572 2873 656c 662c 2065  nWrapper(self, e
-000108f0: 290a 0a20 2020 2064 6566 2067 6574 416c  )..    def getAl
-00010900: 6c4d 656d 6265 7273 2873 656c 662c 2073  lMembers(self, s
-00010910: 6861 7265 5f69 6429 3a0a 2020 2020 2020  hare_id):.      
-00010920: 2020 2222 220a 2020 2020 2020 2020 4765    """.        Ge
-00010930: 7420 616c 6c20 7b40 6c69 6e6b 2045 7870  t all {@link Exp
-00010940: 6572 696d 656e 7465 7220 7573 6572 737d  erimenter users}
-00010950: 2077 686f 2061 7265 2061 206d 656d 6265   who are a membe
-00010960: 7220 6f66 2074 6865 2073 6861 7265 2e0a  r of the share..
-00010970: 0a20 2020 2020 2020 2040 7061 7261 6d20  .        @param 
-00010980: 7368 6172 655f 6964 3a20 2020 2073 6861  share_id:    sha
-00010990: 7265 2049 440a 2020 2020 2020 2020 4074  re ID.        @t
-000109a0: 7970 6520 7368 6172 655f 6964 3a20 2020  ype share_id:   
-000109b0: 2020 4c6f 6e67 0a20 2020 2020 2020 2040    Long.        @
-000109c0: 7265 7475 726e 3a20 2020 2020 2020 2020  return:         
-000109d0: 2020 204d 656d 6265 7273 206f 6620 7368     Members of sh
-000109e0: 6172 650a 2020 2020 2020 2020 4072 7479  are.        @rty
-000109f0: 7065 3a20 2020 2020 2020 2020 2020 2020  pe:             
-00010a00: 4c7b 4578 7065 7269 6d65 6e74 6572 5772  L{ExperimenterWr
-00010a10: 6170 7065 727d 2067 656e 6572 6174 6f72  apper} generator
-00010a20: 0a20 2020 2020 2020 2022 2222 0a0a 2020  .        """..  
-00010a30: 2020 2020 2020 7368 203d 2073 656c 662e        sh = self.
-00010a40: 6765 7453 6861 7265 5365 7276 6963 6528  getShareService(
-00010a50: 290a 2020 2020 2020 2020 666f 7220 6520  ).        for e 
-00010a60: 696e 2073 682e 6765 7441 6c6c 4d65 6d62  in sh.getAllMemb
-00010a70: 6572 7328 696e 7428 7368 6172 655f 6964  ers(int(share_id
-00010a80: 2929 3a0a 2020 2020 2020 2020 2020 2020  )):.            
-00010a90: 7969 656c 6420 4578 7065 7269 6d65 6e74  yield Experiment
-00010aa0: 6572 5772 6170 7065 7228 7365 6c66 2c20  erWrapper(self, 
-00010ab0: 6529 0a0a 2020 2020 6465 6620 6765 7441  e)..    def getA
-00010ac0: 6c6c 4775 6573 7473 2873 656c 662c 2073  llGuests(self, s
-00010ad0: 6861 7265 5f69 6429 3a0a 2020 2020 2020  hare_id):.      
-00010ae0: 2020 2222 220a 2020 2020 2020 2020 4765    """.        Ge
-00010af0: 7420 7468 6520 656d 6169 6c20 6164 6472  t the email addr
-00010b00: 6573 7365 7320 666f 7220 616c 6c20 7368  esses for all sh
-00010b10: 6172 6520 6775 6573 7473 2e0a 0a20 2020  are guests...   
-00010b20: 2020 2020 2040 7061 7261 6d20 7368 6172       @param shar
-00010b30: 655f 6964 3a20 2020 2073 6861 7265 2049  e_id:    share I
-00010b40: 440a 2020 2020 2020 2020 4074 7970 6520  D.        @type 
-00010b50: 7368 6172 655f 6964 3a20 2020 2020 4c6f  share_id:     Lo
-00010b60: 6e67 0a20 2020 2020 2020 2040 7265 7475  ng.        @retu
-00010b70: 726e 3a20 2020 2020 2020 2020 2020 204c  rn:            L
-00010b80: 6973 7420 6f66 2065 2d6d 6169 6c20 6164  ist of e-mail ad
-00010b90: 6472 6573 7365 730a 2020 2020 2020 2020  dresses.        
-00010ba0: 4072 7479 7065 3a20 2020 2020 2020 2020  @rtype:         
-00010bb0: 2020 2020 4c69 7374 206f 6620 5374 7269      List of Stri
-00010bc0: 6e67 730a 2020 2020 2020 2020 2222 220a  ngs.        """.
-00010bd0: 0a20 2020 2020 2020 2073 6820 3d20 7365  .        sh = se
-00010be0: 6c66 2e67 6574 5368 6172 6553 6572 7669  lf.getShareServi
-00010bf0: 6365 2829 0a20 2020 2020 2020 2072 6574  ce().        ret
-00010c00: 7572 6e20 7368 2e67 6574 416c 6c47 7565  urn sh.getAllGue
-00010c10: 7374 7328 696e 7428 7368 6172 655f 6964  sts(int(share_id
-00010c20: 2929 0a0a 2020 2020 6465 6620 6765 7441  ))..    def getA
-00010c30: 6c6c 5573 6572 7328 7365 6c66 2c20 7368  llUsers(self, sh
-00010c40: 6172 655f 6964 293a 0a20 2020 2020 2020  are_id):.       
-00010c50: 2022 2222 0a20 2020 2020 2020 2047 6574   """.        Get
-00010c60: 2061 2073 696e 676c 6520 7365 7420 636f   a single set co
-00010c70: 6e74 6169 6e69 6e67 2074 6865 206c 6f67  ntaining the log
-00010c80: 696e 206e 616d 6573 206f 6620 7468 6520  in names of the 
-00010c90: 7573 6572 7320 6173 2077 656c 6c20 656d  users as well em
-00010ca0: 6169 6c0a 2020 2020 2020 2020 6164 6472  ail.        addr
-00010cb0: 6573 7365 7320 666f 7220 6775 6573 7473  esses for guests
-00010cc0: 2e0a 0a20 2020 2020 2020 2040 7061 7261  ...        @para
-00010cd0: 6d20 7368 6172 655f 6964 3a20 2020 2073  m share_id:    s
-00010ce0: 6861 7265 2049 440a 2020 2020 2020 2020  hare ID.        
-00010cf0: 4074 7970 6520 7368 6172 655f 6964 3a20  @type share_id: 
-00010d00: 2020 2020 4c6f 6e67 0a20 2020 2020 2020      Long.       
-00010d10: 2040 7265 7475 726e 3a20 2020 2020 2020   @return:       
-00010d20: 2020 2020 204c 6973 7420 6f66 2075 7365       List of use
-00010d30: 726e 616d 6573 2061 6e64 2065 2d6d 6169  rnames and e-mai
-00010d40: 6c20 6164 6472 6573 7365 730a 2020 2020  l addresses.    
-00010d50: 2020 2020 4072 7479 7065 3a20 2020 2020      @rtype:     
-00010d60: 2020 2020 2020 2020 4c69 7374 206f 6620          List of 
-00010d70: 5374 7269 6e67 730a 2020 2020 2020 2020  Strings.        
-00010d80: 2222 220a 0a20 2020 2020 2020 2073 6820  """..        sh 
-00010d90: 3d20 7365 6c66 2e67 6574 5368 6172 6553  = self.getShareS
-00010da0: 6572 7669 6365 2829 0a20 2020 2020 2020  ervice().       
-00010db0: 2072 6574 7572 6e20 7368 2e67 6574 416c   return sh.getAl
-00010dc0: 6c55 7365 7273 2869 6e74 2873 6861 7265  lUsers(int(share
-00010dd0: 5f69 6429 290a 0a20 2020 2064 6566 2061  _id))..    def a
-00010de0: 6464 436f 6d6d 656e 7428 7365 6c66 2c20  ddComment(self, 
-00010df0: 686f 7374 2c20 7368 6172 655f 6964 2c20  host, share_id, 
-00010e00: 636f 6d6d 656e 7429 3a0a 2020 2020 2020  comment):.      
-00010e10: 2020 7368 203d 2073 656c 662e 6765 7453    sh = self.getS
-00010e20: 6861 7265 5365 7276 6963 6528 290a 2020  hareService().  
-00010e30: 2020 2020 2020 6e65 775f 636d 203d 2073        new_cm = s
-00010e40: 682e 6164 6443 6f6d 6d65 6e74 2869 6e74  h.addComment(int
-00010e50: 2873 6861 7265 5f69 6429 2c20 7374 7228  (share_id), str(
-00010e60: 636f 6d6d 656e 7429 290a 0a20 2020 2020  comment))..     
-00010e70: 2020 2073 656c 662e 6765 7453 6861 7265     self.getShare
-00010e80: 2869 6e74 2873 6861 7265 5f69 6429 290a  (int(share_id)).
-00010e90: 2020 2020 2020 2020 7368 5f74 7970 6520          sh_type 
-00010ea0: 3d20 7368 2e67 6574 436f 6e74 656e 7453  = sh.getContentS
-00010eb0: 697a 6528 7368 6172 655f 6964 2920 3e20  ize(share_id) > 
-00010ec0: 3020 616e 6420 2273 6861 7265 2220 6f72  0 and "share" or
-00010ed0: 2022 6469 7363 7573 7369 6f6e 220a 2020   "discussion".  
-00010ee0: 2020 2020 2020 7375 626a 6563 7420 3d20        subject = 
-00010ef0: 224f 4d45 524f 2e25 7320 2573 2220 2520  "OMERO.%s %s" % 
-00010f00: 2873 685f 7479 7065 2c20 7368 6172 655f  (sh_type, share_
-00010f10: 6964 290a 2020 2020 2020 2020 626f 6479  id).        body
-00010f20: 203d 2022 2573 2061 6464 6564 206e 6577   = "%s added new
-00010f30: 2063 6f6d 6d65 6e74 2e5c 6e5c 6e25 735c   comment.\n\n%s\
-00010f40: 6e5c 6e25 7320 5552 4c3a 2025 735c 6e22  n\n%s URL: %s\n"
-00010f50: 2025 2028 0a20 2020 2020 2020 2020 2020   % (.           
-00010f60: 2073 656c 662e 6765 7455 7365 7228 292e   self.getUser().
-00010f70: 6765 7446 756c 6c4e 616d 6528 292c 0a20  getFullName(),. 
-00010f80: 2020 2020 2020 2020 2020 2073 7472 2863             str(c
-00010f90: 6f6d 6d65 6e74 292c 0a20 2020 2020 2020  omment),.       
-00010fa0: 2020 2020 2073 685f 7479 7065 2e74 6974       sh_type.tit
-00010fb0: 6c65 2829 2c0a 2020 2020 2020 2020 2020  le(),.          
-00010fc0: 2020 686f 7374 2c0a 2020 2020 2020 2020    host,.        
-00010fd0: 290a 2020 2020 2020 2020 7368 2e6e 6f74  ).        sh.not
-00010fe0: 6966 794d 656d 6265 7273 4f66 5368 6172  ifyMembersOfShar
-00010ff0: 6528 696e 7428 7368 6172 655f 6964 292c  e(int(share_id),
-00011000: 2073 7562 6a65 6374 2c20 626f 6479 2c20   subject, body, 
-00011010: 4661 6c73 6529 0a20 2020 2020 2020 2072  False).        r
-00011020: 6574 7572 6e20 436f 6d6d 656e 7441 6e6e  eturn CommentAnn
-00011030: 6f74 6174 696f 6e57 7261 7070 6572 2873  otationWrapper(s
-00011040: 656c 662c 206e 6577 5f63 6d29 0a0a 2020  elf, new_cm)..  
-00011050: 2020 6465 6620 7265 6d6f 7665 496d 6167    def removeImag
-00011060: 6528 7365 6c66 2c20 7368 6172 655f 6964  e(self, share_id
-00011070: 2c20 696d 6167 655f 6964 293a 0a20 2020  , image_id):.   
-00011080: 2020 2020 2073 6820 3d20 7365 6c66 2e67       sh = self.g
-00011090: 6574 5368 6172 6553 6572 7669 6365 2829  etShareService()
-000110a0: 0a20 2020 2020 2020 2073 656c 662e 5345  .        self.SE
-000110b0: 5256 4943 455f 4f50 5453 2e73 6574 4f6d  RVICE_OPTS.setOm
-000110c0: 6572 6f47 726f 7570 2822 2d31 2229 0a20  eroGroup("-1"). 
-000110d0: 2020 2020 2020 2069 6d67 203d 2073 656c         img = sel
-000110e0: 662e 6765 744f 626a 6563 7428 2249 6d61  f.getObject("Ima
-000110f0: 6765 222c 2069 6d61 6765 5f69 6429 0a20  ge", image_id). 
-00011100: 2020 2020 2020 2073 682e 7265 6d6f 7665         sh.remove
-00011110: 4f62 6a65 6374 2869 6e74 2873 6861 7265  Object(int(share
-00011120: 5f69 6429 2c20 696d 672e 5f6f 626a 290a  _id), img._obj).
-00011130: 0a20 2020 2064 6566 2063 7265 6174 6553  .    def createS
-00011140: 6861 7265 2873 656c 662c 2068 6f73 742c  hare(self, host,
-00011150: 2069 6d61 6765 732c 206d 6573 7361 6765   images, message
-00011160: 2c20 6d65 6d62 6572 732c 2065 6e61 626c  , members, enabl
-00011170: 652c 2065 7870 6972 6174 696f 6e3d 4e6f  e, expiration=No
-00011180: 6e65 293a 0a20 2020 2020 2020 2073 6820  ne):.        sh 
-00011190: 3d20 7365 6c66 2e67 6574 5368 6172 6553  = self.getShareS
-000111a0: 6572 7669 6365 2829 0a20 2020 2020 2020  ervice().       
-000111b0: 2069 7465 6d73 203d 205b 692e 5f6f 626a   items = [i._obj
-000111c0: 2066 6f72 2069 2069 6e20 696d 6167 6573   for i in images
-000111d0: 5d0a 2020 2020 2020 2020 6d73 203d 205b  ].        ms = [
-000111e0: 6d2e 5f6f 626a 2066 6f72 206d 2069 6e20  m._obj for m in 
-000111f0: 6d65 6d62 6572 735d 0a20 2020 2020 2020  members].       
-00011200: 2073 6964 203d 2073 682e 6372 6561 7465   sid = sh.create
-00011210: 5368 6172 6528 6d65 7373 6167 652c 2072  Share(message, r
-00011220: 7469 6d65 2865 7870 6972 6174 696f 6e29  time(expiration)
-00011230: 2c20 6974 656d 732c 206d 732c 205b 5d2c  , items, ms, [],
-00011240: 2065 6e61 626c 6529 0a20 2020 2020 2020   enable).       
-00011250: 2073 685f 7479 7065 203d 206c 656e 2869   sh_type = len(i
-00011260: 6d61 6765 7329 203e 2030 2061 6e64 2022  mages) > 0 and "
-00011270: 7368 6172 6522 206f 7220 2264 6973 6375  share" or "discu
-00011280: 7373 696f 6e22 0a20 2020 2020 2020 2062  ssion".        b
-00011290: 6f64 7920 3d20 2225 735c 6e5c 6e25 7320  ody = "%s\n\n%s 
-000112a0: 5552 4c3a 2025 735c 6e22 2025 2028 6d65  URL: %s\n" % (me
-000112b0: 7373 6167 652c 2073 685f 7479 7065 2e74  ssage, sh_type.t
-000112c0: 6974 6c65 2829 2c20 686f 7374 290a 2020  itle(), host).  
-000112d0: 2020 2020 2020 7375 626a 6563 7420 3d20        subject = 
-000112e0: 224f 4d45 524f 2e25 7320 2573 2220 2520  "OMERO.%s %s" % 
-000112f0: 2873 685f 7479 7065 2c20 7369 6429 0a20  (sh_type, sid). 
-00011300: 2020 2020 2020 2073 682e 6e6f 7469 6679         sh.notify
-00011310: 4d65 6d62 6572 734f 6653 6861 7265 2873  MembersOfShare(s
-00011320: 6964 2c20 7375 626a 6563 742c 2062 6f64  id, subject, bod
-00011330: 792c 2046 616c 7365 290a 2020 2020 2020  y, False).      
-00011340: 2020 7265 7475 726e 2073 6964 0a0a 2020    return sid..  
-00011350: 2020 6465 6620 7570 6461 7465 5368 6172    def updateShar
-00011360: 654f 7244 6973 6375 7373 696f 6e28 0a20  eOrDiscussion(. 
-00011370: 2020 2020 2020 2073 656c 662c 2068 6f73         self, hos
-00011380: 742c 2073 6861 7265 5f69 642c 206d 6573  t, share_id, mes
-00011390: 7361 6765 2c20 6164 645f 6d65 6d62 6572  sage, add_member
-000113a0: 732c 2072 6d5f 6d65 6d62 6572 732c 2065  s, rm_members, e
-000113b0: 6e61 626c 652c 2065 7870 6972 6174 696f  nable, expiratio
-000113c0: 6e3d 4e6f 6e65 0a20 2020 2029 3a0a 2020  n=None.    ):.  
-000113d0: 2020 2020 2020 7368 6172 655f 6964 203d        share_id =
-000113e0: 2069 6e74 2873 6861 7265 5f69 6429 0a20   int(share_id). 
-000113f0: 2020 2020 2020 2073 6820 3d20 7365 6c66         sh = self
-00011400: 2e67 6574 5368 6172 6553 6572 7669 6365  .getShareService
-00011410: 2829 0a20 2020 2020 2020 2073 682e 7365  ().        sh.se
-00011420: 7444 6573 6372 6970 7469 6f6e 2873 6861  tDescription(sha
-00011430: 7265 5f69 642c 206d 6573 7361 6765 290a  re_id, message).
-00011440: 2020 2020 2020 2020 7368 2e73 6574 4578          sh.setEx
-00011450: 7069 7261 7469 6f6e 2873 6861 7265 5f69  piration(share_i
-00011460: 642c 2072 7469 6d65 2865 7870 6972 6174  d, rtime(expirat
-00011470: 696f 6e29 290a 2020 2020 2020 2020 7368  ion)).        sh
-00011480: 2e73 6574 4163 7469 7665 2873 6861 7265  .setActive(share
-00011490: 5f69 642c 2065 6e61 626c 6529 0a20 2020  _id, enable).   
-000114a0: 2020 2020 2073 685f 7479 7065 203d 2073       sh_type = s
-000114b0: 682e 6765 7443 6f6e 7465 6e74 5369 7a65  h.getContentSize
-000114c0: 2873 6861 7265 5f69 6429 203e 2030 2061  (share_id) > 0 a
-000114d0: 6e64 2022 7368 6172 6522 206f 7220 2264  nd "share" or "d
-000114e0: 6973 6375 7373 696f 6e22 0a20 2020 2020  iscussion".     
-000114f0: 2020 2069 6620 6c65 6e28 6164 645f 6d65     if len(add_me
-00011500: 6d62 6572 7329 203e 2030 3a0a 2020 2020  mbers) > 0:.    
-00011510: 2020 2020 2020 2020 7368 2e61 6464 5573          sh.addUs
-00011520: 6572 7328 7368 6172 655f 6964 2c20 6164  ers(share_id, ad
-00011530: 645f 6d65 6d62 6572 7329 0a20 2020 2020  d_members).     
-00011540: 2020 2020 2020 2073 6861 7265 203d 2073         share = s
-00011550: 656c 662e 6765 7453 6861 7265 2873 6861  elf.getShare(sha
-00011560: 7265 5f69 6429 0a20 2020 2020 2020 2020  re_id).         
-00011570: 2020 2062 6f64 7920 3d20 2225 735c 6e5c     body = "%s\n\
-00011580: 6e25 7320 5552 4c3a 2025 735c 6e22 2025  n%s URL: %s\n" %
-00011590: 2028 7368 6172 652e 6d65 7373 6167 652c   (share.message,
-000115a0: 2073 685f 7479 7065 2e74 6974 6c65 2829   sh_type.title()
-000115b0: 2c20 686f 7374 290a 2020 2020 2020 2020  , host).        
-000115c0: 2020 2020 7375 626a 6563 7420 3d20 224f      subject = "O
-000115d0: 4d45 524f 2e25 7320 2573 2220 2520 2873  MERO.%s %s" % (s
-000115e0: 685f 7479 7065 2c20 7368 6172 655f 6964  h_type, share_id
-000115f0: 290a 2020 2020 2020 2020 2020 2020 7368  ).            sh
-00011600: 2e6e 6f74 6966 794d 656d 6265 7273 4f66  .notifyMembersOf
-00011610: 5368 6172 6528 7368 6172 655f 6964 2c20  Share(share_id, 
-00011620: 7375 626a 6563 742c 2062 6f64 792c 2046  subject, body, F
-00011630: 616c 7365 290a 2020 2020 2020 2020 6966  alse).        if
-00011640: 206c 656e 2872 6d5f 6d65 6d62 6572 7329   len(rm_members)
-00011650: 203e 2030 3a0a 2020 2020 2020 2020 2020   > 0:.          
-00011660: 2020 7368 2e72 656d 6f76 6555 7365 7273    sh.removeUsers
-00011670: 2873 6861 7265 5f69 642c 2072 6d5f 6d65  (share_id, rm_me
-00011680: 6d62 6572 7329 0a20 2020 2020 2020 2072  mbers).        r
-00011690: 6574 7572 6e20 7368 6172 655f 6964 0a0a  eturn share_id..
-000116a0: 2020 2020 2323 2323 2323 2323 2323 2323      ############
-000116b0: 2323 2323 2323 2323 2323 2323 2323 2323  ################
-000116c0: 2323 2323 2323 2323 2323 2323 2323 2323  ################
-000116d0: 2323 0a20 2020 2023 2048 6973 746f 7279  ##.    # History
-000116e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000116f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00011700: 2020 2023 230a 0a20 2020 2064 6566 2067     ##..    def g
-00011710: 6574 4461 7461 4279 5065 7269 6f64 2873  etDataByPeriod(s
-00011720: 656c 662c 2073 7461 7274 2c20 656e 642c  elf, start, end,
-00011730: 2065 6964 2c20 6f74 7970 653d 4e6f 6e65   eid, otype=None
-00011740: 2c20 7061 6765 3d4e 6f6e 6529 3a0a 2020  , page=None):.  
-00011750: 2020 2020 2020 2222 220a 2020 2020 2020        """.      
-00011760: 2020 5265 7472 6965 7665 2067 6976 656e    Retrieve given
-00011770: 2064 6174 6120 6f62 6a65 6374 7320 6279   data objects by
-00011780: 2074 6865 2067 6976 656e 2070 6572 696f   the given perio
-00011790: 6420 6f66 2074 696d 650a 2020 2020 2020  d of time.      
-000117a0: 2020 636f 6e74 726f 6c6c 6564 2062 7920    controlled by 
-000117b0: 7468 6520 7365 6375 7269 7479 2073 7973  the security sys
-000117c0: 7465 6d2e 0a0a 2020 2020 2020 2020 4070  tem...        @p
-000117d0: 6172 616d 2073 7461 7274 2020 2020 2020  aram start      
-000117e0: 2020 5374 6172 7469 6e67 2064 6174 610a    Starting data.
-000117f0: 2020 2020 2020 2020 4074 7970 6520 7374          @type st
-00011800: 6172 7420 2020 2020 2020 2020 4c6f 6e67  art         Long
-00011810: 0a20 2020 2020 2020 2040 7061 7261 6d20  .        @param 
-00011820: 656e 6420 2020 2020 2020 2020 2046 696e  end          Fin
-00011830: 6973 6869 6e67 2064 6174 610a 2020 2020  ishing data.    
-00011840: 2020 2020 4074 7970 6520 656e 6420 2020      @type end   
-00011850: 2020 2020 2020 2020 4c6f 6e67 0a20 2020          Long.   
-00011860: 2020 2020 2040 7061 7261 6d20 6f74 7970       @param otyp
-00011870: 6520 2020 2020 2020 2044 6174 6120 7479  e        Data ty
-00011880: 7065 3a20 5072 6f6a 6563 742c 2044 6174  pe: Project, Dat
-00011890: 6173 6574 2c20 496d 6167 650a 2020 2020  aset, Image.    
-000118a0: 2020 2020 4074 7970 6520 6f74 7970 6520      @type otype 
-000118b0: 2020 2020 2020 2020 5374 7269 6e67 0a20          String. 
-000118c0: 2020 2020 2020 2040 7265 7475 726e 3a20         @return: 
-000118d0: 2020 2020 2020 2020 2020 204d 6170 206f             Map o
-000118e0: 6620 7072 6f6a 6563 742c 2064 6174 6173  f project, datas
-000118f0: 6574 2061 6e64 2069 6d61 6765 206c 6973  et and image lis
-00011900: 7473 0a20 2020 2020 2020 2040 7274 7970  ts.        @rtyp
-00011910: 653a 2020 2020 2020 2020 2020 2020 204d  e:             M
-00011920: 6170 0a20 2020 2020 2020 2022 2222 0a20  ap.        """. 
-00011930: 2020 2020 2020 2074 6d20 3d20 7365 6c66         tm = self
-00011940: 2e67 6574 5469 6d65 6c69 6e65 5365 7276  .getTimelineServ
-00011950: 6963 6528 290a 0a20 2020 2020 2020 2070  ice()..        p
-00011960: 203d 206f 6d65 726f 2e73 7973 2e50 6172   = omero.sys.Par
-00011970: 616d 6574 6572 7349 2829 0a20 2020 2020  ametersI().     
-00011980: 2020 2070 2e65 7870 2865 6964 290a 2020     p.exp(eid).  
-00011990: 2020 2020 2020 6966 2070 6167 6520 6973        if page is
-000119a0: 206e 6f74 204e 6f6e 653a 0a20 2020 2020   not None:.     
-000119b0: 2020 2020 2020 2070 2e70 6167 6528 2828         p.page(((
-000119c0: 696e 7428 7061 6765 2920 2d20 3129 202a  int(page) - 1) *
-000119d0: 2073 6574 7469 6e67 732e 5041 4745 292c   settings.PAGE),
-000119e0: 2073 6574 7469 6e67 732e 5041 4745 290a   settings.PAGE).
-000119f0: 2020 2020 2020 2020 656c 7365 3a0a 2020          else:.  
-00011a00: 2020 2020 2020 2020 2020 702e 7061 6765            p.page
-00011a10: 284e 6f6e 652c 2031 3030 290a 0a20 2020  (None, 100)..   
-00011a20: 2020 2020 2069 6d5f 6c69 7374 203d 206c       im_list = l
-00011a30: 6973 7428 290a 2020 2020 2020 2020 6473  ist().        ds
-00011a40: 5f6c 6973 7420 3d20 6c69 7374 2829 0a20  _list = list(). 
-00011a50: 2020 2020 2020 2070 725f 6c69 7374 203d         pr_list =
-00011a60: 206c 6973 7428 290a 0a20 2020 2020 2020   list()..       
-00011a70: 2069 6620 6f74 7970 6520 6973 206e 6f74   if otype is not
-00011a80: 204e 6f6e 6520 616e 6420 6f74 7970 6520   None and otype 
-00011a90: 696e 2028 2249 6d61 6765 222c 2022 4461  in ("Image", "Da
-00011aa0: 7461 7365 7422 2c20 2250 726f 6a65 6374  taset", "Project
-00011ab0: 2229 3a0a 2020 2020 2020 2020 2020 2020  "):.            
-00011ac0: 6f74 7970 6520 3d20 6f74 7970 652e 7469  otype = otype.ti
-00011ad0: 746c 6528 290a 2020 2020 2020 2020 2020  tle().          
-00011ae0: 2020 666f 7220 6520 696e 2074 6d2e 6765    for e in tm.ge
-00011af0: 7442 7950 6572 696f 6428 0a20 2020 2020  tByPeriod(.     
-00011b00: 2020 2020 2020 2020 2020 205b 6f74 7970             [otyp
-00011b10: 655d 2c20 7274 696d 6528 696e 7428 7374  e], rtime(int(st
-00011b20: 6172 7429 292c 2072 7469 6d65 2869 6e74  art)), rtime(int
-00011b30: 2865 6e64 2929 2c20 702c 2054 7275 652c  (end)), p, True,
-00011b40: 2073 656c 662e 5345 5256 4943 455f 4f50   self.SERVICE_OP
-00011b50: 5453 0a20 2020 2020 2020 2020 2020 2029  TS.            )
-00011b60: 5b6f 7479 7065 5d3a 0a20 2020 2020 2020  [otype]:.       
-00011b70: 2020 2020 2020 2020 2077 7261 7070 6572           wrapper
-00011b80: 203d 204b 4e4f 574e 5f57 5241 5050 4552   = KNOWN_WRAPPER
-00011b90: 532e 6765 7428 6f74 7970 652e 7469 746c  S.get(otype.titl
-00011ba0: 6528 292c 204e 6f6e 6529 0a20 2020 2020  e(), None).     
-00011bb0: 2020 2020 2020 2020 2020 2069 6d5f 6c69             im_li
-00011bc0: 7374 2e61 7070 656e 6428 7772 6170 7065  st.append(wrappe
-00011bd0: 7228 7365 6c66 2c20 6529 290a 2020 2020  r(self, e)).    
-00011be0: 2020 2020 656c 7365 3a0a 2020 2020 2020      else:.      
-00011bf0: 2020 2020 2020 7265 7320 3d20 746d 2e67        res = tm.g
-00011c00: 6574 4279 5065 7269 6f64 280a 2020 2020  etByPeriod(.    
-00011c10: 2020 2020 2020 2020 2020 2020 5b22 496d              ["Im
-00011c20: 6167 6522 2c20 2244 6174 6173 6574 222c  age", "Dataset",
-00011c30: 2022 5072 6f6a 6563 7422 5d2c 0a20 2020   "Project"],.   
-00011c40: 2020 2020 2020 2020 2020 2020 2072 7469               rti
-00011c50: 6d65 2869 6e74 2873 7461 7274 2929 2c0a  me(int(start)),.
-00011c60: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00011c70: 7274 696d 6528 696e 7428 656e 6429 292c  rtime(int(end)),
-00011c80: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00011c90: 2070 2c0a 2020 2020 2020 2020 2020 2020   p,.            
-00011ca0: 2020 2020 5472 7565 2c0a 2020 2020 2020      True,.      
-00011cb0: 2020 2020 2020 2020 2020 7365 6c66 2e53            self.S
-00011cc0: 4552 5649 4345 5f4f 5054 532c 0a20 2020  ERVICE_OPTS,.   
-00011cd0: 2020 2020 2020 2020 2029 0a20 2020 2020           ).     
-00011ce0: 2020 2020 2020 2074 7279 3a0a 2020 2020         try:.    
-00011cf0: 2020 2020 2020 2020 2020 2020 666f 7220              for 
-00011d00: 6520 696e 2072 6573 5b22 496d 6167 6522  e in res["Image"
-00011d10: 5d3a 0a20 2020 2020 2020 2020 2020 2020  ]:.             
-00011d20: 2020 2020 2020 2069 6d5f 6c69 7374 2e61         im_list.a
-00011d30: 7070 656e 6428 496d 6167 6557 7261 7070  ppend(ImageWrapp
-00011d40: 6572 2873 656c 662c 2065 2929 0a20 2020  er(self, e)).   
-00011d50: 2020 2020 2020 2020 2065 7863 6570 7420           except 
-00011d60: 4578 6365 7074 696f 6e3a 0a20 2020 2020  Exception:.     
-00011d70: 2020 2020 2020 2020 2020 2070 6173 730a             pass.
-00011d80: 2020 2020 2020 2020 2020 2020 7472 793a              try:
-00011d90: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00011da0: 2066 6f72 2065 2069 6e20 7265 735b 2244   for e in res["D
-00011db0: 6174 6173 6574 225d 3a0a 2020 2020 2020  ataset"]:.      
-00011dc0: 2020 2020 2020 2020 2020 2020 2020 6473                ds
-00011dd0: 5f6c 6973 742e 6170 7065 6e64 2844 6174  _list.append(Dat
-00011de0: 6173 6574 5772 6170 7065 7228 7365 6c66  asetWrapper(self
-00011df0: 2c20 6529 290a 2020 2020 2020 2020 2020  , e)).          
-00011e00: 2020 6578 6365 7074 2045 7863 6570 7469    except Excepti
-00011e10: 6f6e 3a0a 2020 2020 2020 2020 2020 2020  on:.            
-00011e20: 2020 2020 7061 7373 0a20 2020 2020 2020      pass.       
-00011e30: 2020 2020 2074 7279 3a0a 2020 2020 2020       try:.      
-00011e40: 2020 2020 2020 2020 2020 666f 7220 6520            for e 
-00011e50: 696e 2072 6573 5b22 5072 6f6a 6563 7422  in res["Project"
-00011e60: 5d3a 0a20 2020 2020 2020 2020 2020 2020  ]:.             
-00011e70: 2020 2020 2020 2070 725f 6c69 7374 2e61         pr_list.a
-00011e80: 7070 656e 6428 5072 6f6a 6563 7457 7261  ppend(ProjectWra
-00011e90: 7070 6572 2873 656c 662c 2065 2929 0a20  pper(self, e)). 
-00011ea0: 2020 2020 2020 2020 2020 2065 7863 6570             excep
-00011eb0: 7420 4578 6365 7074 696f 6e3a 0a20 2020  t Exception:.   
-00011ec0: 2020 2020 2020 2020 2020 2020 2070 6173               pas
-00011ed0: 730a 2020 2020 2020 2020 7265 7475 726e  s.        return
-00011ee0: 207b 2270 726f 6a65 6374 223a 2070 725f   {"project": pr_
-00011ef0: 6c69 7374 2c20 2264 6174 6173 6574 223a  list, "dataset":
-00011f00: 2064 735f 6c69 7374 2c20 2269 6d61 6765   ds_list, "image
-00011f10: 223a 2069 6d5f 6c69 7374 7d0a 0a20 2020  ": im_list}..   
-00011f20: 2064 6566 2063 6f75 6e74 4461 7461 4279   def countDataBy
-00011f30: 5065 7269 6f64 2873 656c 662c 2073 7461  Period(self, sta
-00011f40: 7274 2c20 656e 642c 2065 6964 2c20 6f74  rt, end, eid, ot
-00011f50: 7970 653d 4e6f 6e65 293a 0a20 2020 2020  ype=None):.     
-00011f60: 2020 2022 2222 0a20 2020 2020 2020 2043     """.        C
-00011f70: 6f75 6e74 7320 6769 7665 6e20 6461 7461  ounts given data
-00011f80: 206f 626a 6563 7473 2062 7920 7468 6520   objects by the 
-00011f90: 6769 7665 6e20 7065 7269 6f64 206f 6620  given period of 
-00011fa0: 7469 6d65 0a20 2020 2020 2020 2063 6f6e  time.        con
-00011fb0: 7472 6f6c 6c65 6420 6279 2074 6865 2073  trolled by the s
-00011fc0: 6563 7572 6974 7920 7379 7374 656d 2e0a  ecurity system..
-00011fd0: 0a20 2020 2020 2020 2040 7061 7261 6d20  .        @param 
-00011fe0: 7374 6172 7420 2020 2020 2020 2053 7461  start        Sta
-00011ff0: 7274 696e 6720 6461 7461 0a20 2020 2020  rting data.     
-00012000: 2020 2040 7479 7065 2073 7461 7274 2020     @type start  
-00012010: 2020 2020 2020 204c 6f6e 670a 2020 2020         Long.    
-00012020: 2020 2020 4070 6172 616d 2065 6e64 2020      @param end  
-00012030: 2020 2020 2020 2020 4669 6e69 7368 696e          Finishin
-00012040: 6720 6461 7461 0a20 2020 2020 2020 2040  g data.        @
-00012050: 7479 7065 2065 6e64 2020 2020 2020 2020  type end        
-00012060: 2020 204c 6f6e 670a 2020 2020 2020 2020     Long.        
-00012070: 4070 6172 616d 206f 7479 7065 2020 2020  @param otype    
-00012080: 2020 2020 4461 7461 2074 7970 653a 2050      Data type: P
-00012090: 726f 6a65 6374 2c20 4461 7461 7365 742c  roject, Dataset,
-000120a0: 2049 6d61 6765 0a20 2020 2020 2020 2040   Image.        @
-000120b0: 7479 7065 206f 7479 7065 2020 2020 2020  type otype      
-000120c0: 2020 2053 7472 696e 670a 2020 2020 2020     String.      
-000120d0: 2020 4072 6574 7572 6e3a 2020 2020 2020    @return:      
-000120e0: 2020 2020 2020 436f 756e 7465 720a 2020        Counter.  
-000120f0: 2020 2020 2020 4072 7479 7065 3a20 2020        @rtype:   
-00012100: 2020 2020 2020 2020 2020 4c6f 6e67 0a20            Long. 
-00012110: 2020 2020 2020 2022 2222 0a20 2020 2020         """.     
-00012120: 2020 2074 6d20 3d20 7365 6c66 2e67 6574     tm = self.get
-00012130: 5469 6d65 6c69 6e65 5365 7276 6963 6528  TimelineService(
-00012140: 290a 2020 2020 2020 2020 7020 3d20 6f6d  ).        p = om
-00012150: 6572 6f2e 7379 732e 5061 7261 6d65 7465  ero.sys.Paramete
-00012160: 7273 2829 0a20 2020 2020 2020 2070 2e6d  rs().        p.m
-00012170: 6170 203d 207b 7d0a 2020 2020 2020 2020  ap = {}.        
-00012180: 6620 3d20 6f6d 6572 6f2e 7379 732e 4669  f = omero.sys.Fi
-00012190: 6c74 6572 2829 0a20 2020 2020 2020 2066  lter().        f
-000121a0: 2e6f 776e 6572 4964 203d 2072 6c6f 6e67  .ownerId = rlong
-000121b0: 2865 6964 290a 2020 2020 2020 2020 2320  (eid).        # 
-000121c0: 662e 6772 6f75 7049 6420 3d20 726c 6f6e  f.groupId = rlon
-000121d0: 6728 7365 6c66 2e67 6574 4576 656e 7443  g(self.getEventC
-000121e0: 6f6e 7465 7874 2829 2e67 726f 7570 4964  ontext().groupId
-000121f0: 290a 2020 2020 2020 2020 702e 7468 6546  ).        p.theF
-00012200: 696c 7465 7220 3d20 660a 2020 2020 2020  ilter = f.      
-00012210: 2020 6966 206f 7479 7065 203d 3d20 2269    if otype == "i
-00012220: 6d61 6765 223a 0a20 2020 2020 2020 2020  mage":.         
-00012230: 2020 2072 6574 7572 6e20 746d 2e63 6f75     return tm.cou
-00012240: 6e74 4279 5065 7269 6f64 280a 2020 2020  ntByPeriod(.    
-00012250: 2020 2020 2020 2020 2020 2020 5b22 496d              ["Im
-00012260: 6167 6522 5d2c 2072 7469 6d65 2869 6e74  age"], rtime(int
-00012270: 2873 7461 7274 2929 2c20 7274 696d 6528  (start)), rtime(
-00012280: 696e 7428 656e 6429 292c 2070 2c20 7365  int(end)), p, se
-00012290: 6c66 2e53 4552 5649 4345 5f4f 5054 530a  lf.SERVICE_OPTS.
-000122a0: 2020 2020 2020 2020 2020 2020 295b 2249              )["I
-000122b0: 6d61 6765 225d 0a20 2020 2020 2020 2065  mage"].        e
-000122c0: 6c69 6620 6f74 7970 6520 3d3d 2022 6461  lif otype == "da
-000122d0: 7461 7365 7422 3a0a 2020 2020 2020 2020  taset":.        
-000122e0: 2020 2020 7265 7475 726e 2074 6d2e 636f      return tm.co
-000122f0: 756e 7442 7950 6572 696f 6428 0a20 2020  untByPeriod(.   
-00012300: 2020 2020 2020 2020 2020 2020 205b 2244               ["D
-00012310: 6174 6173 6574 225d 2c20 7274 696d 6528  ataset"], rtime(
-00012320: 696e 7428 7374 6172 7429 292c 2072 7469  int(start)), rti
-00012330: 6d65 2869 6e74 2865 6e64 2929 2c20 702c  me(int(end)), p,
-00012340: 2073 656c 662e 5345 5256 4943 455f 4f50   self.SERVICE_OP
-00012350: 5453 0a20 2020 2020 2020 2020 2020 2029  TS.            )
-00012360: 5b22 4461 7461 7365 7422 5d0a 2020 2020  ["Dataset"].    
-00012370: 2020 2020 656c 6966 206f 7479 7065 203d      elif otype =
-00012380: 3d20 2270 726f 6a65 6374 223a 0a20 2020  = "project":.   
-00012390: 2020 2020 2020 2020 2072 6574 7572 6e20           return 
-000123a0: 746d 2e63 6f75 6e74 4279 5065 7269 6f64  tm.countByPeriod
-000123b0: 280a 2020 2020 2020 2020 2020 2020 2020  (.              
-000123c0: 2020 5b22 5072 6f6a 6563 7422 5d2c 2072    ["Project"], r
-000123d0: 7469 6d65 2869 6e74 2873 7461 7274 2929  time(int(start))
-000123e0: 2c20 7274 696d 6528 696e 7428 656e 6429  , rtime(int(end)
-000123f0: 292c 2070 2c20 7365 6c66 2e53 4552 5649  ), p, self.SERVI
-00012400: 4345 5f4f 5054 530a 2020 2020 2020 2020  CE_OPTS.        
-00012410: 2020 2020 295b 2250 726f 6a65 6374 225d      )["Project"]
-00012420: 0a20 2020 2020 2020 2065 6c73 653a 0a20  .        else:. 
-00012430: 2020 2020 2020 2020 2020 2063 203d 2074             c = t
-00012440: 6d2e 636f 756e 7442 7950 6572 696f 6428  m.countByPeriod(
-00012450: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00012460: 205b 2249 6d61 6765 222c 2022 4461 7461   ["Image", "Data
-00012470: 7365 7422 2c20 2250 726f 6a65 6374 225d  set", "Project"]
-00012480: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
-00012490: 2020 7274 696d 6528 696e 7428 7374 6172    rtime(int(star
-000124a0: 7429 292c 0a20 2020 2020 2020 2020 2020  t)),.           
-000124b0: 2020 2020 2072 7469 6d65 2869 6e74 2865       rtime(int(e
-000124c0: 6e64 2929 2c0a 2020 2020 2020 2020 2020  nd)),.          
-000124d0: 2020 2020 2020 702c 0a20 2020 2020 2020        p,.       
-000124e0: 2020 2020 2020 2020 2073 656c 662e 5345           self.SE
-000124f0: 5256 4943 455f 4f50 5453 2c0a 2020 2020  RVICE_OPTS,.    
-00012500: 2020 2020 2020 2020 290a 2020 2020 2020          ).      
-00012510: 2020 2020 2020 7265 7475 726e 2063 5b22        return c["
-00012520: 496d 6167 6522 5d20 2b20 635b 2244 6174  Image"] + c["Dat
-00012530: 6173 6574 225d 202b 2063 5b22 5072 6f6a  aset"] + c["Proj
-00012540: 6563 7422 5d0a 0a20 2020 2064 6566 2067  ect"]..    def g
-00012550: 6574 4576 656e 7473 4279 5065 7269 6f64  etEventsByPeriod
-00012560: 2873 656c 662c 2073 7461 7274 2c20 656e  (self, start, en
-00012570: 642c 2065 6964 293a 0a20 2020 2020 2020  d, eid):.       
-00012580: 2022 2222 0a20 2020 2020 2020 2052 6574   """.        Ret
-00012590: 7269 6576 6520 6576 656e 7420 6c6f 6720  rieve event log 
-000125a0: 6f62 6a65 6374 7320 6279 2074 6865 2067  objects by the g
-000125b0: 6976 656e 2070 6572 696f 6420 6f66 2074  iven period of t
-000125c0: 696d 650a 2020 2020 2020 2020 636f 6e74  ime.        cont
-000125d0: 726f 6c6c 6564 2062 7920 7468 6520 7365  rolled by the se
-000125e0: 6375 7269 7479 2073 7973 7465 6d2e 0a0a  curity system...
-000125f0: 2020 2020 2020 2020 4070 6172 616d 2073          @param s
-00012600: 7461 7274 2020 2020 2020 2020 5374 6172  tart        Star
-00012610: 7469 6e67 2064 6174 610a 2020 2020 2020  ting data.      
-00012620: 2020 4074 7970 6520 7374 6172 7420 2020    @type start   
-00012630: 2020 2020 2020 4c6f 6e67 0a20 2020 2020        Long.     
-00012640: 2020 2040 7061 7261 6d20 656e 6420 2020     @param end   
-00012650: 2020 2020 2020 2046 696e 6973 6869 6e67         Finishing
-00012660: 2064 6174 610a 2020 2020 2020 2020 4074   data.        @t
-00012670: 7970 6520 656e 6420 2020 2020 2020 2020  ype end         
-00012680: 2020 4c6f 6e67 0a20 2020 2020 2020 2040    Long.        @
-00012690: 7265 7475 726e 3a20 2020 2020 2020 2020  return:         
-000126a0: 2020 204c 6973 7420 6f66 2065 7665 6e74     List of event
-000126b0: 206c 6f67 730a 2020 2020 2020 2020 4072   logs.        @r
-000126c0: 7479 7065 3a20 2020 2020 2020 2020 2020  type:           
-000126d0: 2020 4c69 7374 0a20 2020 2020 2020 2022    List.        "
-000126e0: 2222 0a20 2020 2020 2020 2074 6d20 3d20  "".        tm = 
-000126f0: 7365 6c66 2e67 6574 5469 6d65 6c69 6e65  self.getTimeline
-00012700: 5365 7276 6963 6528 290a 2020 2020 2020  Service().      
-00012710: 2020 7020 3d20 6f6d 6572 6f2e 7379 732e    p = omero.sys.
-00012720: 5061 7261 6d65 7465 7273 2829 0a20 2020  Parameters().   
-00012730: 2020 2020 2070 2e6d 6170 203d 207b 7d0a       p.map = {}.
-00012740: 2020 2020 2020 2020 6620 3d20 6f6d 6572          f = omer
-00012750: 6f2e 7379 732e 4669 6c74 6572 2829 0a20  o.sys.Filter(). 
-00012760: 2020 2020 2020 2066 2e6c 696d 6974 203d         f.limit =
-00012770: 2072 696e 7428 3130 3030 3030 290a 2020   rint(100000).  
-00012780: 2020 2020 2020 7472 793a 0a20 2020 2020        try:.     
-00012790: 2020 2020 2020 2066 2e67 726f 7570 4964         f.groupId
-000127a0: 203d 2072 6c6f 6e67 2873 656c 662e 5345   = rlong(self.SE
-000127b0: 5256 4943 455f 4f50 5453 2e67 6574 4f6d  RVICE_OPTS.getOm
-000127c0: 6572 6f47 726f 7570 2829 290a 2020 2020  eroGroup()).    
-000127d0: 2020 2020 6578 6365 7074 2045 7863 6570      except Excep
-000127e0: 7469 6f6e 3a0a 2020 2020 2020 2020 2020  tion:.          
-000127f0: 2020 662e 6772 6f75 7049 6420 3d20 726c    f.groupId = rl
-00012800: 6f6e 6728 7365 6c66 2e67 6574 4576 656e  ong(self.getEven
-00012810: 7443 6f6e 7465 7874 2829 2e67 726f 7570  tContext().group
-00012820: 4964 290a 2020 2020 2020 2020 662e 6f77  Id).        f.ow
-00012830: 6e65 7249 6420 3d20 726c 6f6e 6728 6569  nerId = rlong(ei
-00012840: 6420 6f72 2073 656c 662e 6765 7445 7665  d or self.getEve
-00012850: 6e74 436f 6e74 6578 7428 292e 7573 6572  ntContext().user
-00012860: 4964 290a 2020 2020 2020 2020 702e 7468  Id).        p.th
-00012870: 6546 696c 7465 7220 3d20 660a 2020 2020  eFilter = f.    
-00012880: 2020 2020 7365 7276 6963 655f 6f70 7473      service_opts
-00012890: 203d 2073 656c 662e 6372 6561 7465 5365   = self.createSe
-000128a0: 7276 6963 654f 7074 7344 6963 7428 290a  rviceOptsDict().
-000128b0: 2020 2020 2020 2020 7365 7276 6963 655f          service_
-000128c0: 6f70 7473 2e73 6574 4f6d 6572 6f47 726f  opts.setOmeroGro
-000128d0: 7570 2873 7472 2866 2e67 726f 7570 4964  up(str(f.groupId
-000128e0: 2e76 616c 2929 0a20 2020 2020 2020 2072  .val)).        r
-000128f0: 6574 7572 6e20 746d 2e67 6574 4576 656e  eturn tm.getEven
-00012900: 744c 6f67 7342 7950 6572 696f 6428 7274  tLogsByPeriod(rt
-00012910: 696d 6528 7374 6172 7429 2c20 7274 696d  ime(start), rtim
-00012920: 6528 656e 6429 2c20 702c 2073 6572 7669  e(end), p, servi
-00012930: 6365 5f6f 7074 7329 0a20 2020 2020 2020  ce_opts).       
-00012940: 2023 2079 6965 6c64 2045 7665 6e74 4c6f   # yield EventLo
-00012950: 6757 7261 7070 6572 2873 656c 662c 2065  gWrapper(self, e
-00012960: 290a 0a20 2020 2064 6566 2072 6567 726f  )..    def regro
-00012970: 7570 4669 6c65 7365 7473 2873 656c 662c  upFilesets(self,
-00012980: 2064 7349 6473 2c20 6673 4964 7329 3a0a   dsIds, fsIds):.
-00012990: 2020 2020 2020 2020 2222 220a 2020 2020          """.    
-000129a0: 2020 2020 466f 7220 6561 6368 2046 696c      For each Fil
-000129b0: 6573 6574 2c20 6d61 6b65 2073 7572 6520  eset, make sure 
-000129c0: 616c 6c20 7468 6520 496d 6167 6573 2061  all the Images a
-000129d0: 7265 2069 6e20 7468 6520 7361 6d65 2044  re in the same D
-000129e0: 6174 6173 6574 0a20 2020 2020 2020 2061  ataset.        a
-000129f0: 7320 6561 6368 206f 7468 6572 2e0a 2020  s each other..  
-00012a00: 2020 2020 2020 5765 2063 686f 6f73 6520        We choose 
-00012a10: 6120 2774 6172 6765 7427 2044 6174 6173  a 'target' Datas
-00012a20: 6574 2074 6861 7420 616c 7265 6164 7920  et that already 
-00012a30: 6861 7320 6f6e 6520 6f66 2074 6865 2046  has one of the F
-00012a40: 696c 6573 6574 0a20 2020 2020 2020 2049  ileset.        I
-00012a50: 6d61 6765 7320 696e 2069 742c 2061 6e64  mages in it, and
-00012a60: 2069 7320 696e 2074 6865 2064 7349 6473   is in the dsIds
-00012a70: 206c 6973 742e 0a20 2020 2020 2020 2054   list..        T
-00012a80: 6869 7320 6d65 7468 6f64 2069 7320 7573  his method is us
-00012a90: 6564 2077 6865 6e20 7072 6570 6172 696e  ed when preparin
-00012aa0: 6720 746f 2063 6867 7270 2074 6865 2073  g to chgrp the s
-00012ab0: 7065 6369 6669 6564 2064 6174 6173 6574  pecified dataset
-00012ac0: 730a 2020 2020 2020 2020 2222 220a 0a20  s.        """.. 
-00012ad0: 2020 2020 2020 2066 6f72 2066 696c 6573         for files
-00012ae0: 6574 2069 6e20 7365 6c66 2e67 6574 4f62  et in self.getOb
-00012af0: 6a65 6374 7328 2246 696c 6573 6574 222c  jects("Fileset",
-00012b00: 2066 7349 6473 293a 0a20 2020 2020 2020   fsIds):.       
-00012b10: 2020 2020 2067 6964 203d 2066 696c 6573       gid = files
-00012b20: 6574 2e67 6574 4465 7461 696c 7328 292e  et.getDetails().
-00012b30: 6772 6f75 702e 6964 2e76 616c 0a20 2020  group.id.val.   
-00012b40: 2020 2020 2020 2020 2073 656c 662e 5345           self.SE
-00012b50: 5256 4943 455f 4f50 5453 2e73 6574 4f6d  RVICE_OPTS.setOm
-00012b60: 6572 6f47 726f 7570 2867 6964 290a 2020  eroGroup(gid).  
-00012b70: 2020 2020 2020 2020 2020 2320 616c 6c20            # all 
-00012b80: 7468 6573 6520 6e65 6564 2074 6f20 6265  these need to be
-00012b90: 2069 6e20 7361 6d65 2044 6174 6173 6574   in same Dataset
-00012ba0: 0a20 2020 2020 2020 2020 2020 2066 7349  .            fsI
-00012bb0: 6d67 7320 3d20 6669 6c65 7365 742e 636f  mgs = fileset.co
-00012bc0: 7079 496d 6167 6573 2829 0a20 2020 2020  pyImages().     
-00012bd0: 2020 2020 2020 2023 2066 696e 6420 6f6e         # find on
-00012be0: 6520 6f66 2074 6865 2044 6174 6173 6574  e of the Dataset
-00012bf0: 7320 286f 626a 5f69 6473 2920 7468 6174  s (obj_ids) that
-00012c00: 2063 6f6e 7461 696e 7320 6f6e 6520 6f66   contains one of
-00012c10: 2074 6865 7365 0a20 2020 2020 2020 2020   these.         
-00012c20: 2020 2023 2069 6d61 6765 732e 2e2e 0a20     # images.... 
-00012c30: 2020 2020 2020 2020 2020 2074 6172 6765             targe
-00012c40: 745f 6473 203d 204e 6f6e 650a 2020 2020  t_ds = None.    
-00012c50: 2020 2020 2020 2020 666f 7220 6920 696e          for i in
-00012c60: 2066 7349 6d67 733a 0a20 2020 2020 2020   fsImgs:.       
-00012c70: 2020 2020 2020 2020 2066 6f72 2064 2069           for d i
-00012c80: 6e20 692e 6c69 7374 5061 7265 6e74 7328  n i.listParents(
-00012c90: 293a 0a20 2020 2020 2020 2020 2020 2020  ):.             
-00012ca0: 2020 2020 2020 2069 6620 642e 6964 2069         if d.id i
-00012cb0: 6e20 6473 4964 733a 0a20 2020 2020 2020  n dsIds:.       
-00012cc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00012cd0: 2074 6172 6765 745f 6473 203d 2064 2e69   target_ds = d.i
-00012ce0: 640a 2020 2020 2020 2020 2020 2020 2020  d.              
-00012cf0: 2020 2020 2020 2020 2020 6272 6561 6b0a            break.
-00012d00: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00012d10: 6966 2074 6172 6765 745f 6473 2069 7320  if target_ds is 
-00012d20: 6e6f 7420 4e6f 6e65 3a0a 2020 2020 2020  not None:.      
-00012d30: 2020 2020 2020 2020 2020 2020 2020 6272                br
-00012d40: 6561 6b0a 2020 2020 2020 2020 2020 2020  eak.            
-00012d50: 2320 6d6f 7665 2041 4c4c 2066 7320 696d  # move ALL fs im
-00012d60: 6167 6573 2069 6e74 6f20 7468 6174 2044  ages into that D
-00012d70: 6174 6173 6574 0a20 2020 2020 2020 2020  ataset.         
-00012d80: 2020 2066 6f72 2069 2069 6e20 6673 496d     for i in fsIm
-00012d90: 6773 3a0a 2020 2020 2020 2020 2020 2020  gs:.            
-00012da0: 2020 2020 636f 7272 6563 745f 6461 7461      correct_data
-00012db0: 7365 7420 3d20 4661 6c73 650a 2020 2020  set = False.    
-00012dc0: 2020 2020 2020 2020 2020 2020 666f 7220              for 
-00012dd0: 706c 696e 6b20 696e 2069 2e67 6574 5061  plink in i.getPa
-00012de0: 7265 6e74 4c69 6e6b 7328 293a 0a20 2020  rentLinks():.   
-00012df0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00012e00: 2069 6620 706c 696e 6b2e 7061 7265 6e74   if plink.parent
-00012e10: 2e69 6420 213d 2074 6172 6765 745f 6473  .id != target_ds
-00012e20: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-00012e30: 2020 2020 2020 2020 2020 7365 6c66 2e64            self.d
-00012e40: 656c 6574 654f 626a 6563 7428 706c 696e  eleteObject(plin
-00012e50: 6b2e 5f6f 626a 290a 2020 2020 2020 2020  k._obj).        
-00012e60: 2020 2020 2020 2020 2020 2020 656c 7365              else
-00012e70: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-00012e80: 2020 2020 2020 2020 2020 636f 7272 6563            correc
-00012e90: 745f 6461 7461 7365 7420 3d20 5472 7565  t_dataset = True
-00012ea0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00012eb0: 2069 6620 6e6f 7420 636f 7272 6563 745f   if not correct_
-00012ec0: 6461 7461 7365 743a 0a20 2020 2020 2020  dataset:.       
-00012ed0: 2020 2020 2020 2020 2020 2020 206c 696e               lin
-00012ee0: 6b20 3d20 6f6d 6572 6f2e 6d6f 6465 6c2e  k = omero.model.
-00012ef0: 4461 7461 7365 7449 6d61 6765 4c69 6e6b  DatasetImageLink
-00012f00: 4928 290a 2020 2020 2020 2020 2020 2020  I().            
-00012f10: 2020 2020 2020 2020 6c69 6e6b 2e73 6574          link.set
-00012f20: 4368 696c 6428 6f6d 6572 6f2e 6d6f 6465  Child(omero.mode
-00012f30: 6c2e 496d 6167 6549 2869 2e67 6574 4964  l.ImageI(i.getId
-00012f40: 2829 2c20 4661 6c73 6529 290a 2020 2020  (), False)).    
-00012f50: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00012f60: 6c69 6e6b 2e73 6574 5061 7265 6e74 286f  link.setParent(o
-00012f70: 6d65 726f 2e6d 6f64 656c 2e44 6174 6173  mero.model.Datas
-00012f80: 6574 4928 7461 7267 6574 5f64 732c 2046  etI(target_ds, F
-00012f90: 616c 7365 2929 0a20 2020 2020 2020 2020  alse)).         
-00012fa0: 2020 2020 2020 2020 2020 2073 656c 662e             self.
-00012fb0: 7361 7665 4f62 6a65 6374 286c 696e 6b29  saveObject(link)
-00012fc0: 0a0a 2020 2020 2020 2020 2320 636f 6e6e  ..        # conn
-00012fd0: 2e63 6867 7270 4f62 6a65 6374 7328 6474  .chgrpObjects(dt
-00012fe0: 7970 652c 206f 626a 5f69 6473 2c20 6772  ype, obj_ids, gr
-00012ff0: 6f75 705f 6964 2c20 636f 6e74 6169 6e65  oup_id, containe
-00013000: 725f 6964 290a 0a0a 6f6d 6572 6f2e 6761  r_id)...omero.ga
-00013010: 7465 7761 792e 426c 6974 7a47 6174 6577  teway.BlitzGatew
-00013020: 6179 203d 204f 6d65 726f 5765 6247 6174  ay = OmeroWebGat
-00013030: 6577 6179 0a0a 0a63 6c61 7373 204f 6d65  eway...class Ome
-00013040: 726f 5765 6253 6166 6543 616c 6c57 7261  roWebSafeCallWra
-00013050: 7070 6572 284f 6d65 726f 4761 7465 7761  pper(OmeroGatewa
-00013060: 7953 6166 6543 616c 6c57 7261 7070 6572  ySafeCallWrapper
-00013070: 293a 2020 2320 7072 6167 6d61 3a20 6e6f  ):  # pragma: no
-00013080: 2063 6f76 6572 0a20 2020 2022 2222 0a20   cover.    """. 
-00013090: 2020 2046 756e 6374 696f 6e20 6f72 206d     Function or m
-000130a0: 6574 686f 6420 7772 6170 7065 7220 7468  ethod wrapper th
-000130b0: 6174 2068 616e 646c 6573 204c 7b49 6365  at handles L{Ice
-000130c0: 2e4f 626a 6563 744e 6f74 4578 6973 7445  .ObjectNotExistE
-000130d0: 7863 6570 7469 6f6e 7d0a 2020 2020 6279  xception}.    by
-000130e0: 2072 652d 6372 6561 7469 6e67 2074 6865   re-creating the
-000130f0: 2073 6572 7665 7220 7369 6465 2070 726f   server side pro
-00013100: 7879 2e0a 2020 2020 2222 220a 0a20 2020  xy..    """..   
-00013110: 2064 6566 2068 616e 646c 655f 6578 6365   def handle_exce
-00013120: 7074 696f 6e28 7365 6c66 2c20 652c 202a  ption(self, e, *
-00013130: 6172 6773 2c20 2a2a 6b77 6172 6773 293a  args, **kwargs):
-00013140: 0a20 2020 2020 2020 2069 6620 652e 5f5f  .        if e.__
-00013150: 636c 6173 735f 5f20 6973 2049 6365 2e4f  class__ is Ice.O
-00013160: 626a 6563 744e 6f74 4578 6973 7445 7863  bjectNotExistExc
-00013170: 6570 7469 6f6e 3a0a 2020 2020 2020 2020  eption:.        
-00013180: 2020 2020 2320 5265 7374 6f72 6564 2070      # Restored p
-00013190: 726f 7879 206f 626a 6563 7420 7265 2d63  roxy object re-c
-000131a0: 7265 6174 696f 6e20 6c6f 6769 6320 6672  reation logic fr
-000131b0: 6f6d 2074 6865 2070 7265 2d23 3538 3335  om the pre-#5835
-000131c0: 0a20 2020 2020 2020 2020 2020 2023 2076  .            # v
-000131d0: 6572 7369 6f6e 206f 6620 2320 5f73 6166  ersion of # _saf
-000131e0: 6543 616c 6c57 7261 7028 2920 6672 6f6d  eCallWrap() from
-000131f0: 206f 6d65 726f 2e67 6174 6577 6179 2e20   omero.gateway. 
-00013200: 2853 6565 2023 3633 3635 290a 2020 2020  (See #6365).    
-00013210: 2020 2020 2020 2020 6c6f 6767 6572 2e77          logger.w
-00013220: 6172 6e28 2241 7474 656d 7074 696e 6720  arn("Attempting 
-00013230: 746f 2072 652d 6372 6561 7465 2070 726f  to re-create pro
-00013240: 7879 2061 6e64 2072 652d 6361 6c6c 206d  xy and re-call m
-00013250: 6574 686f 642e 2229 0a20 2020 2020 2020  ethod.").       
-00013260: 2020 2020 2074 7279 3a0a 2020 2020 2020       try:.      
-00013270: 2020 2020 2020 2020 2020 7365 6c66 2e70            self.p
-00013280: 726f 7879 4f62 6a65 6374 5772 6170 7065  roxyObjectWrappe
-00013290: 722e 5f6f 626a 203d 2073 656c 662e 7072  r._obj = self.pr
-000132a0: 6f78 794f 626a 6563 7457 7261 7070 6572  oxyObjectWrapper
-000132b0: 2e5f 6372 6561 7465 5f66 756e 6328 290a  ._create_func().
-000132c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000132d0: 6675 6e63 203d 2067 6574 6174 7472 2873  func = getattr(s
-000132e0: 656c 662e 7072 6f78 794f 626a 6563 7457  elf.proxyObjectW
-000132f0: 7261 7070 6572 2e5f 6f62 6a2c 2073 656c  rapper._obj, sel
-00013300: 662e 6174 7472 290a 2020 2020 2020 2020  f.attr).        
-00013310: 2020 2020 2020 2020 7265 7475 726e 2066          return f
-00013320: 756e 6328 2a61 7267 732c 202a 2a6b 7761  unc(*args, **kwa
-00013330: 7267 7329 0a20 2020 2020 2020 2020 2020  rgs).           
-00013340: 2065 7863 6570 7420 4578 6365 7074 696f   except Exceptio
-00013350: 6e20 6173 2065 3a0a 2020 2020 2020 2020  n as e:.        
-00013360: 2020 2020 2020 2020 7365 6c66 2e64 6562          self.deb
-00013370: 7567 2865 2e5f 5f63 6c61 7373 5f5f 2e5f  ug(e.__class__._
-00013380: 5f6e 616d 655f 5f2c 2061 7267 732c 206b  _name__, args, k
-00013390: 7761 7267 7329 0a20 2020 2020 2020 2020  wargs).         
-000133a0: 2020 2020 2020 2072 6169 7365 0a20 2020         raise.   
-000133b0: 2020 2020 2065 6c73 653a 0a20 2020 2020       else:.     
-000133c0: 2020 2020 2020 2073 7570 6572 284f 6d65         super(Ome
-000133d0: 726f 5765 6253 6166 6543 616c 6c57 7261  roWebSafeCallWra
-000133e0: 7070 6572 2c20 7365 6c66 292e 6861 6e64  pper, self).hand
-000133f0: 6c65 5f65 7863 6570 7469 6f6e 2865 2c20  le_exception(e, 
-00013400: 2a61 7267 732c 202a 2a6b 7761 7267 7329  *args, **kwargs)
-00013410: 0a0a 0a6f 6d65 726f 2e67 6174 6577 6179  ...omero.gateway
-00013420: 2e53 6166 6543 616c 6c57 7261 7070 6572  .SafeCallWrapper
-00013430: 203d 204f 6d65 726f 5765 6253 6166 6543   = OmeroWebSafeC
-00013440: 616c 6c57 7261 7070 6572 0a0a 0a63 6c61  allWrapper...cla
-00013450: 7373 204f 6d65 726f 5765 624f 626a 6563  ss OmeroWebObjec
-00013460: 7457 7261 7070 6572 286f 626a 6563 7429  tWrapper(object)
-00013470: 3a0a 0a20 2020 2061 6e6e 6f74 6174 696f  :..    annotatio
-00013480: 6e5f 636f 756e 7465 7220 3d20 4e6f 6e65  n_counter = None
-00013490: 0a0a 2020 2020 6465 6620 636f 756e 7450  ..    def countP
-000134a0: 6172 656e 7473 2873 656c 6629 3a0a 2020  arents(self):.  
-000134b0: 2020 2020 2020 6c70 203d 2073 656c 662e        lp = self.
-000134c0: 6c69 7374 5061 7265 6e74 7328 290a 2020  listParents().  
-000134d0: 2020 2020 2020 6966 206c 7020 6973 206e        if lp is n
-000134e0: 6f74 204e 6f6e 653a 0a20 2020 2020 2020  ot None:.       
-000134f0: 2020 2020 2072 6574 7572 6e20 6c65 6e28       return len(
-00013500: 6c70 290a 0a20 2020 2064 6566 2063 6f75  lp)..    def cou
-00013510: 6e74 416e 6e6f 7461 7469 6f6e 7328 7365  ntAnnotations(se
-00013520: 6c66 293a 0a20 2020 2020 2020 2022 2222  lf):.        """
-00013530: 0a20 2020 2020 2020 2043 6f75 6e74 206f  .        Count o
-00013540: 6e20 616e 6e6f 7461 7469 6f6e 7320 6c69  n annotations li
-00013550: 6e6b 6564 2074 6f20 7468 6520 6f62 6a65  nked to the obje
-00013560: 6374 2061 6e64 2073 6574 2074 6865 2076  ct and set the v
-00013570: 616c 7565 0a20 2020 2020 2020 206f 6e20  alue.        on 
-00013580: 7468 6520 6375 7374 6f6d 2066 6965 6c73  the custom fiels
-00013590: 2027 616e 6e6f 7461 7469 6f6e 5f63 6f75   'annotation_cou
-000135a0: 6e74 6572 272e 0a0a 2020 2020 2020 2020  nter'...        
-000135b0: 4072 6574 7572 6e20 2020 2020 436f 756e  @return     Coun
-000135c0: 7465 720a 2020 2020 2020 2020 2222 220a  ter.        """.
-000135d0: 0a20 2020 2020 2020 2069 6620 7365 6c66  .        if self
-000135e0: 2e61 6e6e 6f74 6174 696f 6e5f 636f 756e  .annotation_coun
-000135f0: 7465 7220 6973 206e 6f74 204e 6f6e 653a  ter is not None:
-00013600: 0a20 2020 2020 2020 2020 2020 2072 6574  .            ret
-00013610: 7572 6e20 7365 6c66 2e61 6e6e 6f74 6174  urn self.annotat
-00013620: 696f 6e5f 636f 756e 7465 720a 2020 2020  ion_counter.    
-00013630: 2020 2020 656c 7365 3a0a 2020 2020 2020      else:.      
-00013640: 2020 2020 2020 636f 6e74 6169 6e65 7220        container 
-00013650: 3d20 7365 6c66 2e5f 636f 6e6e 2e67 6574  = self._conn.get
-00013660: 436f 6e74 6169 6e65 7253 6572 7669 6365  ContainerService
-00013670: 2829 0a20 2020 2020 2020 2020 2020 206d  ().            m
-00013680: 203d 2063 6f6e 7461 696e 6572 2e67 6574   = container.get
-00013690: 436f 6c6c 6563 7469 6f6e 436f 756e 7428  CollectionCount(
-000136a0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-000136b0: 2073 656c 662e 5f6f 626a 2e5f 5f63 6c61   self._obj.__cla
-000136c0: 7373 5f5f 2e5f 5f6e 616d 655f 5f2c 0a20  ss__.__name__,. 
-000136d0: 2020 2020 2020 2020 2020 2020 2020 2074                 t
-000136e0: 7970 6528 7365 6c66 2e5f 6f62 6a29 2e41  ype(self._obj).A
-000136f0: 4e4e 4f54 4154 494f 4e4c 494e 4b53 2c0a  NNOTATIONLINKS,.
-00013700: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00013710: 5b73 656c 662e 5f6f 6964 5d2c 0a20 2020  [self._oid],.   
-00013720: 2020 2020 2020 2020 2020 2020 204e 6f6e               Non
-00013730: 652c 0a20 2020 2020 2020 2020 2020 2029  e,.            )
-00013740: 0a20 2020 2020 2020 2020 2020 2069 6620  .            if 
-00013750: 6d5b 7365 6c66 2e5f 6f69 645d 203e 2030  m[self._oid] > 0
-00013760: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-00013770: 2020 7365 6c66 2e61 6e6e 6f74 6174 696f    self.annotatio
-00013780: 6e5f 636f 756e 7465 7220 3d20 6d5b 7365  n_counter = m[se
-00013790: 6c66 2e5f 6f69 645d 0a20 2020 2020 2020  lf._oid].       
-000137a0: 2020 2020 2020 2020 2072 6574 7572 6e20           return 
-000137b0: 7365 6c66 2e61 6e6e 6f74 6174 696f 6e5f  self.annotation_
-000137c0: 636f 756e 7465 720a 2020 2020 2020 2020  counter.        
-000137d0: 2020 2020 656c 7365 3a0a 2020 2020 2020      else:.      
-000137e0: 2020 2020 2020 2020 2020 7265 7475 726e            return
-000137f0: 204e 6f6e 650a 0a20 2020 2064 6566 2067   None..    def g
-00013800: 6574 5065 726d 6973 7369 6f6e 7328 7365  etPermissions(se
-00013810: 6c66 293a 0a20 2020 2020 2020 2070 203d  lf):.        p =
-00013820: 204e 6f6e 650a 2020 2020 2020 2020 6966   None.        if
-00013830: 2073 656c 662e 6465 7461 696c 732e 6765   self.details.ge
-00013840: 7450 6572 6d69 7373 696f 6e73 2829 2069  tPermissions() i
-00013850: 7320 4e6f 6e65 3a0a 2020 2020 2020 2020  s None:.        
-00013860: 2020 2020 7265 7475 726e 2022 756e 6b6e      return "unkn
-00013870: 6f77 6e22 0a20 2020 2020 2020 2065 6c73  own".        els
-00013880: 653a 0a20 2020 2020 2020 2020 2020 2070  e:.            p
-00013890: 203d 2073 656c 662e 6465 7461 696c 732e   = self.details.
-000138a0: 6765 7450 6572 6d69 7373 696f 6e73 2829  getPermissions()
-000138b0: 0a20 2020 2020 2020 2069 6620 702e 6973  .        if p.is
-000138c0: 4772 6f75 7057 7269 7465 2829 3a0a 2020  GroupWrite():.  
-000138d0: 2020 2020 2020 2020 2020 666c 6167 203d            flag =
-000138e0: 2022 5265 6164 2d57 7269 7465 220a 2020   "Read-Write".  
-000138f0: 2020 2020 2020 656c 6966 2070 2e69 7347        elif p.isG
-00013900: 726f 7570 416e 6e6f 7461 7465 2829 3a0a  roupAnnotate():.
-00013910: 2020 2020 2020 2020 2020 2020 666c 6167              flag
-00013920: 203d 2022 5265 6164 2d41 6e6e 6f74 6174   = "Read-Annotat
-00013930: 6522 0a20 2020 2020 2020 2065 6c69 6620  e".        elif 
-00013940: 702e 6973 4772 6f75 7052 6561 6428 293a  p.isGroupRead():
-00013950: 0a20 2020 2020 2020 2020 2020 2066 6c61  .            fla
-00013960: 6720 3d20 2252 6561 642d 4f6e 6c79 220a  g = "Read-Only".
-00013970: 2020 2020 2020 2020 656c 6966 2070 2e69          elif p.i
-00013980: 7355 7365 7252 6561 6428 293a 0a20 2020  sUserRead():.   
-00013990: 2020 2020 2020 2020 2066 6c61 6720 3d20           flag = 
-000139a0: 2250 7269 7661 7465 220a 2020 2020 2020  "Private".      
-000139b0: 2020 656c 7365 3a0a 2020 2020 2020 2020    else:.        
-000139c0: 2020 2020 666c 6167 203d 2070 0a20 2020      flag = p.   
-000139d0: 2020 2020 2072 6574 7572 6e20 666c 6167       return flag
-000139e0: 0a0a 2020 2020 6465 6620 7761 7270 4e61  ..    def warpNa
-000139f0: 6d65 2873 656c 6629 3a0a 2020 2020 2020  me(self):.      
-00013a00: 2020 2222 220a 2020 2020 2020 2020 5761    """.        Wa
-00013a10: 7270 206e 616d 6520 6f66 2074 6865 206f  rp name of the o
-00013a20: 626a 6563 7420 6966 206e 616d 6573 2069  bject if names i
-00013a30: 7320 6c6f 6e67 6572 2074 6865 6e20 3330  s longer then 30
-00013a40: 2063 6861 7261 6374 6572 732e 0a0a 2020   characters...  
-00013a50: 2020 2020 2020 4072 6574 7572 6e20 2020        @return   
-00013a60: 2020 5761 7270 6564 2073 7472 696e 672e    Warped string.
-00013a70: 0a20 2020 2020 2020 2022 2222 0a0a 2020  .        """..  
-00013a80: 2020 2020 2020 7472 793a 0a20 2020 2020        try:.     
-00013a90: 2020 2020 2020 206c 656e 6774 6820 3d20         length = 
-00013aa0: 6c65 6e28 7365 6c66 2e6e 616d 6529 0a20  len(self.name). 
-00013ab0: 2020 2020 2020 2020 2020 2069 6620 6c65             if le
-00013ac0: 6e67 7468 203c 2033 303a 0a20 2020 2020  ngth < 30:.     
-00013ad0: 2020 2020 2020 2020 2020 2072 6574 7572             retur
-00013ae0: 6e20 7365 6c66 2e6e 616d 650a 2020 2020  n self.name.    
-00013af0: 2020 2020 2020 2020 656c 6966 206c 656e          elif len
-00013b00: 6774 6820 3e3d 2033 303a 0a20 2020 2020  gth >= 30:.     
-00013b10: 2020 2020 2020 2020 2020 2073 706c 6974             split
-00013b20: 6564 203d 205b 5d0a 2020 2020 2020 2020  ed = [].        
-00013b30: 2020 2020 2020 2020 666f 7220 7620 696e          for v in
-00013b40: 2072 616e 6765 2830 2c20 6c65 6e28 7365   range(0, len(se
-00013b50: 6c66 2e6e 616d 6529 2c20 3330 293a 0a20  lf.name), 30):. 
-00013b60: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00013b70: 2020 2073 706c 6974 6564 2e61 7070 656e     splited.appen
-00013b80: 6428 7365 6c66 2e6e 616d 655b 7620 3a20  d(self.name[v : 
-00013b90: 7620 2b20 3330 5d20 2b20 225c 6e22 290a  v + 30] + "\n").
-00013ba0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00013bb0: 7265 7475 726e 2022 222e 6a6f 696e 2873  return "".join(s
-00013bc0: 706c 6974 6564 290a 2020 2020 2020 2020  plited).        
-00013bd0: 6578 6365 7074 2045 7863 6570 7469 6f6e  except Exception
-00013be0: 3a0a 2020 2020 2020 2020 2020 2020 6c6f  :.            lo
-00013bf0: 6767 6572 2e69 6e66 6f28 7472 6163 6562  gger.info(traceb
-00013c00: 6163 6b2e 666f 726d 6174 5f65 7863 2829  ack.format_exc()
-00013c10: 290a 2020 2020 2020 2020 2020 2020 7265  ).            re
-00013c20: 7475 726e 2073 656c 662e 6e61 6d65 0a0a  turn self.name..
-00013c30: 2020 2020 6465 6620 6765 7450 6572 6d73      def getPerms
-00013c40: 4373 7328 7365 6c66 293a 0a20 2020 2020  Css(self):.     
-00013c50: 2020 2022 2222 0a20 2020 2020 2020 2052     """.        R
-00013c60: 6574 7572 6e73 2061 2073 7472 696e 6720  eturns a string 
-00013c70: 7468 6174 2063 616e 2062 6520 7573 6564  that can be used
-00013c80: 2061 7320 636c 6173 7365 7320 6f6e 2061   as classes on a
-00013c90: 6e20 6874 6d6c 2065 6c65 6d65 6e74 2074  n html element t
-00013ca0: 6f0a 2020 2020 2020 2020 696e 6469 6361  o.        indica
-00013cb0: 7465 2074 6865 2070 6572 6d69 7373 696f  te the permissio
-00013cc0: 6e73 2066 6c61 6773 206f 6620 7468 6520  ns flags of the 
-00013cd0: 6f62 6a65 6374 2e20 452e 672e 2022 6361  object. E.g. "ca
-00013ce0: 6e45 6469 7420 6361 6e4c 696e 6b22 0a20  nEdit canLink". 
-00013cf0: 2020 2020 2020 2046 6c61 6773 2f63 6c61         Flags/cla
-00013d00: 7373 6573 2061 7265 2063 616e 4564 6974  sses are canEdit
-00013d10: 2c20 6361 6e41 6e6e 6f74 6174 652c 2063  , canAnnotate, c
-00013d20: 616e 4c69 6e6b 2c20 6361 6e44 656c 6574  anLink, canDelet
-00013d30: 650a 2020 2020 2020 2020 2222 220a 2020  e.        """.  
-00013d40: 2020 2020 2020 666c 6167 7320 3d20 5b5d        flags = []
-00013d50: 0a20 2020 2020 2020 2069 6620 7365 6c66  .        if self
-00013d60: 2e63 616e 4564 6974 2829 3a0a 2020 2020  .canEdit():.    
-00013d70: 2020 2020 2020 2020 666c 6167 732e 6170          flags.ap
-00013d80: 7065 6e64 2822 6361 6e45 6469 7422 290a  pend("canEdit").
-00013d90: 2020 2020 2020 2020 6966 2073 656c 662e          if self.
-00013da0: 6361 6e41 6e6e 6f74 6174 6528 293a 0a20  canAnnotate():. 
-00013db0: 2020 2020 2020 2020 2020 2066 6c61 6773             flags
-00013dc0: 2e61 7070 656e 6428 2263 616e 416e 6e6f  .append("canAnno
-00013dd0: 7461 7465 2229 0a20 2020 2020 2020 2069  tate").        i
-00013de0: 6620 7365 6c66 2e63 616e 4c69 6e6b 2829  f self.canLink()
-00013df0: 3a0a 2020 2020 2020 2020 2020 2020 666c  :.            fl
-00013e00: 6167 732e 6170 7065 6e64 2822 6361 6e4c  ags.append("canL
-00013e10: 696e 6b22 290a 2020 2020 2020 2020 6966  ink").        if
-00013e20: 2073 656c 662e 6361 6e44 656c 6574 6528   self.canDelete(
-00013e30: 293a 0a20 2020 2020 2020 2020 2020 2066  ):.            f
-00013e40: 6c61 6773 2e61 7070 656e 6428 2263 616e  lags.append("can
-00013e50: 4465 6c65 7465 2229 0a20 2020 2020 2020  Delete").       
-00013e60: 2069 6620 7365 6c66 2e69 734f 776e 6564   if self.isOwned
-00013e70: 2829 3a0a 2020 2020 2020 2020 2020 2020  ():.            
-00013e80: 666c 6167 732e 6170 7065 6e64 2822 6973  flags.append("is
-00013e90: 4f77 6e65 6422 290a 2020 2020 2020 2020  Owned").        
-00013ea0: 6966 2073 656c 662e 6361 6e43 6867 7270  if self.canChgrp
-00013eb0: 2829 3a0a 2020 2020 2020 2020 2020 2020  ():.            
-00013ec0: 666c 6167 732e 6170 7065 6e64 2822 6361  flags.append("ca
-00013ed0: 6e43 6867 7270 2229 0a20 2020 2020 2020  nChgrp").       
-00013ee0: 2072 6574 7572 6e20 2220 222e 6a6f 696e   return " ".join
-00013ef0: 2866 6c61 6773 290a 0a20 2020 2064 6566  (flags)..    def
-00013f00: 2073 6574 5261 7469 6e67 2873 656c 662c   setRating(self,
-00013f10: 2072 6174 696e 6729 3a0a 2020 2020 2020   rating):.      
-00013f20: 2020 2222 220a 2020 2020 2020 2020 4164    """.        Ad
-00013f30: 6420 6120 7261 7469 6e67 2028 6c6f 6e67  d a rating (long
-00013f40: 2920 616e 6e6f 7461 7469 6f6e 2074 6f20  ) annotation to 
-00013f50: 7468 6520 6f62 6a65 6374 2c20 6f72 2075  the object, or u
-00013f60: 7064 6174 6520 616e 2065 7869 7374 696e  pdate an existin
-00013f70: 670a 2020 2020 2020 2020 7261 7469 6e67  g.        rating
-00013f80: 2e0a 2020 2020 2020 2020 4966 2072 6174  ..        If rat
-00013f90: 696e 6720 6973 207a 6572 6f2c 2077 6520  ing is zero, we 
-00013fa0: 7265 6d6f 7665 2061 6e79 2065 7869 7374  remove any exist
-00013fb0: 696e 6720 7261 7469 6e67 2061 6e6e 6f74  ing rating annot
-00013fc0: 6174 696f 6e2e 0a20 2020 2020 2020 2022  ation..        "
-00013fd0: 2222 0a20 2020 2020 2020 2072 6174 696e  "".        ratin
-00013fe0: 675f 6e73 203d 206f 6d65 726f 2e63 6f6e  g_ns = omero.con
-00013ff0: 7374 616e 7473 2e6d 6574 6164 6174 612e  stants.metadata.
-00014000: 4e53 494e 5349 4748 5452 4154 494e 470a  NSINSIGHTRATING.
-00014010: 2020 2020 2020 2020 7061 7265 6e74 5f74          parent_t
-00014020: 7970 6520 3d20 7365 6c66 2e4f 4d45 524f  ype = self.OMERO
-00014030: 5f43 4c41 5353 0a20 2020 2020 2020 2075  _CLASS.        u
-00014040: 7365 7269 6420 3d20 7365 6c66 2e5f 636f  serid = self._co
-00014050: 6e6e 2e67 6574 5573 6572 4964 2829 0a0a  nn.getUserId()..
-00014060: 2020 2020 2020 2020 7261 7469 6e67 416e          ratingAn
-00014070: 6e73 203d 206c 6973 7428 0a20 2020 2020  ns = list(.     
-00014080: 2020 2020 2020 2073 656c 662e 5f63 6f6e         self._con
-00014090: 6e2e 6765 7441 6e6e 6f74 6174 696f 6e4c  n.getAnnotationL
-000140a0: 696e 6b73 280a 2020 2020 2020 2020 2020  inks(.          
-000140b0: 2020 2020 2020 7061 7265 6e74 5f74 7970        parent_typ
-000140c0: 652c 2070 6172 656e 745f 6964 733d 5b73  e, parent_ids=[s
-000140d0: 656c 662e 6964 5d2c 206e 733d 7261 7469  elf.id], ns=rati
-000140e0: 6e67 5f6e 730a 2020 2020 2020 2020 2020  ng_ns.          
-000140f0: 2020 290a 2020 2020 2020 2020 290a 2020    ).        ).  
-00014100: 2020 2020 2020 2320 6669 6c74 6572 2066        # filter f
-00014110: 6f72 206c 696e 6b73 2049 206f 776e 0a20  or links I own. 
-00014120: 2020 2020 2020 2072 6174 696e 6741 6e6e         ratingAnn
-00014130: 7320 3d20 5b72 2066 6f72 2072 2069 6e20  s = [r for r in 
-00014140: 7261 7469 6e67 416e 6e73 2069 6620 722e  ratingAnns if r.
-00014150: 6765 7444 6574 6169 6c73 2829 2e6f 776e  getDetails().own
-00014160: 6572 2e69 642e 7661 6c20 3d3d 2075 7365  er.id.val == use
-00014170: 7269 645d 0a20 2020 2020 2020 2072 6174  rid].        rat
-00014180: 696e 674c 696e 6b20 3d20 7261 7469 6e67  ingLink = rating
-00014190: 416e 6e73 2061 6e64 2072 6174 696e 6741  Anns and ratingA
-000141a0: 6e6e 735b 305d 206f 7220 4e6f 6e65 0a0a  nns[0] or None..
-000141b0: 2020 2020 2020 2020 6465 6620 6765 744c          def getL
-000141c0: 696e 6b43 6f75 6e74 2861 6e6e 4964 293a  inkCount(annId):
-000141d0: 0a20 2020 2020 2020 2020 2020 206c 696e  .            lin
-000141e0: 6b43 6f75 6e74 203d 2030 0a20 2020 2020  kCount = 0.     
-000141f0: 2020 2020 2020 2066 6f72 2070 6172 656e         for paren
-00014200: 7454 7970 6520 696e 205b 0a20 2020 2020  tType in [.     
-00014210: 2020 2020 2020 2020 2020 2022 5072 6f6a             "Proj
-00014220: 6563 7422 2c0a 2020 2020 2020 2020 2020  ect",.          
-00014230: 2020 2020 2020 2244 6174 6173 6574 222c        "Dataset",
-00014240: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00014250: 2022 496d 6167 6522 2c0a 2020 2020 2020   "Image",.      
-00014260: 2020 2020 2020 2020 2020 2253 6372 6565            "Scree
-00014270: 6e22 2c0a 2020 2020 2020 2020 2020 2020  n",.            
-00014280: 2020 2020 2250 6c61 7465 222c 0a20 2020      "Plate",.   
-00014290: 2020 2020 2020 2020 2020 2020 2022 506c               "Pl
-000142a0: 6174 6541 6371 7569 7369 7469 6f6e 222c  ateAcquisition",
-000142b0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-000142c0: 2022 5765 6c6c 222c 0a20 2020 2020 2020   "Well",.       
-000142d0: 2020 2020 205d 3a0a 2020 2020 2020 2020       ]:.        
-000142e0: 2020 2020 2020 2020 616e 6e4c 696e 6b73          annLinks
-000142f0: 203d 206c 6973 7428 0a20 2020 2020 2020   = list(.       
-00014300: 2020 2020 2020 2020 2020 2020 2073 656c               sel
-00014310: 662e 5f63 6f6e 6e2e 6765 7441 6e6e 6f74  f._conn.getAnnot
-00014320: 6174 696f 6e4c 696e 6b73 2870 6172 656e  ationLinks(paren
-00014330: 7454 7970 652c 2061 6e6e 5f69 6473 3d5b  tType, ann_ids=[
-00014340: 616e 6e49 645d 290a 2020 2020 2020 2020  annId]).        
-00014350: 2020 2020 2020 2020 290a 2020 2020 2020          ).      
-00014360: 2020 2020 2020 2020 2020 6c69 6e6b 436f            linkCo
-00014370: 756e 7420 2b3d 206c 656e 2861 6e6e 4c69  unt += len(annLi
-00014380: 6e6b 7329 0a20 2020 2020 2020 2020 2020  nks).           
-00014390: 2072 6574 7572 6e20 6c69 6e6b 436f 756e   return linkCoun
-000143a0: 740a 0a20 2020 2020 2020 2064 6566 2061  t..        def a
-000143b0: 6464 5261 7469 6e67 2876 616c 7565 293a  ddRating(value):
-000143c0: 0a20 2020 2020 2020 2020 2020 2069 6620  .            if 
-000143d0: 7661 6c75 6520 3d3d 2030 3a0a 2020 2020  value == 0:.    
-000143e0: 2020 2020 2020 2020 2020 2020 7265 7475              retu
-000143f0: 726e 0a20 2020 2020 2020 2020 2020 2072  rn.            r
-00014400: 6174 696e 6741 6e6e 203d 206f 6d65 726f  atingAnn = omero
-00014410: 2e6d 6f64 656c 2e4c 6f6e 6741 6e6e 6f74  .model.LongAnnot
-00014420: 6174 696f 6e49 2829 0a20 2020 2020 2020  ationI().       
-00014430: 2020 2020 2072 6174 696e 6741 6e6e 2e73       ratingAnn.s
-00014440: 6574 4c6f 6e67 5661 6c75 6528 726c 6f6e  etLongValue(rlon
-00014450: 6728 7661 6c75 6529 290a 2020 2020 2020  g(value)).      
-00014460: 2020 2020 2020 7261 7469 6e67 416e 6e2e        ratingAnn.
-00014470: 7365 744e 7328 7273 7472 696e 6728 7261  setNs(rstring(ra
-00014480: 7469 6e67 5f6e 7329 290a 2020 2020 2020  ting_ns)).      
-00014490: 2020 2020 2020 7365 6c66 2e5f 636f 6e6e        self._conn
-000144a0: 2e53 4552 5649 4345 5f4f 5054 532e 7365  .SERVICE_OPTS.se
-000144b0: 744f 6d65 726f 4772 6f75 7028 7365 6c66  tOmeroGroup(self
-000144c0: 2e67 6574 4465 7461 696c 7328 292e 6772  .getDetails().gr
-000144d0: 6f75 702e 6964 2e76 616c 290a 2020 2020  oup.id.val).    
-000144e0: 2020 2020 2020 2020 7261 7469 6e67 416e          ratingAn
-000144f0: 6e20 3d20 7365 6c66 2e5f 636f 6e6e 2e67  n = self._conn.g
-00014500: 6574 5570 6461 7465 5365 7276 6963 6528  etUpdateService(
-00014510: 292e 7361 7665 416e 6452 6574 7572 6e4f  ).saveAndReturnO
-00014520: 626a 6563 7428 0a20 2020 2020 2020 2020  bject(.         
-00014530: 2020 2020 2020 2072 6174 696e 6741 6e6e         ratingAnn
-00014540: 2c20 7365 6c66 2e5f 636f 6e6e 2e53 4552  , self._conn.SER
-00014550: 5649 4345 5f4f 5054 530a 2020 2020 2020  VICE_OPTS.      
-00014560: 2020 2020 2020 290a 2020 2020 2020 2020        ).        
-00014570: 2020 2020 7365 6c66 2e6c 696e 6b41 6e6e      self.linkAnn
-00014580: 6f74 6174 696f 6e28 416e 6e6f 7461 7469  otation(Annotati
-00014590: 6f6e 5772 6170 7065 7228 7365 6c66 2e5f  onWrapper(self._
-000145a0: 636f 6e6e 2c20 7261 7469 6e67 416e 6e29  conn, ratingAnn)
-000145b0: 290a 0a20 2020 2020 2020 2069 6620 7261  )..        if ra
-000145c0: 7469 6e67 4c69 6e6b 2069 7320 6e6f 7420  tingLink is not 
-000145d0: 4e6f 6e65 3a0a 2020 2020 2020 2020 2020  None:.          
-000145e0: 2020 7261 7469 6e67 416e 6e20 3d20 7261    ratingAnn = ra
-000145f0: 7469 6e67 4c69 6e6b 2e67 6574 4368 696c  tingLink.getChil
-00014600: 6428 290a 2020 2020 2020 2020 2020 2020  d().            
-00014610: 2320 6966 2072 6174 696e 6720 6973 206f  # if rating is o
-00014620: 6e6c 7920 7573 6564 2062 7920 7468 6973  nly used by this
-00014630: 206f 626a 6563 742c 2077 6520 6361 6e20   object, we can 
-00014640: 7570 6461 7465 206f 7220 6465 6c65 7465  update or delete
-00014650: 0a20 2020 2020 2020 2020 2020 2069 6620  .            if 
-00014660: 6765 744c 696e 6b43 6f75 6e74 2872 6174  getLinkCount(rat
-00014670: 696e 6741 6e6e 2e69 6429 203d 3d20 313a  ingAnn.id) == 1:
-00014680: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00014690: 2069 6620 7261 7469 6e67 203e 2030 3a0a   if rating > 0:.
-000146a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000146b0: 2020 2020 7261 7469 6e67 416e 6e2e 7365      ratingAnn.se
-000146c0: 744c 6f6e 6756 616c 7565 2872 6c6f 6e67  tLongValue(rlong
-000146d0: 2872 6174 696e 6729 290a 2020 2020 2020  (rating)).      
-000146e0: 2020 2020 2020 2020 2020 2020 2020 7261                ra
-000146f0: 7469 6e67 416e 6e2e 7361 7665 2829 0a20  tingAnn.save(). 
-00014700: 2020 2020 2020 2020 2020 2020 2020 2065                 e
-00014710: 6c73 653a 0a20 2020 2020 2020 2020 2020  lse:.           
-00014720: 2020 2020 2020 2020 2073 656c 662e 5f63           self._c
-00014730: 6f6e 6e2e 6465 6c65 7465 4f62 6a65 6374  onn.deleteObject
-00014740: 2872 6174 696e 674c 696e 6b2e 5f6f 626a  (ratingLink._obj
-00014750: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
-00014760: 2020 2020 2020 2320 7261 7469 6e67 416e        # ratingAn
-00014770: 6e20 7761 7320 6175 746f 6d61 7469 6361  n was automatica
-00014780: 6c6c 7920 6465 6c65 7465 6420 6966 206f  lly deleted if o
-00014790: 7270 6861 6e65 640a 2020 2020 2020 2020  rphaned.        
-000147a0: 2020 2020 2320 6f74 6865 7277 6973 652c      # otherwise,
-000147b0: 2075 6e6c 696e 6b20 616e 6420 6372 6561   unlink and crea
-000147c0: 7465 2061 206e 6577 2072 6174 696e 670a  te a new rating.
-000147d0: 2020 2020 2020 2020 2020 2020 656c 7365              else
-000147e0: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-000147f0: 2020 7365 6c66 2e5f 636f 6e6e 2e64 656c    self._conn.del
-00014800: 6574 654f 626a 6563 7428 7261 7469 6e67  eteObject(rating
-00014810: 4c69 6e6b 2e5f 6f62 6a29 0a20 2020 2020  Link._obj).     
-00014820: 2020 2020 2020 2020 2020 2061 6464 5261             addRa
-00014830: 7469 6e67 2872 6174 696e 6729 0a20 2020  ting(rating).   
-00014840: 2020 2020 2065 6c73 653a 0a20 2020 2020       else:.     
-00014850: 2020 2020 2020 2061 6464 5261 7469 6e67         addRating
-00014860: 2872 6174 696e 6729 0a0a 0a63 6c61 7373  (rating)...class
-00014870: 2045 7870 6572 696d 656e 7465 7257 7261   ExperimenterWra
-00014880: 7070 6572 284f 6d65 726f 5765 624f 626a  pper(OmeroWebObj
-00014890: 6563 7457 7261 7070 6572 2c20 6f6d 6572  ectWrapper, omer
-000148a0: 6f2e 6761 7465 7761 792e 4578 7065 7269  o.gateway.Experi
-000148b0: 6d65 6e74 6572 5772 6170 7065 7229 3a0a  menterWrapper):.
-000148c0: 2020 2020 2222 220a 2020 2020 6f6d 6572      """.    omer
-000148d0: 6f5f 6d6f 6465 6c5f 4578 7065 7269 6d65  o_model_Experime
-000148e0: 6e74 6572 4920 636c 6173 7320 7772 6170  nterI class wrap
-000148f0: 7065 7220 6f76 6572 7772 6974 650a 2020  per overwrite.  
-00014900: 2020 6f6d 6572 6f2e 6761 7465 7761 792e    omero.gateway.
-00014910: 4578 7065 7269 6d65 6e74 6572 5772 6170  ExperimenterWrap
-00014920: 7065 7220 616e 6420 6578 7465 6e64 204f  per and extend O
-00014930: 6d65 726f 5765 624f 626a 6563 7457 7261  meroWebObjectWra
-00014940: 7070 6572 2e0a 2020 2020 2222 220a 0a20  pper..    """.. 
-00014950: 2020 206c 6461 7055 7365 7220 3d20 4e6f     ldapUser = No
-00014960: 6e65 0a0a 2020 2020 6465 6620 5f5f 7072  ne..    def __pr
-00014970: 6570 6172 655f 5f28 7365 6c66 2c20 2a2a  epare__(self, **
-00014980: 6b77 6172 6773 293a 0a20 2020 2020 2020  kwargs):.       
-00014990: 2073 7570 6572 2845 7870 6572 696d 656e   super(Experimen
-000149a0: 7465 7257 7261 7070 6572 2c20 7365 6c66  terWrapper, self
-000149b0: 292e 5f5f 7072 6570 6172 655f 5f28 2a2a  ).__prepare__(**
-000149c0: 6b77 6172 6773 290a 2020 2020 2020 2020  kwargs).        
-000149d0: 6966 2022 6c64 6170 5573 6572 2220 696e  if "ldapUser" in
-000149e0: 206b 7761 7267 733a 0a20 2020 2020 2020   kwargs:.       
-000149f0: 2020 2020 2073 656c 662e 616e 6e6f 7461       self.annota
-00014a00: 7469 6f6e 5f63 6f75 6e74 6572 203d 206b  tion_counter = k
-00014a10: 7761 7267 735b 226c 6461 7055 7365 7222  wargs["ldapUser"
-00014a20: 5d0a 0a20 2020 2064 6566 2069 7345 6469  ]..    def isEdi
-00014a30: 7461 626c 6528 7365 6c66 293a 0a20 2020  table(self):.   
-00014a40: 2020 2020 2072 6574 7572 6e20 7365 6c66       return self
-00014a50: 2e6f 6d65 4e61 6d65 2e6c 6f77 6572 2829  .omeName.lower()
-00014a60: 2021 3d20 2267 7565 7374 220a 0a20 2020   != "guest"..   
-00014a70: 2064 6566 2069 734c 6461 7055 7365 7228   def isLdapUser(
-00014a80: 7365 6c66 293a 0a20 2020 2020 2020 2022  self):.        "
-00014a90: 2222 0a20 2020 2020 2020 2052 6574 7572  "".        Retur
-00014aa0: 6e20 444e 206f 6620 7468 6520 7370 6563  n DN of the spec
-00014ab0: 6966 6963 2065 7870 6572 696d 656e 7465  ific experimente
-00014ac0: 7220 6966 2075 7365 7320 4c44 4150 2061  r if uses LDAP a
-00014ad0: 7574 6865 6e74 6963 6174 696f 6e0a 2020  uthentication.  
-00014ae0: 2020 2020 2020 2868 6173 2073 6574 2064        (has set d
-00014af0: 6e20 6f6e 2070 6173 7377 6f72 6420 7461  n on password ta
-00014b00: 626c 6529 206f 7220 4e6f 6e65 2e0a 2020  ble) or None..  
-00014b10: 2020 2020 2020 4070 6172 616d 2065 6964        @param eid
-00014b20: 3a20 6578 7065 7269 6d65 6e74 6572 2049  : experimenter I
-00014b30: 440a 2020 2020 2020 2020 4074 7970 6520  D.        @type 
-00014b40: 6569 643a 204c 7b4c 6f6e 677d 0a20 2020  eid: L{Long}.   
-00014b50: 2020 2020 2040 7265 7475 726e 3a20 4469       @return: Di
-00014b60: 7374 696e 6775 6973 6865 6420 4e61 6d65  stinguished Name
-00014b70: 0a20 2020 2020 2020 2040 7274 7970 653a  .        @rtype:
-00014b80: 2053 7472 696e 670a 2020 2020 2020 2020   String.        
-00014b90: 2222 220a 0a20 2020 2020 2020 2069 6620  """..        if 
-00014ba0: 7365 6c66 2e6c 6461 703a 0a20 2020 2020  self.ldap:.     
-00014bb0: 2020 2020 2020 2061 646d 696e 5f73 6572         admin_ser
-00014bc0: 7620 3d20 7365 6c66 2e5f 636f 6e6e 2e67  v = self._conn.g
-00014bd0: 6574 4164 6d69 6e53 6572 7669 6365 2829  etAdminService()
-00014be0: 0a20 2020 2020 2020 2020 2020 2073 656c  .            sel
-00014bf0: 662e 6c64 6170 5573 6572 203d 2061 646d  f.ldapUser = adm
-00014c00: 696e 5f73 6572 762e 6c6f 6f6b 7570 4c64  in_serv.lookupLd
-00014c10: 6170 4175 7468 4578 7065 7269 6d65 6e74  apAuthExperiment
-00014c20: 6572 2873 656c 662e 6964 290a 2020 2020  er(self.id).    
-00014c30: 2020 2020 7265 7475 726e 2073 656c 662e      return self.
-00014c40: 6c64 6170 5573 6572 0a0a 2020 2020 6465  ldapUser..    de
-00014c50: 6620 6765 7444 6566 6175 6c74 4772 6f75  f getDefaultGrou
-00014c60: 7028 7365 6c66 293a 0a20 2020 2020 2020  p(self):.       
-00014c70: 2067 654d 6170 203d 2073 656c 662e 636f   geMap = self.co
-00014c80: 7079 4772 6f75 7045 7870 6572 696d 656e  pyGroupExperimen
-00014c90: 7465 724d 6170 2829 0a20 2020 2020 2020  terMap().       
-00014ca0: 2069 6620 7365 6c66 2e73 697a 654f 6647   if self.sizeOfG
-00014cb0: 726f 7570 4578 7065 7269 6d65 6e74 6572  roupExperimenter
-00014cc0: 4d61 7028 2920 3e20 3020 616e 6420 6765  Map() > 0 and ge
-00014cd0: 4d61 705b 305d 2069 7320 6e6f 7420 4e6f  Map[0] is not No
-00014ce0: 6e65 3a0a 2020 2020 2020 2020 2020 2020  ne:.            
-00014cf0: 7265 7475 726e 2045 7870 6572 696d 656e  return Experimen
-00014d00: 7465 7247 726f 7570 5772 6170 7065 7228  terGroupWrapper(
-00014d10: 7365 6c66 2e5f 636f 6e6e 2c20 6765 4d61  self._conn, geMa
-00014d20: 705b 305d 2e70 6172 656e 7429 0a20 2020  p[0].parent).   
-00014d30: 2020 2020 2072 6574 7572 6e20 4e6f 6e65       return None
-00014d40: 0a0a 2020 2020 6465 6620 6765 744f 7468  ..    def getOth
-00014d50: 6572 4772 6f75 7073 2873 656c 662c 2065  erGroups(self, e
-00014d60: 7863 6c75 6465 645f 6e61 6d65 733d 2822  xcluded_names=("
-00014d70: 7573 6572 222c 2022 6775 6573 7422 292c  user", "guest"),
-00014d80: 2065 7863 6c75 6465 645f 6964 733d 6c69   excluded_ids=li
-00014d90: 7374 2829 293a 0a20 2020 2020 2020 2066  st()):.        f
-00014da0: 6f72 2067 656d 2069 6e20 7365 6c66 2e63  or gem in self.c
-00014db0: 6f70 7947 726f 7570 4578 7065 7269 6d65  opyGroupExperime
-00014dc0: 6e74 6572 4d61 7028 293a 0a20 2020 2020  nterMap():.     
-00014dd0: 2020 2020 2020 2069 6620 6765 6d20 6973         if gem is
-00014de0: 204e 6f6e 653a 0a20 2020 2020 2020 2020   None:.         
-00014df0: 2020 2020 2020 2063 6f6e 7469 6e75 650a         continue.
-00014e00: 2020 2020 2020 2020 2020 2020 666c 6167              flag
-00014e10: 203d 2046 616c 7365 0a20 2020 2020 2020   = False.       
-00014e20: 2020 2020 2069 6620 6765 6d2e 7061 7265       if gem.pare
-00014e30: 6e74 2e6e 616d 652e 7661 6c20 696e 2065  nt.name.val in e
-00014e40: 7863 6c75 6465 645f 6e61 6d65 733a 0a20  xcluded_names:. 
-00014e50: 2020 2020 2020 2020 2020 2020 2020 2066                 f
-00014e60: 6c61 6720 3d20 5472 7565 0a20 2020 2020  lag = True.     
-00014e70: 2020 2020 2020 2069 6620 6765 6d2e 7061         if gem.pa
-00014e80: 7265 6e74 2e69 642e 7661 6c20 696e 2065  rent.id.val in e
-00014e90: 7863 6c75 6465 645f 6964 733a 0a20 2020  xcluded_ids:.   
-00014ea0: 2020 2020 2020 2020 2020 2020 2066 6c61               fla
-00014eb0: 6720 3d20 5472 7565 0a20 2020 2020 2020  g = True.       
-00014ec0: 2020 2020 2069 6620 6e6f 7420 666c 6167       if not flag
-00014ed0: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-00014ee0: 2020 7969 656c 6420 4578 7065 7269 6d65    yield Experime
-00014ef0: 6e74 6572 4772 6f75 7057 7261 7070 6572  nterGroupWrapper
-00014f00: 2873 656c 662e 5f63 6f6e 6e2c 2067 656d  (self._conn, gem
-00014f10: 2e70 6172 656e 7429 0a0a 0a6f 6d65 726f  .parent)...omero
-00014f20: 2e67 6174 6577 6179 2e45 7870 6572 696d  .gateway.Experim
-00014f30: 656e 7465 7257 7261 7070 6572 203d 2045  enterWrapper = E
-00014f40: 7870 6572 696d 656e 7465 7257 7261 7070  xperimenterWrapp
-00014f50: 6572 0a0a 0a63 6c61 7373 2045 7870 6572  er...class Exper
-00014f60: 696d 656e 7465 7247 726f 7570 5772 6170  imenterGroupWrap
-00014f70: 7065 7228 0a20 2020 204f 6d65 726f 5765  per(.    OmeroWe
-00014f80: 624f 626a 6563 7457 7261 7070 6572 2c20  bObjectWrapper, 
-00014f90: 6f6d 6572 6f2e 6761 7465 7761 792e 4578  omero.gateway.Ex
-00014fa0: 7065 7269 6d65 6e74 6572 4772 6f75 7057  perimenterGroupW
-00014fb0: 7261 7070 6572 0a29 3a0a 2020 2020 2222  rapper.):.    ""
-00014fc0: 220a 2020 2020 6f6d 6572 6f5f 6d6f 6465  ".    omero_mode
-00014fd0: 6c5f 4578 7065 7269 6d65 6e74 6572 4772  l_ExperimenterGr
-00014fe0: 6f75 7049 2063 6c61 7373 2077 7261 7070  oupI class wrapp
-00014ff0: 6572 206f 7665 7277 7269 7465 0a20 2020  er overwrite.   
-00015000: 206f 6d65 726f 2e67 6174 6577 6179 2e45   omero.gateway.E
-00015010: 7870 6572 696d 656e 7465 7247 726f 7570  xperimenterGroup
-00015020: 5772 6170 7065 720a 2020 2020 616e 6420  Wrapper.    and 
-00015030: 6578 7465 6e64 204f 6d65 726f 5765 624f  extend OmeroWebO
-00015040: 626a 6563 7457 7261 7070 6572 2e0a 2020  bjectWrapper..  
-00015050: 2020 2222 220a 0a20 2020 2064 6566 2069    """..    def i
-00015060: 7345 6469 7461 626c 6528 7365 6c66 293a  sEditable(self):
-00015070: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
-00015080: 7365 6c66 2e6e 616d 652e 6c6f 7765 7228  self.name.lower(
-00015090: 2920 6e6f 7420 696e 2028 2267 7565 7374  ) not in ("guest
-000150a0: 222c 2022 7573 6572 2229 0a0a 2020 2020  ", "user")..    
-000150b0: 6465 6620 6c6f 6164 4c65 6164 6572 7341  def loadLeadersA
-000150c0: 6e64 4d65 6d62 6572 7328 7365 6c66 293a  ndMembers(self):
-000150d0: 0a20 2020 2020 2020 2022 2222 0a20 2020  .        """.   
-000150e0: 2020 2020 2052 6574 7572 6e73 206c 6973       Returns lis
-000150f0: 7473 206f 6620 276c 6561 6465 7273 2720  ts of 'leaders' 
-00015100: 616e 6420 276d 656d 6265 7273 2720 6f66  and 'members' of
-00015110: 2074 6865 2073 7065 6369 6669 6564 2067   the specified g
-00015120: 726f 7570 0a20 2020 2020 2020 2028 6465  roup.        (de
-00015130: 6661 756c 7420 6973 2063 7572 7265 6e74  fault is current
-00015140: 2067 726f 7570 2920 6173 2061 2064 6963   group) as a dic
-00015150: 7420 7769 7468 2074 686f 7365 206b 6579  t with those key
-00015160: 732e 0a0a 2020 2020 2020 2020 4072 6574  s...        @ret
-00015170: 7572 6e3a 2020 2020 7b27 6c65 6164 6572  urn:    {'leader
-00015180: 7327 3a20 6c69 7374 204c 7b45 7870 6572  s': list L{Exper
-00015190: 696d 656e 7465 7257 7261 7070 6572 7d2c  imenterWrapper},
-000151a0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-000151b0: 2020 2020 2020 2763 6f6c 6c65 6167 7565        'colleague
-000151c0: 7327 3a20 6c69 7374 204c 7b45 7870 6572  s': list L{Exper
-000151d0: 696d 656e 7465 7257 7261 7070 6572 7d7d  imenterWrapper}}
-000151e0: 0a20 2020 2020 2020 2040 7274 7970 653a  .        @rtype:
-000151f0: 2020 2020 2064 6963 740a 2020 2020 2020       dict.      
-00015200: 2020 2222 220a 2020 2020 2020 2020 7365    """.        se
-00015210: 6c66 2e6c 6561 6465 7273 2c20 7365 6c66  lf.leaders, self
-00015220: 2e63 6f6c 6c65 6167 7565 7320 3d20 7365  .colleagues = se
-00015230: 6c66 2e67 726f 7570 5375 6d6d 6172 7928  lf.groupSummary(
-00015240: 290a 2020 2020 2020 2020 7365 6c66 2e6c  ).        self.l
-00015250: 6561 6465 7273 2e73 6f72 7428 6b65 793d  eaders.sort(key=
-00015260: 6c61 6d62 6461 2078 3a20 782e 6765 744c  lambda x: x.getL
-00015270: 6173 744e 616d 6528 292e 6c6f 7765 7228  astName().lower(
-00015280: 2929 0a20 2020 2020 2020 2073 656c 662e  )).        self.
-00015290: 636f 6c6c 6561 6775 6573 2e73 6f72 7428  colleagues.sort(
-000152a0: 6b65 793d 6c61 6d62 6461 2078 3a20 782e  key=lambda x: x.
-000152b0: 6765 744c 6173 744e 616d 6528 292e 6c6f  getLastName().lo
-000152c0: 7765 7228 2929 0a20 2020 2020 2020 2023  wer()).        #
-000152d0: 204f 6e6c 7920 7368 6f77 2027 416c 6c20   Only show 'All 
-000152e0: 4d65 6d62 6572 7327 206f 7074 696f 6e20  Members' option 
-000152f0: 6966 2063 6f6e 6669 6775 7265 642c 2061  if configured, a
-00015300: 6e64 2077 6527 7265 206e 6f74 2069 6e20  nd we're not in 
-00015310: 610a 2020 2020 2020 2020 2320 7072 6976  a.        # priv
-00015320: 6174 6520 6772 6f75 700a 2020 2020 2020  ate group.      
-00015330: 2020 6966 2028 0a20 2020 2020 2020 2020    if (.         
-00015340: 2020 2073 656c 662e 6465 7461 696c 732e     self.details.
-00015350: 7065 726d 6973 7369 6f6e 732e 6973 4772  permissions.isGr
-00015360: 6f75 7052 6561 6428 290a 2020 2020 2020  oupRead().      
-00015370: 2020 2020 2020 6f72 2073 656c 662e 5f63        or self._c
-00015380: 6f6e 6e2e 6973 4164 6d69 6e28 290a 2020  onn.isAdmin().  
-00015390: 2020 2020 2020 2020 2020 6f72 2073 656c            or sel
-000153a0: 662e 6973 4f77 6e65 7228 290a 2020 2020  f.isOwner().    
-000153b0: 2020 2020 293a 0a20 2020 2020 2020 2020      ):.         
-000153c0: 2020 2073 656c 662e 616c 6c20 3d20 5472     self.all = Tr
-000153d0: 7565 0a0a 2020 2020 6465 6620 6765 744f  ue..    def getO
-000153e0: 776e 6572 7328 7365 6c66 293a 0a20 2020  wners(self):.   
-000153f0: 2020 2020 2066 6f72 2067 656d 2069 6e20       for gem in 
-00015400: 7365 6c66 2e63 6f70 7947 726f 7570 4578  self.copyGroupEx
-00015410: 7065 7269 6d65 6e74 6572 4d61 7028 293a  perimenterMap():
-00015420: 0a20 2020 2020 2020 2020 2020 2069 6620  .            if 
-00015430: 6765 6d20 6973 204e 6f6e 653a 0a20 2020  gem is None:.   
-00015440: 2020 2020 2020 2020 2020 2020 2063 6f6e               con
-00015450: 7469 6e75 650a 2020 2020 2020 2020 2020  tinue.          
-00015460: 2020 6966 2067 656d 2e6f 776e 6572 2e76    if gem.owner.v
-00015470: 616c 3a0a 2020 2020 2020 2020 2020 2020  al:.            
-00015480: 2020 2020 7969 656c 6420 4578 7065 7269      yield Experi
-00015490: 6d65 6e74 6572 5772 6170 7065 7228 7365  menterWrapper(se
-000154a0: 6c66 2e5f 636f 6e6e 2c20 6765 6d2e 6368  lf._conn, gem.ch
-000154b0: 696c 6429 0a0a 2020 2020 6465 6620 6765  ild)..    def ge
-000154c0: 744f 776e 6572 734e 616d 6573 2873 656c  tOwnersNames(sel
-000154d0: 6629 3a0a 2020 2020 2020 2020 7761 726e  f):.        warn
-000154e0: 696e 6773 2e77 6172 6e28 2267 6574 4f77  ings.warn("getOw
-000154f0: 6e65 7273 4e61 6d65 7328 2920 6465 7072  nersNames() depr
-00015500: 6563 6174 6564 2069 6e20 352e 372e 3022  ecated in 5.7.0"
-00015510: 2c20 4465 7072 6563 6174 696f 6e57 6172  , DeprecationWar
-00015520: 6e69 6e67 290a 2020 2020 2020 2020 6f77  ning).        ow
-00015530: 6e65 7273 203d 206c 6973 7428 290a 2020  ners = list().  
-00015540: 2020 2020 2020 666f 7220 6520 696e 2073        for e in s
-00015550: 656c 662e 6765 744f 776e 6572 7328 293a  elf.getOwners():
-00015560: 0a20 2020 2020 2020 2020 2020 206f 776e  .            own
-00015570: 6572 732e 6170 7065 6e64 2865 2e67 6574  ers.append(e.get
-00015580: 4675 6c6c 4e61 6d65 2829 290a 2020 2020  FullName()).    
-00015590: 2020 2020 7265 7475 726e 2022 2c20 222e      return ", ".
-000155a0: 6a6f 696e 286f 776e 6572 7329 0a0a 2020  join(owners)..  
-000155b0: 2020 6465 6620 6765 744d 656d 6265 7273    def getMembers
-000155c0: 2873 656c 662c 2065 7863 6c75 6465 645f  (self, excluded_
-000155d0: 6f6d 656e 616d 653d 6c69 7374 2829 2c20  omename=list(), 
-000155e0: 6578 636c 7564 6564 5f69 6473 3d6c 6973  excluded_ids=lis
-000155f0: 7428 2929 3a0a 2020 2020 2020 2020 666f  t()):.        fo
-00015600: 7220 6765 6d20 696e 2073 656c 662e 636f  r gem in self.co
-00015610: 7079 4772 6f75 7045 7870 6572 696d 656e  pyGroupExperimen
-00015620: 7465 724d 6170 2829 3a0a 2020 2020 2020  terMap():.      
-00015630: 2020 2020 2020 6966 2067 656d 2069 7320        if gem is 
-00015640: 4e6f 6e65 3a0a 2020 2020 2020 2020 2020  None:.          
-00015650: 2020 2020 2020 636f 6e74 696e 7565 0a20        continue. 
-00015660: 2020 2020 2020 2020 2020 2066 6c61 6720             flag 
-00015670: 3d20 4661 6c73 650a 2020 2020 2020 2020  = False.        
-00015680: 2020 2020 6966 2067 656d 2e63 6869 6c64      if gem.child
-00015690: 2e6f 6d65 4e61 6d65 2e76 616c 2069 6e20  .omeName.val in 
-000156a0: 6578 636c 7564 6564 5f6f 6d65 6e61 6d65  excluded_omename
-000156b0: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-000156c0: 2020 666c 6167 203d 2054 7275 650a 2020    flag = True.  
-000156d0: 2020 2020 2020 2020 2020 6966 2067 656d            if gem
-000156e0: 2e70 6172 656e 742e 6964 2e76 616c 2069  .parent.id.val i
-000156f0: 6e20 6578 636c 7564 6564 5f69 6473 3a0a  n excluded_ids:.
-00015700: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00015710: 666c 6167 203d 2054 7275 650a 2020 2020  flag = True.    
-00015720: 2020 2020 2020 2020 6966 206e 6f74 2066          if not f
-00015730: 6c61 673a 0a20 2020 2020 2020 2020 2020  lag:.           
-00015740: 2020 2020 2079 6965 6c64 2045 7870 6572       yield Exper
-00015750: 696d 656e 7465 7257 7261 7070 6572 2873  imenterWrapper(s
-00015760: 656c 662e 5f63 6f6e 6e2c 2067 656d 2e63  elf._conn, gem.c
-00015770: 6869 6c64 290a 0a20 2020 2064 6566 2069  hild)..    def i
-00015780: 734f 776e 6572 2873 656c 6629 3a0a 2020  sOwner(self):.  
-00015790: 2020 2020 2020 2222 2220 5265 7475 726e        """ Return
-000157a0: 7320 5472 7565 2069 6620 6375 7272 656e  s True if curren
-000157b0: 7420 7573 6572 2069 7320 4f77 6e65 7220  t user is Owner 
-000157c0: 6f66 2074 6869 7320 6772 6f75 7020 2222  of this group ""
-000157d0: 220a 2020 2020 2020 2020 7265 7475 726e  ".        return
-000157e0: 2073 656c 662e 6765 7449 6428 2920 696e   self.getId() in
-000157f0: 2073 656c 662e 5f63 6f6e 6e2e 6765 7445   self._conn.getE
-00015800: 7665 6e74 436f 6e74 6578 7428 292e 6c65  ventContext().le
-00015810: 6164 6572 4f66 4772 6f75 7073 0a0a 2020  aderOfGroups..  
-00015820: 2020 6465 6620 6973 4c6f 636b 6564 2873    def isLocked(s
-00015830: 656c 6629 3a0a 2020 2020 2020 2020 6966  elf):.        if
-00015840: 2073 656c 662e 6e61 6d65 203d 3d20 2275   self.name == "u
-00015850: 7365 7222 3a0a 2020 2020 2020 2020 2020  ser":.          
-00015860: 2020 7265 7475 726e 2054 7275 650a 2020    return True.  
-00015870: 2020 2020 2020 656c 6966 2073 656c 662e        elif self.
-00015880: 6e61 6d65 203d 3d20 2273 7973 7465 6d22  name == "system"
-00015890: 3a0a 2020 2020 2020 2020 2020 2020 7265  :.            re
-000158a0: 7475 726e 2054 7275 650a 2020 2020 2020  turn True.      
-000158b0: 2020 656c 6966 2073 656c 662e 6e61 6d65    elif self.name
-000158c0: 203d 3d20 2267 7565 7374 223a 0a20 2020   == "guest":.   
-000158d0: 2020 2020 2020 2020 2072 6574 7572 6e20           return 
-000158e0: 5472 7565 0a20 2020 2020 2020 2065 6c73  True.        els
-000158f0: 653a 0a20 2020 2020 2020 2020 2020 2046  e:.            F
-00015900: 616c 7365 0a0a 0a6f 6d65 726f 2e67 6174  alse...omero.gat
-00015910: 6577 6179 2e45 7870 6572 696d 656e 7465  eway.Experimente
-00015920: 7247 726f 7570 5772 6170 7065 7220 3d20  rGroupWrapper = 
-00015930: 4578 7065 7269 6d65 6e74 6572 4772 6f75  ExperimenterGrou
-00015940: 7057 7261 7070 6572 0a0a 0a63 6c61 7373  pWrapper...class
-00015950: 2050 726f 6a65 6374 5772 6170 7065 7228   ProjectWrapper(
-00015960: 4f6d 6572 6f57 6562 4f62 6a65 6374 5772  OmeroWebObjectWr
-00015970: 6170 7065 722c 206f 6d65 726f 2e67 6174  apper, omero.gat
-00015980: 6577 6179 2e50 726f 6a65 6374 5772 6170  eway.ProjectWrap
-00015990: 7065 7229 3a0a 2020 2020 2222 220a 2020  per):.    """.  
-000159a0: 2020 6f6d 6572 6f5f 6d6f 6465 6c5f 5072    omero_model_Pr
-000159b0: 6f6a 6563 7449 2063 6c61 7373 2077 7261  ojectI class wra
-000159c0: 7070 6572 206f 7665 7277 7269 7465 206f  pper overwrite o
-000159d0: 6d65 726f 2e67 6174 6577 6179 2e50 726f  mero.gateway.Pro
-000159e0: 6a65 6374 5772 6170 7065 720a 2020 2020  jectWrapper.    
-000159f0: 616e 6420 6578 7465 6e64 204f 6d65 726f  and extend Omero
-00015a00: 5765 624f 626a 6563 7457 7261 7070 6572  WebObjectWrapper
-00015a10: 2e0a 2020 2020 2222 220a 0a20 2020 2061  ..    """..    a
-00015a20: 6e6e 6f74 6174 696f 6e5f 636f 756e 7465  nnotation_counte
-00015a30: 7220 3d20 4e6f 6e65 0a0a 2020 2020 6465  r = None..    de
-00015a40: 6620 5f5f 7072 6570 6172 655f 5f28 7365  f __prepare__(se
-00015a50: 6c66 2c20 2a2a 6b77 6172 6773 293a 0a20  lf, **kwargs):. 
-00015a60: 2020 2020 2020 2073 7570 6572 2850 726f         super(Pro
-00015a70: 6a65 6374 5772 6170 7065 722c 2073 656c  jectWrapper, sel
-00015a80: 6629 2e5f 5f70 7265 7061 7265 5f5f 282a  f).__prepare__(*
-00015a90: 2a6b 7761 7267 7329 0a20 2020 2020 2020  *kwargs).       
-00015aa0: 2069 6620 2261 6e6e 6f74 6174 696f 6e5f   if "annotation_
-00015ab0: 636f 756e 7465 7222 2069 6e20 6b77 6172  counter" in kwar
-00015ac0: 6773 3a0a 2020 2020 2020 2020 2020 2020  gs:.            
-00015ad0: 7365 6c66 2e61 6e6e 6f74 6174 696f 6e5f  self.annotation_
-00015ae0: 636f 756e 7465 7220 3d20 6b77 6172 6773  counter = kwargs
-00015af0: 5b22 616e 6e6f 7461 7469 6f6e 5f63 6f75  ["annotation_cou
-00015b00: 6e74 6572 225d 0a0a 0a6f 6d65 726f 2e67  nter"]...omero.g
-00015b10: 6174 6577 6179 2e50 726f 6a65 6374 5772  ateway.ProjectWr
-00015b20: 6170 7065 7220 3d20 5072 6f6a 6563 7457  apper = ProjectW
-00015b30: 7261 7070 6572 0a0a 0a63 6c61 7373 2044  rapper...class D
-00015b40: 6174 6173 6574 5772 6170 7065 7228 4f6d  atasetWrapper(Om
-00015b50: 6572 6f57 6562 4f62 6a65 6374 5772 6170  eroWebObjectWrap
-00015b60: 7065 722c 206f 6d65 726f 2e67 6174 6577  per, omero.gatew
-00015b70: 6179 2e44 6174 6173 6574 5772 6170 7065  ay.DatasetWrappe
-00015b80: 7229 3a0a 2020 2020 2222 220a 2020 2020  r):.    """.    
-00015b90: 6f6d 6572 6f5f 6d6f 6465 6c5f 4461 7461  omero_model_Data
-00015ba0: 7365 7449 2063 6c61 7373 2077 7261 7070  setI class wrapp
-00015bb0: 6572 206f 7665 7277 7269 7465 206f 6d65  er overwrite ome
-00015bc0: 726f 2e67 6174 6577 6179 2e44 6174 6173  ro.gateway.Datas
-00015bd0: 6574 5772 6170 7065 720a 2020 2020 616e  etWrapper.    an
-00015be0: 6420 6578 7465 6e64 7320 4f6d 6572 6f57  d extends OmeroW
-00015bf0: 6562 4f62 6a65 6374 5772 6170 7065 722e  ebObjectWrapper.
-00015c00: 0a20 2020 2022 2222 0a0a 2020 2020 616e  .    """..    an
-00015c10: 6e6f 7461 7469 6f6e 5f63 6f75 6e74 6572  notation_counter
-00015c20: 203d 204e 6f6e 650a 0a20 2020 2064 6566   = None..    def
-00015c30: 205f 5f70 7265 7061 7265 5f5f 2873 656c   __prepare__(sel
-00015c40: 662c 202a 2a6b 7761 7267 7329 3a0a 2020  f, **kwargs):.  
-00015c50: 2020 2020 2020 7375 7065 7228 4461 7461        super(Data
-00015c60: 7365 7457 7261 7070 6572 2c20 7365 6c66  setWrapper, self
-00015c70: 292e 5f5f 7072 6570 6172 655f 5f28 2a2a  ).__prepare__(**
-00015c80: 6b77 6172 6773 290a 2020 2020 2020 2020  kwargs).        
-00015c90: 6966 2022 616e 6e6f 7461 7469 6f6e 5f63  if "annotation_c
-00015ca0: 6f75 6e74 6572 2220 696e 206b 7761 7267  ounter" in kwarg
-00015cb0: 733a 0a20 2020 2020 2020 2020 2020 2073  s:.            s
-00015cc0: 656c 662e 616e 6e6f 7461 7469 6f6e 5f63  elf.annotation_c
-00015cd0: 6f75 6e74 6572 203d 206b 7761 7267 735b  ounter = kwargs[
-00015ce0: 2261 6e6e 6f74 6174 696f 6e5f 636f 756e  "annotation_coun
-00015cf0: 7465 7222 5d0a 2020 2020 2020 2020 6966  ter"].        if
-00015d00: 2022 6c69 6e6b 2220 696e 206b 7761 7267   "link" in kwarg
-00015d10: 733a 0a20 2020 2020 2020 2020 2020 2073  s:.            s
-00015d20: 656c 662e 6c69 6e6b 203d 2022 6c69 6e6b  elf.link = "link
-00015d30: 2220 696e 206b 7761 7267 7320 616e 6420  " in kwargs and 
-00015d40: 6b77 6172 6773 5b22 6c69 6e6b 225d 206f  kwargs["link"] o
-00015d50: 7220 4e6f 6e65 0a0a 0a6f 6d65 726f 2e67  r None...omero.g
-00015d60: 6174 6577 6179 2e44 6174 6173 6574 5772  ateway.DatasetWr
-00015d70: 6170 7065 7220 3d20 4461 7461 7365 7457  apper = DatasetW
-00015d80: 7261 7070 6572 0a0a 0a63 6c61 7373 2049  rapper...class I
-00015d90: 6d61 6765 5772 6170 7065 7228 4f6d 6572  mageWrapper(Omer
-00015da0: 6f57 6562 4f62 6a65 6374 5772 6170 7065  oWebObjectWrappe
-00015db0: 722c 206f 6d65 726f 2e67 6174 6577 6179  r, omero.gateway
-00015dc0: 2e49 6d61 6765 5772 6170 7065 7229 3a0a  .ImageWrapper):.
-00015dd0: 2020 2020 2222 220a 2020 2020 6f6d 6572      """.    omer
-00015de0: 6f5f 6d6f 6465 6c5f 496d 6167 6549 2063  o_model_ImageI c
-00015df0: 6c61 7373 2077 7261 7070 6572 206f 7665  lass wrapper ove
-00015e00: 7277 7269 7465 206f 6d65 726f 2e67 6174  rwrite omero.gat
-00015e10: 6577 6179 2e49 6d61 6765 5772 6170 7065  eway.ImageWrappe
-00015e20: 720a 2020 2020 616e 6420 6578 7465 6e64  r.    and extend
-00015e30: 7320 4f6d 6572 6f57 6562 4f62 6a65 6374  s OmeroWebObject
-00015e40: 5772 6170 7065 722e 0a20 2020 2022 2222  Wrapper..    """
-00015e50: 0a0a 2020 2020 616e 6e6f 7461 7469 6f6e  ..    annotation
-00015e60: 5f63 6f75 6e74 6572 203d 204e 6f6e 650a  _counter = None.
-00015e70: 0a20 2020 2064 6566 205f 5f70 7265 7061  .    def __prepa
-00015e80: 7265 5f5f 2873 656c 662c 202a 2a6b 7761  re__(self, **kwa
-00015e90: 7267 7329 3a0a 2020 2020 2020 2020 7375  rgs):.        su
-00015ea0: 7065 7228 496d 6167 6557 7261 7070 6572  per(ImageWrapper
-00015eb0: 2c20 7365 6c66 292e 5f5f 7072 6570 6172  , self).__prepar
-00015ec0: 655f 5f28 2a2a 6b77 6172 6773 290a 2020  e__(**kwargs).  
-00015ed0: 2020 2020 2020 6966 2022 616e 6e6f 7461        if "annota
-00015ee0: 7469 6f6e 5f63 6f75 6e74 6572 2220 696e  tion_counter" in
-00015ef0: 206b 7761 7267 733a 0a20 2020 2020 2020   kwargs:.       
-00015f00: 2020 2020 2073 656c 662e 616e 6e6f 7461       self.annota
-00015f10: 7469 6f6e 5f63 6f75 6e74 6572 203d 206b  tion_counter = k
-00015f20: 7761 7267 735b 2261 6e6e 6f74 6174 696f  wargs["annotatio
-00015f30: 6e5f 636f 756e 7465 7222 5d0a 2020 2020  n_counter"].    
-00015f40: 2020 2020 6966 2022 6c69 6e6b 2220 696e      if "link" in
-00015f50: 206b 7761 7267 733a 0a20 2020 2020 2020   kwargs:.       
-00015f60: 2020 2020 2073 656c 662e 6c69 6e6b 203d       self.link =
-00015f70: 2022 6c69 6e6b 2220 696e 206b 7761 7267   "link" in kwarg
-00015f80: 7320 616e 6420 6b77 6172 6773 5b22 6c69  s and kwargs["li
-00015f90: 6e6b 225d 206f 7220 4e6f 6e65 0a0a 2020  nk"] or None..  
-00015fa0: 2020 6465 6620 6765 7450 6978 656c 5369    def getPixelSi
-00015fb0: 7a65 556e 6974 7328 7365 6c66 293a 0a20  zeUnits(self):. 
-00015fc0: 2020 2020 2020 2022 2222 0a20 2020 2020         """.     
-00015fd0: 2020 2057 6520 7573 6520 7468 6520 7069     We use the pi
-00015fe0: 7865 6c53 697a 6558 2074 6f20 6669 6e64  xelSizeX to find
-00015ff0: 2074 6865 2061 7070 726f 7072 6961 7465   the appropriate
-00016000: 2075 6e69 7473 2e0a 2020 2020 2020 2020   units..        
-00016010: 4279 2064 6566 6175 6c74 2c20 7765 2067  By default, we g
-00016020: 6574 2074 6865 2061 6374 7561 6c20 7369  et the actual si
-00016030: 7a65 2069 6e20 4d69 6372 6f6e 732c 2074  ze in Microns, t
-00016040: 6865 6e20 7573 6520 7468 650a 2020 2020  hen use the.    
-00016050: 2020 2020 6c65 6e67 7468 756e 6974 2066      lengthunit f
-00016060: 696c 7465 7220 746f 2070 6963 6b20 7468  ilter to pick th
-00016070: 6520 6d6f 7374 2073 7569 7461 626c 6520  e most suitable 
-00016080: 7369 7a65 2028 7361 6d65 206c 6f67 6963  size (same logic
-00016090: 0a20 2020 2020 2020 2069 7320 7573 6564  .        is used
-000160a0: 2066 6f72 2064 6f69 6e67 2074 6865 206c   for doing the l
-000160b0: 656e 6774 6820 636f 6e76 6572 7369 6f6e  ength conversion
-000160c0: 7329 2e0a 2020 2020 2020 2020 486f 7765  s)..        Howe
-000160d0: 7665 722c 2069 6620 756e 6974 2063 616e  ver, if unit can
-000160e0: 2774 2062 6520 636f 6e76 6572 7465 642c  't be converted,
-000160f0: 2074 6865 6e20 7765 206a 7573 7420 7265   then we just re
-00016100: 7475 726e 2074 6865 0a20 2020 2020 2020  turn the.       
-00016110: 2063 7572 7265 6e74 2075 6e69 7427 7320   current unit's 
-00016120: 7379 6d62 6f6c 2e0a 2020 2020 2020 2020  symbol..        
-00016130: 2222 220a 2020 2020 2020 2020 7472 793a  """.        try:
-00016140: 0a20 2020 2020 2020 2020 2020 2073 697a  .            siz
-00016150: 6520 3d20 7365 6c66 2e67 6574 5069 7865  e = self.getPixe
-00016160: 6c53 697a 6558 2875 6e69 7473 3d22 4d49  lSizeX(units="MI
-00016170: 4352 4f4d 4554 4552 2229 0a20 2020 2020  CROMETER").     
-00016180: 2020 2065 7863 6570 7420 4578 6365 7074     except Except
-00016190: 696f 6e3a 0a20 2020 2020 2020 2020 2020  ion:.           
-000161a0: 2073 697a 6520 3d20 7365 6c66 2e67 6574   size = self.get
-000161b0: 5069 7865 6c53 697a 6558 2854 7275 6529  PixelSizeX(True)
-000161c0: 0a20 2020 2020 2020 2020 2020 2069 6620  .            if 
-000161d0: 7369 7a65 2069 7320 6e6f 7420 4e6f 6e65  size is not None
-000161e0: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-000161f0: 2020 7265 7475 726e 2073 697a 652e 6765    return size.ge
-00016200: 7453 796d 626f 6c28 290a 2020 2020 2020  tSymbol().      
-00016210: 2020 6966 2073 697a 6520 6973 204e 6f6e    if size is Non
-00016220: 653a 0a20 2020 2020 2020 2020 2020 2073  e:.            s
-00016230: 697a 6520 3d20 300a 2020 2020 2020 2020  ize = 0.        
-00016240: 656c 7365 3a0a 2020 2020 2020 2020 2020  else:.          
-00016250: 2020 7369 7a65 203d 2073 697a 652e 6765    size = size.ge
-00016260: 7456 616c 7565 2829 0a20 2020 2020 2020  tValue().       
-00016270: 2072 6574 7572 6e20 6c65 6e67 7468 756e   return lengthun
-00016280: 6974 2873 697a 6529 0a0a 2020 2020 6465  it(size)..    de
-00016290: 6620 6765 7450 6978 656c 5369 7a65 584d  f getPixelSizeXM
-000162a0: 6963 726f 6e73 2873 656c 6629 3a0a 2020  icrons(self):.  
-000162b0: 2020 2020 2020 2222 220a 2020 2020 2020        """.      
-000162c0: 2020 4865 6c70 6572 2066 6f72 2063 616c    Helper for cal
-000162d0: 6c69 6e67 2067 6574 5069 7865 6c53 697a  ling getPixelSiz
-000162e0: 6558 2875 6e69 7473 3d22 4d49 4352 4f4d  eX(units="MICROM
-000162f0: 4554 4552 2229 2069 6e20 7465 6d70 6c61  ETER") in templa
-00016300: 7465 730a 2020 2020 2020 2020 2222 220a  tes.        """.
-00016310: 2020 2020 2020 2020 7472 793a 0a20 2020          try:.   
-00016320: 2020 2020 2020 2020 2073 697a 6520 3d20           size = 
-00016330: 7365 6c66 2e67 6574 5069 7865 6c53 697a  self.getPixelSiz
-00016340: 6558 2875 6e69 7473 3d22 4d49 4352 4f4d  eX(units="MICROM
-00016350: 4554 4552 2229 0a20 2020 2020 2020 2065  ETER").        e
-00016360: 7863 6570 7420 4578 6365 7074 696f 6e3a  xcept Exception:
-00016370: 0a20 2020 2020 2020 2020 2020 2073 697a  .            siz
-00016380: 6520 3d20 7365 6c66 2e67 6574 5069 7865  e = self.getPixe
-00016390: 6c53 697a 6558 2854 7275 6529 0a20 2020  lSizeX(True).   
-000163a0: 2020 2020 2069 6620 7369 7a65 2069 7320       if size is 
-000163b0: 4e6f 6e65 3a0a 2020 2020 2020 2020 2020  None:.          
-000163c0: 2020 7265 7475 726e 2030 0a20 2020 2020    return 0.     
-000163d0: 2020 2072 6574 7572 6e20 7369 7a65 2e67     return size.g
-000163e0: 6574 5661 6c75 6528 290a 0a20 2020 2064  etValue()..    d
-000163f0: 6566 2067 6574 5069 7865 6c53 697a 6559  ef getPixelSizeY
-00016400: 4d69 6372 6f6e 7328 7365 6c66 293a 0a20  Microns(self):. 
-00016410: 2020 2020 2020 2022 2222 0a20 2020 2020         """.     
-00016420: 2020 2048 656c 7065 7220 666f 7220 6361     Helper for ca
-00016430: 6c6c 696e 6720 6765 7450 6978 656c 5369  lling getPixelSi
-00016440: 7a65 5828 756e 6974 733d 224d 4943 524f  zeX(units="MICRO
-00016450: 4d45 5445 5222 2920 696e 2074 656d 706c  METER") in templ
-00016460: 6174 6573 0a20 2020 2020 2020 2022 2222  ates.        """
-00016470: 0a20 2020 2020 2020 2074 7279 3a0a 2020  .        try:.  
-00016480: 2020 2020 2020 2020 2020 7369 7a65 203d            size =
-00016490: 2073 656c 662e 6765 7450 6978 656c 5369   self.getPixelSi
-000164a0: 7a65 5928 756e 6974 733d 224d 4943 524f  zeY(units="MICRO
-000164b0: 4d45 5445 5222 290a 2020 2020 2020 2020  METER").        
-000164c0: 6578 6365 7074 2045 7863 6570 7469 6f6e  except Exception
-000164d0: 3a0a 2020 2020 2020 2020 2020 2020 7369  :.            si
-000164e0: 7a65 203d 2073 656c 662e 6765 7450 6978  ze = self.getPix
-000164f0: 656c 5369 7a65 5928 5472 7565 290a 2020  elSizeY(True).  
-00016500: 2020 2020 2020 6966 2073 697a 6520 6973        if size is
-00016510: 204e 6f6e 653a 0a20 2020 2020 2020 2020   None:.         
-00016520: 2020 2072 6574 7572 6e20 300a 2020 2020     return 0.    
-00016530: 2020 2020 7265 7475 726e 2073 697a 652e      return size.
-00016540: 6765 7456 616c 7565 2829 0a0a 2020 2020  getValue()..    
-00016550: 6465 6620 6765 7450 6978 656c 5369 7a65  def getPixelSize
-00016560: 5a4d 6963 726f 6e73 2873 656c 6629 3a0a  ZMicrons(self):.
-00016570: 2020 2020 2020 2020 2222 220a 2020 2020          """.    
-00016580: 2020 2020 4865 6c70 6572 2066 6f72 2063      Helper for c
-00016590: 616c 6c69 6e67 2067 6574 5069 7865 6c53  alling getPixelS
-000165a0: 697a 6558 2875 6e69 7473 3d22 4d49 4352  izeX(units="MICR
-000165b0: 4f4d 4554 4552 2229 2069 6e20 7465 6d70  OMETER") in temp
-000165c0: 6c61 7465 730a 2020 2020 2020 2020 2222  lates.        ""
-000165d0: 220a 2020 2020 2020 2020 7472 793a 0a20  ".        try:. 
-000165e0: 2020 2020 2020 2020 2020 2073 697a 6520             size 
-000165f0: 3d20 7365 6c66 2e67 6574 5069 7865 6c53  = self.getPixelS
-00016600: 697a 655a 2875 6e69 7473 3d22 4d49 4352  izeZ(units="MICR
-00016610: 4f4d 4554 4552 2229 0a20 2020 2020 2020  OMETER").       
-00016620: 2065 7863 6570 7420 4578 6365 7074 696f   except Exceptio
-00016630: 6e3a 0a20 2020 2020 2020 2020 2020 2073  n:.            s
-00016640: 697a 6520 3d20 7365 6c66 2e67 6574 5069  ize = self.getPi
-00016650: 7865 6c53 697a 655a 2854 7275 6529 0a20  xelSizeZ(True). 
-00016660: 2020 2020 2020 2069 6620 7369 7a65 2069         if size i
-00016670: 7320 4e6f 6e65 3a0a 2020 2020 2020 2020  s None:.        
-00016680: 2020 2020 7265 7475 726e 2030 0a20 2020      return 0.   
-00016690: 2020 2020 2072 6574 7572 6e20 7369 7a65       return size
-000166a0: 2e67 6574 5661 6c75 6528 290a 0a20 2020  .getValue()..   
-000166b0: 2064 6566 2067 6574 5069 7865 6c53 697a   def getPixelSiz
-000166c0: 6558 5769 7468 556e 6974 7328 7365 6c66  eXWithUnits(self
-000166d0: 293a 0a20 2020 2020 2020 2022 2222 0a20  ):.        """. 
-000166e0: 2020 2020 2020 2052 6574 7572 6e73 205b         Returns [
-000166f0: 7661 6c75 652c 2075 6e69 7453 796d 626f  value, unitSymbo
-00016700: 6c5d 0a20 2020 2020 2020 2049 6620 7468  l].        If th
-00016710: 6520 756e 6974 2069 7320 4d49 4352 4f4d  e unit is MICROM
-00016720: 4554 4552 2069 6e20 6461 7461 6261 7365  ETER in database
-00016730: 2028 6465 6661 756c 7429 2c20 7765 0a20   (default), we. 
-00016740: 2020 2020 2020 2063 6f6e 7665 7274 2074         convert t
-00016750: 6f20 6d6f 7265 2061 7070 726f 7072 6961  o more appropria
-00016760: 7465 2075 6e69 7473 2026 2076 616c 7565  te units & value
-00016770: 0a20 2020 2020 2020 2022 2222 0a20 2020  .        """.   
-00016780: 2020 2020 2073 697a 6520 3d20 7365 6c66       size = self
-00016790: 2e67 6574 5069 7865 6c53 697a 6558 2854  .getPixelSizeX(T
-000167a0: 7275 6529 0a20 2020 2020 2020 2072 6574  rue).        ret
-000167b0: 7572 6e20 7365 6c66 2e66 6f72 6d61 7450  urn self.formatP
-000167c0: 6978 656c 5369 7a65 5769 7468 556e 6974  ixelSizeWithUnit
-000167d0: 7328 7369 7a65 290a 0a20 2020 2064 6566  s(size)..    def
-000167e0: 2067 6574 5069 7865 6c53 697a 6559 5769   getPixelSizeYWi
-000167f0: 7468 556e 6974 7328 7365 6c66 293a 0a20  thUnits(self):. 
-00016800: 2020 2020 2020 2022 2222 0a20 2020 2020         """.     
-00016810: 2020 2052 6574 7572 6e73 205b 7661 6c75     Returns [valu
-00016820: 652c 2075 6e69 7453 796d 626f 6c5d 0a20  e, unitSymbol]. 
-00016830: 2020 2020 2020 2049 6620 7468 6520 756e         If the un
-00016840: 6974 2069 7320 4d49 4352 4f4d 4554 4552  it is MICROMETER
-00016850: 2069 6e20 6461 7461 6261 7365 2028 6465   in database (de
-00016860: 6661 756c 7429 2c20 7765 0a20 2020 2020  fault), we.     
-00016870: 2020 2063 6f6e 7665 7274 2074 6f20 6d6f     convert to mo
-00016880: 7265 2061 7070 726f 7072 6961 7465 2075  re appropriate u
-00016890: 6e69 7473 2026 2076 616c 7565 0a20 2020  nits & value.   
-000168a0: 2020 2020 2022 2222 0a20 2020 2020 2020       """.       
-000168b0: 2073 697a 6520 3d20 7365 6c66 2e67 6574   size = self.get
-000168c0: 5069 7865 6c53 697a 6559 2854 7275 6529  PixelSizeY(True)
-000168d0: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
-000168e0: 7365 6c66 2e66 6f72 6d61 7450 6978 656c  self.formatPixel
-000168f0: 5369 7a65 5769 7468 556e 6974 7328 7369  SizeWithUnits(si
-00016900: 7a65 290a 0a20 2020 2064 6566 2067 6574  ze)..    def get
-00016910: 5069 7865 6c53 697a 655a 5769 7468 556e  PixelSizeZWithUn
-00016920: 6974 7328 7365 6c66 293a 0a20 2020 2020  its(self):.     
-00016930: 2020 2022 2222 0a20 2020 2020 2020 2052     """.        R
-00016940: 6574 7572 6e73 205b 7661 6c75 652c 2075  eturns [value, u
-00016950: 6e69 7453 796d 626f 6c5d 0a20 2020 2020  nitSymbol].     
-00016960: 2020 2049 6620 7468 6520 756e 6974 2069     If the unit i
-00016970: 7320 4d49 4352 4f4d 4554 4552 2069 6e20  s MICROMETER in 
-00016980: 6461 7461 6261 7365 2028 6465 6661 756c  database (defaul
-00016990: 7429 2c20 7765 0a20 2020 2020 2020 2063  t), we.        c
-000169a0: 6f6e 7665 7274 2074 6f20 6d6f 7265 2061  onvert to more a
-000169b0: 7070 726f 7072 6961 7465 2075 6e69 7473  ppropriate units
-000169c0: 2026 2076 616c 7565 0a20 2020 2020 2020   & value.       
-000169d0: 2022 2222 0a20 2020 2020 2020 2073 697a   """.        siz
-000169e0: 6520 3d20 7365 6c66 2e67 6574 5069 7865  e = self.getPixe
-000169f0: 6c53 697a 655a 2854 7275 6529 0a20 2020  lSizeZ(True).   
-00016a00: 2020 2020 2072 6574 7572 6e20 7365 6c66       return self
-00016a10: 2e66 6f72 6d61 7450 6978 656c 5369 7a65  .formatPixelSize
-00016a20: 5769 7468 556e 6974 7328 7369 7a65 290a  WithUnits(size).
-00016a30: 0a20 2020 2064 6566 2066 6f72 6d61 7450  .    def formatP
-00016a40: 6978 656c 5369 7a65 5769 7468 556e 6974  ixelSizeWithUnit
-00016a50: 7328 7365 6c66 2c20 7369 7a65 293a 0a20  s(self, size):. 
-00016a60: 2020 2020 2020 2022 2222 0a20 2020 2020         """.     
-00016a70: 2020 2046 6f72 6d61 7473 2074 6865 2072     Formats the r
-00016a80: 6573 706f 6e73 6520 666f 7220 6d65 7468  esponse for meth
-00016a90: 6f64 7320 6162 6f76 652e 0a20 2020 2020  ods above..     
-00016aa0: 2020 2052 6574 7572 6e73 205b 7661 6c75     Returns [valu
-00016ab0: 652c 2075 6e69 7453 796d 626f 6c5d 0a20  e, unitSymbol]. 
-00016ac0: 2020 2020 2020 2049 6620 7468 6520 756e         If the un
-00016ad0: 6974 2069 7320 4d49 4352 4f4d 4554 4552  it is MICROMETER
-00016ae0: 2069 6e20 6461 7461 6261 7365 2028 6465   in database (de
-00016af0: 6661 756c 7429 2c20 7765 0a20 2020 2020  fault), we.     
-00016b00: 2020 2063 6f6e 7665 7274 2074 6f20 6d6f     convert to mo
-00016b10: 7265 2061 7070 726f 7072 6961 7465 2075  re appropriate u
-00016b20: 6e69 7473 2026 2076 616c 7565 0a20 2020  nits & value.   
-00016b30: 2020 2020 2022 2222 0a20 2020 2020 2020       """.       
-00016b40: 2069 6620 7369 7a65 2069 7320 4e6f 6e65   if size is None
-00016b50: 3a0a 2020 2020 2020 2020 2020 2020 7265  :.            re
-00016b60: 7475 726e 2028 4e6f 6e65 2c20 22c2 b56d  turn (None, "..m
-00016b70: 2229 0a20 2020 2020 2020 206c 656e 6774  ").        lengt
-00016b80: 6820 3d20 7369 7a65 2e67 6574 5661 6c75  h = size.getValu
-00016b90: 6528 290a 2020 2020 2020 2020 756e 6974  e().        unit
-00016ba0: 203d 2073 697a 652e 6765 7455 6e69 7428   = size.getUnit(
-00016bb0: 290a 2020 2020 2020 2020 6966 2075 6e69  ).        if uni
-00016bc0: 7420 3d3d 2022 4d49 4352 4f4d 4554 4552  t == "MICROMETER
-00016bd0: 223a 0a20 2020 2020 2020 2020 2020 2075  ":.            u
-00016be0: 6e69 7420 3d20 6c65 6e67 7468 756e 6974  nit = lengthunit
-00016bf0: 286c 656e 6774 6829 0a20 2020 2020 2020  (length).       
-00016c00: 2020 2020 206c 656e 6774 6820 3d20 6c65       length = le
-00016c10: 6e67 7468 666f 726d 6174 286c 656e 6774  ngthformat(lengt
-00016c20: 6829 0a20 2020 2020 2020 2065 6c73 653a  h).        else:
-00016c30: 0a20 2020 2020 2020 2020 2020 2075 6e69  .            uni
-00016c40: 7420 3d20 7369 7a65 2e67 6574 5379 6d62  t = size.getSymb
-00016c50: 6f6c 2829 0a20 2020 2020 2020 2072 6574  ol().        ret
-00016c60: 7572 6e20 286c 656e 6774 682c 2075 6e69  urn (length, uni
-00016c70: 7429 0a0a 2020 2020 6465 6620 6765 7443  t)..    def getC
-00016c80: 6861 6e6e 656c 7328 7365 6c66 2c20 2a61  hannels(self, *a
-00016c90: 7267 732c 202a 2a6b 7761 7267 7329 3a0a  rgs, **kwargs):.
-00016ca0: 2020 2020 2020 2020 2222 220a 2020 2020          """.    
-00016cb0: 2020 2020 5468 6973 206f 7665 7272 6964      This overrid
-00016cc0: 6520 7374 616e 6461 7264 206f 6d65 726f  e standard omero
-00016cd0: 2e67 6174 6577 6179 2e49 6d61 6765 5772  .gateway.ImageWr
-00016ce0: 6170 7065 722e 6765 7443 6861 6e6e 656c  apper.getChannel
-00016cf0: 730a 2020 2020 2020 2020 616e 6420 6361  s.        and ca
-00016d00: 7463 6820 6578 6365 7074 696f 6e73 2e0a  tch exceptions..
-00016d10: 2020 2020 2020 2020 2222 220a 2020 2020          """.    
-00016d20: 2020 2020 7472 793a 0a20 2020 2020 2020      try:.       
-00016d30: 2020 2020 2072 6574 7572 6e20 7375 7065       return supe
-00016d40: 7228 496d 6167 6557 7261 7070 6572 2c20  r(ImageWrapper, 
-00016d50: 7365 6c66 292e 6765 7443 6861 6e6e 656c  self).getChannel
-00016d60: 7328 2a61 7267 732c 202a 2a6b 7761 7267  s(*args, **kwarg
-00016d70: 7329 0a20 2020 2020 2020 2065 7863 6570  s).        excep
-00016d80: 7420 4578 6365 7074 696f 6e3a 0a20 2020  t Exception:.   
-00016d90: 2020 2020 2020 2020 206c 6f67 6765 722e           logger.
-00016da0: 6572 726f 7228 2246 6169 6c65 6420 746f  error("Failed to
-00016db0: 206c 6f61 6420 6368 616e 6e65 6c73 3a22   load channels:"
-00016dc0: 2c20 6578 635f 696e 666f 3d54 7275 6529  , exc_info=True)
-00016dd0: 0a20 2020 2020 2020 2020 2020 2072 6574  .            ret
-00016de0: 7572 6e20 4e6f 6e65 0a0a 2020 2020 6465  urn None..    de
-00016df0: 6620 7368 6f77 4f72 6967 696e 616c 4669  f showOriginalFi
-00016e00: 6c65 5061 7468 7328 7365 6c66 293a 0a20  lePaths(self):. 
-00016e10: 2020 2020 2020 2022 2222 0a20 2020 2020         """.     
-00016e20: 2020 2054 6869 7320 6465 7465 726d 696e     This determin
-00016e30: 6573 2077 6865 7468 6572 2077 6520 7761  es whether we wa
-00016e40: 6e74 2074 6f20 7368 6f77 2074 6865 2070  nt to show the p
-00016e50: 6174 6873 206f 660a 2020 2020 2020 2020  aths of.        
-00016e60: 4f72 6967 696e 616c 2049 6d70 6f72 7465  Original Importe
-00016e70: 6420 4669 6c65 732e 0a20 2020 2020 2020  d Files..       
-00016e80: 2022 2222 0a20 2020 2020 2020 2072 6574   """.        ret
-00016e90: 7572 6e20 7375 7065 7228 496d 6167 6557  urn super(ImageW
-00016ea0: 7261 7070 6572 2c20 7365 6c66 292e 636f  rapper, self).co
-00016eb0: 756e 7446 696c 6573 6574 4669 6c65 7328  untFilesetFiles(
-00016ec0: 2920 3e20 300a 0a20 2020 2064 6566 2067  ) > 0..    def g
-00016ed0: 6574 4669 6c65 7365 7449 6d61 6765 7328  etFilesetImages(
-00016ee0: 7365 6c66 293a 0a20 2020 2020 2020 2022  self):.        "
-00016ef0: 2222 0a20 2020 2020 2020 2052 6574 7572  "".        Retur
-00016f00: 6e73 2061 206c 6973 7420 6f66 2074 6865  ns a list of the
-00016f10: 2027 7369 626c 696e 6727 2069 6d61 6765   'sibling' image
-00016f20: 7320 2869 6e63 6c75 6469 6e67 2074 6869  s (including thi
-00016f30: 7320 6f6e 6529 2074 6861 740a 2020 2020  s one) that.    
-00016f40: 2020 2020 6265 6c6f 6e67 2074 6f20 7468      belong to th
-00016f50: 6973 2069 6d61 6765 2773 2046 696c 6573  is image's Files
-00016f60: 6574 2e20 536f 7274 6564 2062 7920 6e61  et. Sorted by na
-00016f70: 6d65 2e0a 2020 2020 2020 2020 4966 2049  me..        If I
-00016f80: 6d61 6765 2068 6173 206e 6f20 4669 6c65  mage has no File
-00016f90: 7365 742c 2072 6574 7572 6e20 616e 2065  set, return an e
-00016fa0: 6d70 7479 206c 6973 742e 0a0a 2020 2020  mpty list...    
-00016fb0: 2020 2020 4072 7479 7065 3a20 2020 2020      @rtype:     
-00016fc0: 4c69 7374 206f 6620 7b49 6d61 6765 5772  List of {ImageWr
-00016fd0: 6170 7065 727d 0a20 2020 2020 2020 2022  apper}.        "
-00016fe0: 2222 0a20 2020 2020 2020 2066 696c 6573  "".        files
-00016ff0: 6574 203d 2073 656c 662e 6765 7446 696c  et = self.getFil
-00017000: 6573 6574 2829 0a20 2020 2020 2020 2069  eset().        i
-00017010: 6620 6669 6c65 7365 7420 6973 206e 6f74  f fileset is not
-00017020: 204e 6f6e 653a 0a20 2020 2020 2020 2020   None:.         
-00017030: 2020 2066 7349 6d67 7320 3d20 6669 6c65     fsImgs = file
-00017040: 7365 742e 636f 7079 496d 6167 6573 2829  set.copyImages()
-00017050: 0a20 2020 2020 2020 2020 2020 2066 7349  .            fsI
-00017060: 6d67 732e 736f 7274 286b 6579 3d6c 616d  mgs.sort(key=lam
-00017070: 6264 6120 783a 2078 2e67 6574 4e61 6d65  bda x: x.getName
-00017080: 2829 2e6c 6f77 6572 2829 290a 2020 2020  ().lower()).    
-00017090: 2020 2020 2020 2020 7265 7475 726e 2066          return f
-000170a0: 7349 6d67 730a 2020 2020 2020 2020 7265  sImgs.        re
-000170b0: 7475 726e 205b 5d0a 0a20 2020 2064 6566  turn []..    def
-000170c0: 2067 6574 496e 706c 6163 6549 6d70 6f72   getInplaceImpor
-000170d0: 7443 6d64 2873 656c 6629 3a0a 2020 2020  tCmd(self):.    
-000170e0: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
-000170f0: 5265 7475 726e 7320 7468 6520 636f 6d6d  Returns the comm
-00017100: 616e 6420 7573 6564 2074 6f20 646f 2069  and used to do i
-00017110: 6d70 6f72 7420 7472 616e 7366 6572 2066  mport transfer f
-00017120: 6f72 2074 6869 7320 696d 6167 652c 0a20  or this image,. 
-00017130: 2020 2020 2020 2045 2e67 2e20 276c 6e27         E.g. 'ln'
-00017140: 2c20 6f72 2065 6d70 7479 2073 7472 696e  , or empty strin
-00017150: 6720 6966 206e 6f74 2069 6e2d 706c 6163  g if not in-plac
-00017160: 6520 696d 706f 7274 6564 2e0a 2020 2020  e imported..    
-00017170: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
-00017180: 696e 706c 6163 6520 3d20 7365 6c66 2e67  inplace = self.g
-00017190: 6574 496e 706c 6163 6549 6d70 6f72 7428  etInplaceImport(
-000171a0: 290a 2020 2020 2020 2020 6966 2069 6e70  ).        if inp
-000171b0: 6c61 6365 2061 6e64 2069 6e70 6c61 6365  lace and inplace
-000171c0: 2069 6e20 5452 414e 5346 4552 533a 0a20   in TRANSFERS:. 
-000171d0: 2020 2020 2020 2020 2020 2072 6574 7572             retur
-000171e0: 6e20 5452 414e 5346 4552 535b 696e 706c  n TRANSFERS[inpl
-000171f0: 6163 655d 0a20 2020 2020 2020 2072 6574  ace].        ret
-00017200: 7572 6e20 2222 0a0a 0a6f 6d65 726f 2e67  urn ""...omero.g
-00017210: 6174 6577 6179 2e49 6d61 6765 5772 6170  ateway.ImageWrap
-00017220: 7065 7220 3d20 496d 6167 6557 7261 7070  per = ImageWrapp
-00017230: 6572 0a0a 0a63 6c61 7373 2050 6c61 7465  er...class Plate
-00017240: 5772 6170 7065 7228 4f6d 6572 6f57 6562  Wrapper(OmeroWeb
-00017250: 4f62 6a65 6374 5772 6170 7065 722c 206f  ObjectWrapper, o
-00017260: 6d65 726f 2e67 6174 6577 6179 2e50 6c61  mero.gateway.Pla
-00017270: 7465 5772 6170 7065 7229 3a0a 0a20 2020  teWrapper):..   
-00017280: 2022 2222 0a20 2020 206f 6d65 726f 5f6d   """.    omero_m
-00017290: 6f64 656c 5f50 6c61 7465 4920 636c 6173  odel_PlateI clas
-000172a0: 7320 7772 6170 7065 7220 6f76 6572 7772  s wrapper overwr
-000172b0: 6974 6520 6f6d 6572 6f2e 6761 7465 7761  ite omero.gatewa
-000172c0: 792e 506c 6174 6557 7261 7070 6572 0a20  y.PlateWrapper. 
-000172d0: 2020 2061 6e64 2065 7874 656e 6473 204f     and extends O
-000172e0: 6d65 726f 5765 624f 626a 6563 7457 7261  meroWebObjectWra
-000172f0: 7070 6572 2e0a 2020 2020 2222 220a 0a20  pper..    """.. 
-00017300: 2020 2061 6e6e 6f74 6174 696f 6e5f 636f     annotation_co
-00017310: 756e 7465 7220 3d20 4e6f 6e65 0a0a 2020  unter = None..  
-00017320: 2020 6465 6620 5f5f 7072 6570 6172 655f    def __prepare_
-00017330: 5f28 7365 6c66 2c20 2a2a 6b77 6172 6773  _(self, **kwargs
-00017340: 293a 0a20 2020 2020 2020 2073 7570 6572  ):.        super
-00017350: 2850 6c61 7465 5772 6170 7065 722c 2073  (PlateWrapper, s
-00017360: 656c 6629 2e5f 5f70 7265 7061 7265 5f5f  elf).__prepare__
-00017370: 282a 2a6b 7761 7267 7329 0a20 2020 2020  (**kwargs).     
-00017380: 2020 2069 6620 2261 6e6e 6f74 6174 696f     if "annotatio
-00017390: 6e5f 636f 756e 7465 7222 2069 6e20 6b77  n_counter" in kw
-000173a0: 6172 6773 3a0a 2020 2020 2020 2020 2020  args:.          
-000173b0: 2020 7365 6c66 2e61 6e6e 6f74 6174 696f    self.annotatio
-000173c0: 6e5f 636f 756e 7465 7220 3d20 6b77 6172  n_counter = kwar
-000173d0: 6773 5b22 616e 6e6f 7461 7469 6f6e 5f63  gs["annotation_c
-000173e0: 6f75 6e74 6572 225d 0a20 2020 2020 2020  ounter"].       
-000173f0: 2069 6620 226c 696e 6b22 2069 6e20 6b77   if "link" in kw
-00017400: 6172 6773 3a0a 2020 2020 2020 2020 2020  args:.          
-00017410: 2020 7365 6c66 2e6c 696e 6b20 3d20 226c    self.link = "l
-00017420: 696e 6b22 2069 6e20 6b77 6172 6773 2061  ink" in kwargs a
-00017430: 6e64 206b 7761 7267 735b 226c 696e 6b22  nd kwargs["link"
-00017440: 5d20 6f72 204e 6f6e 650a 0a0a 6f6d 6572  ] or None...omer
-00017450: 6f2e 6761 7465 7761 792e 506c 6174 6557  o.gateway.PlateW
-00017460: 7261 7070 6572 203d 2050 6c61 7465 5772  rapper = PlateWr
-00017470: 6170 7065 720a 0a0a 636c 6173 7320 5765  apper...class We
-00017480: 6c6c 5772 6170 7065 7228 4f6d 6572 6f57  llWrapper(OmeroW
-00017490: 6562 4f62 6a65 6374 5772 6170 7065 722c  ebObjectWrapper,
-000174a0: 206f 6d65 726f 2e67 6174 6577 6179 2e57   omero.gateway.W
-000174b0: 656c 6c57 7261 7070 6572 293a 0a20 2020  ellWrapper):.   
-000174c0: 2022 2222 0a20 2020 206f 6d65 726f 5f6d   """.    omero_m
-000174d0: 6f64 656c 5f49 6d61 6765 4920 636c 6173  odel_ImageI clas
-000174e0: 7320 7772 6170 7065 7220 6f76 6572 7772  s wrapper overwr
-000174f0: 6974 6520 6f6d 6572 6f2e 6761 7465 7761  ite omero.gatewa
-00017500: 792e 496d 6167 6557 7261 7070 6572 0a20  y.ImageWrapper. 
-00017510: 2020 2061 6e64 2065 7874 656e 6473 204f     and extends O
-00017520: 6d65 726f 5765 624f 626a 6563 7457 7261  meroWebObjectWra
-00017530: 7070 6572 2e0a 2020 2020 2222 220a 0a20  pper..    """.. 
-00017540: 2020 2061 6e6e 6f74 6174 696f 6e5f 636f     annotation_co
-00017550: 756e 7465 7220 3d20 4e6f 6e65 0a0a 2020  unter = None..  
-00017560: 2020 6465 6620 5f5f 7072 6570 6172 655f    def __prepare_
-00017570: 5f28 7365 6c66 2c20 2a2a 6b77 6172 6773  _(self, **kwargs
-00017580: 293a 0a20 2020 2020 2020 2073 7570 6572  ):.        super
-00017590: 2857 656c 6c57 7261 7070 6572 2c20 7365  (WellWrapper, se
-000175a0: 6c66 292e 5f5f 7072 6570 6172 655f 5f28  lf).__prepare__(
-000175b0: 2a2a 6b77 6172 6773 290a 2020 2020 2020  **kwargs).      
-000175c0: 2020 6966 2022 616e 6e6f 7461 7469 6f6e    if "annotation
-000175d0: 5f63 6f75 6e74 6572 2220 696e 206b 7761  _counter" in kwa
-000175e0: 7267 733a 0a20 2020 2020 2020 2020 2020  rgs:.           
-000175f0: 2073 656c 662e 616e 6e6f 7461 7469 6f6e   self.annotation
-00017600: 5f63 6f75 6e74 6572 203d 206b 7761 7267  _counter = kwarg
-00017610: 735b 2261 6e6e 6f74 6174 696f 6e5f 636f  s["annotation_co
-00017620: 756e 7465 7222 5d0a 2020 2020 2020 2020  unter"].        
-00017630: 6966 2022 6c69 6e6b 2220 696e 206b 7761  if "link" in kwa
-00017640: 7267 733a 0a20 2020 2020 2020 2020 2020  rgs:.           
-00017650: 2073 656c 662e 6c69 6e6b 203d 2022 6c69   self.link = "li
-00017660: 6e6b 2220 696e 206b 7761 7267 7320 616e  nk" in kwargs an
-00017670: 6420 6b77 6172 6773 5b22 6c69 6e6b 225d  d kwargs["link"]
-00017680: 206f 7220 4e6f 6e65 0a0a 0a6f 6d65 726f   or None...omero
-00017690: 2e67 6174 6577 6179 2e57 656c 6c57 7261  .gateway.WellWra
-000176a0: 7070 6572 203d 2057 656c 6c57 7261 7070  pper = WellWrapp
-000176b0: 6572 0a0a 0a63 6c61 7373 2050 6c61 7465  er...class Plate
-000176c0: 4163 7175 6973 6974 696f 6e57 7261 7070  AcquisitionWrapp
-000176d0: 6572 280a 2020 2020 4f6d 6572 6f57 6562  er(.    OmeroWeb
-000176e0: 4f62 6a65 6374 5772 6170 7065 722c 206f  ObjectWrapper, o
-000176f0: 6d65 726f 2e67 6174 6577 6179 2e50 6c61  mero.gateway.Pla
-00017700: 7465 4163 7175 6973 6974 696f 6e57 7261  teAcquisitionWra
-00017710: 7070 6572 0a29 3a0a 0a20 2020 2022 2222  pper.):..    """
-00017720: 0a20 2020 206f 6d65 726f 5f6d 6f64 656c  .    omero_model
-00017730: 5f50 6c61 7465 4920 636c 6173 7320 7772  _PlateI class wr
-00017740: 6170 7065 7220 6f76 6572 7772 6974 6520  apper overwrite 
-00017750: 6f6d 6572 6f2e 6761 7465 7761 792e 506c  omero.gateway.Pl
-00017760: 6174 6557 7261 7070 6572 0a20 2020 2061  ateWrapper.    a
-00017770: 6e64 2065 7874 656e 6473 204f 6d65 726f  nd extends Omero
-00017780: 5765 624f 626a 6563 7457 7261 7070 6572  WebObjectWrapper
-00017790: 2e0a 2020 2020 2222 220a 0a20 2020 2061  ..    """..    a
-000177a0: 6e6e 6f74 6174 696f 6e5f 636f 756e 7465  nnotation_counte
-000177b0: 7220 3d20 4e6f 6e65 0a0a 2020 2020 6465  r = None..    de
-000177c0: 6620 5f5f 7072 6570 6172 655f 5f28 7365  f __prepare__(se
-000177d0: 6c66 2c20 2a2a 6b77 6172 6773 293a 0a20  lf, **kwargs):. 
-000177e0: 2020 2020 2020 2073 7570 6572 2850 6c61         super(Pla
-000177f0: 7465 4163 7175 6973 6974 696f 6e57 7261  teAcquisitionWra
-00017800: 7070 6572 2c20 7365 6c66 292e 5f5f 7072  pper, self).__pr
-00017810: 6570 6172 655f 5f28 2a2a 6b77 6172 6773  epare__(**kwargs
-00017820: 290a 2020 2020 2020 2020 6966 2022 616e  ).        if "an
-00017830: 6e6f 7461 7469 6f6e 5f63 6f75 6e74 6572  notation_counter
-00017840: 2220 696e 206b 7761 7267 733a 0a20 2020  " in kwargs:.   
-00017850: 2020 2020 2020 2020 2073 656c 662e 616e           self.an
-00017860: 6e6f 7461 7469 6f6e 5f63 6f75 6e74 6572  notation_counter
-00017870: 203d 206b 7761 7267 735b 2261 6e6e 6f74   = kwargs["annot
-00017880: 6174 696f 6e5f 636f 756e 7465 7222 5d0a  ation_counter"].
-00017890: 0a0a 6f6d 6572 6f2e 6761 7465 7761 792e  ..omero.gateway.
-000178a0: 506c 6174 6541 6371 7569 7369 7469 6f6e  PlateAcquisition
-000178b0: 5772 6170 7065 7220 3d20 506c 6174 6541  Wrapper = PlateA
-000178c0: 6371 7569 7369 7469 6f6e 5772 6170 7065  cquisitionWrappe
-000178d0: 720a 0a0a 636c 6173 7320 5363 7265 656e  r...class Screen
-000178e0: 5772 6170 7065 7228 4f6d 6572 6f57 6562  Wrapper(OmeroWeb
-000178f0: 4f62 6a65 6374 5772 6170 7065 722c 206f  ObjectWrapper, o
-00017900: 6d65 726f 2e67 6174 6577 6179 2e53 6372  mero.gateway.Scr
-00017910: 6565 6e57 7261 7070 6572 293a 0a20 2020  eenWrapper):.   
-00017920: 2022 2222 0a20 2020 206f 6d65 726f 5f6d   """.    omero_m
-00017930: 6f64 656c 5f53 6372 6565 6e49 2063 6c61  odel_ScreenI cla
-00017940: 7373 2077 7261 7070 6572 206f 7665 7277  ss wrapper overw
-00017950: 7269 7465 206f 6d65 726f 2e67 6174 6577  rite omero.gatew
-00017960: 6179 2e53 6372 6565 6e57 7261 7070 6572  ay.ScreenWrapper
-00017970: 0a20 2020 2061 6e64 2065 7874 656e 6473  .    and extends
-00017980: 204f 6d65 726f 5765 624f 626a 6563 7457   OmeroWebObjectW
-00017990: 7261 7070 6572 2e0a 2020 2020 2222 220a  rapper..    """.
-000179a0: 0a20 2020 2061 6e6e 6f74 6174 696f 6e5f  .    annotation_
-000179b0: 636f 756e 7465 7220 3d20 4e6f 6e65 0a0a  counter = None..
-000179c0: 2020 2020 6465 6620 5f5f 7072 6570 6172      def __prepar
-000179d0: 655f 5f28 7365 6c66 2c20 2a2a 6b77 6172  e__(self, **kwar
-000179e0: 6773 293a 0a20 2020 2020 2020 2073 7570  gs):.        sup
-000179f0: 6572 2853 6372 6565 6e57 7261 7070 6572  er(ScreenWrapper
-00017a00: 2c20 7365 6c66 292e 5f5f 7072 6570 6172  , self).__prepar
-00017a10: 655f 5f28 2a2a 6b77 6172 6773 290a 2020  e__(**kwargs).  
-00017a20: 2020 2020 2020 6966 2022 616e 6e6f 7461        if "annota
-00017a30: 7469 6f6e 5f63 6f75 6e74 6572 2220 696e  tion_counter" in
-00017a40: 206b 7761 7267 733a 0a20 2020 2020 2020   kwargs:.       
-00017a50: 2020 2020 2073 656c 662e 616e 6e6f 7461       self.annota
-00017a60: 7469 6f6e 5f63 6f75 6e74 6572 203d 206b  tion_counter = k
-00017a70: 7761 7267 735b 2261 6e6e 6f74 6174 696f  wargs["annotatio
-00017a80: 6e5f 636f 756e 7465 7222 5d0a 0a0a 6f6d  n_counter"]...om
-00017a90: 6572 6f2e 6761 7465 7761 792e 5363 7265  ero.gateway.Scre
-00017aa0: 656e 5772 6170 7065 7220 3d20 5363 7265  enWrapper = Scre
-00017ab0: 656e 5772 6170 7065 720a 0a0a 636c 6173  enWrapper...clas
-00017ac0: 7320 4576 656e 744c 6f67 5772 6170 7065  s EventLogWrappe
-00017ad0: 7228 6f6d 6572 6f2e 6761 7465 7761 792e  r(omero.gateway.
-00017ae0: 426c 6974 7a4f 626a 6563 7457 7261 7070  BlitzObjectWrapp
-00017af0: 6572 293a 0a20 2020 2022 2222 0a20 2020  er):.    """.   
-00017b00: 206f 6d65 726f 5f6d 6f64 656c 5f45 7665   omero_model_Eve
-00017b10: 6e74 4c6f 6749 2063 6c61 7373 2077 7261  ntLogI class wra
-00017b20: 7070 6572 2065 7874 656e 6473 0a20 2020  pper extends.   
-00017b30: 206f 6d65 726f 2e67 6174 6577 6179 2e42   omero.gateway.B
-00017b40: 6c69 747a 4f62 6a65 6374 5772 6170 7065  litzObjectWrappe
-00017b50: 722e 0a20 2020 2022 2222 0a0a 2020 2020  r..    """..    
-00017b60: 4c49 4e4b 5f43 4c41 5353 203d 2022 4576  LINK_CLASS = "Ev
-00017b70: 656e 744c 6f67 220a 0a0a 636c 6173 7320  entLog"...class 
-00017b80: 5368 6172 6557 7261 7070 6572 286f 6d65  ShareWrapper(ome
-00017b90: 726f 2e67 6174 6577 6179 2e42 6c69 747a  ro.gateway.Blitz
-00017ba0: 4f62 6a65 6374 5772 6170 7065 7229 3a0a  ObjectWrapper):.
-00017bb0: 2020 2020 2222 220a 2020 2020 6f6d 6572      """.    omer
-00017bc0: 6f5f 6d6f 6465 6c5f 5368 6172 6549 2063  o_model_ShareI c
-00017bd0: 6c61 7373 2077 7261 7070 6572 2065 7874  lass wrapper ext
-00017be0: 656e 6473 2042 6c69 747a 4f62 6a65 6374  ends BlitzObject
-00017bf0: 5772 6170 7065 722e 0a20 2020 2022 2222  Wrapper..    """
-00017c00: 0a0a 2020 2020 6465 6620 6765 7453 6861  ..    def getSha
-00017c10: 7265 5479 7065 2873 656c 6629 3a0a 2020  reType(self):.  
-00017c20: 2020 2020 2020 6966 2073 656c 662e 6974        if self.it
-00017c30: 656d 436f 756e 7420 3d3d 2030 3a0a 2020  emCount == 0:.  
-00017c40: 2020 2020 2020 2020 2020 7265 7475 726e            return
-00017c50: 2022 4469 7363 7573 7369 6f6e 220a 2020   "Discussion".  
-00017c60: 2020 2020 2020 656c 7365 3a0a 2020 2020        else:.    
-00017c70: 2020 2020 2020 2020 7265 7475 726e 2022          return "
-00017c80: 5368 6172 6522 0a0a 2020 2020 6465 6620  Share"..    def 
-00017c90: 6973 456d 7074 7928 7365 6c66 293a 0a20  isEmpty(self):. 
-00017ca0: 2020 2020 2020 2069 6620 7365 6c66 2e69         if self.i
-00017cb0: 7465 6d43 6f75 6e74 203d 3d20 303a 0a20  temCount == 0:. 
-00017cc0: 2020 2020 2020 2020 2020 2072 6574 7572             retur
-00017cd0: 6e20 5472 7565 0a20 2020 2020 2020 2072  n True.        r
-00017ce0: 6574 7572 6e20 4661 6c73 650a 0a20 2020  eturn False..   
-00017cf0: 2064 6566 2067 6574 4578 7069 7265 4461   def getExpireDa
-00017d00: 7465 2873 656c 6629 3a0a 2020 2020 2020  te(self):.      
-00017d10: 2020 2222 220a 2020 2020 2020 2020 4765    """.        Ge
-00017d20: 7473 2074 6865 2065 6e64 2064 6174 6520  ts the end date 
-00017d30: 666f 7220 7468 6520 7368 6172 650a 0a20  for the share.. 
-00017d40: 2020 2020 2020 2040 7265 7475 726e 3a20         @return: 
-00017d50: 2020 2045 6e64 2044 6174 652d 7469 6d65     End Date-time
-00017d60: 0a20 2020 2020 2020 2040 7274 7970 653a  .        @rtype:
-00017d70: 2020 2020 2064 6174 6574 696d 6520 6f62       datetime ob
-00017d80: 6a65 6374 0a20 2020 2020 2020 2022 2222  ject.        """
-00017d90: 0a0a 2020 2020 2020 2020 2320 776f 726b  ..        # work
-00017da0: 6172 6f75 6e64 2066 6f72 2070 726f 626c  around for probl
-00017db0: 656d 206f 6620 7965 6172 2032 3033 380a  em of year 2038.
-00017dc0: 2020 2020 2020 2020 7472 793a 0a20 2020          try:.   
-00017dd0: 2020 2020 2020 2020 2064 203d 2073 656c           d = sel
-00017de0: 662e 7374 6172 7465 6420 2b20 7365 6c66  f.started + self
-00017df0: 2e74 696d 6554 6f4c 6976 650a 2020 2020  .timeToLive.    
-00017e00: 2020 2020 2020 2020 6966 2064 203e 2032          if d > 2
-00017e10: 3035 3132 3232 3430 3030 3030 3a0a 2020  051222400000:.  
-00017e20: 2020 2020 2020 2020 2020 2020 2020 7265                re
-00017e30: 7475 726e 2064 6174 6574 696d 6528 3230  turn datetime(20
-00017e40: 3335 2c20 312c 2031 2c20 302c 2030 2c20  35, 1, 1, 0, 0, 
-00017e50: 3029 0a20 2020 2020 2020 2020 2020 2072  0).            r
-00017e60: 6574 7572 6e20 6461 7465 7469 6d65 2e66  eturn datetime.f
-00017e70: 726f 6d74 696d 6573 7461 6d70 2864 202f  romtimestamp(d /
-00017e80: 2031 3030 3029 0a20 2020 2020 2020 2065   1000).        e
-00017e90: 7863 6570 7420 4578 6365 7074 696f 6e3a  xcept Exception:
-00017ea0: 0a20 2020 2020 2020 2020 2020 206c 6f67  .            log
-00017eb0: 6765 722e 696e 666f 2874 7261 6365 6261  ger.info(traceba
-00017ec0: 636b 2e66 6f72 6d61 745f 6578 6328 2929  ck.format_exc())
-00017ed0: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
-00017ee0: 4e6f 6e65 0a0a 2020 2020 6465 6620 6765  None..    def ge
-00017ef0: 7453 7461 7274 4461 7465 2873 656c 6629  tStartDate(self)
-00017f00: 3a0a 2020 2020 2020 2020 2222 220a 2020  :.        """.  
-00017f10: 2020 2020 2020 4765 7473 2074 6865 2073        Gets the s
-00017f20: 7461 7274 2064 6174 6520 6f66 2074 6865  tart date of the
-00017f30: 2073 6861 7265 0a0a 2020 2020 2020 2020   share..        
-00017f40: 4072 6574 7572 6e3a 2020 2020 5374 6172  @return:    Star
-00017f50: 7420 4461 7465 2d74 696d 650a 2020 2020  t Date-time.    
-00017f60: 2020 2020 4072 7479 7065 3a20 2020 2020      @rtype:     
-00017f70: 6461 7465 7469 6d65 206f 626a 6563 740a  datetime object.
-00017f80: 2020 2020 2020 2020 2222 220a 0a20 2020          """..   
-00017f90: 2020 2020 2072 6574 7572 6e20 6461 7465       return date
-00017fa0: 7469 6d65 2e66 726f 6d74 696d 6573 7461  time.fromtimesta
-00017fb0: 6d70 2873 656c 662e 6765 7453 7461 7274  mp(self.getStart
-00017fc0: 6564 2829 202f 2031 3030 3029 0a0a 2020  ed() / 1000)..  
-00017fd0: 2020 6465 6620 6973 4578 7069 7265 6428    def isExpired(
-00017fe0: 7365 6c66 293a 0a20 2020 2020 2020 2022  self):.        "
-00017ff0: 2222 0a20 2020 2020 2020 2052 6574 7572  "".        Retur
-00018000: 6e73 2054 7275 6520 6966 2077 6520 6172  ns True if we ar
-00018010: 6520 7061 7374 2074 6865 2065 6e64 2064  e past the end d
-00018020: 6174 6520 6f66 2074 6865 2073 6861 7265  ate of the share
-00018030: 0a0a 2020 2020 2020 2020 4072 6574 7572  ..        @retur
-00018040: 6e3a 2020 2020 5472 7565 2069 6620 7368  n:    True if sh
-00018050: 6172 6520 6578 7069 7265 640a 2020 2020  are expired.    
-00018060: 2020 2020 4072 7479 7065 3a20 2020 2020      @rtype:     
-00018070: 426f 6f6c 6561 6e0a 2020 2020 2020 2020  Boolean.        
-00018080: 2222 220a 0a20 2020 2020 2020 2023 2077  """..        # w
-00018090: 6f72 6b61 726f 756e 6420 666f 7220 7072  orkaround for pr
-000180a0: 6f62 6c65 6d20 6f66 2079 6561 7220 3230  oblem of year 20
-000180b0: 3338 0a20 2020 2020 2020 206e 6f77 203d  38.        now =
-000180c0: 2074 696d 652e 7469 6d65 2829 0a20 2020   time.time().   
-000180d0: 2020 2020 2074 7279 3a0a 2020 2020 2020       try:.      
-000180e0: 2020 2020 2020 6420 3d20 696e 7428 7365        d = int(se
-000180f0: 6c66 2e73 7461 7274 6564 202b 2073 656c  lf.started + sel
-00018100: 662e 7469 6d65 546f 4c69 7665 290a 2020  f.timeToLive).  
-00018110: 2020 2020 2020 2020 2020 6966 2028 6420            if (d 
-00018120: 2f20 3130 3030 2920 3e20 6e6f 773a 0a20  / 1000) > now:. 
-00018130: 2020 2020 2020 2020 2020 2020 2020 2072                 r
-00018140: 6574 7572 6e20 4661 6c73 650a 2020 2020  eturn False.    
-00018150: 2020 2020 2020 2020 7265 7475 726e 2054          return T
-00018160: 7275 650a 2020 2020 2020 2020 6578 6365  rue.        exce
-00018170: 7074 2045 7863 6570 7469 6f6e 3a0a 2020  pt Exception:.  
-00018180: 2020 2020 2020 2020 2020 6c6f 6767 6572            logger
-00018190: 2e69 6e66 6f28 7472 6163 6562 6163 6b2e  .info(traceback.
-000181a0: 666f 726d 6174 5f65 7863 2829 290a 2020  format_exc()).  
-000181b0: 2020 2020 2020 7265 7475 726e 204e 6f6e        return Non
-000181c0: 650a 0a20 2020 2064 6566 2069 734f 776e  e..    def isOwn
-000181d0: 6564 2873 656c 6629 3a0a 2020 2020 2020  ed(self):.      
-000181e0: 2020 2222 220a 2020 2020 2020 2020 5265    """.        Re
-000181f0: 7475 726e 7320 5472 7565 2069 6620 7368  turns True if sh
-00018200: 6172 6520 6973 206f 776e 6564 2062 7920  are is owned by 
-00018210: 7468 6520 6375 7272 656e 7420 7573 6572  the current user
-00018220: 0a0a 2020 2020 2020 2020 4072 6574 7572  ..        @retur
-00018230: 6e3a 2020 2020 5472 7565 2069 6620 6f77  n:    True if ow
-00018240: 6e65 640a 2020 2020 2020 2020 4072 7479  ned.        @rty
-00018250: 7065 3a20 2020 2020 426f 6f6c 6561 6e0a  pe:     Boolean.
-00018260: 2020 2020 2020 2020 2222 220a 0a20 2020          """..   
-00018270: 2020 2020 2074 7279 3a0a 2020 2020 2020       try:.      
-00018280: 2020 2020 2020 6966 2073 656c 662e 6f77        if self.ow
-00018290: 6e65 722e 6964 2e76 616c 203d 3d20 7365  ner.id.val == se
-000182a0: 6c66 2e5f 636f 6e6e 2e67 6574 4576 656e  lf._conn.getEven
-000182b0: 7443 6f6e 7465 7874 2829 2e75 7365 7249  tContext().userI
-000182c0: 643a 0a20 2020 2020 2020 2020 2020 2020  d:.             
-000182d0: 2020 2072 6574 7572 6e20 5472 7565 0a20     return True. 
-000182e0: 2020 2020 2020 2065 7863 6570 7420 4578         except Ex
-000182f0: 6365 7074 696f 6e3a 0a20 2020 2020 2020  ception:.       
-00018300: 2020 2020 206c 6f67 6765 722e 6572 726f       logger.erro
-00018310: 7228 7472 6163 6562 6163 6b2e 666f 726d  r(traceback.form
-00018320: 6174 5f65 7863 2829 290a 2020 2020 2020  at_exc()).      
-00018330: 2020 7265 7475 726e 2046 616c 7365 0a0a    return False..
-00018340: 2020 2020 6465 6620 6765 744f 776e 6572      def getOwner
-00018350: 2873 656c 6629 3a0a 2020 2020 2020 2020  (self):.        
-00018360: 2222 220a 2020 2020 2020 2020 5468 6520  """.        The 
-00018370: 6f77 6e65 7220 6f66 2074 6869 7320 7368  owner of this sh
-00018380: 6172 650a 0a20 2020 2020 2020 2040 7265  are..        @re
-00018390: 7475 726e 3a20 2020 204f 776e 6572 0a20  turn:    Owner. 
-000183a0: 2020 2020 2020 2040 7274 7970 653a 2020         @rtype:  
-000183b0: 2020 204c 7b45 7870 6572 696d 656e 7465     L{Experimente
-000183c0: 7257 7261 7070 6572 7d0a 2020 2020 2020  rWrapper}.      
-000183d0: 2020 2222 220a 0a20 2020 2020 2020 2072    """..        r
-000183e0: 6574 7572 6e20 6f6d 6572 6f2e 6761 7465  eturn omero.gate
-000183f0: 7761 792e 4578 7065 7269 6d65 6e74 6572  way.Experimenter
-00018400: 5772 6170 7065 7228 7365 6c66 2e5f 636f  Wrapper(self._co
-00018410: 6e6e 2c20 7365 6c66 2e6f 776e 6572 290a  nn, self.owner).
-00018420: 0a0a 6f6d 6572 6f2e 6761 7465 7761 792e  ..omero.gateway.
-00018430: 7265 6672 6573 6857 7261 7070 6572 7328  refreshWrappers(
-00018440: 290a                                     ).
+00004c00: 696e 206f 626a 2e64 6574 6169 6c73 2e63  in obj.details.c
+00004c10: 7265 6174 696f 6e45 7665 6e74 2022 0a20  reationEvent ". 
+00004c20: 2020 2020 2020 2020 2020 2022 6a6f 696e             "join
+00004c30: 206f 626a 2e64 6574 6169 6c73 2e6f 776e   obj.details.own
+00004c40: 6572 206a 6f69 6e20 6f62 6a2e 6465 7461  er join obj.deta
+00004c50: 696c 732e 6772 6f75 7020 220a 2020 2020  ils.group ".    
+00004c60: 2020 2020 2020 2020 2277 6865 7265 2025          "where %
+00004c70: 7322 0a20 2020 2020 2020 2020 2020 2022  s".            "
+00004c80: 6e6f 7420 6578 6973 7473 2028 7365 6c65  not exists (sele
+00004c90: 6374 206f 626c 2066 726f 6d20 2573 2061  ct obl from %s a
+00004ca0: 7320 6f62 6c20 7768 6572 6520 220a 2020  s obl where ".  
+00004cb0: 2020 2020 2020 2020 2020 226f 626c 2e63            "obl.c
+00004cc0: 6869 6c64 3d6f 626a 2e69 6429 2220 2520  hild=obj.id)" % 
+00004cd0: 286f 626a 5f74 7970 652c 2065 6964 4669  (obj_type, eidFi
+00004ce0: 6c74 6572 2c20 6c69 6e6b 735b 6f62 6a5f  lter, links[obj_
+00004cf0: 7479 7065 5d5b 305d 290a 2020 2020 2020  type][0]).      
+00004d00: 2020 290a 2020 2020 2020 2020 6966 206f    ).        if o
+00004d10: 626a 5f74 7970 6520 3d3d 2022 496d 6167  bj_type == "Imag
+00004d20: 6522 3a0a 2020 2020 2020 2020 2020 2020  e":.            
+00004d30: 7371 6c20 2b3d 2028 0a20 2020 2020 2020  sql += (.       
+00004d40: 2020 2020 2020 2020 2022 616e 6420 6e6f           "and no
+00004d50: 7420 6578 6973 7473 2028 2022 0a20 2020  t exists ( ".   
+00004d60: 2020 2020 2020 2020 2020 2020 2022 7365               "se
+00004d70: 6c65 6374 2077 7320 6672 6f6d 2057 656c  lect ws from Wel
+00004d80: 6c53 616d 706c 6520 6173 2077 7320 220a  lSample as ws ".
+00004d90: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00004da0: 2277 6865 7265 2077 732e 696d 6167 653d  "where ws.image=
+00004db0: 6f62 6a2e 6964 2025 7329 2220 2520 6569  obj.id %s)" % ei
+00004dc0: 6457 7346 696c 7465 720a 2020 2020 2020  dWsFilter.      
+00004dd0: 2020 2020 2020 290a 0a20 2020 2020 2020        )..       
+00004de0: 2072 736c 7420 3d20 712e 7072 6f6a 6563   rslt = q.projec
+00004df0: 7469 6f6e 2873 716c 2c20 702c 2073 656c  tion(sql, p, sel
+00004e00: 662e 5345 5256 4943 455f 4f50 5453 290a  f.SERVICE_OPTS).
+00004e10: 2020 2020 2020 2020 6966 206c 656e 2872          if len(r
+00004e20: 736c 7429 203e 2030 3a0a 2020 2020 2020  slt) > 0:.      
+00004e30: 2020 2020 2020 6966 206c 656e 2872 736c        if len(rsl
+00004e40: 745b 305d 2920 3e20 303a 0a20 2020 2020  t[0]) > 0:.     
+00004e50: 2020 2020 2020 2020 2020 2072 6574 7572             retur
+00004e60: 6e20 7273 6c74 5b30 5d5b 305d 2e76 616c  n rslt[0][0].val
+00004e70: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
+00004e80: 300a 0a20 2020 2064 6566 206c 6973 7449  0..    def listI
+00004e90: 6d61 6765 7349 6e44 6174 6173 6574 2873  magesInDataset(s
+00004ea0: 656c 662c 206f 6964 2c20 6569 643d 4e6f  elf, oid, eid=No
+00004eb0: 6e65 2c20 7061 6765 3d4e 6f6e 652c 206c  ne, page=None, l
+00004ec0: 6f61 645f 7069 7865 6c73 3d46 616c 7365  oad_pixels=False
+00004ed0: 293a 0a20 2020 2020 2020 2022 2222 0a20  ):.        """. 
+00004ee0: 2020 2020 2020 204c 6973 7420 496d 6167         List Imag
+00004ef0: 6573 2069 6e20 7468 6520 6769 7665 6e20  es in the given 
+00004f00: 4461 7461 7365 742e 0a20 2020 2020 2020  Dataset..       
+00004f10: 204f 7074 696e 616c 6c79 2066 696c 7465   Optinally filte
+00004f20: 7220 6279 2065 7870 6572 696d 656e 7465  r by experimente
+00004f30: 7220 2765 6964 270a 0a20 2020 2020 2020  r 'eid'..       
+00004f40: 2040 7061 7261 6d20 6569 643a 2020 2020   @param eid:    
+00004f50: 2020 2020 2065 7870 6572 696d 656e 7465       experimente
+00004f60: 7220 6964 0a20 2020 2020 2020 2040 7479  r id.        @ty
+00004f70: 7065 2065 6964 3a20 2020 2020 2020 2020  pe eid:         
+00004f80: 204c 6f6e 670a 2020 2020 2020 2020 4070   Long.        @p
+00004f90: 6172 616d 2070 6167 653a 2020 2020 2020  aram page:      
+00004fa0: 2020 7061 6765 206e 756d 6265 720a 2020    page number.  
+00004fb0: 2020 2020 2020 4074 7970 6520 7061 6765        @type page
+00004fc0: 3a20 2020 2020 2020 2020 4c6f 6e67 0a20  :         Long. 
+00004fd0: 2020 2020 2020 2040 7265 7475 726e 3a20         @return: 
+00004fe0: 2020 2020 2020 2020 2020 2047 656e 6572             Gener
+00004ff0: 6174 6f72 2079 6965 6c64 696e 6720 496d  ator yielding Im
+00005000: 6167 6573 0a20 2020 2020 2020 2040 7274  ages.        @rt
+00005010: 7970 653a 2020 2020 2020 2020 2020 2020  ype:            
+00005020: 204c 7b49 6d61 6765 5772 6170 7065 727d   L{ImageWrapper}
+00005030: 2067 656e 6572 6174 6f72 0a20 2020 2020   generator.     
+00005040: 2020 2022 2222 0a20 2020 2020 2020 2077     """.        w
+00005050: 6172 6e69 6e67 732e 7761 726e 280a 2020  arnings.warn(.  
+00005060: 2020 2020 2020 2020 2020 2244 6570 7265            "Depre
+00005070: 6361 7465 6420 6173 206f 6620 4f4d 4552  cated as of OMER
+00005080: 4f20 352e 342e 302e 2022 0a20 2020 2020  O 5.4.0. ".     
+00005090: 2020 2020 2020 2022 5573 6520 6765 744f         "Use getO
+000050a0: 626a 6563 7473 2827 496d 6167 6527 2c20  bjects('Image', 
+000050b0: 6f70 7473 3d7b 2764 6174 6173 6574 273a  opts={'dataset':
+000050c0: 2069 647d 2922 2c0a 2020 2020 2020 2020   id})",.        
+000050d0: 2020 2020 4465 7072 6563 6174 696f 6e57      DeprecationW
+000050e0: 6172 6e69 6e67 2c0a 2020 2020 2020 2020  arning,.        
+000050f0: 290a 0a20 2020 2020 2020 2071 203d 2073  )..        q = s
+00005100: 656c 662e 6765 7451 7565 7279 5365 7276  elf.getQueryServ
+00005110: 6963 6528 290a 2020 2020 2020 2020 7020  ice().        p 
+00005120: 3d20 6f6d 6572 6f2e 7379 732e 5061 7261  = omero.sys.Para
+00005130: 6d65 7465 7273 4928 290a 2020 2020 2020  metersI().      
+00005140: 2020 702e 6d61 705b 226f 6964 225d 203d    p.map["oid"] =
+00005150: 2072 6c6f 6e67 2869 6e74 286f 6964 2929   rlong(int(oid))
+00005160: 0a20 2020 2020 2020 2069 6620 7061 6765  .        if page
+00005170: 2069 7320 6e6f 7420 4e6f 6e65 3a0a 2020   is not None:.  
+00005180: 2020 2020 2020 2020 2020 702e 7061 6765            p.page
+00005190: 2828 2869 6e74 2870 6167 6529 202d 2031  (((int(page) - 1
+000051a0: 2920 2a20 7365 7474 696e 6773 2e50 4147  ) * settings.PAG
+000051b0: 4529 2c20 7365 7474 696e 6773 2e50 4147  E), settings.PAG
+000051c0: 4529 0a20 2020 2020 2020 2069 6620 6c6f  E).        if lo
+000051d0: 6164 5f70 6978 656c 733a 0a20 2020 2020  ad_pixels:.     
+000051e0: 2020 2020 2020 2070 6978 656c 7320 3d20         pixels = 
+000051f0: 280a 2020 2020 2020 2020 2020 2020 2020  (.              
+00005200: 2020 226a 6f69 6e20 6665 7463 6820 696d    "join fetch im
+00005210: 2e70 6978 656c 7320 6173 2070 6978 2220  .pixels as pix" 
+00005220: 2220 6c65 6674 206f 7574 6572 206a 6f69  " left outer joi
+00005230: 6e20 6665 7463 6820 7069 782e 7468 756d  n fetch pix.thum
+00005240: 626e 6169 6c73 2022 0a20 2020 2020 2020  bnails ".       
+00005250: 2020 2020 2029 0a20 2020 2020 2020 2065       ).        e
+00005260: 6c73 653a 0a20 2020 2020 2020 2020 2020  lse:.           
+00005270: 2070 6978 656c 7320 3d20 2222 0a20 2020   pixels = "".   
+00005280: 2020 2020 2073 716c 203d 2028 0a20 2020       sql = (.   
+00005290: 2020 2020 2020 2020 2022 7365 6c65 6374           "select
+000052a0: 2069 6d20 6672 6f6d 2049 6d61 6765 2069   im from Image i
+000052b0: 6d20 220a 2020 2020 2020 2020 2020 2020  m ".            
+000052c0: 226a 6f69 6e20 6665 7463 6820 696d 2e64  "join fetch im.d
+000052d0: 6574 6169 6c73 2e63 7265 6174 696f 6e45  etails.creationE
+000052e0: 7665 6e74 2022 0a20 2020 2020 2020 2020  vent ".         
+000052f0: 2020 2022 6a6f 696e 2066 6574 6368 2069     "join fetch i
+00005300: 6d2e 6465 7461 696c 732e 6f77 6e65 7220  m.details.owner 
+00005310: 6a6f 696e 2066 6574 6368 2069 6d2e 6465  join fetch im.de
+00005320: 7461 696c 732e 6772 6f75 7020 220a 2020  tails.group ".  
+00005330: 2020 2020 2020 2020 2020 226c 6566 7420            "left 
+00005340: 6f75 7465 7220 6a6f 696e 2066 6574 6368  outer join fetch
+00005350: 2069 6d2e 6461 7461 7365 744c 696e 6b73   im.datasetLinks
+00005360: 2064 696c 2022 0a20 2020 2020 2020 2020   dil ".         
+00005370: 2020 2022 6c65 6674 206f 7574 6572 206a     "left outer j
+00005380: 6f69 6e20 6665 7463 6820 6469 6c2e 7061  oin fetch dil.pa
+00005390: 7265 6e74 2064 2025 7322 0a20 2020 2020  rent d %s".     
+000053a0: 2020 2020 2020 2022 7768 6572 6520 642e         "where d.
+000053b0: 6964 203d 203a 6f69 6422 2025 2070 6978  id = :oid" % pix
+000053c0: 656c 730a 2020 2020 2020 2020 290a 2020  els.        ).  
+000053d0: 2020 2020 2020 6966 2065 6964 2069 7320        if eid is 
+000053e0: 6e6f 7420 4e6f 6e65 3a0a 2020 2020 2020  not None:.      
+000053f0: 2020 2020 2020 702e 6d61 705b 2265 6964        p.map["eid
+00005400: 225d 203d 2072 6c6f 6e67 2869 6e74 2865  "] = rlong(int(e
+00005410: 6964 2929 0a20 2020 2020 2020 2020 2020  id)).           
+00005420: 2073 716c 202b 3d20 2220 616e 6420 696d   sql += " and im
+00005430: 2e64 6574 6169 6c73 2e6f 776e 6572 2e69  .details.owner.i
+00005440: 643d 3a65 6964 220a 2020 2020 2020 2020  d=:eid".        
+00005450: 7371 6c20 2b3d 2022 206f 7264 6572 2062  sql += " order b
+00005460: 7920 6c6f 7765 7228 696d 2e6e 616d 6529  y lower(im.name)
+00005470: 2c20 696d 2e69 6422 0a0a 2020 2020 2020  , im.id"..      
+00005480: 2020 666f 7220 6520 696e 2071 2e66 696e    for e in q.fin
+00005490: 6441 6c6c 4279 5175 6572 7928 7371 6c2c  dAllByQuery(sql,
+000054a0: 2070 2c20 7365 6c66 2e53 4552 5649 4345   p, self.SERVICE
+000054b0: 5f4f 5054 5329 3a0a 2020 2020 2020 2020  _OPTS):.        
+000054c0: 2020 2020 6b77 6172 6773 203d 207b 0a20      kwargs = {. 
+000054d0: 2020 2020 2020 2020 2020 2020 2020 2022                 "
+000054e0: 6c69 6e6b 223a 206f 6d65 726f 2e67 6174  link": omero.gat
+000054f0: 6577 6179 2e42 6c69 747a 4f62 6a65 6374  eway.BlitzObject
+00005500: 5772 6170 7065 7228 7365 6c66 2c20 652e  Wrapper(self, e.
+00005510: 636f 7079 4461 7461 7365 744c 696e 6b73  copyDatasetLinks
+00005520: 2829 5b30 5d29 0a20 2020 2020 2020 2020  ()[0]).         
+00005530: 2020 207d 0a20 2020 2020 2020 2020 2020     }.           
+00005540: 2079 6965 6c64 2049 6d61 6765 5772 6170   yield ImageWrap
+00005550: 7065 7228 7365 6c66 2c20 652c 204e 6f6e  per(self, e, Non
+00005560: 652c 202a 2a6b 7761 7267 7329 0a0a 2020  e, **kwargs)..  
+00005570: 2020 6465 6620 6372 6561 7465 4461 7461    def createData
+00005580: 7365 7428 7365 6c66 2c20 6e61 6d65 2c20  set(self, name, 
+00005590: 6465 7363 7269 7074 696f 6e3d 4e6f 6e65  description=None
+000055a0: 2c20 696d 675f 6964 733d 4e6f 6e65 2c20  , img_ids=None, 
+000055b0: 6f77 6e65 723d 4e6f 6e65 293a 0a20 2020  owner=None):.   
+000055c0: 2020 2020 2022 2222 0a20 2020 2020 2020       """.       
+000055d0: 2043 7265 6174 6573 2061 2044 6174 6173   Creates a Datas
+000055e0: 6574 2061 6e64 2061 6464 7320 696d 6167  et and adds imag
+000055f0: 6573 2069 6620 696d 675f 6964 7320 6973  es if img_ids is
+00005600: 2073 7065 6369 6669 6564 2e0a 2020 2020   specified..    
+00005610: 2020 2020 5265 7475 726e 7320 7468 6520      Returns the 
+00005620: 6e65 7720 4461 7461 7365 7420 4944 2e0a  new Dataset ID..
+00005630: 2020 2020 2020 2020 2222 220a 2020 2020          """.    
+00005640: 2020 2020 6473 6964 203d 2073 656c 662e      dsid = self.
+00005650: 6372 6561 7465 436f 6e74 6169 6e65 7228  createContainer(
+00005660: 0a20 2020 2020 2020 2020 2020 2022 6461  .            "da
+00005670: 7461 7365 7422 2c20 6e61 6d65 2c20 6465  taset", name, de
+00005680: 7363 7269 7074 696f 6e3d 6465 7363 7269  scription=descri
+00005690: 7074 696f 6e2c 206f 776e 6572 3d6f 776e  ption, owner=own
+000056a0: 6572 0a20 2020 2020 2020 2029 0a20 2020  er.        ).   
+000056b0: 2020 2020 2069 6620 696d 675f 6964 7320       if img_ids 
+000056c0: 6973 206e 6f74 204e 6f6e 653a 0a20 2020  is not None:.   
+000056d0: 2020 2020 2020 2020 2069 6964 7320 3d20           iids = 
+000056e0: 5b69 6e74 2869 2920 666f 7220 6920 696e  [int(i) for i in
+000056f0: 2069 6d67 5f69 6473 5d0a 2020 2020 2020   img_ids].      
+00005700: 2020 2020 2020 6c69 6e6b 7320 3d20 5b5d        links = []
+00005710: 0a20 2020 2020 2020 2020 2020 2066 6f72  .            for
+00005720: 2069 6964 2069 6e20 6969 6473 3a0a 2020   iid in iids:.  
+00005730: 2020 2020 2020 2020 2020 2020 2020 6c69                li
+00005740: 6e6b 203d 206f 6d65 726f 2e6d 6f64 656c  nk = omero.model
+00005750: 2e44 6174 6173 6574 496d 6167 654c 696e  .DatasetImageLin
+00005760: 6b49 2829 0a20 2020 2020 2020 2020 2020  kI().           
+00005770: 2020 2020 206c 696e 6b2e 7365 7450 6172       link.setPar
+00005780: 656e 7428 6f6d 6572 6f2e 6d6f 6465 6c2e  ent(omero.model.
+00005790: 4461 7461 7365 7449 2864 7369 642c 2046  DatasetI(dsid, F
+000057a0: 616c 7365 2929 0a20 2020 2020 2020 2020  alse)).         
+000057b0: 2020 2020 2020 206c 696e 6b2e 7365 7443         link.setC
+000057c0: 6869 6c64 286f 6d65 726f 2e6d 6f64 656c  hild(omero.model
+000057d0: 2e49 6d61 6765 4928 6969 642c 2046 616c  .ImageI(iid, Fal
+000057e0: 7365 2929 0a20 2020 2020 2020 2020 2020  se)).           
+000057f0: 2020 2020 206c 696e 6b73 2e61 7070 656e       links.appen
+00005800: 6428 6c69 6e6b 290a 2020 2020 2020 2020  d(link).        
+00005810: 2020 2020 7365 6c66 2e73 6176 6541 7272      self.saveArr
+00005820: 6179 286c 696e 6b73 2c20 6f77 6e65 723d  ay(links, owner=
+00005830: 6f77 6e65 7229 0a20 2020 2020 2020 2072  owner).        r
+00005840: 6574 7572 6e20 6473 6964 0a0a 2020 2020  eturn dsid..    
+00005850: 6465 6620 6372 6561 7465 5072 6f6a 6563  def createProjec
+00005860: 7428 7365 6c66 2c20 6e61 6d65 2c20 6465  t(self, name, de
+00005870: 7363 7269 7074 696f 6e3d 4e6f 6e65 293a  scription=None):
+00005880: 0a20 2020 2020 2020 2022 2222 4372 6561  .        """Crea
+00005890: 7465 7320 6e65 7720 5072 6f6a 6563 7420  tes new Project 
+000058a0: 616e 6420 7265 7475 726e 7320 4944 2222  and returns ID""
+000058b0: 220a 2020 2020 2020 2020 7761 726e 696e  ".        warnin
+000058c0: 6773 2e77 6172 6e28 0a20 2020 2020 2020  gs.warn(.       
+000058d0: 2020 2020 2022 4465 7072 6563 6174 6564       "Deprecated
+000058e0: 2061 7320 6f66 204f 4d45 524f 2035 2e34   as of OMERO 5.4
+000058f0: 2e30 2e20 5573 6520 6372 6561 7465 436f  .0. Use createCo
+00005900: 6e74 6169 6e65 7228 2922 2c20 4465 7072  ntainer()", Depr
+00005910: 6563 6174 696f 6e57 6172 6e69 6e67 0a20  ecationWarning. 
+00005920: 2020 2020 2020 2029 0a20 2020 2020 2020         ).       
+00005930: 2070 7220 3d20 6f6d 6572 6f2e 6d6f 6465   pr = omero.mode
+00005940: 6c2e 5072 6f6a 6563 7449 2829 0a20 2020  l.ProjectI().   
+00005950: 2020 2020 2070 722e 6e61 6d65 203d 2072       pr.name = r
+00005960: 7374 7269 6e67 2873 7472 286e 616d 6529  string(str(name)
+00005970: 290a 2020 2020 2020 2020 6966 2064 6573  ).        if des
+00005980: 6372 6970 7469 6f6e 2069 7320 6e6f 7420  cription is not 
+00005990: 4e6f 6e65 2061 6e64 2064 6573 6372 6970  None and descrip
+000059a0: 7469 6f6e 2021 3d20 2222 3a0a 2020 2020  tion != "":.    
+000059b0: 2020 2020 2020 2020 7072 2e64 6573 6372          pr.descr
+000059c0: 6970 7469 6f6e 203d 2072 7374 7269 6e67  iption = rstring
+000059d0: 2873 7472 2864 6573 6372 6970 7469 6f6e  (str(description
+000059e0: 2929 0a20 2020 2020 2020 2072 6574 7572  )).        retur
+000059f0: 6e20 7365 6c66 2e73 6176 6541 6e64 5265  n self.saveAndRe
+00005a00: 7475 726e 4964 2870 7229 0a0a 2020 2020  turnId(pr)..    
+00005a10: 6465 6620 6372 6561 7465 5363 7265 656e  def createScreen
+00005a20: 2873 656c 662c 206e 616d 652c 2064 6573  (self, name, des
+00005a30: 6372 6970 7469 6f6e 3d4e 6f6e 6529 3a0a  cription=None):.
+00005a40: 2020 2020 2020 2020 2222 2243 7265 6174          """Creat
+00005a50: 6573 206e 6577 2053 6372 6565 6e20 616e  es new Screen an
+00005a60: 6420 7265 7475 726e 7320 4944 2222 220a  d returns ID""".
+00005a70: 2020 2020 2020 2020 7761 726e 696e 6773          warnings
+00005a80: 2e77 6172 6e28 0a20 2020 2020 2020 2020  .warn(.         
+00005a90: 2020 2022 4465 7072 6563 6174 6564 2061     "Deprecated a
+00005aa0: 7320 6f66 204f 4d45 524f 2035 2e34 2e30  s of OMERO 5.4.0
+00005ab0: 2e20 5573 6520 6372 6561 7465 436f 6e74  . Use createCont
+00005ac0: 6169 6e65 7228 2922 2c20 4465 7072 6563  ainer()", Deprec
+00005ad0: 6174 696f 6e57 6172 6e69 6e67 0a20 2020  ationWarning.   
+00005ae0: 2020 2020 2029 0a20 2020 2020 2020 2073       ).        s
+00005af0: 6320 3d20 6f6d 6572 6f2e 6d6f 6465 6c2e  c = omero.model.
+00005b00: 5363 7265 656e 4928 290a 2020 2020 2020  ScreenI().      
+00005b10: 2020 7363 2e6e 616d 6520 3d20 7273 7472    sc.name = rstr
+00005b20: 696e 6728 7374 7228 6e61 6d65 2929 0a20  ing(str(name)). 
+00005b30: 2020 2020 2020 2069 6620 6465 7363 7269         if descri
+00005b40: 7074 696f 6e20 6973 206e 6f74 204e 6f6e  ption is not Non
+00005b50: 6520 616e 6420 6465 7363 7269 7074 696f  e and descriptio
+00005b60: 6e20 213d 2022 223a 0a20 2020 2020 2020  n != "":.       
+00005b70: 2020 2020 2073 632e 6465 7363 7269 7074       sc.descript
+00005b80: 696f 6e20 3d20 7273 7472 696e 6728 7374  ion = rstring(st
+00005b90: 7228 6465 7363 7269 7074 696f 6e29 290a  r(description)).
+00005ba0: 2020 2020 2020 2020 7265 7475 726e 2073          return s
+00005bb0: 656c 662e 7361 7665 416e 6452 6574 7572  elf.saveAndRetur
+00005bc0: 6e49 6428 7363 290a 0a20 2020 2064 6566  nId(sc)..    def
+00005bd0: 2063 7265 6174 6554 6167 2873 656c 662c   createTag(self,
+00005be0: 206e 616d 652c 2064 6573 6372 6970 7469   name, descripti
+00005bf0: 6f6e 3d4e 6f6e 6529 3a0a 2020 2020 2020  on=None):.      
+00005c00: 2020 2222 2243 7265 6174 6573 206e 6577    """Creates new
+00005c10: 2054 6167 2061 6e64 2072 6574 7572 6e73   Tag and returns
+00005c20: 2049 4422 2222 0a20 2020 2020 2020 2077   ID""".        w
+00005c30: 6172 6e69 6e67 732e 7761 726e 280a 2020  arnings.warn(.  
+00005c40: 2020 2020 2020 2020 2020 2244 6570 7265            "Depre
+00005c50: 6361 7465 6420 6173 206f 6620 4f4d 4552  cated as of OMER
+00005c60: 4f20 352e 342e 302e 2055 7365 2063 7265  O 5.4.0. Use cre
+00005c70: 6174 6543 6f6e 7461 696e 6572 2829 222c  ateContainer()",
+00005c80: 2044 6570 7265 6361 7469 6f6e 5761 726e   DeprecationWarn
+00005c90: 696e 670a 2020 2020 2020 2020 290a 2020  ing.        ).  
+00005ca0: 2020 2020 2020 7461 6720 3d20 6f6d 6572        tag = omer
+00005cb0: 6f2e 6d6f 6465 6c2e 5461 6741 6e6e 6f74  o.model.TagAnnot
+00005cc0: 6174 696f 6e49 2829 0a20 2020 2020 2020  ationI().       
+00005cd0: 2074 6167 2e74 6578 7456 616c 7565 203d   tag.textValue =
+00005ce0: 2072 7374 7269 6e67 2873 7472 286e 616d   rstring(str(nam
+00005cf0: 6529 290a 2020 2020 2020 2020 6966 2064  e)).        if d
+00005d00: 6573 6372 6970 7469 6f6e 2069 7320 6e6f  escription is no
+00005d10: 7420 4e6f 6e65 2061 6e64 2064 6573 6372  t None and descr
+00005d20: 6970 7469 6f6e 2021 3d20 2222 3a0a 2020  iption != "":.  
+00005d30: 2020 2020 2020 2020 2020 7461 672e 6465            tag.de
+00005d40: 7363 7269 7074 696f 6e20 3d20 7273 7472  scription = rstr
+00005d50: 696e 6728 7374 7228 6465 7363 7269 7074  ing(str(descript
+00005d60: 696f 6e29 290a 2020 2020 2020 2020 7265  ion)).        re
+00005d70: 7475 726e 2073 656c 662e 7361 7665 416e  turn self.saveAn
+00005d80: 6452 6574 7572 6e49 6428 7461 6729 0a0a  dReturnId(tag)..
+00005d90: 2020 2020 6465 6620 6372 6561 7465 5461      def createTa
+00005da0: 6773 6574 2873 656c 662c 206e 616d 652c  gset(self, name,
+00005db0: 2064 6573 6372 6970 7469 6f6e 3d4e 6f6e   description=Non
+00005dc0: 6529 3a0a 2020 2020 2020 2020 2222 2243  e):.        """C
+00005dd0: 7265 6174 6573 206e 6577 2054 6167 2053  reates new Tag S
+00005de0: 6574 2061 6e64 2072 6574 7572 6e73 2049  et and returns I
+00005df0: 4422 2222 0a20 2020 2020 2020 2077 6172  D""".        war
+00005e00: 6e69 6e67 732e 7761 726e 280a 2020 2020  nings.warn(.    
+00005e10: 2020 2020 2020 2020 2244 6570 7265 6361          "Depreca
+00005e20: 7465 6420 6173 206f 6620 4f4d 4552 4f20  ted as of OMERO 
+00005e30: 352e 342e 302e 2055 7365 2063 7265 6174  5.4.0. Use creat
+00005e40: 6543 6f6e 7461 696e 6572 2829 222c 2044  eContainer()", D
+00005e50: 6570 7265 6361 7469 6f6e 5761 726e 696e  eprecationWarnin
+00005e60: 670a 2020 2020 2020 2020 290a 2020 2020  g.        ).    
+00005e70: 2020 2020 7461 6720 3d20 6f6d 6572 6f2e      tag = omero.
+00005e80: 6d6f 6465 6c2e 5461 6741 6e6e 6f74 6174  model.TagAnnotat
+00005e90: 696f 6e49 2829 0a20 2020 2020 2020 2074  ionI().        t
+00005ea0: 6167 2e74 6578 7456 616c 7565 203d 2072  ag.textValue = r
+00005eb0: 7374 7269 6e67 2873 7472 286e 616d 6529  string(str(name)
+00005ec0: 290a 2020 2020 2020 2020 7461 672e 6e73  ).        tag.ns
+00005ed0: 203d 2072 7374 7269 6e67 286f 6d65 726f   = rstring(omero
+00005ee0: 2e63 6f6e 7374 616e 7473 2e6d 6574 6164  .constants.metad
+00005ef0: 6174 612e 4e53 494e 5349 4748 5454 4147  ata.NSINSIGHTTAG
+00005f00: 5345 5429 0a20 2020 2020 2020 2069 6620  SET).        if 
+00005f10: 6465 7363 7269 7074 696f 6e20 6973 206e  description is n
+00005f20: 6f74 204e 6f6e 6520 616e 6420 6465 7363  ot None and desc
+00005f30: 7269 7074 696f 6e20 213d 2022 223a 0a20  ription != "":. 
+00005f40: 2020 2020 2020 2020 2020 2074 6167 2e64             tag.d
+00005f50: 6573 6372 6970 7469 6f6e 203d 2072 7374  escription = rst
+00005f60: 7269 6e67 2873 7472 2864 6573 6372 6970  ring(str(descrip
+00005f70: 7469 6f6e 2929 0a20 2020 2020 2020 2072  tion)).        r
+00005f80: 6574 7572 6e20 7365 6c66 2e73 6176 6541  eturn self.saveA
+00005f90: 6e64 5265 7475 726e 4964 2874 6167 290a  ndReturnId(tag).
+00005fa0: 0a20 2020 2064 6566 2063 7265 6174 6543  .    def createC
+00005fb0: 6f6e 7461 696e 6572 2873 656c 662c 2064  ontainer(self, d
+00005fc0: 7479 7065 2c20 6e61 6d65 2c20 6465 7363  type, name, desc
+00005fd0: 7269 7074 696f 6e3d 4e6f 6e65 2c20 6f77  ription=None, ow
+00005fe0: 6e65 723d 4e6f 6e65 293a 0a20 2020 2020  ner=None):.     
+00005ff0: 2020 2022 2222 4372 6561 7465 7320 5072     """Creates Pr
+00006000: 6f6a 6563 742c 2044 6174 6173 6574 2c20  oject, Dataset, 
+00006010: 5363 7265 656e 2c20 5461 6720 6f72 2054  Screen, Tag or T
+00006020: 6167 7365 7420 616e 6420 7265 7475 726e  agset and return
+00006030: 7320 4944 2e22 2222 0a20 2020 2020 2020  s ID.""".       
+00006040: 2064 7479 7065 203d 2064 7479 7065 2e6c   dtype = dtype.l
+00006050: 6f77 6572 2829 0a20 2020 2020 2020 2069  ower().        i
+00006060: 6620 6474 7970 6520 3d3d 2022 7072 6f6a  f dtype == "proj
+00006070: 6563 7422 3a0a 2020 2020 2020 2020 2020  ect":.          
+00006080: 2020 6320 3d20 6f6d 6572 6f2e 6d6f 6465    c = omero.mode
+00006090: 6c2e 5072 6f6a 6563 7449 2829 0a20 2020  l.ProjectI().   
+000060a0: 2020 2020 2065 6c69 6620 6474 7970 6520       elif dtype 
+000060b0: 3d3d 2022 6461 7461 7365 7422 3a0a 2020  == "dataset":.  
+000060c0: 2020 2020 2020 2020 2020 6320 3d20 6f6d            c = om
+000060d0: 6572 6f2e 6d6f 6465 6c2e 4461 7461 7365  ero.model.Datase
+000060e0: 7449 2829 0a20 2020 2020 2020 2065 6c69  tI().        eli
+000060f0: 6620 6474 7970 6520 3d3d 2022 7363 7265  f dtype == "scre
+00006100: 656e 223a 0a20 2020 2020 2020 2020 2020  en":.           
+00006110: 2063 203d 206f 6d65 726f 2e6d 6f64 656c   c = omero.model
+00006120: 2e53 6372 6565 6e49 2829 0a20 2020 2020  .ScreenI().     
+00006130: 2020 2069 6620 6474 7970 6520 3d3d 2022     if dtype == "
+00006140: 7461 6722 206f 7220 6474 7970 6520 3d3d  tag" or dtype ==
+00006150: 2022 7461 6773 6574 223a 0a20 2020 2020   "tagset":.     
+00006160: 2020 2020 2020 2063 203d 206f 6d65 726f         c = omero
+00006170: 2e6d 6f64 656c 2e54 6167 416e 6e6f 7461  .model.TagAnnota
+00006180: 7469 6f6e 4928 290a 2020 2020 2020 2020  tionI().        
+00006190: 2020 2020 632e 7465 7874 5661 6c75 6520      c.textValue 
+000061a0: 3d20 7273 7472 696e 6728 7374 7228 6e61  = rstring(str(na
+000061b0: 6d65 2929 0a20 2020 2020 2020 2020 2020  me)).           
+000061c0: 2069 6620 6474 7970 6520 3d3d 2022 7461   if dtype == "ta
+000061d0: 6773 6574 223a 0a20 2020 2020 2020 2020  gset":.         
+000061e0: 2020 2020 2020 2063 2e6e 7320 3d20 7273         c.ns = rs
+000061f0: 7472 696e 6728 6f6d 6572 6f2e 636f 6e73  tring(omero.cons
+00006200: 7461 6e74 732e 6d65 7461 6461 7461 2e4e  tants.metadata.N
+00006210: 5349 4e53 4947 4854 5441 4753 4554 290a  SINSIGHTTAGSET).
+00006220: 2020 2020 2020 2020 656c 7365 3a0a 2020          else:.  
+00006230: 2020 2020 2020 2020 2020 632e 6e61 6d65            c.name
+00006240: 203d 2072 7374 7269 6e67 2873 7472 286e   = rstring(str(n
+00006250: 616d 6529 290a 2020 2020 2020 2020 2020  ame)).          
+00006260: 2020 632e 6465 7363 7269 7074 696f 6e20    c.description 
+00006270: 3d20 7273 7472 696e 6728 7374 7228 6465  = rstring(str(de
+00006280: 7363 7269 7074 696f 6e29 290a 0a20 2020  scription))..   
+00006290: 2020 2020 206f 6964 203d 2073 656c 662e       oid = self.
+000062a0: 7361 7665 416e 6452 6574 7572 6e49 6428  saveAndReturnId(
+000062b0: 632c 206f 776e 6572 3d6f 776e 6572 290a  c, owner=owner).
+000062c0: 2020 2020 2020 2020 7265 7475 726e 206f          return o
+000062d0: 6964 0a0a 2020 2020 2320 4441 5441 2052  id..    # DATA R
+000062e0: 4554 5249 5641 4c20 4259 2054 4147 730a  ETRIVAL BY TAGs.
+000062f0: 2020 2020 6465 6620 6669 6e64 5461 6728      def findTag(
+00006300: 7365 6c66 2c20 6e61 6d65 2c20 6465 7363  self, name, desc
+00006310: 3d4e 6f6e 6529 3a0a 2020 2020 2020 2020  =None):.        
+00006320: 2222 220a 2020 2020 2020 2020 5265 7472  """.        Retr
+00006330: 6965 7665 7320 5461 6720 6279 2067 6976  ieves Tag by giv
+00006340: 656e 204e 616d 6520 616e 6420 6465 7363  en Name and desc
+00006350: 7269 7074 696f 6e0a 0a20 2020 2020 2020  ription..       
+00006360: 2040 7061 7261 6d20 6e61 6d65 2020 2020   @param name    
+00006370: 206e 616d 6520 6f66 2074 6167 0a20 2020   name of tag.   
+00006380: 2020 2020 2040 7479 7065 206e 616d 6520       @type name 
+00006390: 2020 2020 2053 7472 696e 670a 2020 2020       String.    
+000063a0: 2020 2020 4070 6172 616d 2064 6573 6320      @param desc 
+000063b0: 2020 2020 6465 7363 7269 7074 696f 6e20      description 
+000063c0: 6f66 2074 6167 0a20 2020 2020 2020 2040  of tag.        @
+000063d0: 7479 7065 2064 6573 6320 2020 2020 2053  type desc      S
+000063e0: 7472 696e 670a 2020 2020 2020 2020 4072  tring.        @r
+000063f0: 6574 7572 6e3a 2020 2020 2020 2020 5461  eturn:        Ta
+00006400: 6741 6e6e 6f74 6174 696f 6e0a 2020 2020  gAnnotation.    
+00006410: 2020 2020 4072 7479 7065 3a20 2020 2020      @rtype:     
+00006420: 2020 2020 416e 6e6f 7461 7469 6f6e 5772      AnnotationWr
+00006430: 6170 7065 720a 2020 2020 2020 2020 2222  apper.        ""
+00006440: 220a 2020 2020 2020 2020 2222 2254 4f44  ".        """TOD
+00006450: 4f3a 2023 3130 3135 0a20 2020 2020 2020  O: #1015.       
+00006460: 2049 7420 646f 6573 206e 6f74 2073 7570   It does not sup
+00006470: 706f 7274 2053 5057 2222 220a 0a20 2020  port SPW"""..   
+00006480: 2020 2020 2071 7565 7279 5f73 6572 7620       query_serv 
+00006490: 3d20 7365 6c66 2e67 6574 5175 6572 7953  = self.getQueryS
+000064a0: 6572 7669 6365 2829 0a20 2020 2020 2020  ervice().       
+000064b0: 2072 6573 203d 206c 6973 7428 290a 2020   res = list().  
+000064c0: 2020 2020 2020 7020 3d20 6f6d 6572 6f2e        p = omero.
+000064d0: 7379 732e 5061 7261 6d65 7465 7273 2829  sys.Parameters()
+000064e0: 0a20 2020 2020 2020 2070 2e6d 6170 203d  .        p.map =
+000064f0: 207b 7d0a 2020 2020 2020 2020 702e 6d61   {}.        p.ma
+00006500: 705b 2274 6578 7422 5d20 3d20 7273 7472  p["text"] = rstr
+00006510: 696e 6728 7374 7228 6e61 6d65 2929 0a20  ing(str(name)). 
+00006520: 2020 2020 2020 2069 6620 6465 7363 2069         if desc i
+00006530: 7320 6e6f 7420 4e6f 6e65 3a0a 2020 2020  s not None:.    
+00006540: 2020 2020 2020 2020 702e 6d61 705b 2264          p.map["d
+00006550: 6573 6322 5d20 3d20 7273 7472 696e 6728  esc"] = rstring(
+00006560: 7374 7228 6465 7363 2929 0a20 2020 2020  str(desc)).     
+00006570: 2020 2023 2070 2e6d 6170 5b22 6569 6422     # p.map["eid"
+00006580: 5d20 3d20 726c 6f6e 6728 7365 6c66 2e67  ] = rlong(self.g
+00006590: 6574 4576 656e 7443 6f6e 7465 7874 2829  etEventContext()
+000065a0: 2e75 7365 7249 6429 0a20 2020 2020 2020  .userId).       
+000065b0: 2066 203d 206f 6d65 726f 2e73 7973 2e46   f = omero.sys.F
+000065c0: 696c 7465 7228 290a 2020 2020 2020 2020  ilter().        
+000065d0: 662e 6c69 6d69 7420 3d20 7269 6e74 2831  f.limit = rint(1
+000065e0: 290a 2020 2020 2020 2020 702e 7468 6546  ).        p.theF
+000065f0: 696c 7465 7220 3d20 660a 2020 2020 2020  ilter = f.      
+00006600: 2020 7371 6c20 3d20 2273 656c 6563 7420    sql = "select 
+00006610: 7467 2066 726f 6d20 5461 6741 6e6e 6f74  tg from TagAnnot
+00006620: 6174 696f 6e20 7467 2022 2022 7768 6572  ation tg " "wher
+00006630: 6520 7467 2e74 6578 7456 616c 7565 3d3a  e tg.textValue=:
+00006640: 7465 7874 220a 2020 2020 2020 2020 6966  text".        if
+00006650: 2064 6573 6320 6973 206e 6f74 204e 6f6e   desc is not Non
+00006660: 653a 0a20 2020 2020 2020 2020 2020 2073  e:.            s
+00006670: 716c 202b 3d20 2220 616e 6420 7467 2e64  ql += " and tg.d
+00006680: 6573 6372 6970 7469 6f6e 3d3a 6465 7363  escription=:desc
+00006690: 220a 2020 2020 2020 2020 7371 6c20 2b3d  ".        sql +=
+000066a0: 2022 2061 6e64 2074 672e 6e73 2069 7320   " and tg.ns is 
+000066b0: 6e75 6c6c 206f 7264 6572 2062 7920 7467  null order by tg
+000066c0: 2e74 6578 7456 616c 7565 220a 2020 2020  .textValue".    
+000066d0: 2020 2020 7265 7320 3d20 7175 6572 795f      res = query_
+000066e0: 7365 7276 2e66 696e 6441 6c6c 4279 5175  serv.findAllByQu
+000066f0: 6572 7928 7371 6c2c 2070 2c20 7365 6c66  ery(sql, p, self
+00006700: 2e53 4552 5649 4345 5f4f 5054 5329 0a20  .SERVICE_OPTS). 
+00006710: 2020 2020 2020 2069 6620 6c65 6e28 7265         if len(re
+00006720: 7329 203e 2030 3a0a 2020 2020 2020 2020  s) > 0:.        
+00006730: 2020 2020 7265 7475 726e 206f 6d65 726f      return omero
+00006740: 2e67 6174 6577 6179 2e54 6167 416e 6e6f  .gateway.TagAnno
+00006750: 7461 7469 6f6e 5772 6170 7065 7228 7365  tationWrapper(se
+00006760: 6c66 2c20 7265 735b 305d 290a 2020 2020  lf, res[0]).    
+00006770: 2020 2020 7265 7475 726e 204e 6f6e 650a      return None.
+00006780: 0a20 2020 2023 2041 5641 5441 5220 230a  .    # AVATAR #.
+00006790: 2020 2020 6465 6620 7570 6c6f 6164 4d79      def uploadMy
+000067a0: 5573 6572 5068 6f74 6f28 7365 6c66 2c20  UserPhoto(self, 
+000067b0: 6669 6c65 6e61 6d65 2c20 666f 726d 6174  filename, format
+000067c0: 2c20 6461 7461 293a 0a20 2020 2020 2020  , data):.       
+000067d0: 2022 2222 0a20 2020 2020 2020 2055 706c   """.        Upl
+000067e0: 6f61 6473 2061 2070 686f 746f 2066 6f72  oads a photo for
+000067f0: 2074 6865 2075 7365 7220 7768 6963 6820   the user which 
+00006800: 7769 6c6c 2062 6520 6469 7370 6c61 7965  will be displaye
+00006810: 6420 6f6e 2068 6973 2f68 6572 0a20 2020  d on his/her.   
+00006820: 2020 2020 2070 726f 6669 6c65 2e0a 2020       profile..  
+00006830: 2020 2020 2020 5468 6973 2070 686f 746f        This photo
+00006840: 2077 696c 6c20 6265 2073 6176 6564 2061   will be saved a
+00006850: 7320 616e 204f 7269 6769 6e61 6c46 696c  s an OriginalFil
+00006860: 6520 6f62 6a65 6374 0a20 2020 2020 2020  e object.       
+00006870: 2077 6974 6820 7468 6520 6769 7665 6e20   with the given 
+00006880: 666f 726d 6174 2c20 616e 6420 6174 7461  format, and atta
+00006890: 6368 6564 2074 6f20 7468 6520 7573 6572  ched to the user
+000068a0: 2773 2045 7870 6572 696d 656e 7465 720a  's Experimenter.
+000068b0: 2020 2020 2020 2020 6f62 6a65 6374 2076          object v
+000068c0: 6961 2061 6e20 4669 6c65 2041 6e6e 6f74  ia an File Annot
+000068d0: 6174 696f 6e20 7769 7468 0a20 2020 2020  ation with.     
+000068e0: 2020 2074 6865 206e 616d 6573 7061 6365     the namespace
+000068f0: 3a20 226f 7065 6e6d 6963 726f 7363 6f70  : "openmicroscop
+00006900: 792e 6f72 672f 6f6d 6572 6f2f 6578 7065  y.org/omero/expe
+00006910: 7269 6d65 6e74 6572 2f70 686f 746f 220a  rimenter/photo".
+00006920: 2020 2020 2020 2020 284e 5345 5850 4552          (NSEXPER
+00006930: 494d 454e 5445 5250 484f 544f 292e 0a20  IMENTERPHOTO).. 
+00006940: 2020 2020 2020 2049 6620 7375 6368 2061         If such a
+00006950: 6e20 4f72 6967 696e 616c 4669 6c65 2069  n OriginalFile i
+00006960: 6e73 7461 6e63 6520 616c 7265 6164 7920  nstance already 
+00006970: 6578 6973 7473 2c0a 2020 2020 2020 2020  exists,.        
+00006980: 6974 2077 696c 6c20 6265 206f 7665 7277  it will be overw
+00006990: 7269 7474 656e 2e20 4966 206d 6f72 6520  ritten. If more 
+000069a0: 7468 616e 206f 6e65 2070 686f 746f 2069  than one photo i
+000069b0: 7320 7072 6573 656e 742c 2074 6865 206f  s present, the o
+000069c0: 6c64 6573 740a 2020 2020 2020 2020 7665  ldest.        ve
+000069d0: 7273 696f 6e20 7769 6c6c 2062 6520 6d6f  rsion will be mo
+000069e0: 6469 6669 6564 2028 692e 652e 2074 6865  dified (i.e. the
+000069f0: 2068 6967 6865 7374 2075 7064 6174 6545   highest updateE
+00006a00: 7665 6e74 2069 6429 2e0a 0a20 2020 2020  vent id)...     
+00006a10: 2020 204e 6f74 653a 2061 7320 6f75 746c     Note: as outl
+00006a20: 696e 6564 2069 6e20 7469 636b 6574 3a31  ined in ticket:1
+00006a30: 3739 342c 2074 6869 7320 7068 6f74 6f20  794, this photo 
+00006a40: 7769 6c6c 2062 6520 706c 6163 6564 2069  will be placed i
+00006a50: 6e20 7468 650a 2020 2020 2020 2020 2275  n the.        "u
+00006a60: 7365 7222 2067 726f 7570 2061 6e64 2074  ser" group and t
+00006a70: 6865 7265 666f 7265 2077 696c 6c20 6265  herefore will be
+00006a80: 2076 6973 6962 6c65 2074 6f20 6576 6572   visible to ever
+00006a90: 796f 6e65 206f 6e20 7468 6520 7379 7374  yone on the syst
+00006aa0: 656d 2e0a 0a20 2020 2020 2020 2040 7061  em...        @pa
+00006ab0: 7261 6d20 6669 6c65 6e61 6d65 2020 2020  ram filename    
+00006ac0: 206e 616d 6520 7768 6963 6820 7769 6c6c   name which will
+00006ad0: 2062 6520 7573 6564 2e0a 2020 2020 2020   be used..      
+00006ae0: 2020 4074 7970 6520 6669 6c65 6e61 6d65    @type filename
+00006af0: 2020 2020 2020 5374 7269 6e67 0a20 2020        String.   
+00006b00: 2020 2020 2040 7061 7261 6d20 666f 726d       @param form
+00006b10: 6174 2020 2020 2020 2046 6f72 6d61 742e  at       Format.
+00006b20: 7661 6c75 6520 7374 7269 6e67 2e20 2769  value string. 'i
+00006b30: 6d61 6765 2f6a 7065 6727 2061 6e64 2027  mage/jpeg' and '
+00006b40: 696d 6167 652f 706e 6727 0a20 2020 2020  image/png'.     
+00006b50: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00006b60: 2020 2020 2020 2061 7265 2063 6f6d 6d6f         are commo
+00006b70: 6e20 7661 6c75 6573 2e0a 2020 2020 2020  n values..      
+00006b80: 2020 4074 7970 6520 666f 726d 6174 2020    @type format  
+00006b90: 2020 2020 2020 5374 7269 6e67 0a20 2020        String.   
+00006ba0: 2020 2020 2040 7061 7261 6d20 6461 7461       @param data
+00006bb0: 2020 2020 2020 2020 2044 6174 6120 6672           Data fr
+00006bc0: 6f6d 2074 6865 2069 6d61 6765 2e20 5468  om the image. Th
+00006bd0: 6973 2077 696c 6c20 6265 2077 7269 7474  is will be writt
+00006be0: 656e 2074 6f20 6469 736b 2e0a 2020 2020  en to disk..    
+00006bf0: 2020 2020 4074 7970 6520 6461 7461 2020      @type data  
+00006c00: 2020 2020 2020 2020 5374 7269 6e67 0a0a          String..
+00006c10: 2020 2020 2020 2020 4072 6574 7572 6e20          @return 
+00006c20: 2020 2020 2020 2020 2020 2020 4944 206f              ID o
+00006c30: 6620 7468 6520 6f76 6572 7772 6974 7465  f the overwritte
+00006c40: 6e20 6f72 206e 6577 6c79 2063 7265 6174  n or newly creat
+00006c50: 6564 2075 7365 7220 7068 6f74 6f0a 2020  ed user photo.  
+00006c60: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00006c70: 2020 2020 2020 2020 2020 4f72 6967 696e            Origin
+00006c80: 616c 4669 6c65 206f 626a 6563 742e 0a20  alFile object.. 
+00006c90: 2020 2020 2020 2040 7274 7970 6520 2020         @rtype   
+00006ca0: 2020 2020 2020 2020 2020 204c 6f6e 670a             Long.
+00006cb0: 2020 2020 2020 2020 2222 220a 0a20 2020          """..   
+00006cc0: 2020 2020 2061 646d 696e 5f73 6572 7620       admin_serv 
+00006cd0: 3d20 7365 6c66 2e67 6574 4164 6d69 6e53  = self.getAdminS
+00006ce0: 6572 7669 6365 2829 0a20 2020 2020 2020  ervice().       
+00006cf0: 2070 6964 203d 2061 646d 696e 5f73 6572   pid = admin_ser
+00006d00: 762e 7570 6c6f 6164 4d79 5573 6572 5068  v.uploadMyUserPh
+00006d10: 6f74 6f28 6669 6c65 6e61 6d65 2c20 666f  oto(filename, fo
+00006d20: 726d 6174 2c20 6461 7461 290a 2020 2020  rmat, data).    
+00006d30: 2020 2020 6966 2070 6964 2069 7320 6e6f      if pid is no
+00006d40: 7420 4e6f 6e65 3a0a 2020 2020 2020 2020  t None:.        
+00006d50: 2020 2020 7265 7475 726e 2070 6964 0a0a      return pid..
+00006d60: 2020 2020 6465 6620 6765 7445 7870 6572      def getExper
+00006d70: 696d 656e 7465 7250 686f 746f 416e 6e6f  imenterPhotoAnno
+00006d80: 7461 7469 6f6e 2873 656c 662c 206f 6964  tation(self, oid
+00006d90: 3d4e 6f6e 6529 3a0a 2020 2020 2020 2020  =None):.        
+00006da0: 2222 220a 2020 2020 2020 2020 4765 7420  """.        Get 
+00006db0: 4669 6c65 2061 6e6e 6f74 6174 696f 6e20  File annotation 
+00006dc0: 4944 2077 6974 6820 7468 6520 6e61 6d65  ID with the name
+00006dd0: 7370 6163 653a 0a20 2020 2020 2020 2022  space:.        "
+00006de0: 6f70 656e 6d69 6372 6f73 636f 7079 2e6f  openmicroscopy.o
+00006df0: 7267 2f6f 6d65 726f 2f65 7870 6572 696d  rg/omero/experim
+00006e00: 656e 7465 722f 7068 6f74 6f22 2028 4e53  enter/photo" (NS
+00006e10: 4558 5045 5249 4d45 4e54 4552 5048 4f54  EXPERIMENTERPHOT
+00006e20: 4f29 2069 730a 2020 2020 2020 2020 6c69  O) is.        li
+00006e30: 6e6b 6564 2074 6f20 7468 6520 6769 7665  nked to the give
+00006e40: 6e20 7573 6572 2049 442e 2049 6620 7573  n user ID. If us
+00006e50: 6572 2069 6420 6e6f 7420 7365 742c 206f  er id not set, o
+00006e60: 776e 6564 2062 7920 7468 6520 6375 7272  wned by the curr
+00006e70: 656e 740a 2020 2020 2020 2020 7573 6572  ent.        user
+00006e80: 2e0a 0a20 2020 2020 2020 2040 7061 7261  ...        @para
+00006e90: 6d20 6f69 6420 2020 2020 2065 7870 6572  m oid      exper
+00006ea0: 696d 656e 7465 7220 4944 0a20 2020 2020  imenter ID.     
+00006eb0: 2020 2040 7479 7065 206f 6964 2020 2020     @type oid    
+00006ec0: 2020 204c 6f6e 670a 2020 2020 2020 2020     Long.        
+00006ed0: 4072 6574 7572 6e20 2020 2020 2020 2020  @return         
+00006ee0: 5472 7565 206f 7220 4661 6c73 650a 2020  True or False.  
+00006ef0: 2020 2020 2020 4072 7479 7065 2020 2020        @rtype    
+00006f00: 2020 2020 2020 426f 6f6c 6561 6e0a 2020        Boolean.  
+00006f10: 2020 2020 2020 2222 220a 0a20 2020 2020        """..     
+00006f20: 2020 206d 6574 6120 3d20 7365 6c66 2e67     meta = self.g
+00006f30: 6574 4d65 7461 6461 7461 5365 7276 6963  etMetadataServic
+00006f40: 6528 290a 2020 2020 2020 2020 7472 793a  e().        try:
+00006f50: 0a20 2020 2020 2020 2020 2020 2069 6620  .            if 
+00006f60: 6f69 6420 6973 204e 6f6e 653a 0a20 2020  oid is None:.   
+00006f70: 2020 2020 2020 2020 2020 2020 206f 6964               oid
+00006f80: 203d 2073 656c 662e 6765 7445 7665 6e74   = self.getEvent
+00006f90: 436f 6e74 6578 7428 292e 7573 6572 4964  Context().userId
+00006fa0: 0a20 2020 2020 2020 2020 2020 2065 6c73  .            els
+00006fb0: 653a 0a20 2020 2020 2020 2020 2020 2020  e:.             
+00006fc0: 2020 206f 6964 203d 2069 6e74 286f 6964     oid = int(oid
+00006fd0: 290a 2020 2020 2020 2020 2020 2020 616e  ).            an
+00006fe0: 6e73 203d 206d 6574 612e 6c6f 6164 416e  ns = meta.loadAn
+00006ff0: 6e6f 7461 7469 6f6e 7328 2245 7870 6572  notations("Exper
+00007000: 696d 656e 7465 7222 2c20 5b6f 6964 5d2c  imenter", [oid],
+00007010: 204e 6f6e 652c 204e 6f6e 652c 204e 6f6e   None, None, Non
+00007020: 6529 2e67 6574 280a 2020 2020 2020 2020  e).get(.        
+00007030: 2020 2020 2020 2020 6f69 642c 205b 5d0a          oid, [].
+00007040: 2020 2020 2020 2020 2020 2020 290a 2020              ).  
+00007050: 2020 2020 2020 2020 2020 616e 6e73 203d            anns =
+00007060: 205b 616e 6e20 666f 7220 616e 6e20 696e   [ann for ann in
+00007070: 2061 6e6e 7320 6966 2075 6e77 7261 7028   anns if unwrap(
+00007080: 616e 6e2e 6e73 2920 3d3d 204e 5345 5850  ann.ns) == NSEXP
+00007090: 4552 494d 454e 5445 5250 484f 544f 5d0a  ERIMENTERPHOTO].
+000070a0: 2020 2020 2020 2020 2020 2020 6966 206c              if l
+000070b0: 656e 2861 6e6e 7329 203e 2030 3a0a 2020  en(anns) > 0:.  
+000070c0: 2020 2020 2020 2020 2020 2020 2020 7265                re
+000070d0: 7475 726e 2061 6e6e 735b 305d 0a20 2020  turn anns[0].   
+000070e0: 2020 2020 2065 7863 6570 7420 4578 6365       except Exce
+000070f0: 7074 696f 6e3a 0a20 2020 2020 2020 2020  ption:.         
+00007100: 2020 206c 6f67 6765 722e 6572 726f 7228     logger.error(
+00007110: 7472 6163 6562 6163 6b2e 666f 726d 6174  traceback.format
+00007120: 5f65 7863 2829 290a 0a20 2020 2064 6566  _exc())..    def
+00007130: 2068 6173 4578 7065 7269 6d65 6e74 6572   hasExperimenter
+00007140: 5068 6f74 6f28 7365 6c66 2c20 6f69 643d  Photo(self, oid=
+00007150: 4e6f 6e65 293a 0a20 2020 2020 2020 2022  None):.        "
+00007160: 2222 0a20 2020 2020 2020 2052 6574 7572  "".        Retur
+00007170: 6e20 5472 7565 2069 6620 7573 6572 2068  n True if user h
+00007180: 6173 2061 6e20 616e 6e6f 7461 7469 6f6e  as an annotation
+00007190: 2077 6974 6820 6578 7065 7269 6d65 6e74   with experiment
+000071a0: 6572 2070 686f 746f 206e 616d 6573 7061  er photo namespa
+000071b0: 6365 0a0a 2020 2020 2020 2020 4070 6172  ce..        @par
+000071c0: 616d 206f 6964 2020 2020 2020 6578 7065  am oid      expe
+000071d0: 7269 6d65 6e74 6572 2049 440a 2020 2020  rimenter ID.    
+000071e0: 2020 2020 4074 7970 6520 6f69 6420 2020      @type oid   
+000071f0: 2020 2020 4c6f 6e67 0a20 2020 2020 2020      Long.       
+00007200: 2040 7265 7475 726e 2020 2020 2020 2020   @return        
+00007210: 2054 7275 6520 6f72 2046 616c 7365 0a20   True or False. 
+00007220: 2020 2020 2020 2040 7274 7970 6520 2020         @rtype   
+00007230: 2020 2020 2020 2042 6f6f 6c65 616e 0a20         Boolean. 
+00007240: 2020 2020 2020 2022 2222 0a20 2020 2020         """.     
+00007250: 2020 2072 6574 7572 6e20 7365 6c66 2e67     return self.g
+00007260: 6574 4578 7065 7269 6d65 6e74 6572 5068  etExperimenterPh
+00007270: 6f74 6f41 6e6e 6f74 6174 696f 6e28 6f69  otoAnnotation(oi
+00007280: 6429 2069 7320 6e6f 7420 4e6f 6e65 0a0a  d) is not None..
+00007290: 2020 2020 6465 6620 6765 7445 7870 6572      def getExper
+000072a0: 696d 656e 7465 7250 686f 746f 2873 656c  imenterPhoto(sel
+000072b0: 662c 206f 6964 3d4e 6f6e 6529 3a0a 2020  f, oid=None):.  
+000072c0: 2020 2020 2020 2222 220a 2020 2020 2020        """.      
+000072d0: 2020 4765 7420 5068 6f74 6f20 6279 7465    Get Photo byte
+000072e0: 7320 666f 7220 4578 7065 7269 6d65 6e74  s for Experiment
+000072f0: 6572 2050 686f 746f 2e0a 0a20 2020 2020  er Photo...     
+00007300: 2020 2040 7061 7261 6d20 6f69 6420 2020     @param oid   
+00007310: 2020 2065 7870 6572 696d 656e 7465 7220     experimenter 
+00007320: 4944 0a20 2020 2020 2020 2040 7479 7065  ID.        @type
+00007330: 206f 6964 2020 2020 2020 204c 6f6e 670a   oid       Long.
+00007340: 2020 2020 2020 2020 4072 6574 7572 6e20          @return 
+00007350: 2020 2020 2020 2020 4461 7461 2066 726f          Data fro
+00007360: 6d20 7468 6520 696d 6167 652e 0a20 2020  m the image..   
+00007370: 2020 2020 2040 7274 7970 6520 2020 2020       @rtype     
+00007380: 2020 2020 2042 7974 6573 0a20 2020 2020       Bytes.     
+00007390: 2020 2022 2222 0a0a 2020 2020 2020 2020     """..        
+000073a0: 7068 6f74 6f20 3d20 4e6f 6e65 0a20 2020  photo = None.   
+000073b0: 2020 2020 2074 7279 3a0a 2020 2020 2020       try:.      
+000073c0: 2020 2020 2020 616e 6e20 3d20 7365 6c66        ann = self
+000073d0: 2e67 6574 4578 7065 7269 6d65 6e74 6572  .getExperimenter
+000073e0: 5068 6f74 6f41 6e6e 6f74 6174 696f 6e28  PhotoAnnotation(
+000073f0: 6f69 6429 0a20 2020 2020 2020 2020 2020  oid).           
+00007400: 2069 6620 616e 6e20 6973 206e 6f74 204e   if ann is not N
+00007410: 6f6e 653a 0a20 2020 2020 2020 2020 2020  one:.           
+00007420: 2020 2020 2073 746f 7265 203d 2073 656c       store = sel
+00007430: 662e 6372 6561 7465 5261 7746 696c 6553  f.createRawFileS
+00007440: 746f 7265 2829 0a20 2020 2020 2020 2020  tore().         
+00007450: 2020 2020 2020 2074 7279 3a0a 2020 2020         try:.    
+00007460: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00007470: 7374 6f72 652e 7365 7446 696c 6549 6428  store.setFileId(
+00007480: 616e 6e2e 6669 6c65 2e69 642e 7661 6c29  ann.file.id.val)
+00007490: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+000074a0: 2020 2020 2070 686f 746f 203d 2073 746f       photo = sto
+000074b0: 7265 2e72 6561 6428 302c 2069 6e74 2861  re.read(0, int(a
+000074c0: 6e6e 2e66 696c 652e 7369 7a65 2e76 616c  nn.file.size.val
+000074d0: 2929 0a20 2020 2020 2020 2020 2020 2020  )).             
+000074e0: 2020 2066 696e 616c 6c79 3a0a 2020 2020     finally:.    
+000074f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00007500: 7374 6f72 652e 636c 6f73 6528 290a 2020  store.close().  
+00007510: 2020 2020 2020 2020 2020 656c 7365 3a0a            else:.
+00007520: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00007530: 7068 6f74 6f20 3d20 7365 6c66 2e67 6574  photo = self.get
+00007540: 4578 7065 7269 6d65 6e74 6572 4465 6661  ExperimenterDefa
+00007550: 756c 7450 686f 746f 2829 0a20 2020 2020  ultPhoto().     
+00007560: 2020 2065 7863 6570 7420 4578 6365 7074     except Except
+00007570: 696f 6e3a 0a20 2020 2020 2020 2020 2020  ion:.           
+00007580: 206c 6f67 6765 722e 6572 726f 7228 7472   logger.error(tr
+00007590: 6163 6562 6163 6b2e 666f 726d 6174 5f65  aceback.format_e
+000075a0: 7863 2829 290a 2020 2020 2020 2020 2020  xc()).          
+000075b0: 2020 7068 6f74 6f20 3d20 7365 6c66 2e67    photo = self.g
+000075c0: 6574 4578 7065 7269 6d65 6e74 6572 4465  etExperimenterDe
+000075d0: 6661 756c 7450 686f 746f 2829 0a20 2020  faultPhoto().   
+000075e0: 2020 2020 2069 6620 7068 6f74 6f20 6973       if photo is
+000075f0: 204e 6f6e 653a 0a20 2020 2020 2020 2020   None:.         
+00007600: 2020 2070 686f 746f 203d 2073 656c 662e     photo = self.
+00007610: 6765 7445 7870 6572 696d 656e 7465 7244  getExperimenterD
+00007620: 6566 6175 6c74 5068 6f74 6f28 290a 2020  efaultPhoto().  
+00007630: 2020 2020 2020 7265 7475 726e 2070 686f        return pho
+00007640: 746f 0a0a 2020 2020 6465 6620 6465 6c65  to..    def dele
+00007650: 7465 4578 7065 7269 6d65 6e74 6572 5068  teExperimenterPh
+00007660: 6f74 6f28 7365 6c66 2c20 6f69 643d 4e6f  oto(self, oid=No
+00007670: 6e65 293a 0a20 2020 2020 2020 2061 6e6e  ne):.        ann
+00007680: 203d 204e 6f6e 650a 2020 2020 2020 2020   = None.        
+00007690: 616e 6e20 3d20 7365 6c66 2e67 6574 4578  ann = self.getEx
+000076a0: 7065 7269 6d65 6e74 6572 5068 6f74 6f41  perimenterPhotoA
+000076b0: 6e6e 6f74 6174 696f 6e28 6f69 6429 0a20  nnotation(oid). 
+000076c0: 2020 2020 2020 2069 6620 616e 6e20 6973         if ann is
+000076d0: 206e 6f74 204e 6f6e 653a 0a20 2020 2020   not None:.     
+000076e0: 2020 2020 2020 2073 656c 662e 6465 6c65         self.dele
+000076f0: 7465 4f62 6a65 6374 7328 2241 6e6e 6f74  teObjects("Annot
+00007700: 6174 696f 6e22 2c20 5b61 6e6e 2e69 642e  ation", [ann.id.
+00007710: 7661 6c5d 2c20 7761 6974 3d54 7275 6529  val], wait=True)
+00007720: 0a0a 2020 2020 6465 6620 6765 7445 7870  ..    def getExp
+00007730: 6572 696d 656e 7465 7244 6566 6175 6c74  erimenterDefault
+00007740: 5068 6f74 6f28 7365 6c66 293a 0a20 2020  Photo(self):.   
+00007750: 2020 2020 2022 2222 0a20 2020 2020 2020       """.       
+00007760: 2049 6620 6669 6c65 2061 6e6e 6f74 6174   If file annotat
+00007770: 696f 6e20 7769 7468 2074 6865 206e 616d  ion with the nam
+00007780: 6573 7061 6365 3a0a 2020 2020 2020 2020  espace:.        
+00007790: 226f 7065 6e6d 6963 726f 7363 6f70 792e  "openmicroscopy.
+000077a0: 6f72 672f 6f6d 6572 6f2f 6578 7065 7269  org/omero/experi
+000077b0: 6d65 6e74 6572 2f70 686f 746f 2220 284e  menter/photo" (N
+000077c0: 5345 5850 4552 494d 454e 5445 5250 484f  SEXPERIMENTERPHO
+000077d0: 544f 290a 2020 2020 2020 2020 6973 206e  TO).        is n
+000077e0: 6f74 206c 696e 6b65 6420 746f 2065 7870  ot linked to exp
+000077f0: 6572 696d 656e 7465 7220 7468 6973 206d  erimenter this m
+00007800: 6574 686f 6420 6765 6e65 7261 7465 2064  ethod generate d
+00007810: 6566 6175 6c74 2070 6963 7475 7265 206f  efault picture o
+00007820: 660a 2020 2020 2020 2020 7468 6520 7065  f.        the pe
+00007830: 7273 6f6e 2e0a 0a20 2020 2020 2020 2040  rson...        @
+00007840: 7265 7475 726e 2020 2020 2020 2020 2044  return         D
+00007850: 6174 6120 6672 6f6d 2074 6865 2069 6d61  ata from the ima
+00007860: 6765 2e0a 2020 2020 2020 2020 4072 7479  ge..        @rty
+00007870: 7065 2020 2020 2020 2020 2020 5374 7269  pe          Stri
+00007880: 6e67 0a20 2020 2020 2020 2022 2222 0a0a  ng.        """..
+00007890: 2020 2020 2020 2020 696d 6720 3d20 496d          img = Im
+000078a0: 6167 652e 6f70 656e 2873 6574 7469 6e67  age.open(setting
+000078b0: 732e 4445 4641 554c 545f 5553 4552 290a  s.DEFAULT_USER).
+000078c0: 2020 2020 2020 2020 696d 672e 7468 756d          img.thum
+000078d0: 626e 6169 6c28 2831 3530 2c20 3135 3029  bnail((150, 150)
+000078e0: 2c20 496d 6167 652e 414e 5449 414c 4941  , Image.ANTIALIA
+000078f0: 5329 0a20 2020 2020 2020 2066 203d 2042  S).        f = B
+00007900: 7974 6573 494f 2829 0a20 2020 2020 2020  ytesIO().       
+00007910: 2069 6d67 2e73 6176 6528 662c 2022 504e   img.save(f, "PN
+00007920: 4722 290a 2020 2020 2020 2020 662e 7365  G").        f.se
+00007930: 656b 2830 290a 2020 2020 2020 2020 7265  ek(0).        re
+00007940: 7475 726e 2066 2e72 6561 6428 290a 0a20  turn f.read().. 
+00007950: 2020 2064 6566 2067 6574 4669 6c65 466f     def getFileFo
+00007960: 726d 6174 2873 656c 662c 2066 6f72 6d61  rmat(self, forma
+00007970: 7429 3a0a 2020 2020 2020 2020 2222 220a  t):.        """.
+00007980: 2020 2020 2020 2020 4765 7420 6669 6c65          Get file
+00007990: 2061 6e6e 6f74 6174 696f 6e20 666f 726d   annotation form
+000079a0: 6174 2066 6f72 2074 6865 2067 6976 656e  at for the given
+000079b0: 2076 616c 7565 2e0a 0a20 2020 2020 2020   value...       
+000079c0: 2040 7265 7475 726e 2020 2020 2020 2020   @return        
+000079d0: 204f 6d65 726f 2046 696c 6520 666f 726d   Omero File form
+000079e0: 6174 0a20 2020 2020 2020 2040 7274 7970  at.        @rtyp
+000079f0: 6520 2020 2020 2020 2020 2053 7472 696e  e          Strin
+00007a00: 670a 2020 2020 2020 2020 2222 220a 2020  g.        """.  
+00007a10: 2020 2020 2020 7175 6572 795f 7365 7276        query_serv
+00007a20: 203d 2073 656c 662e 6765 7451 7565 7279   = self.getQuery
+00007a30: 5365 7276 6963 6528 290a 2020 2020 2020  Service().      
+00007a40: 2020 7265 7475 726e 2071 7565 7279 5f73    return query_s
+00007a50: 6572 762e 6669 6e64 4279 5374 7269 6e67  erv.findByString
+00007a60: 2822 466f 726d 6174 222c 2022 7661 6c75  ("Format", "valu
+00007a70: 6522 2c20 666f 726d 6174 292e 6765 7456  e", format).getV
+00007a80: 616c 7565 2829 2e76 616c 0a0a 2020 2020  alue().val..    
+00007a90: 2323 2323 2323 2323 2323 2323 2323 2323  ################
+00007aa0: 2323 2323 2323 2323 2323 2323 2323 2323  ################
+00007ab0: 2323 2323 2323 2323 2323 2323 2323 2323  ################
+00007ac0: 0a20 2020 2023 2020 2043 6f75 6e74 6572  .    #   Counter
+00007ad0: 730a 0a20 2020 2064 6566 2067 6574 436f  s..    def getCo
+00007ae0: 6c6c 6563 7469 6f6e 436f 756e 7428 7365  llectionCount(se
+00007af0: 6c66 2c20 7061 7265 6e74 2c20 6368 696c  lf, parent, chil
+00007b00: 642c 2069 6473 293a 0a20 2020 2020 2020  d, ids):.       
+00007b10: 2022 2222 0a20 2020 2020 2020 2043 6f75   """.        Cou
+00007b20: 6e74 7320 7468 6520 6e75 6d62 6572 206f  nts the number o
+00007b30: 6620 6d65 6d62 6572 7320 696e 2061 2063  f members in a c
+00007b40: 6f6c 6c65 6374 696f 6e20 666f 7220 6120  ollection for a 
+00007b50: 6769 7665 6e20 6f62 6a65 6374 2e0a 0a20  given object... 
+00007b60: 2020 2020 2020 2040 7061 7261 6d20 7061         @param pa
+00007b70: 7265 6e74 2020 2020 2020 2054 6865 2066  rent       The f
+00007b80: 756c 6c79 2d71 7561 6c69 6669 6564 2063  ully-qualified c
+00007b90: 6c61 7373 6e61 6d65 206f 6620 7468 6520  lassname of the 
+00007ba0: 6f62 6a65 6374 2074 6f20 6265 0a20 2020  object to be.   
+00007bb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00007bc0: 2020 2020 2020 2020 2074 6573 7465 640a           tested.
+00007bd0: 2020 2020 2020 2020 4074 7970 6520 7061          @type pa
+00007be0: 7265 6e74 2020 2020 2020 2020 5374 7269  rent        Stri
+00007bf0: 6e67 0a20 2020 2020 2020 2040 7061 7261  ng.        @para
+00007c00: 6d20 6368 696c 6420 2020 2020 2020 204e  m child        N
+00007c10: 616d 6520 6f66 2074 6865 2070 726f 7065  ame of the prope
+00007c20: 7274 7920 6f6e 2074 6861 7420 636c 6173  rty on that clas
+00007c30: 732c 206f 6d69 7474 696e 670a 2020 2020  s, omitting.    
+00007c40: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00007c50: 2020 2020 2020 2020 6765 7474 6572 7320          getters 
+00007c60: 616e 6420 7365 7474 6572 732e 0a20 2020  and setters..   
+00007c70: 2020 2020 2040 7479 7065 2063 6869 6c64       @type child
+00007c80: 2020 2020 2020 2020 2053 7472 696e 670a           String.
+00007c90: 2020 2020 2020 2020 4070 6172 616d 2069          @param i
+00007ca0: 6473 2020 2020 2020 2020 2020 5365 7420  ds          Set 
+00007cb0: 6f66 204c 6f6e 6773 2c20 7468 6520 6964  of Longs, the id
+00007cc0: 7320 6f66 2074 6865 206f 626a 6563 7473  s of the objects
+00007cd0: 2074 6f20 7465 7374 0a20 2020 2020 2020   to test.       
+00007ce0: 2040 7479 7065 2069 6473 2020 2020 2020   @type ids      
+00007cf0: 2020 2020 204c 7b4c 6f6e 677d 0a20 2020       L{Long}.   
+00007d00: 2020 2020 2040 7265 7475 726e 2020 2020       @return    
+00007d10: 2020 2020 2020 2020 2041 206d 6170 2066           A map f
+00007d20: 726f 6d20 6964 2069 6e74 6567 6572 2074  rom id integer t
+00007d30: 6f20 636f 756e 7420 696e 7465 6765 720a  o count integer.
+00007d40: 2020 2020 2020 2020 4072 7479 7065 2020          @rtype  
+00007d50: 2020 2020 2020 2020 2020 2020 4c7b 284c              L{(L
+00007d60: 6f6e 672c 204c 6f6e 6729 7d0a 2020 2020  ong, Long)}.    
+00007d70: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
+00007d80: 636f 6e74 6169 6e65 7220 3d20 7365 6c66  container = self
+00007d90: 2e67 6574 436f 6e74 6169 6e65 7253 6572  .getContainerSer
+00007da0: 7669 6365 2829 0a20 2020 2020 2020 2072  vice().        r
+00007db0: 6574 7572 6e20 636f 6e74 6169 6e65 722e  eturn container.
+00007dc0: 6765 7443 6f6c 6c65 6374 696f 6e43 6f75  getCollectionCou
+00007dd0: 6e74 2870 6172 656e 742c 2063 6869 6c64  nt(parent, child
+00007de0: 2c20 6964 732c 204e 6f6e 652c 2073 656c  , ids, None, sel
+00007df0: 662e 5345 5256 4943 455f 4f50 5453 290a  f.SERVICE_OPTS).
+00007e00: 0a20 2020 2023 2323 2323 2323 2323 2323  .    ###########
+00007e10: 2323 2323 2323 2323 2323 2323 2323 2323  ################
+00007e20: 2323 2323 2323 2323 2323 2323 2323 2323  ################
+00007e30: 2323 2323 230a 2020 2020 2320 2020 5661  #####.    #   Va
+00007e40: 6c69 6461 746f 7273 0a0a 2020 2020 6465  lidators..    de
+00007e50: 6620 6368 6563 6b4f 6d65 4e61 6d65 2873  f checkOmeName(s
+00007e60: 656c 662c 206f 6d65 5f6e 616d 652c 206f  elf, ome_name, o
+00007e70: 6c64 5f6f 6d65 4e61 6d65 3d4e 6f6e 6529  ld_omeName=None)
+00007e80: 3a0a 2020 2020 2020 2020 6966 206f 6d65  :.        if ome
+00007e90: 5f6e 616d 6520 3d3d 206f 6c64 5f6f 6d65  _name == old_ome
+00007ea0: 4e61 6d65 3a0a 2020 2020 2020 2020 2020  Name:.          
+00007eb0: 2020 7265 7475 726e 2046 616c 7365 0a20    return False. 
+00007ec0: 2020 2020 2020 2071 7565 7279 5f73 6572         query_ser
+00007ed0: 7620 3d20 7365 6c66 2e67 6574 5175 6572  v = self.getQuer
+00007ee0: 7953 6572 7669 6365 2829 0a20 2020 2020  yService().     
+00007ef0: 2020 2070 203d 206f 6d65 726f 2e73 7973     p = omero.sys
+00007f00: 2e50 6172 616d 6574 6572 7328 290a 2020  .Parameters().  
+00007f10: 2020 2020 2020 702e 6d61 7020 3d20 7b7d        p.map = {}
+00007f20: 0a20 2020 2020 2020 2070 2e6d 6170 5b22  .        p.map["
+00007f30: 6f6d 654e 616d 6522 5d20 3d20 7273 7472  omeName"] = rstr
+00007f40: 696e 6728 736d 6172 745f 7374 7228 6f6d  ing(smart_str(om
+00007f50: 655f 6e61 6d65 2929 0a20 2020 2020 2020  e_name)).       
+00007f60: 2073 716c 203d 2022 7365 6c65 6374 2065   sql = "select e
+00007f70: 2066 726f 6d20 4578 7065 7269 6d65 6e74   from Experiment
+00007f80: 6572 2061 7320 6520 7768 6572 6520 652e  er as e where e.
+00007f90: 6f6d 654e 616d 6520 3d20 283a 6f6d 654e  omeName = (:omeN
+00007fa0: 616d 6529 220a 2020 2020 2020 2020 6578  ame)".        ex
+00007fb0: 7073 203d 2071 7565 7279 5f73 6572 762e  ps = query_serv.
+00007fc0: 6669 6e64 416c 6c42 7951 7565 7279 2873  findAllByQuery(s
+00007fd0: 716c 2c20 702c 2073 656c 662e 5345 5256  ql, p, self.SERV
+00007fe0: 4943 455f 4f50 5453 290a 2020 2020 2020  ICE_OPTS).      
+00007ff0: 2020 6966 206c 656e 2865 7870 7329 203e    if len(exps) >
+00008000: 2030 3a0a 2020 2020 2020 2020 2020 2020   0:.            
+00008010: 7265 7475 726e 2054 7275 650a 2020 2020  return True.    
+00008020: 2020 2020 656c 7365 3a0a 2020 2020 2020      else:.      
+00008030: 2020 2020 2020 7265 7475 726e 2046 616c        return Fal
+00008040: 7365 0a0a 2020 2020 6465 6620 6368 6563  se..    def chec
+00008050: 6b47 726f 7570 4e61 6d65 2873 656c 662c  kGroupName(self,
+00008060: 206e 616d 652c 206f 6c64 5f6e 616d 653d   name, old_name=
+00008070: 4e6f 6e65 293a 0a20 2020 2020 2020 2069  None):.        i
+00008080: 6620 6e61 6d65 203d 3d20 6f6c 645f 6e61  f name == old_na
+00008090: 6d65 3a0a 2020 2020 2020 2020 2020 2020  me:.            
+000080a0: 7265 7475 726e 2046 616c 7365 0a20 2020  return False.   
+000080b0: 2020 2020 2071 7565 7279 5f73 6572 7620       query_serv 
+000080c0: 3d20 7365 6c66 2e67 6574 5175 6572 7953  = self.getQueryS
+000080d0: 6572 7669 6365 2829 0a20 2020 2020 2020  ervice().       
+000080e0: 2070 203d 206f 6d65 726f 2e73 7973 2e50   p = omero.sys.P
+000080f0: 6172 616d 6574 6572 7328 290a 2020 2020  arameters().    
+00008100: 2020 2020 702e 6d61 7020 3d20 7b7d 0a20      p.map = {}. 
+00008110: 2020 2020 2020 2070 2e6d 6170 5b22 6e61         p.map["na
+00008120: 6d65 225d 203d 2072 7374 7269 6e67 2873  me"] = rstring(s
+00008130: 6d61 7274 5f73 7472 286e 616d 6529 290a  mart_str(name)).
+00008140: 2020 2020 2020 2020 6374 7820 3d20 7365          ctx = se
+00008150: 6c66 2e53 4552 5649 4345 5f4f 5054 532e  lf.SERVICE_OPTS.
+00008160: 636f 7079 2829 0a20 2020 2020 2020 2063  copy().        c
+00008170: 7478 2e73 6574 4f6d 6572 6f47 726f 7570  tx.setOmeroGroup
+00008180: 282d 3129 0a20 2020 2020 2020 2073 716c  (-1).        sql
+00008190: 203d 2022 7365 6c65 6374 2067 2066 726f   = "select g fro
+000081a0: 6d20 4578 7065 7269 6d65 6e74 6572 4772  m ExperimenterGr
+000081b0: 6f75 7020 6173 2067 2077 6865 7265 2067  oup as g where g
+000081c0: 2e6e 616d 6520 3d20 283a 6e61 6d65 2922  .name = (:name)"
+000081d0: 0a20 2020 2020 2020 2067 7273 203d 2071  .        grs = q
+000081e0: 7565 7279 5f73 6572 762e 6669 6e64 416c  uery_serv.findAl
+000081f0: 6c42 7951 7565 7279 2873 716c 2c20 702c  lByQuery(sql, p,
+00008200: 2063 7478 290a 2020 2020 2020 2020 6966   ctx).        if
+00008210: 206c 656e 2867 7273 2920 3e20 303a 0a20   len(grs) > 0:. 
+00008220: 2020 2020 2020 2020 2020 2072 6574 7572             retur
+00008230: 6e20 5472 7565 0a20 2020 2020 2020 2065  n True.        e
+00008240: 6c73 653a 0a20 2020 2020 2020 2020 2020  lse:.           
+00008250: 2072 6574 7572 6e20 4661 6c73 650a 0a20   return False.. 
+00008260: 2020 2064 6566 2063 6865 636b 456d 6169     def checkEmai
+00008270: 6c28 7365 6c66 2c20 656d 6169 6c2c 206f  l(self, email, o
+00008280: 6c64 5f65 6d61 696c 3d4e 6f6e 6529 3a0a  ld_email=None):.
+00008290: 2020 2020 2020 2020 6966 2065 6d61 696c          if email
+000082a0: 203d 3d20 2222 3a0a 2020 2020 2020 2020   == "":.        
+000082b0: 2020 2020 7265 7475 726e 2046 616c 7365      return False
+000082c0: 0a20 2020 2020 2020 2069 6620 656d 6169  .        if emai
+000082d0: 6c20 3d3d 206f 6c64 5f65 6d61 696c 3a0a  l == old_email:.
+000082e0: 2020 2020 2020 2020 2020 2020 7265 7475              retu
+000082f0: 726e 2046 616c 7365 0a20 2020 2020 2020  rn False.       
+00008300: 2071 7565 7279 5f73 6572 7620 3d20 7365   query_serv = se
+00008310: 6c66 2e67 6574 5175 6572 7953 6572 7669  lf.getQueryServi
+00008320: 6365 2829 0a20 2020 2020 2020 2063 7478  ce().        ctx
+00008330: 203d 2073 656c 662e 5345 5256 4943 455f   = self.SERVICE_
+00008340: 4f50 5453 2e63 6f70 7928 290a 2020 2020  OPTS.copy().    
+00008350: 2020 2020 6374 782e 7365 744f 6d65 726f      ctx.setOmero
+00008360: 4772 6f75 7028 2d31 290a 2020 2020 2020  Group(-1).      
+00008370: 2020 7020 3d20 6f6d 6572 6f2e 7379 732e    p = omero.sys.
+00008380: 5061 7261 6d65 7465 7273 2829 0a20 2020  Parameters().   
+00008390: 2020 2020 2070 2e6d 6170 203d 207b 7d0a       p.map = {}.
+000083a0: 2020 2020 2020 2020 702e 6d61 705b 2265          p.map["e
+000083b0: 6d61 696c 225d 203d 2072 7374 7269 6e67  mail"] = rstring
+000083c0: 2873 6d61 7274 5f73 7472 2865 6d61 696c  (smart_str(email
+000083d0: 2929 0a20 2020 2020 2020 2073 716c 203d  )).        sql =
+000083e0: 2022 7365 6c65 6374 2065 2066 726f 6d20   "select e from 
+000083f0: 4578 7065 7269 6d65 6e74 6572 2061 7320  Experimenter as 
+00008400: 6520 7768 6572 6520 652e 656d 6169 6c20  e where e.email 
+00008410: 3d20 283a 656d 6169 6c29 220a 2020 2020  = (:email)".    
+00008420: 2020 2020 6578 7073 203d 2071 7565 7279      exps = query
+00008430: 5f73 6572 762e 6669 6e64 416c 6c42 7951  _serv.findAllByQ
+00008440: 7565 7279 2873 716c 2c20 702c 2063 7478  uery(sql, p, ctx
+00008450: 290a 2020 2020 2020 2020 6966 206c 656e  ).        if len
+00008460: 2865 7870 7329 203e 2030 3a0a 2020 2020  (exps) > 0:.    
+00008470: 2020 2020 2020 2020 7265 7475 726e 2054          return T
+00008480: 7275 650a 2020 2020 2020 2020 656c 7365  rue.        else
+00008490: 3a0a 2020 2020 2020 2020 2020 2020 7265  :.            re
+000084a0: 7475 726e 2046 616c 7365 0a0a 2020 2020  turn False..    
+000084b0: 2323 2323 2323 2323 2323 2323 2323 2323  ################
+000084c0: 2323 2323 2323 2323 2323 2323 2323 2323  ################
+000084d0: 2323 2323 2323 2323 2323 2323 2323 0a20  ##############. 
+000084e0: 2020 2023 2020 2053 6574 7320 6d65 7468     #   Sets meth
+000084f0: 6f64 7320 2020 2020 2020 2020 2020 2020  ods             
+00008500: 2020 2020 2020 2020 2020 2020 2020 2323                ##
+00008510: 0a0a 2020 2020 6465 6620 6368 616e 6765  ..    def change
+00008520: 5573 6572 5061 7373 776f 7264 2873 656c  UserPassword(sel
+00008530: 662c 206f 6d65 4e61 6d65 2c20 7061 7373  f, omeName, pass
+00008540: 776f 7264 2c20 6d79 5f70 6173 7377 6f72  word, my_passwor
+00008550: 6429 3a0a 2020 2020 2020 2020 2222 220a  d):.        """.
+00008560: 2020 2020 2020 2020 4368 616e 6765 2074          Change t
+00008570: 6865 2070 6173 7377 6f72 6420 666f 7220  he password for 
+00008580: 7468 6520 6120 6769 7665 6e20 7573 6572  the a given user
+00008590: 2e0a 0a20 2020 2020 2020 2040 7061 7261  ...        @para
+000085a0: 6d20 6f6d 654e 616d 6520 2020 2020 2045  m omeName      E
+000085b0: 7870 6572 696d 6574 6e65 7220 6f6d 656e  xperimetner omen
+000085c0: 616d 650a 2020 2020 2020 2020 4074 7970  ame.        @typ
+000085d0: 6520 6f6d 654e 616d 6520 2020 2020 2020  e omeName       
+000085e0: 5374 7269 6e67 0a20 2020 2020 2020 2040  String.        @
+000085f0: 7061 7261 6d20 7061 7373 776f 7264 2020  param password  
+00008600: 2020 204d 7573 7420 7061 7373 2076 616c     Must pass val
+00008610: 6964 6174 696f 6e20 696e 2074 6865 2073  idation in the s
+00008620: 6563 7572 6974 7920 7375 622d 7379 7374  ecurity sub-syst
+00008630: 656d 2e0a 2020 2020 2020 2020 4074 7970  em..        @typ
+00008640: 6520 7061 7373 776f 7264 2020 2020 2020  e password      
+00008650: 5374 7269 6e67 0a20 2020 2020 2020 2040  String.        @
+00008660: 7061 7261 6d20 6d79 5f70 6173 7377 6f72  param my_passwor
+00008670: 6420 204d 7573 7420 7061 7373 2076 616c  d  Must pass val
+00008680: 6964 6174 696f 6e20 696e 2074 6865 2073  idation in the s
+00008690: 6563 7572 6974 7920 7375 622d 7379 7374  ecurity sub-syst
+000086a0: 656d 2e0a 2020 2020 2020 2020 4074 7970  em..        @typ
+000086b0: 6520 6d79 5f70 6173 7377 6f72 6420 2020  e my_password   
+000086c0: 5374 7269 6e67 0a20 2020 2020 2020 2022  String.        "
+000086d0: 2222 0a20 2020 2020 2020 2061 646d 696e  "".        admin
+000086e0: 5f73 6572 7620 3d20 7365 6c66 2e67 6574  _serv = self.get
+000086f0: 4164 6d69 6e53 6572 7669 6365 2829 0a20  AdminService(). 
+00008700: 2020 2020 2020 2073 656c 662e 632e 7366         self.c.sf
+00008710: 2e73 6574 5365 6375 7269 7479 5061 7373  .setSecurityPass
+00008720: 776f 7264 286d 795f 7061 7373 776f 7264  word(my_password
+00008730: 290a 2020 2020 2020 2020 6164 6d69 6e5f  ).        admin_
+00008740: 7365 7276 2e63 6861 6e67 6555 7365 7250  serv.changeUserP
+00008750: 6173 7377 6f72 6428 6f6d 654e 616d 652c  assword(omeName,
+00008760: 2072 7374 7269 6e67 2873 7472 2870 6173   rstring(str(pas
+00008770: 7377 6f72 6429 2929 0a0a 2020 2020 6465  sword)))..    de
+00008780: 6620 6368 616e 6765 4d79 5061 7373 776f  f changeMyPasswo
+00008790: 7264 2873 656c 662c 2070 6173 7377 6f72  rd(self, passwor
+000087a0: 642c 206f 6c64 5f70 6173 7377 6f72 6429  d, old_password)
+000087b0: 3a0a 2020 2020 2020 2020 2222 220a 2020  :.        """.  
+000087c0: 2020 2020 2020 4368 616e 6765 2074 6865        Change the
+000087d0: 2070 6173 7377 6f72 6420 666f 7220 7468   password for th
+000087e0: 6520 6375 7272 656e 7420 7573 6572 2062  e current user b
+000087f0: 7920 7061 7373 696e 6720 7468 6520 6f6c  y passing the ol
+00008800: 6420 7061 7373 776f 7264 2e0a 0a20 2020  d password...   
+00008810: 2020 2020 2040 7061 7261 6d20 7061 7373       @param pass
+00008820: 776f 7264 2020 2020 2020 2020 204d 7573  word         Mus
+00008830: 7420 7061 7373 2076 616c 6964 6174 696f  t pass validatio
+00008840: 6e20 696e 2074 6865 2073 6563 7572 6974  n in the securit
+00008850: 790a 2020 2020 2020 2020 2020 2020 2020  y.              
+00008860: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00008870: 2020 7375 622d 7379 7374 656d 2e0a 2020    sub-system..  
+00008880: 2020 2020 2020 4074 7970 6520 7061 7373        @type pass
+00008890: 776f 7264 2020 2020 2020 2020 2020 5374  word          St
+000088a0: 7269 6e67 0a20 2020 2020 2020 2040 7061  ring.        @pa
+000088b0: 7261 6d20 6f6c 645f 7061 7373 776f 7264  ram old_password
+000088c0: 2020 2020 204f 6c64 2070 6173 7377 6f72       Old passwor
+000088d0: 640a 2020 2020 2020 2020 4074 7970 6520  d.        @type 
+000088e0: 6f6c 645f 7061 7373 776f 7264 2020 2020  old_password    
+000088f0: 2020 5374 7269 6e67 0a20 2020 2020 2020    String.       
+00008900: 2040 7265 7475 726e 2020 2020 2020 2020   @return        
+00008910: 2020 2020 2020 2020 204e 6f6e 6520 6f72           None or
+00008920: 2065 7272 6f72 206d 6573 7361 6765 2069   error message i
+00008930: 6620 7061 7373 776f 7264 2063 6f75 6c64  f password could
+00008940: 206e 6f74 2062 650a 2020 2020 2020 2020   not be.        
+00008950: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00008960: 2020 2020 2020 2020 6368 616e 6765 640a          changed.
+00008970: 2020 2020 2020 2020 4072 7479 7065 2020          @rtype  
+00008980: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00008990: 5374 7269 6e67 0a20 2020 2020 2020 2022  String.        "
+000089a0: 2222 0a20 2020 2020 2020 2061 646d 696e  "".        admin
+000089b0: 5f73 6572 7620 3d20 7365 6c66 2e67 6574  _serv = self.get
+000089c0: 4164 6d69 6e53 6572 7669 6365 2829 0a20  AdminService(). 
+000089d0: 2020 2020 2020 2061 646d 696e 5f73 6572         admin_ser
+000089e0: 762e 6368 616e 6765 5061 7373 776f 7264  v.changePassword
+000089f0: 5769 7468 4f6c 6450 6173 7377 6f72 6428  WithOldPassword(
+00008a00: 0a20 2020 2020 2020 2020 2020 2072 7374  .            rst
+00008a10: 7269 6e67 2873 7472 286f 6c64 5f70 6173  ring(str(old_pas
+00008a20: 7377 6f72 6429 292c 2072 7374 7269 6e67  sword)), rstring
+00008a30: 2873 7472 2870 6173 7377 6f72 6429 290a  (str(password)).
+00008a40: 2020 2020 2020 2020 290a 0a20 2020 2064          )..    d
+00008a50: 6566 2063 7265 6174 6545 7870 6572 696d  ef createExperim
+00008a60: 656e 7465 7228 0a20 2020 2020 2020 2073  enter(.        s
+00008a70: 656c 662c 0a20 2020 2020 2020 206f 6d65  elf,.        ome
+00008a80: 4e61 6d65 2c0a 2020 2020 2020 2020 6669  Name,.        fi
+00008a90: 7273 744e 616d 652c 0a20 2020 2020 2020  rstName,.       
+00008aa0: 206c 6173 744e 616d 652c 0a20 2020 2020   lastName,.     
+00008ab0: 2020 2065 6d61 696c 2c0a 2020 2020 2020     email,.      
+00008ac0: 2020 6973 4164 6d69 6e2c 0a20 2020 2020    isAdmin,.     
+00008ad0: 2020 2069 7341 6374 6976 652c 0a20 2020     isActive,.   
+00008ae0: 2020 2020 2064 6566 6175 6c74 4772 6f75       defaultGrou
+00008af0: 7049 642c 0a20 2020 2020 2020 206f 7468  pId,.        oth
+00008b00: 6572 4772 6f75 7049 6473 2c0a 2020 2020  erGroupIds,.    
+00008b10: 2020 2020 7061 7373 776f 7264 2c0a 2020      password,.  
+00008b20: 2020 2020 2020 7072 6976 696c 6567 6573        privileges
+00008b30: 3d4e 6f6e 652c 0a20 2020 2020 2020 206d  =None,.        m
+00008b40: 6964 646c 654e 616d 653d 4e6f 6e65 2c0a  iddleName=None,.
+00008b50: 2020 2020 2020 2020 696e 7374 6974 7574          institut
+00008b60: 696f 6e3d 4e6f 6e65 2c0a 2020 2020 293a  ion=None,.    ):
+00008b70: 0a20 2020 2020 2020 2022 2222 0a20 2020  .        """.   
+00008b80: 2020 2020 2043 7265 6174 6520 616e 6420       Create and 
+00008b90: 7265 7475 726e 2061 206e 6577 2075 7365  return a new use
+00008ba0: 7220 696e 2074 6865 2067 6976 656e 2067  r in the given g
+00008bb0: 726f 7570 7320 7769 7468 2070 6173 7377  roups with passw
+00008bc0: 6f72 642e 0a20 2020 2020 2020 2040 7061  ord..        @pa
+00008bd0: 7261 6d20 6f6d 654e 616d 6520 4120 6e65  ram omeName A ne
+00008be0: 7720 7573 6572 6e61 6d65 2e0a 2020 2020  w username..    
+00008bf0: 2020 2020 4074 7970 6520 6f6d 654e 616d      @type omeNam
+00008c00: 6520 5374 7269 6e67 0a20 2020 2020 2020  e String.       
+00008c10: 2040 7061 7261 6d20 6669 7273 744e 616d   @param firstNam
+00008c20: 6520 4120 6e65 7720 6669 7273 7420 6e61  e A new first na
+00008c30: 6d65 2e0a 2020 2020 2020 2020 4074 7970  me..        @typ
+00008c40: 6520 6669 7273 744e 616d 6520 5374 7269  e firstName Stri
+00008c50: 6e67 0a20 2020 2020 2020 2040 7061 7261  ng.        @para
+00008c60: 6d20 6c61 7374 4e61 6d65 2041 206e 6577  m lastName A new
+00008c70: 206c 6173 7420 6e61 6d65 2e0a 2020 2020   last name..    
+00008c80: 2020 2020 4074 7970 6520 6c61 7374 4e61      @type lastNa
+00008c90: 6d65 2053 7472 696e 670a 2020 2020 2020  me String.      
+00008ca0: 2020 4070 6172 616d 2065 6d61 696c 2041    @param email A
+00008cb0: 206e 6577 2065 6d61 696c 2e0a 2020 2020   new email..    
+00008cc0: 2020 2020 4074 7970 6520 656d 6169 6c20      @type email 
+00008cd0: 5374 7269 6e67 0a20 2020 2020 2020 2040  String.        @
+00008ce0: 7061 7261 6d20 6973 4164 6d69 6e20 4966  param isAdmin If
+00008cf0: 2054 7275 652c 206e 6577 2075 7365 7220   True, new user 
+00008d00: 6973 2061 6e20 4164 6d69 6e20 6f72 2052  is an Admin or R
+00008d10: 6573 7472 6963 7465 6420 4164 6d69 6e2e  estricted Admin.
+00008d20: 0a20 2020 2020 2020 2040 7479 7065 2069  .        @type i
+00008d30: 7341 646d 696e 2042 6f6f 6c65 616e 0a20  sAdmin Boolean. 
+00008d40: 2020 2020 2020 2040 7061 7261 6d20 6973         @param is
+00008d50: 4163 7469 7665 2041 6374 6976 6520 7573  Active Active us
+00008d60: 6572 2028 7573 6572 2063 616e 206c 6f67  er (user can log
+00008d70: 2069 6e29 2e0a 2020 2020 2020 2020 4074   in)..        @t
+00008d80: 7970 6520 6973 4163 7469 7665 2042 6f6f  ype isActive Boo
+00008d90: 6c65 616e 0a20 2020 2020 2020 2040 7061  lean.        @pa
+00008da0: 7261 6d20 6465 6661 756c 7447 726f 7570  ram defaultGroup
+00008db0: 4964 2044 6566 6175 6c74 2061 6374 6976  Id Default activ
+00008dc0: 6520 6772 6f75 7020 4944 2e0a 2020 2020  e group ID..    
+00008dd0: 2020 2020 4074 7970 6520 6465 6661 756c      @type defaul
+00008de0: 7447 726f 7570 4964 2045 7870 6572 696d  tGroupId Experim
+00008df0: 656e 7465 7247 726f 7570 490a 2020 2020  enterGroupI.    
+00008e00: 2020 2020 4070 6172 616d 206f 7468 6572      @param other
+00008e10: 4772 6f75 7049 6473 204c 6973 7420 6f66  GroupIds List of
+00008e20: 2047 726f 7570 2049 4473 2e20 4361 6e20   Group IDs. Can 
+00008e30: 6265 2065 6d70 7479 2e0a 2020 2020 2020  be empty..      
+00008e40: 2020 4074 7970 6520 6f74 6865 7247 726f    @type otherGro
+00008e50: 7570 4964 7320 4c7b 4578 7065 7269 6d65  upIds L{Experime
+00008e60: 6e74 6572 4772 6f75 7049 7d0a 2020 2020  nterGroupI}.    
+00008e70: 2020 2020 4070 6172 616d 2070 6173 7377      @param passw
+00008e80: 6f72 6420 4d75 7374 2070 6173 7320 7661  ord Must pass va
+00008e90: 6c69 6461 7469 6f6e 2069 6e20 7468 6520  lidation in the 
+00008ea0: 7365 6375 7269 7479 2073 7562 2d73 7973  security sub-sys
+00008eb0: 7465 6d2e 0a20 2020 2020 2020 2040 7479  tem..        @ty
+00008ec0: 7065 2070 6173 7377 6f72 6420 5374 7269  pe password Stri
+00008ed0: 6e67 0a20 2020 2020 2020 2040 7061 7261  ng.        @para
+00008ee0: 6d20 7072 6976 696c 6567 6573 2020 204c  m privileges   L
+00008ef0: 6973 7420 6f66 2041 646d 696e 2050 7269  ist of Admin Pri
+00008f00: 7669 6c65 6765 732e 2049 676e 6f72 6564  vileges. Ignored
+00008f10: 2069 6620 6973 4164 6d69 6e20 4661 6c73   if isAdmin Fals
+00008f20: 652e 0a20 2020 2020 2020 2040 7479 7065  e..        @type
+00008f30: 2070 7269 7669 6c65 6765 7320 2020 204c   privileges    L
+00008f40: 6973 7420 6f66 2053 7472 696e 6773 0a20  ist of Strings. 
+00008f50: 2020 2020 2020 2040 7061 7261 6d20 6d69         @param mi
+00008f60: 6464 6c65 4e61 6d65 2041 206d 6964 646c  ddleName A middl
+00008f70: 6520 6e61 6d65 2e0a 2020 2020 2020 2020  e name..        
+00008f80: 4074 7970 6520 6d69 6464 6c65 4e61 6d65  @type middleName
+00008f90: 2053 7472 696e 670a 2020 2020 2020 2020   String.        
+00008fa0: 4070 6172 616d 2069 6e73 7469 7475 7469  @param instituti
+00008fb0: 6f6e 2041 6e20 696e 7374 6974 7574 696f  on An institutio
+00008fc0: 6e2e 0a20 2020 2020 2020 2040 7479 7065  n..        @type
+00008fd0: 2069 6e73 7469 7475 7469 6f6e 2053 7472   institution Str
+00008fe0: 696e 670a 2020 2020 2020 2020 4072 6574  ing.        @ret
+00008ff0: 7572 6e20 4944 206f 6620 7468 6520 6e65  urn ID of the ne
+00009000: 776c 7920 6372 6561 7465 6420 4578 7065  wly created Expe
+00009010: 7269 6d65 6e74 6572 204e 6f74 206e 756c  rimenter Not nul
+00009020: 6c2e 0a20 2020 2020 2020 2040 7274 7970  l..        @rtyp
+00009030: 6520 4c6f 6e67 0a20 2020 2020 2020 2022  e Long.        "
+00009040: 2222 0a20 2020 2020 2020 2065 7870 6572  "".        exper
+00009050: 696d 656e 7465 7220 3d20 4578 7065 7269  imenter = Experi
+00009060: 6d65 6e74 6572 4928 290a 2020 2020 2020  menterI().      
+00009070: 2020 6578 7065 7269 6d65 6e74 6572 2e6f    experimenter.o
+00009080: 6d65 4e61 6d65 203d 2072 7374 7269 6e67  meName = rstring
+00009090: 2873 7472 286f 6d65 4e61 6d65 2929 0a20  (str(omeName)). 
+000090a0: 2020 2020 2020 2065 7870 6572 696d 656e         experimen
+000090b0: 7465 722e 6669 7273 744e 616d 6520 3d20  ter.firstName = 
+000090c0: 7273 7472 696e 6728 7374 7228 6669 7273  rstring(str(firs
+000090d0: 744e 616d 6529 290a 2020 2020 2020 2020  tName)).        
+000090e0: 6578 7065 7269 6d65 6e74 6572 2e6d 6964  experimenter.mid
+000090f0: 646c 654e 616d 6520 3d20 280a 2020 2020  dleName = (.    
+00009100: 2020 2020 2020 2020 6d69 6464 6c65 4e61          middleNa
+00009110: 6d65 2069 7320 6e6f 7420 4e6f 6e65 2061  me is not None a
+00009120: 6e64 2072 7374 7269 6e67 2873 7472 286d  nd rstring(str(m
+00009130: 6964 646c 654e 616d 6529 2920 6f72 204e  iddleName)) or N
+00009140: 6f6e 650a 2020 2020 2020 2020 290a 2020  one.        ).  
+00009150: 2020 2020 2020 6578 7065 7269 6d65 6e74        experiment
+00009160: 6572 2e6c 6173 744e 616d 6520 3d20 7273  er.lastName = rs
+00009170: 7472 696e 6728 7374 7228 6c61 7374 4e61  tring(str(lastNa
+00009180: 6d65 2929 0a20 2020 2020 2020 2065 7870  me)).        exp
+00009190: 6572 696d 656e 7465 722e 656d 6169 6c20  erimenter.email 
+000091a0: 3d20 7273 7472 696e 6728 7374 7228 656d  = rstring(str(em
+000091b0: 6169 6c29 290a 2020 2020 2020 2020 6578  ail)).        ex
+000091c0: 7065 7269 6d65 6e74 6572 2e69 6e73 7469  perimenter.insti
+000091d0: 7475 7469 6f6e 203d 2028 0a20 2020 2020  tution = (.     
+000091e0: 2020 2020 2020 2028 696e 7374 6974 7574         (institut
+000091f0: 696f 6e20 213d 2022 2220 616e 6420 696e  ion != "" and in
+00009200: 7374 6974 7574 696f 6e20 6973 206e 6f74  stitution is not
+00009210: 204e 6f6e 6529 0a20 2020 2020 2020 2020   None).         
+00009220: 2020 2061 6e64 2072 7374 7269 6e67 2873     and rstring(s
+00009230: 7472 2869 6e73 7469 7475 7469 6f6e 2929  tr(institution))
+00009240: 0a20 2020 2020 2020 2020 2020 206f 7220  .            or 
+00009250: 4e6f 6e65 0a20 2020 2020 2020 2029 0a20  None.        ). 
+00009260: 2020 2020 2020 2065 7870 6572 696d 656e         experimen
+00009270: 7465 722e 6c64 6170 203d 2072 626f 6f6c  ter.ldap = rbool
+00009280: 2846 616c 7365 290a 0a20 2020 2020 2020  (False)..       
+00009290: 2061 646d 696e 5f73 6572 7620 3d20 7365   admin_serv = se
+000092a0: 6c66 2e67 6574 4164 6d69 6e53 6572 7669  lf.getAdminServi
+000092b0: 6365 2829 0a20 2020 2020 2020 206c 6973  ce().        lis
+000092c0: 744f 6647 726f 7570 7320 3d20 6c69 7374  tOfGroups = list
+000092d0: 2829 0a20 2020 2020 2020 2023 2073 7973  ().        # sys
+000092e0: 7465 6d20 6772 6f75 700a 2020 2020 2020  tem group.      
+000092f0: 2020 6966 2069 7341 646d 696e 3a0a 2020    if isAdmin:.  
+00009300: 2020 2020 2020 2020 2020 6769 6420 3d20            gid = 
+00009310: 6164 6d69 6e5f 7365 7276 2e67 6574 5365  admin_serv.getSe
+00009320: 6375 7269 7479 526f 6c65 7328 292e 7379  curityRoles().sy
+00009330: 7374 656d 4772 6f75 7049 640a 2020 2020  stemGroupId.    
+00009340: 2020 2020 2020 2020 6c69 7374 4f66 4772          listOfGr
+00009350: 6f75 7073 2e61 7070 656e 6428 4578 7065  oups.append(Expe
+00009360: 7269 6d65 6e74 6572 4772 6f75 7049 2867  rimenterGroupI(g
+00009370: 6964 2c20 4661 6c73 6529 290a 0a20 2020  id, False))..   
+00009380: 2020 2020 2023 2075 7365 7220 6772 6f75       # user grou
+00009390: 700a 2020 2020 2020 2020 6966 2069 7341  p.        if isA
+000093a0: 6374 6976 653a 0a20 2020 2020 2020 2020  ctive:.         
+000093b0: 2020 2067 6964 203d 2061 646d 696e 5f73     gid = admin_s
+000093c0: 6572 762e 6765 7453 6563 7572 6974 7952  erv.getSecurityR
+000093d0: 6f6c 6573 2829 2e75 7365 7247 726f 7570  oles().userGroup
+000093e0: 4964 0a20 2020 2020 2020 2020 2020 206c  Id.            l
+000093f0: 6973 744f 6647 726f 7570 732e 6170 7065  istOfGroups.appe
+00009400: 6e64 2845 7870 6572 696d 656e 7465 7247  nd(ExperimenterG
+00009410: 726f 7570 4928 6769 642c 2046 616c 7365  roupI(gid, False
+00009420: 2929 0a0a 2020 2020 2020 2020 666f 7220  ))..        for 
+00009430: 6920 696e 206f 7468 6572 4772 6f75 7049  i in otherGroupI
+00009440: 6473 3a0a 2020 2020 2020 2020 2020 2020  ds:.            
+00009450: 6c69 7374 4f66 4772 6f75 7073 2e61 7070  listOfGroups.app
+00009460: 656e 6428 4578 7065 7269 6d65 6e74 6572  end(Experimenter
+00009470: 4772 6f75 7049 2869 2c20 4661 6c73 6529  GroupI(i, False)
+00009480: 290a 0a20 2020 2020 2020 2064 6566 6175  )..        defau
+00009490: 6c74 4772 6f75 7020 3d20 4578 7065 7269  ltGroup = Experi
+000094a0: 6d65 6e74 6572 4772 6f75 7049 2864 6566  menterGroupI(def
+000094b0: 6175 6c74 4772 6f75 7049 642c 2046 616c  aultGroupId, Fal
+000094c0: 7365 290a 0a20 2020 2020 2020 2069 6620  se)..        if 
+000094d0: 6973 4164 6d69 6e3a 0a20 2020 2020 2020  isAdmin:.       
+000094e0: 2020 2020 2069 6620 7072 6976 696c 6567       if privileg
+000094f0: 6573 2069 7320 4e6f 6e65 3a0a 2020 2020  es is None:.    
+00009500: 2020 2020 2020 2020 2020 2020 7072 6976              priv
+00009510: 696c 6567 6573 203d 205b 5d0a 0a20 2020  ileges = []..   
+00009520: 2020 2020 2020 2020 2069 6620 6465 6661           if defa
+00009530: 756c 7447 726f 7570 4964 206e 6f74 2069  ultGroupId not i
+00009540: 6e20 6f74 6865 7247 726f 7570 4964 733a  n otherGroupIds:
+00009550: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00009560: 206c 6973 744f 6647 726f 7570 732e 6170   listOfGroups.ap
+00009570: 7065 6e64 2845 7870 6572 696d 656e 7465  pend(Experimente
+00009580: 7247 726f 7570 4928 6465 6661 756c 7447  rGroupI(defaultG
+00009590: 726f 7570 4964 2c20 4661 6c73 6529 290a  roupId, False)).
+000095a0: 0a20 2020 2020 2020 2020 2020 2061 646d  .            adm
+000095b0: 696e 5f70 7269 7669 6c65 6765 7320 3d20  in_privileges = 
+000095c0: 5b5d 0a20 2020 2020 2020 2020 2020 2066  [].            f
+000095d0: 6f72 2070 2069 6e20 7072 6976 696c 6567  or p in privileg
+000095e0: 6573 3a0a 2020 2020 2020 2020 2020 2020  es:.            
+000095f0: 2020 2020 7072 6976 696c 6567 6520 3d20      privilege = 
+00009600: 6f6d 6572 6f2e 6d6f 6465 6c2e 4164 6d69  omero.model.Admi
+00009610: 6e50 7269 7669 6c65 6765 4928 290a 2020  nPrivilegeI().  
+00009620: 2020 2020 2020 2020 2020 2020 2020 7072                pr
+00009630: 6976 696c 6567 652e 7365 7456 616c 7565  ivilege.setValue
+00009640: 2872 7374 7269 6e67 2870 2929 0a20 2020  (rstring(p)).   
+00009650: 2020 2020 2020 2020 2020 2020 2061 646d               adm
+00009660: 696e 5f70 7269 7669 6c65 6765 732e 6170  in_privileges.ap
+00009670: 7065 6e64 2870 7269 7669 6c65 6765 290a  pend(privilege).
+00009680: 2020 2020 2020 2020 2020 2020 6578 705f              exp_
+00009690: 6964 203d 2061 646d 696e 5f73 6572 762e  id = admin_serv.
+000096a0: 6372 6561 7465 5265 7374 7269 6374 6564  createRestricted
+000096b0: 5379 7374 656d 5573 6572 5769 7468 5061  SystemUserWithPa
+000096c0: 7373 776f 7264 280a 2020 2020 2020 2020  ssword(.        
+000096d0: 2020 2020 2020 2020 6578 7065 7269 6d65          experime
+000096e0: 6e74 6572 2c20 6164 6d69 6e5f 7072 6976  nter, admin_priv
+000096f0: 696c 6567 6573 2c20 7273 7472 696e 6728  ileges, rstring(
+00009700: 7061 7373 776f 7264 290a 2020 2020 2020  password).      
+00009710: 2020 2020 2020 290a 2020 2020 2020 2020        ).        
+00009720: 2020 2020 6578 7020 3d20 4578 7065 7269      exp = Experi
+00009730: 6d65 6e74 6572 4928 6578 705f 6964 2c20  menterI(exp_id, 
+00009740: 4661 6c73 6529 0a0a 2020 2020 2020 2020  False)..        
+00009750: 2020 2020 6966 2022 4d6f 6469 6679 4772      if "ModifyGr
+00009760: 6f75 704d 656d 6265 7273 6869 7022 2069  oupMembership" i
+00009770: 6e20 7365 6c66 2e67 6574 4375 7272 656e  n self.getCurren
+00009780: 7441 646d 696e 5072 6976 696c 6567 6573  tAdminPrivileges
+00009790: 2829 3a0a 2020 2020 2020 2020 2020 2020  ():.            
+000097a0: 2020 2020 6164 6d69 6e5f 7365 7276 2e61      admin_serv.a
+000097b0: 6464 4772 6f75 7073 2865 7870 2c20 6c69  ddGroups(exp, li
+000097c0: 7374 4f66 4772 6f75 7073 290a 2020 2020  stOfGroups).    
+000097d0: 2020 2020 2020 2020 2020 2020 6164 6d69              admi
+000097e0: 6e5f 7365 7276 2e73 6574 4465 6661 756c  n_serv.setDefaul
+000097f0: 7447 726f 7570 2865 7870 2c20 6465 6661  tGroup(exp, defa
+00009800: 756c 7447 726f 7570 290a 0a20 2020 2020  ultGroup)..     
+00009810: 2020 2065 6c73 653a 0a20 2020 2020 2020     else:.       
+00009820: 2020 2020 2023 2054 6869 7320 7769 6c6c       # This will
+00009830: 2068 616e 646c 6520 656d 7074 7920 6c69   handle empty li
+00009840: 7374 4f66 4772 6f75 7073 0a20 2020 2020  stOfGroups.     
+00009850: 2020 2020 2020 2065 7870 203d 2061 646d         exp = adm
+00009860: 696e 5f73 6572 762e 6372 6561 7465 4578  in_serv.createEx
+00009870: 7065 7269 6d65 6e74 6572 5769 7468 5061  perimenterWithPa
+00009880: 7373 776f 7264 280a 2020 2020 2020 2020  ssword(.        
+00009890: 2020 2020 2020 2020 6578 7065 7269 6d65          experime
+000098a0: 6e74 6572 2c20 7273 7472 696e 6728 7061  nter, rstring(pa
+000098b0: 7373 776f 7264 292c 2064 6566 6175 6c74  ssword), default
+000098c0: 4772 6f75 702c 206c 6973 744f 6647 726f  Group, listOfGro
+000098d0: 7570 730a 2020 2020 2020 2020 2020 2020  ups.            
+000098e0: 290a 0a20 2020 2020 2020 2072 6574 7572  )..        retur
+000098f0: 6e20 6578 700a 0a20 2020 2064 6566 2075  n exp..    def u
+00009900: 7064 6174 6545 7870 6572 696d 656e 7465  pdateExperimente
+00009910: 7228 0a20 2020 2020 2020 2073 656c 662c  r(.        self,
+00009920: 0a20 2020 2020 2020 2065 7870 6572 696d  .        experim
+00009930: 656e 7465 722c 0a20 2020 2020 2020 206f  enter,.        o
+00009940: 6d65 4e61 6d65 2c0a 2020 2020 2020 2020  meName,.        
+00009950: 6669 7273 744e 616d 652c 0a20 2020 2020  firstName,.     
+00009960: 2020 206c 6173 744e 616d 652c 0a20 2020     lastName,.   
+00009970: 2020 2020 2065 6d61 696c 2c0a 2020 2020       email,.    
+00009980: 2020 2020 6973 4164 6d69 6e2c 0a20 2020      isAdmin,.   
+00009990: 2020 2020 2069 7341 6374 6976 652c 0a20       isActive,. 
+000099a0: 2020 2020 2020 2064 6566 6175 6c74 4772         defaultGr
+000099b0: 6f75 702c 0a20 2020 2020 2020 206f 7468  oup,.        oth
+000099c0: 6572 4772 6f75 7073 2c0a 2020 2020 2020  erGroups,.      
+000099d0: 2020 6d69 6464 6c65 4e61 6d65 3d4e 6f6e    middleName=Non
+000099e0: 652c 0a20 2020 2020 2020 2069 6e73 7469  e,.        insti
+000099f0: 7475 7469 6f6e 3d4e 6f6e 652c 0a20 2020  tution=None,.   
+00009a00: 2029 3a0a 2020 2020 2020 2020 2222 220a   ):.        """.
+00009a10: 2020 2020 2020 2020 5570 6461 7465 2061          Update a
+00009a20: 6e20 6578 6973 7469 6e67 2075 7365 7220  n existing user 
+00009a30: 696e 636c 7564 696e 6720 6772 6f75 7073  including groups
+00009a40: 2075 7365 7220 6973 2061 206d 656d 6265   user is a membe
+00009a50: 7220 6f66 2e0a 2020 2020 2020 2020 5061  r of..        Pa
+00009a60: 7373 776f 7264 2063 616e 6e6f 7420 6265  ssword cannot be
+00009a70: 2063 6861 6e67 6564 2062 7920 6361 6c6c   changed by call
+00009a80: 696e 6720 7468 6174 206d 6574 686f 642e  ing that method.
+00009a90: 0a20 2020 2020 2020 2040 7061 7261 6d20  .        @param 
+00009aa0: 6578 7065 7269 6d65 6e74 6572 2041 6e20  experimenter An 
+00009ab0: 6578 6973 7469 6e67 2045 7870 6572 696d  existing Experim
+00009ac0: 656e 7465 7220 696e 7374 616e 6365 2e0a  enter instance..
+00009ad0: 2020 2020 2020 2020 4074 7970 6520 6578          @type ex
+00009ae0: 7065 7269 6d65 6e74 6572 2045 7870 6572  perimenter Exper
+00009af0: 696d 656e 7465 7257 7261 7070 6572 0a20  imenterWrapper. 
+00009b00: 2020 2020 2020 2040 7061 7261 6d20 6f6d         @param om
+00009b10: 654e 616d 6520 4120 6e65 7720 7573 6572  eName A new user
+00009b20: 6e61 6d65 2e0a 2020 2020 2020 2020 4074  name..        @t
+00009b30: 7970 6520 6f6d 654e 616d 6520 5374 7269  ype omeName Stri
+00009b40: 6e67 0a20 2020 2020 2020 2040 7061 7261  ng.        @para
+00009b50: 6d20 6669 7273 744e 616d 6520 4120 6e65  m firstName A ne
+00009b60: 7720 6669 7273 7420 6e61 6d65 2e0a 2020  w first name..  
+00009b70: 2020 2020 2020 4074 7970 6520 6669 7273        @type firs
+00009b80: 744e 616d 6520 5374 7269 6e67 0a20 2020  tName String.   
+00009b90: 2020 2020 2040 7061 7261 6d20 6c61 7374       @param last
+00009ba0: 4e61 6d65 2041 206e 6577 206c 6173 7420  Name A new last 
+00009bb0: 6e61 6d65 2e0a 2020 2020 2020 2020 4074  name..        @t
+00009bc0: 7970 6520 6c61 7374 4e61 6d65 2053 7472  ype lastName Str
+00009bd0: 696e 670a 2020 2020 2020 2020 4070 6172  ing.        @par
+00009be0: 616d 2065 6d61 696c 2041 206e 6577 2065  am email A new e
+00009bf0: 6d61 696c 2e0a 2020 2020 2020 2020 4074  mail..        @t
+00009c00: 7970 6520 656d 6169 6c20 5374 7269 6e67  ype email String
+00009c10: 0a20 2020 2020 2020 2040 7061 7261 6d20  .        @param 
+00009c20: 6973 4164 6d69 6e20 416e 2041 646d 696e  isAdmin An Admin
+00009c30: 2070 6572 6d69 7373 696f 6e2e 0a20 2020   permission..   
+00009c40: 2020 2020 2040 7479 7065 2069 7341 646d       @type isAdm
+00009c50: 696e 2042 6f6f 6c65 616e 0a20 2020 2020  in Boolean.     
+00009c60: 2020 2040 7061 7261 6d20 6973 4163 7469     @param isActi
+00009c70: 7665 2041 6374 6976 6520 7573 6572 2028  ve Active user (
+00009c80: 7573 6572 2063 616e 206c 6f67 2069 6e29  user can log in)
+00009c90: 2e0a 2020 2020 2020 2020 4074 7970 6520  ..        @type 
+00009ca0: 6973 4163 7469 7665 2042 6f6f 6c65 616e  isActive Boolean
+00009cb0: 0a20 2020 2020 2020 2040 7061 7261 6d20  .        @param 
+00009cc0: 6465 6661 756c 7447 726f 7570 2049 6e73  defaultGroup Ins
+00009cd0: 7461 6e63 6520 6f66 2045 7870 6572 696d  tance of Experim
+00009ce0: 656e 7465 7247 726f 7570 2073 656c 6563  enterGroup selec
+00009cf0: 7465 6420 6173 2061 2066 6972 7374 0a20  ted as a first. 
+00009d00: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00009d10: 2020 2020 2020 2020 2020 2061 6374 6976             activ
+00009d20: 6520 6772 6f75 702e 0a20 2020 2020 2020  e group..       
+00009d30: 2040 7479 7065 2064 6566 6175 6c74 4772   @type defaultGr
+00009d40: 6f75 7020 4578 7065 7269 6d65 6e74 6572  oup Experimenter
+00009d50: 4772 6f75 7049 0a20 2020 2020 2020 2040  GroupI.        @
+00009d60: 7061 7261 6d20 6f74 6865 7247 726f 7570  param otherGroup
+00009d70: 7320 4c69 7374 206f 6620 4578 7065 7269  s List of Experi
+00009d80: 6d65 6e74 6572 4772 6f75 7020 696e 7374  menterGroup inst
+00009d90: 616e 6365 732e 2043 616e 2062 6520 656d  ances. Can be em
+00009da0: 7074 792e 0a20 2020 2020 2020 2040 7479  pty..        @ty
+00009db0: 7065 206f 7468 6572 4772 6f75 7073 204c  pe otherGroups L
+00009dc0: 7b45 7870 6572 696d 656e 7465 7247 726f  {ExperimenterGro
+00009dd0: 7570 497d 0a20 2020 2020 2020 2040 7061  upI}.        @pa
+00009de0: 7261 6d20 6d69 6464 6c65 4e61 6d65 2041  ram middleName A
+00009df0: 206d 6964 646c 6520 6e61 6d65 2e0a 2020   middle name..  
+00009e00: 2020 2020 2020 4074 7970 6520 6d69 6464        @type midd
+00009e10: 6c65 4e61 6d65 2053 7472 696e 670a 2020  leName String.  
+00009e20: 2020 2020 2020 4070 6172 616d 2069 6e73        @param ins
+00009e30: 7469 7475 7469 6f6e 2041 6e20 696e 7374  titution An inst
+00009e40: 6974 7574 696f 6e2e 0a20 2020 2020 2020  itution..       
+00009e50: 2040 7479 7065 2069 6e73 7469 7475 7469   @type instituti
+00009e60: 6f6e 2053 7472 696e 670a 2020 2020 2020  on String.      
+00009e70: 2020 2222 220a 2020 2020 2020 2020 7570    """.        up
+00009e80: 5f65 7870 203d 2065 7870 6572 696d 656e  _exp = experimen
+00009e90: 7465 722e 5f6f 626a 0a20 2020 2020 2020  ter._obj.       
+00009ea0: 2075 705f 6578 702e 6f6d 654e 616d 6520   up_exp.omeName 
+00009eb0: 3d20 7273 7472 696e 6728 7374 7228 6f6d  = rstring(str(om
+00009ec0: 654e 616d 6529 290a 2020 2020 2020 2020  eName)).        
+00009ed0: 7570 5f65 7870 2e66 6972 7374 4e61 6d65  up_exp.firstName
+00009ee0: 203d 2072 7374 7269 6e67 2873 7472 2866   = rstring(str(f
+00009ef0: 6972 7374 4e61 6d65 2929 0a20 2020 2020  irstName)).     
+00009f00: 2020 2075 705f 6578 702e 6d69 6464 6c65     up_exp.middle
+00009f10: 4e61 6d65 203d 206d 6964 646c 654e 616d  Name = middleNam
+00009f20: 6520 6973 206e 6f74 204e 6f6e 6520 616e  e is not None an
+00009f30: 6420 7273 7472 696e 6728 7374 7228 6d69  d rstring(str(mi
+00009f40: 6464 6c65 4e61 6d65 2929 206f 7220 4e6f  ddleName)) or No
+00009f50: 6e65 0a20 2020 2020 2020 2075 705f 6578  ne.        up_ex
+00009f60: 702e 6c61 7374 4e61 6d65 203d 2072 7374  p.lastName = rst
+00009f70: 7269 6e67 2873 7472 286c 6173 744e 616d  ring(str(lastNam
+00009f80: 6529 290a 2020 2020 2020 2020 7570 5f65  e)).        up_e
+00009f90: 7870 2e65 6d61 696c 203d 2072 7374 7269  xp.email = rstri
+00009fa0: 6e67 2873 7472 2865 6d61 696c 2929 0a20  ng(str(email)). 
+00009fb0: 2020 2020 2020 2075 705f 6578 702e 696e         up_exp.in
+00009fc0: 7374 6974 7574 696f 6e20 3d20 280a 2020  stitution = (.  
+00009fd0: 2020 2020 2020 2020 2020 2869 6e73 7469            (insti
+00009fe0: 7475 7469 6f6e 2021 3d20 2222 2061 6e64  tution != "" and
+00009ff0: 2069 6e73 7469 7475 7469 6f6e 2069 7320   institution is 
+0000a000: 6e6f 7420 4e6f 6e65 290a 2020 2020 2020  not None).      
+0000a010: 2020 2020 2020 616e 6420 7273 7472 696e        and rstrin
+0000a020: 6728 7374 7228 696e 7374 6974 7574 696f  g(str(institutio
+0000a030: 6e29 290a 2020 2020 2020 2020 2020 2020  n)).            
+0000a040: 6f72 204e 6f6e 650a 2020 2020 2020 2020  or None.        
+0000a050: 290a 0a20 2020 2020 2020 2023 206f 6c64  )..        # old
+0000a060: 206c 6973 7420 6f66 2067 726f 7570 730a   list of groups.
+0000a070: 2020 2020 2020 2020 6f6c 645f 6772 6f75          old_grou
+0000a080: 7073 203d 206c 6973 7428 290a 2020 2020  ps = list().    
+0000a090: 2020 2020 666f 7220 6f67 7220 696e 2075      for ogr in u
+0000a0a0: 705f 6578 702e 636f 7079 4772 6f75 7045  p_exp.copyGroupE
+0000a0b0: 7870 6572 696d 656e 7465 724d 6170 2829  xperimenterMap()
+0000a0c0: 3a0a 2020 2020 2020 2020 2020 2020 6966  :.            if
+0000a0d0: 206f 6772 2069 7320 4e6f 6e65 3a0a 2020   ogr is None:.  
+0000a0e0: 2020 2020 2020 2020 2020 2020 2020 636f                co
+0000a0f0: 6e74 696e 7565 0a20 2020 2020 2020 2020  ntinue.         
+0000a100: 2020 206f 6c64 5f67 726f 7570 732e 6170     old_groups.ap
+0000a110: 7065 6e64 286f 6772 2e70 6172 656e 7429  pend(ogr.parent)
+0000a120: 0a0a 2020 2020 2020 2020 2320 6372 6561  ..        # crea
+0000a130: 7465 206c 6973 7420 6f66 206e 6577 2067  te list of new g
+0000a140: 726f 7570 730a 2020 2020 2020 2020 6e65  roups.        ne
+0000a150: 775f 6772 6f75 7073 203d 206c 6973 7428  w_groups = list(
+0000a160: 290a 0a20 2020 2020 2020 2023 2064 6566  )..        # def
+0000a170: 6175 6c74 2067 726f 7570 0a20 2020 2020  ault group.     
+0000a180: 2020 206e 6577 5f67 726f 7570 732e 6170     new_groups.ap
+0000a190: 7065 6e64 2864 6566 6175 6c74 4772 6f75  pend(defaultGrou
+0000a1a0: 702e 5f6f 626a 290a 0a20 2020 2020 2020  p._obj)..       
+0000a1b0: 2023 2073 7973 7465 6d20 6772 6f75 700a   # system group.
+0000a1c0: 2020 2020 2020 2020 6966 2069 7341 646d          if isAdm
+0000a1d0: 696e 3a0a 2020 2020 2020 2020 2020 2020  in:.            
+0000a1e0: 6720 3d20 7365 6c66 2e67 6574 4f62 6a65  g = self.getObje
+0000a1f0: 6374 2822 4578 7065 7269 6d65 6e74 6572  ct("Experimenter
+0000a200: 4772 6f75 7022 2c20 6174 7472 6962 7574  Group", attribut
+0000a210: 6573 3d7b 226e 616d 6522 3a20 2273 7973  es={"name": "sys
+0000a220: 7465 6d22 7d29 0a20 2020 2020 2020 2020  tem"}).         
+0000a230: 2020 2069 6620 6465 6661 756c 7447 726f     if defaultGro
+0000a240: 7570 2e69 6420 213d 2067 2e69 643a 0a20  up.id != g.id:. 
+0000a250: 2020 2020 2020 2020 2020 2020 2020 206e                 n
+0000a260: 6577 5f67 726f 7570 732e 6170 7065 6e64  ew_groups.append
+0000a270: 2867 2e5f 6f62 6a29 0a0a 2020 2020 2020  (g._obj)..      
+0000a280: 2020 2320 7573 6572 2067 726f 7570 0a20    # user group. 
+0000a290: 2020 2020 2020 2069 6620 6973 4163 7469         if isActi
+0000a2a0: 7665 3a0a 2020 2020 2020 2020 2020 2020  ve:.            
+0000a2b0: 6720 3d20 7365 6c66 2e67 6574 4f62 6a65  g = self.getObje
+0000a2c0: 6374 2822 4578 7065 7269 6d65 6e74 6572  ct("Experimenter
+0000a2d0: 4772 6f75 7022 2c20 6174 7472 6962 7574  Group", attribut
+0000a2e0: 6573 3d7b 226e 616d 6522 3a20 2275 7365  es={"name": "use
+0000a2f0: 7222 7d29 0a20 2020 2020 2020 2020 2020  r"}).           
+0000a300: 206e 6577 5f67 726f 7570 732e 6170 7065   new_groups.appe
+0000a310: 6e64 2867 2e5f 6f62 6a29 0a0a 2020 2020  nd(g._obj)..    
+0000a320: 2020 2020 2320 7265 7374 206f 6620 6772      # rest of gr
+0000a330: 6f75 7073 0a20 2020 2020 2020 2066 6f72  oups.        for
+0000a340: 2067 2069 6e20 6f74 6865 7247 726f 7570   g in otherGroup
+0000a350: 733a 0a20 2020 2020 2020 2020 2020 206e  s:.            n
+0000a360: 6577 5f67 726f 7570 732e 6170 7065 6e64  ew_groups.append
+0000a370: 2867 2e5f 6f62 6a29 0a0a 2020 2020 2020  (g._obj)..      
+0000a380: 2020 6164 6447 726f 7570 7320 3d20 6c69    addGroups = li
+0000a390: 7374 2829 0a20 2020 2020 2020 2072 6d47  st().        rmG
+0000a3a0: 726f 7570 7320 3d20 6c69 7374 2829 0a0a  roups = list()..
+0000a3b0: 2020 2020 2020 2020 2320 7265 6d6f 7665          # remove
+0000a3c0: 0a20 2020 2020 2020 2066 6f72 206f 6772  .        for ogr
+0000a3d0: 2069 6e20 6f6c 645f 6772 6f75 7073 3a0a   in old_groups:.
+0000a3e0: 2020 2020 2020 2020 2020 2020 666c 6167              flag
+0000a3f0: 203d 2046 616c 7365 0a20 2020 2020 2020   = False.       
+0000a400: 2020 2020 2066 6f72 206e 6772 2069 6e20       for ngr in 
+0000a410: 6e65 775f 6772 6f75 7073 3a0a 2020 2020  new_groups:.    
+0000a420: 2020 2020 2020 2020 2020 2020 6966 206e              if n
+0000a430: 6772 2e69 642e 7661 6c20 3d3d 206f 6772  gr.id.val == ogr
+0000a440: 2e69 642e 7661 6c3a 0a20 2020 2020 2020  .id.val:.       
+0000a450: 2020 2020 2020 2020 2020 2020 2066 6c61               fla
+0000a460: 6720 3d20 5472 7565 0a20 2020 2020 2020  g = True.       
+0000a470: 2020 2020 2069 6620 6e6f 7420 666c 6167       if not flag
+0000a480: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+0000a490: 2020 726d 4772 6f75 7073 2e61 7070 656e    rmGroups.appen
+0000a4a0: 6428 6f67 7229 0a0a 2020 2020 2020 2020  d(ogr)..        
+0000a4b0: 2320 6164 640a 2020 2020 2020 2020 666f  # add.        fo
+0000a4c0: 7220 6e67 7220 696e 206e 6577 5f67 726f  r ngr in new_gro
+0000a4d0: 7570 733a 0a20 2020 2020 2020 2020 2020  ups:.           
+0000a4e0: 2066 6c61 6720 3d20 4661 6c73 650a 2020   flag = False.  
+0000a4f0: 2020 2020 2020 2020 2020 666f 7220 6f67            for og
+0000a500: 7220 696e 206f 6c64 5f67 726f 7570 733a  r in old_groups:
+0000a510: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000a520: 2069 6620 6f67 722e 6964 2e76 616c 203d   if ogr.id.val =
+0000a530: 3d20 6e67 722e 6964 2e76 616c 3a0a 2020  = ngr.id.val:.  
+0000a540: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000a550: 2020 666c 6167 203d 2054 7275 650a 2020    flag = True.  
+0000a560: 2020 2020 2020 2020 2020 6966 206e 6f74            if not
+0000a570: 2066 6c61 673a 0a20 2020 2020 2020 2020   flag:.         
+0000a580: 2020 2020 2020 2061 6464 4772 6f75 7073         addGroups
+0000a590: 2e61 7070 656e 6428 6e67 7229 0a0a 2020  .append(ngr)..  
+0000a5a0: 2020 2020 2020 6164 6d69 6e5f 7365 7276        admin_serv
+0000a5b0: 203d 2073 656c 662e 6765 7441 646d 696e   = self.getAdmin
+0000a5c0: 5365 7276 6963 6528 290a 2020 2020 2020  Service().      
+0000a5d0: 2020 6164 6d69 6e5f 7365 7276 2e75 7064    admin_serv.upd
+0000a5e0: 6174 6545 7870 6572 696d 656e 7465 7228  ateExperimenter(
+0000a5f0: 7570 5f65 7870 290a 2020 2020 2020 2020  up_exp).        
+0000a600: 6361 6e5f 6d6f 6420 3d20 224d 6f64 6966  can_mod = "Modif
+0000a610: 7947 726f 7570 4d65 6d62 6572 7368 6970  yGroupMembership
+0000a620: 2220 696e 2073 656c 662e 6765 7443 7572  " in self.getCur
+0000a630: 7265 6e74 4164 6d69 6e50 7269 7669 6c65  rentAdminPrivile
+0000a640: 6765 7328 290a 2020 2020 2020 2020 6966  ges().        if
+0000a650: 206c 656e 2861 6464 4772 6f75 7073 2920   len(addGroups) 
+0000a660: 3e20 3020 616e 6420 6361 6e5f 6d6f 643a  > 0 and can_mod:
+0000a670: 0a20 2020 2020 2020 2020 2020 2061 646d  .            adm
+0000a680: 696e 5f73 6572 762e 6164 6447 726f 7570  in_serv.addGroup
+0000a690: 7328 7570 5f65 7870 2c20 6164 6447 726f  s(up_exp, addGro
+0000a6a0: 7570 7329 0a20 2020 2020 2020 2061 646d  ups).        adm
+0000a6b0: 696e 5f73 6572 762e 7365 7444 6566 6175  in_serv.setDefau
+0000a6c0: 6c74 4772 6f75 7028 7570 5f65 7870 2c20  ltGroup(up_exp, 
+0000a6d0: 6465 6661 756c 7447 726f 7570 2e5f 6f62  defaultGroup._ob
+0000a6e0: 6a29 0a20 2020 2020 2020 2069 6620 6c65  j).        if le
+0000a6f0: 6e28 726d 4772 6f75 7073 2920 3e20 3020  n(rmGroups) > 0 
+0000a700: 616e 6420 6361 6e5f 6d6f 643a 0a20 2020  and can_mod:.   
+0000a710: 2020 2020 2020 2020 2061 646d 696e 5f73           admin_s
+0000a720: 6572 762e 7265 6d6f 7665 4772 6f75 7073  erv.removeGroups
+0000a730: 2875 705f 6578 702c 2072 6d47 726f 7570  (up_exp, rmGroup
+0000a740: 7329 0a0a 2020 2020 6465 6620 6765 745f  s)..    def get_
+0000a750: 7072 6976 696c 6567 6573 5f66 726f 6d5f  privileges_from_
+0000a760: 666f 726d 2873 656c 662c 2065 7870 6572  form(self, exper
+0000a770: 696d 656e 7465 725f 666f 726d 293a 0a20  imenter_form):. 
+0000a780: 2020 2020 2020 2022 2222 0a20 2020 2020         """.     
+0000a790: 2020 2047 6574 2027 4164 6d69 6e50 7269     Get 'AdminPri
+0000a7a0: 7669 6c65 6765 2720 726f 6c65 7320 6672  vilege' roles fr
+0000a7b0: 6f6d 2045 7870 6572 696d 656e 7465 7220  om Experimenter 
+0000a7c0: 466f 726d 0a0a 2020 2020 2020 2020 5265  Form..        Re
+0000a7d0: 7475 726e 7320 4e6f 6e65 2069 6620 526f  turns None if Ro
+0000a7e0: 6c65 2073 6563 7469 6f6e 206f 6620 666f  le section of fo
+0000a7f0: 726d 2069 7320 6469 7361 626c 6564 2e0a  rm is disabled..
+0000a800: 2020 2020 2020 2020 5265 7475 726e 7320          Returns 
+0000a810: 656d 7074 7920 6c69 7374 2069 6620 726f  empty list if ro
+0000a820: 6c65 2069 7320 7265 6775 6c61 7220 2775  le is regular 'u
+0000a830: 7365 7227 2c20 6e6f 7420 6164 6d69 6e2e  ser', not admin.
+0000a840: 0a20 2020 2020 2020 2049 6620 726f 6c65  .        If role
+0000a850: 2069 7320 2761 646d 696e 6973 7472 6174   is 'administrat
+0000a860: 6f72 2720 7265 7475 726e 7320 414c 4c20  or' returns ALL 
+0000a870: 7072 6976 696c 6567 6573 2e0a 0a20 2020  privileges...   
+0000a880: 2020 2020 2040 7061 7261 6d20 6578 7065       @param expe
+0000a890: 7269 6d65 6e74 6572 5f66 6f72 6d20 2020  rimenter_form   
+0000a8a0: 2053 7562 6d69 7474 6564 2069 6e73 7461   Submitted insta
+0000a8b0: 6e63 6520 6f66 2045 7870 6572 696d 656e  nce of Experimen
+0000a8c0: 7465 7246 6f72 6d0a 2020 2020 2020 2020  terForm.        
+0000a8d0: 2222 220a 2020 2020 2020 2020 7072 6976  """.        priv
+0000a8e0: 696c 6567 6573 203d 205b 5d0a 2020 2020  ileges = [].    
+0000a8f0: 2020 2020 726f 6c65 203d 2065 7870 6572      role = exper
+0000a900: 696d 656e 7465 725f 666f 726d 2e63 6c65  imenter_form.cle
+0000a910: 616e 6564 5f64 6174 615b 2272 6f6c 6522  aned_data["role"
+0000a920: 5d0a 2020 2020 2020 2020 2320 4966 2052  ].        # If R
+0000a930: 6f6c 6520 656c 656d 656e 7420 6973 2064  ole element is d
+0000a940: 6973 6162 6c65 642c 2077 6520 646f 6e27  isabled, we don'
+0000a950: 7420 7570 6461 7465 2070 7269 7669 6c65  t update privile
+0000a960: 6765 730a 2020 2020 2020 2020 6966 2072  ges.        if r
+0000a970: 6f6c 6520 3d3d 2022 223a 0a20 2020 2020  ole == "":.     
+0000a980: 2020 2020 2020 2072 6574 7572 6e20 4e6f         return No
+0000a990: 6e65 0a20 2020 2020 2020 2023 2049 6620  ne.        # If 
+0000a9a0: 7573 6572 2069 7320 4164 6d69 6e2c 2077  user is Admin, w
+0000a9b0: 6520 6769 7665 2074 6865 6d20 414c 4c20  e give them ALL 
+0000a9c0: 7072 6976 696c 6567 6573 210a 2020 2020  privileges!.    
+0000a9d0: 2020 2020 6966 2072 6f6c 6520 3d3d 2022      if role == "
+0000a9e0: 6164 6d69 6e69 7374 7261 746f 7222 3a0a  administrator":.
+0000a9f0: 2020 2020 2020 2020 2020 2020 666f 7220              for 
+0000aa00: 7020 696e 2073 656c 662e 6765 7445 6e75  p in self.getEnu
+0000aa10: 6d65 7261 7469 6f6e 456e 7472 6965 7328  merationEntries(
+0000aa20: 2241 646d 696e 5072 6976 696c 6567 6522  "AdminPrivilege"
+0000aa30: 293a 0a20 2020 2020 2020 2020 2020 2020  ):.             
+0000aa40: 2020 2070 7269 7669 6c65 6765 732e 6170     privileges.ap
+0000aa50: 7065 6e64 2870 2e67 6574 5661 6c75 6528  pend(p.getValue(
+0000aa60: 2929 0a20 2020 2020 2020 2065 6c69 6620  )).        elif 
+0000aa70: 726f 6c65 203d 3d20 2272 6573 7472 6963  role == "restric
+0000aa80: 7465 645f 6164 6d69 6e69 7374 7261 746f  ted_administrato
+0000aa90: 7222 3a0a 2020 2020 2020 2020 2020 2020  r":.            
+0000aaa0: 2320 4f74 6865 7277 6973 652c 2072 6573  # Otherwise, res
+0000aab0: 7472 6963 7420 746f 2027 6368 6563 6b65  trict to 'checke
+0000aac0: 6427 2070 7269 7669 6c65 6765 7320 6f6e  d' privileges on
+0000aad0: 2066 6f72 6d0a 2020 2020 2020 2020 2020   form.          
+0000aae0: 2020 666f 726d 5f70 7269 7669 6c65 6765    form_privilege
+0000aaf0: 7320 3d20 5b0a 2020 2020 2020 2020 2020  s = [.          
+0000ab00: 2020 2020 2020 2243 6867 7270 222c 0a20        "Chgrp",. 
+0000ab10: 2020 2020 2020 2020 2020 2020 2020 2022                 "
+0000ab20: 4368 6f77 6e22 2c0a 2020 2020 2020 2020  Chown",.        
+0000ab30: 2020 2020 2020 2020 224d 6f64 6966 7947          "ModifyG
+0000ab40: 726f 7570 222c 0a20 2020 2020 2020 2020  roup",.         
+0000ab50: 2020 2020 2020 2022 4d6f 6469 6679 4772         "ModifyGr
+0000ab60: 6f75 704d 656d 6265 7273 6869 7022 2c0a  oupMembership",.
+0000ab70: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000ab80: 224d 6f64 6966 7955 7365 7222 2c0a 2020  "ModifyUser",.  
+0000ab90: 2020 2020 2020 2020 2020 2020 2020 2253                "S
+0000aba0: 7564 6f22 2c0a 2020 2020 2020 2020 2020  udo",.          
+0000abb0: 2020 5d0a 2020 2020 2020 2020 2020 2020    ].            
+0000abc0: 666f 7220 7020 696e 2066 6f72 6d5f 7072  for p in form_pr
+0000abd0: 6976 696c 6567 6573 3a0a 2020 2020 2020  ivileges:.      
+0000abe0: 2020 2020 2020 2020 2020 6966 2065 7870            if exp
+0000abf0: 6572 696d 656e 7465 725f 666f 726d 2e63  erimenter_form.c
+0000ac00: 6c65 616e 6564 5f64 6174 615b 705d 3a0a  leaned_data[p]:.
+0000ac10: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000ac20: 2020 2020 7072 6976 696c 6567 6573 2e61      privileges.a
+0000ac30: 7070 656e 6428 7029 0a20 2020 2020 2020  ppend(p).       
+0000ac40: 2020 2020 2023 2027 4465 6c65 7465 272c       # 'Delete',
+0000ac50: 2027 5772 6974 6527 2061 6e64 2027 5363   'Write' and 'Sc
+0000ac60: 7269 7074 2720 6368 6563 6b62 6f78 6573  ript' checkboxes
+0000ac70: 2075 7064 6174 6520 7365 7665 7261 6c20   update several 
+0000ac80: 726f 6c65 730a 2020 2020 2020 2020 2020  roles.          
+0000ac90: 2020 6966 2065 7870 6572 696d 656e 7465    if experimente
+0000aca0: 725f 666f 726d 2e63 6c65 616e 6564 5f64  r_form.cleaned_d
+0000acb0: 6174 615b 2244 656c 6574 6522 5d3a 0a20  ata["Delete"]:. 
+0000acc0: 2020 2020 2020 2020 2020 2020 2020 2070                 p
+0000acd0: 7269 7669 6c65 6765 732e 6170 7065 6e64  rivileges.append
+0000ace0: 2822 4465 6c65 7465 4669 6c65 2229 0a20  ("DeleteFile"). 
+0000acf0: 2020 2020 2020 2020 2020 2020 2020 2070                 p
+0000ad00: 7269 7669 6c65 6765 732e 6170 7065 6e64  rivileges.append
+0000ad10: 2822 4465 6c65 7465 4d61 6e61 6765 6452  ("DeleteManagedR
+0000ad20: 6570 6f22 290a 2020 2020 2020 2020 2020  epo").          
+0000ad30: 2020 2020 2020 7072 6976 696c 6567 6573        privileges
+0000ad40: 2e61 7070 656e 6428 2244 656c 6574 654f  .append("DeleteO
+0000ad50: 776e 6564 2229 0a20 2020 2020 2020 2020  wned").         
+0000ad60: 2020 2069 6620 6578 7065 7269 6d65 6e74     if experiment
+0000ad70: 6572 5f66 6f72 6d2e 636c 6561 6e65 645f  er_form.cleaned_
+0000ad80: 6461 7461 5b22 5772 6974 6522 5d3a 0a20  data["Write"]:. 
+0000ad90: 2020 2020 2020 2020 2020 2020 2020 2070                 p
+0000ada0: 7269 7669 6c65 6765 732e 6170 7065 6e64  rivileges.append
+0000adb0: 2822 5772 6974 6546 696c 6522 290a 2020  ("WriteFile").  
+0000adc0: 2020 2020 2020 2020 2020 2020 2020 7072                pr
+0000add0: 6976 696c 6567 6573 2e61 7070 656e 6428  ivileges.append(
+0000ade0: 2257 7269 7465 4d61 6e61 6765 6452 6570  "WriteManagedRep
+0000adf0: 6f22 290a 2020 2020 2020 2020 2020 2020  o").            
+0000ae00: 2020 2020 7072 6976 696c 6567 6573 2e61      privileges.a
+0000ae10: 7070 656e 6428 2257 7269 7465 4f77 6e65  ppend("WriteOwne
+0000ae20: 6422 290a 2020 2020 2020 2020 2020 2020  d").            
+0000ae30: 6966 2065 7870 6572 696d 656e 7465 725f  if experimenter_
+0000ae40: 666f 726d 2e63 6c65 616e 6564 5f64 6174  form.cleaned_dat
+0000ae50: 615b 2253 6372 6970 7422 5d3a 0a20 2020  a["Script"]:.   
+0000ae60: 2020 2020 2020 2020 2020 2020 2070 7269               pri
+0000ae70: 7669 6c65 6765 732e 6170 7065 6e64 2822  vileges.append("
+0000ae80: 5772 6974 6553 6372 6970 7452 6570 6f22  WriteScriptRepo"
+0000ae90: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
+0000aea0: 2020 7072 6976 696c 6567 6573 2e61 7070    privileges.app
+0000aeb0: 656e 6428 2244 656c 6574 6553 6372 6970  end("DeleteScrip
+0000aec0: 7452 6570 6f22 290a 2020 2020 2020 2020  tRepo").        
+0000aed0: 7265 7475 726e 2070 7269 7669 6c65 6765  return privilege
+0000aee0: 730a 0a20 2020 2064 6566 2067 6574 5f70  s..    def get_p
+0000aef0: 7269 7669 6c65 6765 735f 666f 725f 666f  rivileges_for_fo
+0000af00: 726d 2873 656c 662c 2070 7269 7669 6c65  rm(self, privile
+0000af10: 6765 7329 3a0a 2020 2020 2020 2020 2222  ges):.        ""
+0000af20: 220a 2020 2020 2020 2020 4d61 7073 2074  ".        Maps t
+0000af30: 6865 2076 6172 696f 7573 2073 6572 7665  he various serve
+0000af40: 722d 7369 6465 2070 7269 7669 6c65 6765  r-side privilege
+0000af50: 7320 666f 7220 4578 7065 7269 6d65 6e74  s for Experiment
+0000af60: 6572 466f 726d 2e0a 0a20 2020 2020 2020  erForm...       
+0000af70: 2046 6f72 2065 7861 6d70 6c65 2c20 2744   For example, 'D
+0000af80: 656c 6574 6527 2070 7269 7669 6c65 6765  elete' privilege
+0000af90: 2069 7320 5472 7565 206f 6e6c 7920 6966   is True only if
+0000afa0: 2061 6c6c 206f 660a 2020 2020 2020 2020   all of.        
+0000afb0: 2744 656c 6574 654f 776e 6564 272c 2027  'DeleteOwned', '
+0000afc0: 4465 6c65 7465 4669 6c65 2720 616e 6420  DeleteFile' and 
+0000afd0: 2744 656c 6574 654d 616e 6167 6564 5265  'DeleteManagedRe
+0000afe0: 706f 2720 6172 6520 5472 7565 0a20 2020  po' are True.   
+0000aff0: 2020 2020 2022 2222 0a20 2020 2020 2020       """.       
+0000b000: 2065 6e61 626c 6564 203d 205b 5d0a 2020   enabled = [].  
+0000b010: 2020 2020 2020 6465 6c65 7465 5f70 6572        delete_per
+0000b020: 6d73 203d 205b 5d0a 2020 2020 2020 2020  ms = [].        
+0000b030: 7772 6974 655f 7065 726d 7320 3d20 5b5d  write_perms = []
+0000b040: 0a20 2020 2020 2020 2073 6372 6970 745f  .        script_
+0000b050: 7065 726d 7320 3d20 5b5d 0a0a 2020 2020  perms = []..    
+0000b060: 2020 2020 666f 7220 7072 6976 696c 6567      for privileg
+0000b070: 6520 696e 2070 7269 7669 6c65 6765 733a  e in privileges:
+0000b080: 0a20 2020 2020 2020 2020 2020 2069 6620  .            if 
+0000b090: 7072 6976 696c 6567 6520 696e 2028 2244  privilege in ("D
+0000b0a0: 656c 6574 654f 776e 6564 222c 2022 4465  eleteOwned", "De
+0000b0b0: 6c65 7465 4669 6c65 222c 2022 4465 6c65  leteFile", "Dele
+0000b0c0: 7465 4d61 6e61 6765 6452 6570 6f22 293a  teManagedRepo"):
+0000b0d0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000b0e0: 2064 656c 6574 655f 7065 726d 732e 6170   delete_perms.ap
+0000b0f0: 7065 6e64 2870 7269 7669 6c65 6765 290a  pend(privilege).
+0000b100: 2020 2020 2020 2020 2020 2020 656c 6966              elif
+0000b110: 2070 7269 7669 6c65 6765 2069 6e20 2822   privilege in ("
+0000b120: 5772 6974 654f 776e 6564 222c 2022 5772  WriteOwned", "Wr
+0000b130: 6974 6546 696c 6522 2c20 2257 7269 7465  iteFile", "Write
+0000b140: 4d61 6e61 6765 6452 6570 6f22 293a 0a20  ManagedRepo"):. 
+0000b150: 2020 2020 2020 2020 2020 2020 2020 2077                 w
+0000b160: 7269 7465 5f70 6572 6d73 2e61 7070 656e  rite_perms.appen
+0000b170: 6428 7072 6976 696c 6567 6529 0a20 2020  d(privilege).   
+0000b180: 2020 2020 2020 2020 2065 6c69 6620 7072           elif pr
+0000b190: 6976 696c 6567 6520 696e 2028 2257 7269  ivilege in ("Wri
+0000b1a0: 7465 5363 7269 7074 5265 706f 222c 2022  teScriptRepo", "
+0000b1b0: 4465 6c65 7465 5363 7269 7074 5265 706f  DeleteScriptRepo
+0000b1c0: 2229 3a0a 2020 2020 2020 2020 2020 2020  "):.            
+0000b1d0: 2020 2020 7363 7269 7074 5f70 6572 6d73      script_perms
+0000b1e0: 2e61 7070 656e 6428 7072 6976 696c 6567  .append(privileg
+0000b1f0: 6529 0a20 2020 2020 2020 2020 2020 2065  e).            e
+0000b200: 6c73 653a 0a20 2020 2020 2020 2020 2020  lse:.           
+0000b210: 2020 2020 2065 6e61 626c 6564 2e61 7070       enabled.app
+0000b220: 656e 6428 7072 6976 696c 6567 6529 0a20  end(privilege). 
+0000b230: 2020 2020 2020 2023 2069 6620 414c 4c20         # if ALL 
+0000b240: 7468 6520 4465 6c65 7465 2f57 7269 7465  the Delete/Write
+0000b250: 2070 6572 6d69 7373 696f 6e73 2061 7265   permissions are
+0000b260: 2066 6f75 6e64 2c20 4465 6c65 7465 2f57   found, Delete/W
+0000b270: 7269 7465 2069 7320 5472 7565 0a20 2020  rite is True.   
+0000b280: 2020 2020 2069 6620 7365 7428 6465 6c65       if set(dele
+0000b290: 7465 5f70 6572 6d73 2920 3d3d 2073 6574  te_perms) == set
+0000b2a0: 2828 2244 656c 6574 654f 776e 6564 222c  (("DeleteOwned",
+0000b2b0: 2022 4465 6c65 7465 4669 6c65 222c 2022   "DeleteFile", "
+0000b2c0: 4465 6c65 7465 4d61 6e61 6765 6452 6570  DeleteManagedRep
+0000b2d0: 6f22 2929 3a0a 2020 2020 2020 2020 2020  o")):.          
+0000b2e0: 2020 656e 6162 6c65 642e 6170 7065 6e64    enabled.append
+0000b2f0: 2822 4465 6c65 7465 2229 0a20 2020 2020  ("Delete").     
+0000b300: 2020 2069 6620 7365 7428 7772 6974 655f     if set(write_
+0000b310: 7065 726d 7329 203d 3d20 7365 7428 2822  perms) == set(("
+0000b320: 5772 6974 654f 776e 6564 222c 2022 5772  WriteOwned", "Wr
+0000b330: 6974 6546 696c 6522 2c20 2257 7269 7465  iteFile", "Write
+0000b340: 4d61 6e61 6765 6452 6570 6f22 2929 3a0a  ManagedRepo")):.
+0000b350: 2020 2020 2020 2020 2020 2020 656e 6162              enab
+0000b360: 6c65 642e 6170 7065 6e64 2822 5772 6974  led.append("Writ
+0000b370: 6522 290a 2020 2020 2020 2020 6966 2073  e").        if s
+0000b380: 6574 2873 6372 6970 745f 7065 726d 7329  et(script_perms)
+0000b390: 203d 3d20 7365 7428 2822 5772 6974 6553   == set(("WriteS
+0000b3a0: 6372 6970 7452 6570 6f22 2c20 2244 656c  criptRepo", "Del
+0000b3b0: 6574 6553 6372 6970 7452 6570 6f22 2929  eteScriptRepo"))
+0000b3c0: 3a0a 2020 2020 2020 2020 2020 2020 656e  :.            en
+0000b3d0: 6162 6c65 642e 6170 7065 6e64 2822 5363  abled.append("Sc
+0000b3e0: 7269 7074 2229 0a20 2020 2020 2020 2072  ript").        r
+0000b3f0: 6574 7572 6e20 656e 6162 6c65 640a 0a20  eturn enabled.. 
+0000b400: 2020 2064 6566 2073 6574 4d65 6d62 6572     def setMember
+0000b410: 734f 6647 726f 7570 2873 656c 662c 2067  sOfGroup(self, g
+0000b420: 726f 7570 2c20 6e65 775f 6d65 6d62 6572  roup, new_member
+0000b430: 7329 3a0a 2020 2020 2020 2020 2222 220a  s):.        """.
+0000b440: 2020 2020 2020 2020 4368 616e 6765 206d          Change m
+0000b450: 656d 6265 7273 206f 6620 7468 6520 6772  embers of the gr
+0000b460: 6f75 702e 2052 6574 7572 6e73 2061 206c  oup. Returns a l
+0000b470: 6973 7420 6f66 2065 7869 7374 696e 6720  ist of existing 
+0000b480: 6772 6f75 7020 6d65 6d62 6572 730a 2020  group members.  
+0000b490: 2020 2020 2020 7468 6174 2063 6f75 6c64        that could
+0000b4a0: 206e 6f74 2062 6520 7265 6d6f 7665 6420   not be removed 
+0000b4b0: 6672 6f6d 2074 6865 2067 726f 7570 2062  from the group b
+0000b4c0: 6563 6175 7365 2069 7420 6973 2074 6865  ecause it is the
+0000b4d0: 6972 206f 6e6c 790a 2020 2020 2020 2020  ir only.        
+0000b4e0: 6772 6f75 702e 0a0a 2020 2020 2020 2020  group...        
+0000b4f0: 4070 6172 616d 2067 726f 7570 2020 2020  @param group    
+0000b500: 2020 2020 2020 2020 416e 2065 7869 7374          An exist
+0000b510: 696e 6720 4578 7065 7269 6d65 6e74 6572  ing Experimenter
+0000b520: 4772 6f75 7020 696e 7374 616e 6365 2e0a  Group instance..
+0000b530: 2020 2020 2020 2020 4074 7970 6520 6772          @type gr
+0000b540: 6f75 7020 2020 2020 2020 2020 2020 2020  oup             
+0000b550: 4578 7065 7269 6d65 6e74 6572 4772 6f75  ExperimenterGrou
+0000b560: 7049 0a20 2020 2020 2020 2040 7061 7261  pI.        @para
+0000b570: 6d20 6e65 775f 6d65 6d62 6572 7320 2020  m new_members   
+0000b580: 2020 204c 6973 7420 6f66 206e 6577 206e     List of new n
+0000b590: 6577 2045 7870 6572 696d 656e 7465 7220  ew Experimenter 
+0000b5a0: 4964 732e 0a20 2020 2020 2020 2040 7479  Ids..        @ty
+0000b5b0: 7065 206e 6577 5f6d 656d 6265 7273 2020  pe new_members  
+0000b5c0: 2020 2020 204c 7b4c 6f6e 677d 0a20 2020       L{Long}.   
+0000b5d0: 2020 2020 2040 7265 7475 726e 2020 2020       @return    
+0000b5e0: 2020 2020 2020 2020 2020 2020 204c 6973               Lis
+0000b5f0: 7420 6f66 2045 7870 6572 696d 656e 7465  t of Experimente
+0000b600: 7273 206e 6f74 2072 656d 6f76 6564 2066  rs not removed f
+0000b610: 726f 6d20 6772 6f75 700a 2020 2020 2020  rom group.      
+0000b620: 2020 4072 7479 7065 2020 2020 2020 2020    @rtype        
+0000b630: 2020 2020 2020 2020 2020 4c69 7374 206f            List o
+0000b640: 6620 4c7b 4578 7065 7269 6d65 6e74 6572  f L{Experimenter
+0000b650: 5772 6170 7065 727d 0a20 2020 2020 2020  Wrapper}.       
+0000b660: 2022 2222 0a0a 2020 2020 2020 2020 2320   """..        # 
+0000b670: 4d61 6b65 2073 7572 6520 7765 2776 6520  Make sure we've 
+0000b680: 6c6f 6164 6564 2065 7870 6572 696d 656e  loaded experimen
+0000b690: 7465 7273 0a20 2020 2020 2020 2067 726f  ters.        gro
+0000b6a0: 7570 203d 2073 656c 662e 6765 744f 626a  up = self.getObj
+0000b6b0: 6563 7428 0a20 2020 2020 2020 2020 2020  ect(.           
+0000b6c0: 2022 4578 7065 7269 6d65 6e74 6572 4772   "ExperimenterGr
+0000b6d0: 6f75 7022 2c20 6772 6f75 702e 6964 2c20  oup", group.id, 
+0000b6e0: 6f70 7473 3d7b 226c 6f61 645f 6578 7065  opts={"load_expe
+0000b6f0: 7269 6d65 6e74 6572 7322 3a20 5472 7565  rimenters": True
+0000b700: 7d0a 2020 2020 2020 2020 290a 0a20 2020  }.        )..   
+0000b710: 2020 2020 2065 7870 6572 696d 656e 7465       experimente
+0000b720: 7273 203d 206c 6973 7428 7365 6c66 2e67  rs = list(self.g
+0000b730: 6574 4f62 6a65 6374 7328 2245 7870 6572  etObjects("Exper
+0000b740: 696d 656e 7465 7222 2929 0a0a 2020 2020  imenter"))..    
+0000b750: 2020 2020 6e65 775f 6d65 6d62 6572 7349      new_membersI
+0000b760: 6473 203d 205b 6e6d 2e69 6420 666f 7220  ds = [nm.id for 
+0000b770: 6e6d 2069 6e20 6e65 775f 6d65 6d62 6572  nm in new_member
+0000b780: 735d 0a0a 2020 2020 2020 2020 6f6c 645f  s]..        old_
+0000b790: 6d65 6d62 6572 7320 3d20 6772 6f75 702e  members = group.
+0000b7a0: 6765 744d 656d 6265 7273 2829 0a20 2020  getMembers().   
+0000b7b0: 2020 2020 206f 6c64 5f6d 656d 6265 7273       old_members
+0000b7c0: 4964 7320 3d20 5b6f 6d2e 6964 2066 6f72  Ids = [om.id for
+0000b7d0: 206f 6d20 696e 206f 6c64 5f6d 656d 6265   om in old_membe
+0000b7e0: 7273 5d0a 0a20 2020 2020 2020 206f 6c64  rs]..        old
+0000b7f0: 5f61 7661 696c 6162 6c65 4964 7320 3d20  _availableIds = 
+0000b800: 5b5d 0a20 2020 2020 2020 2066 6f72 2065  [].        for e
+0000b810: 2069 6e20 6578 7065 7269 6d65 6e74 6572   in experimenter
+0000b820: 733a 0a20 2020 2020 2020 2020 2020 2069  s:.            i
+0000b830: 6620 652e 6964 206e 6f74 2069 6e20 6f6c  f e.id not in ol
+0000b840: 645f 6d65 6d62 6572 7349 6473 3a0a 2020  d_membersIds:.  
+0000b850: 2020 2020 2020 2020 2020 2020 2020 6f6c                ol
+0000b860: 645f 6176 6169 6c61 626c 6549 6473 2e61  d_availableIds.a
+0000b870: 7070 656e 6428 652e 6964 290a 0a20 2020  ppend(e.id)..   
+0000b880: 2020 2020 206e 6577 5f61 7661 696c 6162       new_availab
+0000b890: 6c65 203d 206c 6973 7428 290a 2020 2020  le = list().    
+0000b8a0: 2020 2020 666f 7220 6520 696e 2065 7870      for e in exp
+0000b8b0: 6572 696d 656e 7465 7273 3a0a 2020 2020  erimenters:.    
+0000b8c0: 2020 2020 2020 2020 6966 2065 2e69 6420          if e.id 
+0000b8d0: 6e6f 7420 696e 206e 6577 5f6d 656d 6265  not in new_membe
+0000b8e0: 7273 4964 733a 0a20 2020 2020 2020 2020  rsIds:.         
+0000b8f0: 2020 2020 2020 206e 6577 5f61 7661 696c         new_avail
+0000b900: 6162 6c65 2e61 7070 656e 6428 6529 0a0a  able.append(e)..
+0000b910: 2020 2020 2020 2020 6e65 775f 6176 6169          new_avai
+0000b920: 6c61 626c 6549 6473 203d 205b 6e61 2e69  lableIds = [na.i
+0000b930: 6420 666f 7220 6e61 2069 6e20 6e65 775f  d for na in new_
+0000b940: 6176 6169 6c61 626c 655d 0a0a 2020 2020  available]..    
+0000b950: 2020 2020 726d 5f65 7870 7320 3d20 6c69      rm_exps = li
+0000b960: 7374 2873 6574 286f 6c64 5f6d 656d 6265  st(set(old_membe
+0000b970: 7273 4964 7329 202d 2073 6574 286e 6577  rsIds) - set(new
+0000b980: 5f6d 656d 6265 7273 4964 7329 290a 2020  _membersIds)).  
+0000b990: 2020 2020 2020 6164 645f 6578 7073 203d        add_exps =
+0000b9a0: 206c 6973 7428 7365 7428 6f6c 645f 6176   list(set(old_av
+0000b9b0: 6169 6c61 626c 6549 6473 2920 2d20 7365  ailableIds) - se
+0000b9c0: 7428 6e65 775f 6176 6169 6c61 626c 6549  t(new_availableI
+0000b9d0: 6473 2929 0a0a 2020 2020 2020 2020 746f  ds))..        to
+0000b9e0: 5f72 656d 6f76 6520 3d20 6c69 7374 2829  _remove = list()
+0000b9f0: 0a20 2020 2020 2020 2074 6f5f 6164 6420  .        to_add 
+0000ba00: 3d20 6c69 7374 2829 0a20 2020 2020 2020  = list().       
+0000ba10: 2066 6f72 2065 2069 6e20 6578 7065 7269   for e in experi
+0000ba20: 6d65 6e74 6572 733a 0a20 2020 2020 2020  menters:.       
+0000ba30: 2020 2020 2069 6620 652e 6964 2069 6e20       if e.id in 
+0000ba40: 726d 5f65 7870 733a 0a20 2020 2020 2020  rm_exps:.       
+0000ba50: 2020 2020 2020 2020 2023 2072 656d 6f76           # remov
+0000ba60: 696e 6720 7573 6572 2066 726f 6d20 7468  ing user from th
+0000ba70: 6569 7220 6465 6661 756c 7420 6772 6f75  eir default grou
+0000ba80: 7020 2339 3139 330a 2020 2020 2020 2020  p #9193.        
+0000ba90: 2020 2020 2020 2020 2320 6966 2065 2e67          # if e.g
+0000baa0: 6574 4465 6661 756c 7447 726f 7570 2829  etDefaultGroup()
+0000bab0: 2e69 6420 213d 2067 726f 7570 2e69 643a  .id != group.id:
+0000bac0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000bad0: 2074 6f5f 7265 6d6f 7665 2e61 7070 656e   to_remove.appen
+0000bae0: 6428 6529 0a20 2020 2020 2020 2020 2020  d(e).           
+0000baf0: 2069 6620 652e 6964 2069 6e20 6164 645f   if e.id in add_
+0000bb00: 6578 7073 3a0a 2020 2020 2020 2020 2020  exps:.          
+0000bb10: 2020 2020 2020 746f 5f61 6464 2e61 7070        to_add.app
+0000bb20: 656e 6428 6529 0a0a 2020 2020 2020 2020  end(e)..        
+0000bb30: 6164 6d69 6e5f 7365 7276 203d 2073 656c  admin_serv = sel
+0000bb40: 662e 6765 7441 646d 696e 5365 7276 6963  f.getAdminServic
+0000bb50: 6528 290a 2020 2020 2020 2020 7573 6572  e().        user
+0000bb60: 4769 6420 3d20 6164 6d69 6e5f 7365 7276  Gid = admin_serv
+0000bb70: 2e67 6574 5365 6375 7269 7479 526f 6c65  .getSecurityRole
+0000bb80: 7328 292e 7573 6572 4772 6f75 7049 640a  s().userGroupId.
+0000bb90: 2020 2020 2020 2020 6661 696c 7572 6573          failures
+0000bba0: 203d 205b 5d0a 2020 2020 2020 2020 666f   = [].        fo
+0000bbb0: 7220 6520 696e 2074 6f5f 6164 643a 0a20  r e in to_add:. 
+0000bbc0: 2020 2020 2020 2020 2020 2061 646d 696e             admin
+0000bbd0: 5f73 6572 762e 6164 6447 726f 7570 7328  _serv.addGroups(
+0000bbe0: 652e 5f6f 626a 2c20 5b67 726f 7570 2e5f  e._obj, [group._
+0000bbf0: 6f62 6a5d 290a 2020 2020 2020 2020 666f  obj]).        fo
+0000bc00: 7220 6520 696e 2074 6f5f 7265 6d6f 7665  r e in to_remove
+0000bc10: 3a0a 2020 2020 2020 2020 2020 2020 2320  :.            # 
+0000bc20: 4578 7065 7269 6d65 6e74 6572 206e 6565  Experimenter nee
+0000bc30: 6473 2074 6f20 7374 6179 2069 6e20 6174  ds to stay in at
+0000bc40: 206c 6561 7374 2031 206e 6f6e 2d75 7365   least 1 non-use
+0000bc50: 7220 6772 6f75 700a 2020 2020 2020 2020  r group.        
+0000bc60: 2020 2020 6773 203d 205b 0a20 2020 2020      gs = [.     
+0000bc70: 2020 2020 2020 2020 2020 206c 696e 6b2e             link.
+0000bc80: 7061 7265 6e74 2e69 640a 2020 2020 2020  parent.id.      
+0000bc90: 2020 2020 2020 2020 2020 666f 7220 6c69            for li
+0000bca0: 6e6b 2069 6e20 652e 636f 7079 4772 6f75  nk in e.copyGrou
+0000bcb0: 7045 7870 6572 696d 656e 7465 724d 6170  pExperimenterMap
+0000bcc0: 2829 0a20 2020 2020 2020 2020 2020 2020  ().             
+0000bcd0: 2020 2069 6620 6c69 6e6b 2e70 6172 656e     if link.paren
+0000bce0: 742e 6964 2e76 616c 2021 3d20 7573 6572  t.id.val != user
+0000bcf0: 4769 640a 2020 2020 2020 2020 2020 2020  Gid.            
+0000bd00: 5d0a 2020 2020 2020 2020 2020 2020 6966  ].            if
+0000bd10: 206c 656e 2867 7329 203d 3d20 313a 0a20   len(gs) == 1:. 
+0000bd20: 2020 2020 2020 2020 2020 2020 2020 2066                 f
+0000bd30: 6169 6c75 7265 732e 6170 7065 6e64 2845  ailures.append(E
+0000bd40: 7870 6572 696d 656e 7465 7257 7261 7070  xperimenterWrapp
+0000bd50: 6572 2873 656c 662c 2065 2e5f 6f62 6a29  er(self, e._obj)
+0000bd60: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
+0000bd70: 2020 636f 6e74 696e 7565 0a20 2020 2020    continue.     
+0000bd80: 2020 2020 2020 2061 646d 696e 5f73 6572         admin_ser
+0000bd90: 762e 7265 6d6f 7665 4772 6f75 7073 2865  v.removeGroups(e
+0000bda0: 2e5f 6f62 6a2c 205b 6772 6f75 702e 5f6f  ._obj, [group._o
+0000bdb0: 626a 5d29 0a20 2020 2020 2020 2072 6574  bj]).        ret
+0000bdc0: 7572 6e20 6661 696c 7572 6573 0a0a 2020  urn failures..  
+0000bdd0: 2020 6465 6620 7365 744f 776e 6572 734f    def setOwnersO
+0000bde0: 6647 726f 7570 2873 656c 662c 2067 726f  fGroup(self, gro
+0000bdf0: 7570 2c20 6f77 6e65 7273 293a 0a20 2020  up, owners):.   
+0000be00: 2020 2020 2022 2222 0a20 2020 2020 2020       """.       
+0000be10: 2053 6574 206f 776e 6572 7320 6f66 2067   Set owners of g
+0000be20: 726f 7570 0a0a 2020 2020 2020 2020 4070  roup..        @p
+0000be30: 6172 616d 2067 726f 7570 2020 2020 2020  aram group      
+0000be40: 2020 4120 6e65 7720 4578 7065 7269 6d65    A new Experime
+0000be50: 6e74 6572 4772 6f75 7020 696e 7374 616e  nterGroup instan
+0000be60: 6365 2e0a 2020 2020 2020 2020 4074 7970  ce..        @typ
+0000be70: 6520 6772 6f75 7020 2020 2020 2020 2020  e group         
+0000be80: 4578 7065 7269 6d65 6e74 6572 4772 6f75  ExperimenterGrou
+0000be90: 7049 0a20 2020 2020 2020 2040 7061 7261  pI.        @para
+0000bea0: 6d20 6f77 6e65 7273 2020 2020 2020 204c  m owners       L
+0000beb0: 6973 7420 6f66 2045 7870 6572 696d 656e  ist of Experimen
+0000bec0: 7465 7220 696e 7374 616e 6365 732e 2043  ter instances. C
+0000bed0: 616e 2062 6520 656d 7074 792e 0a20 2020  an be empty..   
+0000bee0: 2020 2020 2040 7479 7065 206f 776e 6572       @type owner
+0000bef0: 7320 2020 2020 2020 204c 7b45 7870 6572  s        L{Exper
+0000bf00: 696d 656e 7465 7249 7d0a 2020 2020 2020  imenterI}.      
+0000bf10: 2020 2222 220a 0a20 2020 2020 2020 2075    """..        u
+0000bf20: 705f 6772 203d 2067 726f 7570 2e5f 6f62  p_gr = group._ob
+0000bf30: 6a0a 0a20 2020 2020 2020 2023 206f 6c64  j..        # old
+0000bf40: 206c 6973 7420 6f66 206f 776e 6572 730a   list of owners.
+0000bf50: 2020 2020 2020 2020 6f6c 645f 6f77 6e65          old_owne
+0000bf60: 7273 203d 205b 5d0a 2020 2020 2020 2020  rs = [].        
+0000bf70: 666f 7220 6f65 7820 696e 2067 726f 7570  for oex in group
+0000bf80: 2e63 6f70 7947 726f 7570 4578 7065 7269  .copyGroupExperi
+0000bf90: 6d65 6e74 6572 4d61 7028 293a 0a20 2020  menterMap():.   
+0000bfa0: 2020 2020 2020 2020 2069 6620 6f65 7820           if oex 
+0000bfb0: 6973 204e 6f6e 653a 0a20 2020 2020 2020  is None:.       
+0000bfc0: 2020 2020 2020 2020 2063 6f6e 7469 6e75           continu
+0000bfd0: 650a 2020 2020 2020 2020 2020 2020 6966  e.            if
+0000bfe0: 206f 6578 2e6f 776e 6572 2e76 616c 3a0a   oex.owner.val:.
+0000bff0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000c000: 6f6c 645f 6f77 6e65 7273 2e61 7070 656e  old_owners.appen
+0000c010: 6428 6f65 782e 6368 696c 6429 0a0a 2020  d(oex.child)..  
+0000c020: 2020 2020 2020 6164 645f 6578 7073 203d        add_exps =
+0000c030: 205b 5d0a 2020 2020 2020 2020 726d 5f65   [].        rm_e
+0000c040: 7870 7320 3d20 5b5d 0a20 2020 2020 2020  xps = [].       
+0000c050: 2023 2072 656d 6f76 650a 2020 2020 2020   # remove.      
+0000c060: 2020 666f 7220 6f65 7820 696e 206f 6c64    for oex in old
+0000c070: 5f6f 776e 6572 733a 0a20 2020 2020 2020  _owners:.       
+0000c080: 2020 2020 2066 6c61 6720 3d20 4661 6c73       flag = Fals
+0000c090: 650a 2020 2020 2020 2020 2020 2020 666f  e.            fo
+0000c0a0: 7220 6e65 7820 696e 206f 776e 6572 733a  r nex in owners:
+0000c0b0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000c0c0: 2069 6620 6e65 782e 5f6f 626a 2e69 642e   if nex._obj.id.
+0000c0d0: 7661 6c20 3d3d 206f 6578 2e69 642e 7661  val == oex.id.va
+0000c0e0: 6c3a 0a20 2020 2020 2020 2020 2020 2020  l:.             
+0000c0f0: 2020 2020 2020 2066 6c61 6720 3d20 5472         flag = Tr
+0000c100: 7565 0a20 2020 2020 2020 2020 2020 2069  ue.            i
+0000c110: 6620 6e6f 7420 666c 6167 3a0a 2020 2020  f not flag:.    
+0000c120: 2020 2020 2020 2020 2020 2020 726d 5f65              rm_e
+0000c130: 7870 732e 6170 7065 6e64 286f 6578 290a  xps.append(oex).
+0000c140: 0a20 2020 2020 2020 2023 2061 6464 0a20  .        # add. 
+0000c150: 2020 2020 2020 2066 6f72 206e 6578 2069         for nex i
+0000c160: 6e20 6f77 6e65 7273 3a0a 2020 2020 2020  n owners:.      
+0000c170: 2020 2020 2020 666c 6167 203d 2046 616c        flag = Fal
+0000c180: 7365 0a20 2020 2020 2020 2020 2020 2066  se.            f
+0000c190: 6f72 206f 6578 2069 6e20 6f6c 645f 6f77  or oex in old_ow
+0000c1a0: 6e65 7273 3a0a 2020 2020 2020 2020 2020  ners:.          
+0000c1b0: 2020 2020 2020 6966 206f 6578 2e69 642e        if oex.id.
+0000c1c0: 7661 6c20 3d3d 206e 6578 2e5f 6f62 6a2e  val == nex._obj.
+0000c1d0: 6964 2e76 616c 3a0a 2020 2020 2020 2020  id.val:.        
+0000c1e0: 2020 2020 2020 2020 2020 2020 666c 6167              flag
+0000c1f0: 203d 2054 7275 650a 2020 2020 2020 2020   = True.        
+0000c200: 2020 2020 6966 206e 6f74 2066 6c61 673a      if not flag:
+0000c210: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000c220: 2061 6464 5f65 7870 732e 6170 7065 6e64   add_exps.append
+0000c230: 286e 6578 2e5f 6f62 6a29 0a0a 2020 2020  (nex._obj)..    
+0000c240: 2020 2020 6164 6d69 6e5f 7365 7276 203d      admin_serv =
+0000c250: 2073 656c 662e 6765 7441 646d 696e 5365   self.getAdminSe
+0000c260: 7276 6963 6528 290a 2020 2020 2020 2020  rvice().        
+0000c270: 6966 2061 6464 5f65 7870 733a 0a20 2020  if add_exps:.   
+0000c280: 2020 2020 2020 2020 2061 646d 696e 5f73           admin_s
+0000c290: 6572 762e 6164 6447 726f 7570 4f77 6e65  erv.addGroupOwne
+0000c2a0: 7273 2875 705f 6772 2c20 6164 645f 6578  rs(up_gr, add_ex
+0000c2b0: 7073 290a 2020 2020 2020 2020 6966 2072  ps).        if r
+0000c2c0: 6d5f 6578 7073 3a0a 2020 2020 2020 2020  m_exps:.        
+0000c2d0: 2020 2020 6164 6d69 6e5f 7365 7276 2e72      admin_serv.r
+0000c2e0: 656d 6f76 6547 726f 7570 4f77 6e65 7273  emoveGroupOwners
+0000c2f0: 2875 705f 6772 2c20 726d 5f65 7870 7329  (up_gr, rm_exps)
+0000c300: 0a0a 2020 2020 6465 6620 6372 6561 7465  ..    def create
+0000c310: 4772 6f75 7028 7365 6c66 2c20 6e61 6d65  Group(self, name
+0000c320: 2c20 7065 726d 6973 7369 6f6e 732c 2064  , permissions, d
+0000c330: 6573 6372 6970 7469 6f6e 3d4e 6f6e 6529  escription=None)
+0000c340: 3a0a 2020 2020 2020 2020 2222 220a 2020  :.        """.  
+0000c350: 2020 2020 2020 4372 6561 7465 2061 6e64        Create and
+0000c360: 2072 6574 7572 6e20 6120 6e65 7720 6772   return a new gr
+0000c370: 6f75 7020 7769 7468 2074 6865 2067 6976  oup with the giv
+0000c380: 656e 206f 776e 6572 732e 0a0a 2020 2020  en owners...    
+0000c390: 2020 2020 4070 6172 616d 2067 726f 7570      @param group
+0000c3a0: 2020 2020 2020 2020 4120 6e65 7720 4578          A new Ex
+0000c3b0: 7065 7269 6d65 6e74 6572 4772 6f75 7020  perimenterGroup 
+0000c3c0: 696e 7374 616e 6365 2e0a 2020 2020 2020  instance..      
+0000c3d0: 2020 4074 7970 6520 6772 6f75 7020 2020    @type group   
+0000c3e0: 2020 2020 2020 4578 7065 7269 6d65 6e74        Experiment
+0000c3f0: 6572 4772 6f75 7049 0a20 2020 2020 2020  erGroupI.       
+0000c400: 2040 7061 7261 6d20 6f77 6e65 7273 2020   @param owners  
+0000c410: 2020 2020 204c 6973 7420 6f66 2045 7870       List of Exp
+0000c420: 6572 696d 656e 7465 7220 696e 7374 616e  erimenter instan
+0000c430: 6365 732e 2043 616e 2062 6520 656d 7074  ces. Can be empt
+0000c440: 792e 0a20 2020 2020 2020 2040 7479 7065  y..        @type
+0000c450: 206f 776e 6572 7320 2020 2020 2020 204c   owners        L
+0000c460: 7b45 7870 6572 696d 656e 7465 7249 7d0a  {ExperimenterI}.
+0000c470: 2020 2020 2020 2020 4070 6172 616d 2070          @param p
+0000c480: 6572 6d69 7373 696f 6e73 2020 5065 726d  ermissions  Perm
+0000c490: 6973 7369 6f6e 7320 696e 7374 616e 6365  issions instance
+0000c4a0: 732e 0a20 2020 2020 2020 2040 7479 7065  s..        @type
+0000c4b0: 2070 6572 6d69 7373 696f 6e73 2020 204c   permissions   L
+0000c4c0: 7b50 6572 6d69 7373 696f 6e73 497d 0a20  {PermissionsI}. 
+0000c4d0: 2020 2020 2020 2040 7265 7475 726e 2020         @return  
+0000c4e0: 2020 2020 2020 2020 2020 2049 4420 6f66             ID of
+0000c4f0: 2074 6865 206e 6577 6c79 2063 7265 6174   the newly creat
+0000c500: 6564 2045 7870 6572 696d 656e 7465 7247  ed ExperimenterG
+0000c510: 726f 7570 204e 6f74 0a20 2020 2020 2020  roup Not.       
+0000c520: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000c530: 2020 2020 206e 756c 6c2e 0a20 2020 2020       null..     
+0000c540: 2020 2040 7274 7970 6520 2020 2020 2020     @rtype       
+0000c550: 2020 2020 2020 204c 6f6e 670a 2020 2020         Long.    
+0000c560: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
+0000c570: 6e65 775f 6772 203d 2045 7870 6572 696d  new_gr = Experim
+0000c580: 656e 7465 7247 726f 7570 4928 290a 2020  enterGroupI().  
+0000c590: 2020 2020 2020 6e65 775f 6772 2e6e 616d        new_gr.nam
+0000c5a0: 6520 3d20 7273 7472 696e 6728 7374 7228  e = rstring(str(
+0000c5b0: 6e61 6d65 2929 0a20 2020 2020 2020 206e  name)).        n
+0000c5c0: 6577 5f67 722e 6465 7363 7269 7074 696f  ew_gr.descriptio
+0000c5d0: 6e20 3d20 280a 2020 2020 2020 2020 2020  n = (.          
+0000c5e0: 2020 2864 6573 6372 6970 7469 6f6e 2021    (description !
+0000c5f0: 3d20 2222 2061 6e64 2064 6573 6372 6970  = "" and descrip
+0000c600: 7469 6f6e 2069 7320 6e6f 7420 4e6f 6e65  tion is not None
+0000c610: 290a 2020 2020 2020 2020 2020 2020 616e  ).            an
+0000c620: 6420 7273 7472 696e 6728 7374 7228 6465  d rstring(str(de
+0000c630: 7363 7269 7074 696f 6e29 290a 2020 2020  scription)).    
+0000c640: 2020 2020 2020 2020 6f72 204e 6f6e 650a          or None.
+0000c650: 2020 2020 2020 2020 290a 2020 2020 2020          ).      
+0000c660: 2020 6e65 775f 6772 2e6c 6461 7020 3d20    new_gr.ldap = 
+0000c670: 7262 6f6f 6c28 4661 6c73 6529 0a20 2020  rbool(False).   
+0000c680: 2020 2020 206e 6577 5f67 722e 6465 7461       new_gr.deta
+0000c690: 696c 732e 7065 726d 6973 7369 6f6e 7320  ils.permissions 
+0000c6a0: 3d20 7065 726d 6973 7369 6f6e 730a 0a20  = permissions.. 
+0000c6b0: 2020 2020 2020 2061 646d 696e 5f73 6572         admin_ser
+0000c6c0: 7620 3d20 7365 6c66 2e67 6574 4164 6d69  v = self.getAdmi
+0000c6d0: 6e53 6572 7669 6365 2829 0a20 2020 2020  nService().     
+0000c6e0: 2020 2067 725f 6964 203d 2061 646d 696e     gr_id = admin
+0000c6f0: 5f73 6572 762e 6372 6561 7465 4772 6f75  _serv.createGrou
+0000c700: 7028 6e65 775f 6772 290a 2020 2020 2020  p(new_gr).      
+0000c710: 2020 7265 7475 726e 2067 725f 6964 0a0a    return gr_id..
+0000c720: 2020 2020 6465 6620 7570 6461 7465 4772      def updateGr
+0000c730: 6f75 7028 7365 6c66 2c20 6772 6f75 702c  oup(self, group,
+0000c740: 206e 616d 652c 2070 6572 6d69 7373 696f   name, permissio
+0000c750: 6e73 2c20 6465 7363 7269 7074 696f 6e3d  ns, description=
+0000c760: 4e6f 6e65 293a 0a20 2020 2020 2020 2022  None):.        "
+0000c770: 2222 0a20 2020 2020 2020 2055 7064 6174  "".        Updat
+0000c780: 6520 616e 2065 7869 7374 696e 6720 6772  e an existing gr
+0000c790: 6f75 702e 0a0a 2020 2020 2020 2020 4070  oup...        @p
+0000c7a0: 6172 616d 2067 726f 7570 2020 2020 2020  aram group      
+0000c7b0: 2020 4120 6e65 7720 4578 7065 7269 6d65    A new Experime
+0000c7c0: 6e74 6572 4772 6f75 7020 696e 7374 616e  nterGroup instan
+0000c7d0: 6365 2e0a 2020 2020 2020 2020 4074 7970  ce..        @typ
+0000c7e0: 6520 6772 6f75 7020 2020 2020 2020 2020  e group         
+0000c7f0: 4578 7065 7269 6d65 6e74 6572 4772 6f75  ExperimenterGrou
+0000c800: 7049 0a20 2020 2020 2020 2040 7061 7261  pI.        @para
+0000c810: 6d20 6e61 6d65 2020 2020 2020 2020 2041  m name         A
+0000c820: 206e 6577 2067 726f 7570 206e 616d 652e   new group name.
+0000c830: 0a20 2020 2020 2020 2040 7479 7065 206e  .        @type n
+0000c840: 616d 6520 2020 2020 2020 2020 2053 7472  ame          Str
+0000c850: 696e 670a 2020 2020 2020 2020 4070 6172  ing.        @par
+0000c860: 616d 2070 6572 6d69 7373 696f 6e73 2020  am permissions  
+0000c870: 5065 726d 6973 7369 6f6e 7320 696e 7374  Permissions inst
+0000c880: 616e 6365 732e 0a20 2020 2020 2020 2040  ances..        @
+0000c890: 7479 7065 2070 6572 6d69 7373 696f 6e73  type permissions
+0000c8a0: 2020 204c 7b50 6572 6d69 7373 696f 6e73     L{Permissions
+0000c8b0: 497d 0a20 2020 2020 2020 2040 7061 7261  I}.        @para
+0000c8c0: 6d20 6465 7363 7269 7074 696f 6e20 2041  m description  A
+0000c8d0: 2064 6573 6372 6970 7469 6f6e 2e0a 2020   description..  
+0000c8e0: 2020 2020 2020 4074 7970 6520 6465 7363        @type desc
+0000c8f0: 7269 7074 696f 6e20 2020 5374 7269 6e67  ription   String
+0000c900: 0a0a 2020 2020 2020 2020 2222 220a 0a20  ..        """.. 
+0000c910: 2020 2020 2020 2075 705f 6772 203d 2067         up_gr = g
+0000c920: 726f 7570 2e5f 6f62 6a0a 2020 2020 2020  roup._obj.      
+0000c930: 2020 7570 5f67 722e 6e61 6d65 203d 2072    up_gr.name = r
+0000c940: 7374 7269 6e67 2873 7472 286e 616d 6529  string(str(name)
+0000c950: 290a 2020 2020 2020 2020 7570 5f67 722e  ).        up_gr.
+0000c960: 6465 7363 7269 7074 696f 6e20 3d20 280a  description = (.
+0000c970: 2020 2020 2020 2020 2020 2020 2864 6573              (des
+0000c980: 6372 6970 7469 6f6e 2021 3d20 2222 2061  cription != "" a
+0000c990: 6e64 2064 6573 6372 6970 7469 6f6e 2069  nd description i
+0000c9a0: 7320 6e6f 7420 4e6f 6e65 290a 2020 2020  s not None).    
+0000c9b0: 2020 2020 2020 2020 616e 6420 7273 7472          and rstr
+0000c9c0: 696e 6728 7374 7228 6465 7363 7269 7074  ing(str(descript
+0000c9d0: 696f 6e29 290a 2020 2020 2020 2020 2020  ion)).          
+0000c9e0: 2020 6f72 204e 6f6e 650a 2020 2020 2020    or None.      
+0000c9f0: 2020 290a 0a20 2020 2020 2020 206d 7367    )..        msg
+0000ca00: 7320 3d20 5b5d 0a20 2020 2020 2020 2061  s = [].        a
+0000ca10: 646d 696e 5f73 6572 7620 3d20 7365 6c66  dmin_serv = self
+0000ca20: 2e67 6574 4164 6d69 6e53 6572 7669 6365  .getAdminService
+0000ca30: 2829 0a20 2020 2020 2020 2061 646d 696e  ().        admin
+0000ca40: 5f73 6572 762e 7570 6461 7465 4772 6f75  _serv.updateGrou
+0000ca50: 7028 7570 5f67 7229 0a0a 2020 2020 2020  p(up_gr)..      
+0000ca60: 2020 6966 2073 7472 2870 6572 6d69 7373    if str(permiss
+0000ca70: 696f 6e73 2920 213d 2073 7472 2875 705f  ions) != str(up_
+0000ca80: 6772 2e64 6574 6169 6c73 2e67 6574 5065  gr.details.getPe
+0000ca90: 726d 6973 7369 6f6e 7328 2929 3a0a 2020  rmissions()):.  
+0000caa0: 2020 2020 2020 2020 2020 6572 7220 3d20            err = 
+0000cab0: 7365 6c66 2e75 7064 6174 6550 6572 6d69  self.updatePermi
+0000cac0: 7373 696f 6e73 2867 726f 7570 2c20 7065  ssions(group, pe
+0000cad0: 726d 6973 7369 6f6e 7329 0a20 2020 2020  rmissions).     
+0000cae0: 2020 2020 2020 2069 6620 6572 7220 6973         if err is
+0000caf0: 206e 6f74 204e 6f6e 653a 0a20 2020 2020   not None:.     
+0000cb00: 2020 2020 2020 2020 2020 206d 7367 732e             msgs.
+0000cb10: 6170 7065 6e64 2865 7272 290a 2020 2020  append(err).    
+0000cb20: 2020 2020 7265 7475 726e 206d 7367 730a      return msgs.
+0000cb30: 0a20 2020 2064 6566 2075 7064 6174 654d  .    def updateM
+0000cb40: 7941 6363 6f75 6e74 280a 2020 2020 2020  yAccount(.      
+0000cb50: 2020 7365 6c66 2c0a 2020 2020 2020 2020    self,.        
+0000cb60: 6578 7065 7269 6d65 6e74 6572 2c0a 2020  experimenter,.  
+0000cb70: 2020 2020 2020 6669 7273 744e 616d 652c        firstName,
+0000cb80: 0a20 2020 2020 2020 206c 6173 744e 616d  .        lastNam
+0000cb90: 652c 0a20 2020 2020 2020 2065 6d61 696c  e,.        email
+0000cba0: 2c0a 2020 2020 2020 2020 6465 6661 756c  ,.        defaul
+0000cbb0: 7447 726f 7570 4964 2c0a 2020 2020 2020  tGroupId,.      
+0000cbc0: 2020 6d69 6464 6c65 4e61 6d65 3d4e 6f6e    middleName=Non
+0000cbd0: 652c 0a20 2020 2020 2020 2069 6e73 7469  e,.        insti
+0000cbe0: 7475 7469 6f6e 3d4e 6f6e 652c 0a20 2020  tution=None,.   
+0000cbf0: 2029 3a0a 2020 2020 2020 2020 2222 220a   ):.        """.
+0000cc00: 2020 2020 2020 2020 416c 6c6f 7773 2061          Allows a
+0000cc10: 2075 7365 7220 746f 2075 7064 6174 6520   user to update 
+0000cc20: 6869 732f 6865 7220 6f77 6e20 696e 666f  his/her own info
+0000cc30: 726d 6174 696f 6e20 616e 6420 7365 7420  rmation and set 
+0000cc40: 7468 6520 6465 6661 756c 740a 2020 2020  the default.    
+0000cc50: 2020 2020 6772 6f75 7020 666f 7220 6120      group for a 
+0000cc60: 6769 7665 6e20 7573 6572 2e0a 2020 2020  given user..    
+0000cc70: 2020 2020 4070 6172 616d 2065 7870 6572      @param exper
+0000cc80: 696d 656e 7465 7220 2020 2020 4120 6461  imenter     A da
+0000cc90: 7461 2074 7261 6e73 6665 7220 6f62 6a65  ta transfer obje
+0000cca0: 6374 2e20 4f6e 6c79 2074 6865 2066 6965  ct. Only the fie
+0000ccb0: 6c64 733a 0a20 2020 2020 2020 2020 2020  lds:.           
+0000ccc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000ccd0: 2020 2020 2066 6972 7374 4e61 6d65 2c20       firstName, 
+0000cce0: 6d69 6464 6c65 4e61 6d65 2c20 6c61 7374  middleName, last
+0000ccf0: 4e61 6d65 2c20 656d 6169 6c2c 2061 6e64  Name, email, and
+0000cd00: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000cd10: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000cd20: 2069 6e73 7469 7475 7469 6f6e 2061 7265   institution are
+0000cd30: 2063 6865 636b 6564 2e20 4e6f 7420 6e75   checked. Not nu
+0000cd40: 6c6c 2e0a 2020 2020 2020 2020 4074 7970  ll..        @typ
+0000cd50: 6520 6578 7065 7269 6d65 6e74 6572 2020  e experimenter  
+0000cd60: 2020 2020 4578 7065 7269 6d65 6e74 6572      Experimenter
+0000cd70: 5772 6170 7065 720a 2020 2020 2020 2020  Wrapper.        
+0000cd80: 4070 6172 616d 2066 6972 7374 4e61 6d65  @param firstName
+0000cd90: 2020 2020 2020 2020 4120 6e65 7720 6669          A new fi
+0000cda0: 7273 7420 6e61 6d65 2e0a 2020 2020 2020  rst name..      
+0000cdb0: 2020 4074 7970 6520 6669 7273 744e 616d    @type firstNam
+0000cdc0: 6520 2020 2020 2020 2020 5374 7269 6e67  e         String
+0000cdd0: 0a20 2020 2020 2020 2040 7061 7261 6d20  .        @param 
+0000cde0: 6c61 7374 4e61 6d65 2020 2020 2020 2020  lastName        
+0000cdf0: 2041 206e 6577 206c 6173 7420 6e61 6d65   A new last name
+0000ce00: 2e0a 2020 2020 2020 2020 4074 7970 6520  ..        @type 
+0000ce10: 6c61 7374 4e61 6d65 2020 2020 2020 2020  lastName        
+0000ce20: 2020 5374 7269 6e67 0a20 2020 2020 2020    String.       
+0000ce30: 2040 7061 7261 6d20 656d 6169 6c20 2020   @param email   
+0000ce40: 2020 2020 2020 2020 2041 206e 6577 2065           A new e
+0000ce50: 6d61 696c 2e0a 2020 2020 2020 2020 4074  mail..        @t
+0000ce60: 7970 6520 656d 6169 6c20 2020 2020 2020  ype email       
+0000ce70: 2020 2020 2020 5374 7269 6e67 0a20 2020        String.   
+0000ce80: 2020 2020 2040 7061 7261 6d20 6465 6661       @param defa
+0000ce90: 756c 7447 726f 7570 2020 2020 2049 6e73  ultGroup     Ins
+0000cea0: 7461 6e63 6520 6f66 2045 7870 6572 696d  tance of Experim
+0000ceb0: 656e 7465 7247 726f 7570 2073 656c 6563  enterGroup selec
+0000cec0: 7465 6420 6173 2061 0a20 2020 2020 2020  ted as a.       
+0000ced0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000cee0: 2020 2020 2020 2020 2066 6972 7374 2061           first a
+0000cef0: 6374 6976 6520 6772 6f75 702e 0a20 2020  ctive group..   
+0000cf00: 2020 2020 2040 7479 7065 2064 6566 6175       @type defau
+0000cf10: 6c74 4772 6f75 7020 2020 2020 2045 7870  ltGroup      Exp
+0000cf20: 6572 696d 656e 7465 7247 726f 7570 490a  erimenterGroupI.
+0000cf30: 2020 2020 2020 2020 4070 6172 616d 206d          @param m
+0000cf40: 6964 646c 654e 616d 6520 2020 2020 2020  iddleName       
+0000cf50: 4120 6d69 6464 6c65 206e 616d 652e 0a20  A middle name.. 
+0000cf60: 2020 2020 2020 2040 7479 7065 206d 6964         @type mid
+0000cf70: 646c 654e 616d 6520 2020 2020 2020 2053  dleName        S
+0000cf80: 7472 696e 670a 2020 2020 2020 2020 4070  tring.        @p
+0000cf90: 6172 616d 2069 6e73 7469 7475 7469 6f6e  aram institution
+0000cfa0: 2020 2020 2020 416e 2069 6e73 7469 7475        An institu
+0000cfb0: 7469 6f6e 2e0a 2020 2020 2020 2020 4074  tion..        @t
+0000cfc0: 7970 6520 696e 7374 6974 7574 696f 6e20  ype institution 
+0000cfd0: 2020 2020 2020 5374 7269 6e67 0a20 2020        String.   
+0000cfe0: 2020 2020 2022 2222 0a0a 2020 2020 2020       """..      
+0000cff0: 2020 7570 5f65 7870 203d 2065 7870 6572    up_exp = exper
+0000d000: 696d 656e 7465 722e 5f6f 626a 0a20 2020  imenter._obj.   
+0000d010: 2020 2020 2075 705f 6578 702e 6669 7273       up_exp.firs
+0000d020: 744e 616d 6520 3d20 7273 7472 696e 6728  tName = rstring(
+0000d030: 7374 7228 6669 7273 744e 616d 6529 290a  str(firstName)).
+0000d040: 2020 2020 2020 2020 7570 5f65 7870 2e6d          up_exp.m
+0000d050: 6964 646c 654e 616d 6520 3d20 6d69 6464  iddleName = midd
+0000d060: 6c65 4e61 6d65 2069 7320 6e6f 7420 4e6f  leName is not No
+0000d070: 6e65 2061 6e64 2072 7374 7269 6e67 2873  ne and rstring(s
+0000d080: 7472 286d 6964 646c 654e 616d 6529 2920  tr(middleName)) 
+0000d090: 6f72 204e 6f6e 650a 2020 2020 2020 2020  or None.        
+0000d0a0: 7570 5f65 7870 2e6c 6173 744e 616d 6520  up_exp.lastName 
+0000d0b0: 3d20 7273 7472 696e 6728 7374 7228 6c61  = rstring(str(la
+0000d0c0: 7374 4e61 6d65 2929 0a20 2020 2020 2020  stName)).       
+0000d0d0: 2075 705f 6578 702e 656d 6169 6c20 3d20   up_exp.email = 
+0000d0e0: 7273 7472 696e 6728 7374 7228 656d 6169  rstring(str(emai
+0000d0f0: 6c29 290a 2020 2020 2020 2020 7570 5f65  l)).        up_e
+0000d100: 7870 2e69 6e73 7469 7475 7469 6f6e 203d  xp.institution =
+0000d110: 2028 0a20 2020 2020 2020 2020 2020 2028   (.            (
+0000d120: 696e 7374 6974 7574 696f 6e20 213d 2022  institution != "
+0000d130: 2220 616e 6420 696e 7374 6974 7574 696f  " and institutio
+0000d140: 6e20 6973 206e 6f74 204e 6f6e 6529 0a20  n is not None). 
+0000d150: 2020 2020 2020 2020 2020 2061 6e64 2072             and r
+0000d160: 7374 7269 6e67 2873 7472 2869 6e73 7469  string(str(insti
+0000d170: 7475 7469 6f6e 2929 0a20 2020 2020 2020  tution)).       
+0000d180: 2020 2020 206f 7220 4e6f 6e65 0a20 2020       or None.   
+0000d190: 2020 2020 2029 0a0a 2020 2020 2020 2020       )..        
+0000d1a0: 6164 6d69 6e5f 7365 7276 203d 2073 656c  admin_serv = sel
+0000d1b0: 662e 6765 7441 646d 696e 5365 7276 6963  f.getAdminServic
+0000d1c0: 6528 290a 2020 2020 2020 2020 6164 6d69  e().        admi
+0000d1d0: 6e5f 7365 7276 2e75 7064 6174 6553 656c  n_serv.updateSel
+0000d1e0: 6628 7570 5f65 7870 290a 2020 2020 2020  f(up_exp).      
+0000d1f0: 2020 6465 6661 756c 7447 726f 7570 203d    defaultGroup =
+0000d200: 2073 656c 662e 6765 744f 626a 6563 7428   self.getObject(
+0000d210: 2245 7870 6572 696d 656e 7465 7247 726f  "ExperimenterGro
+0000d220: 7570 222c 2069 6e74 2864 6566 6175 6c74  up", int(default
+0000d230: 4772 6f75 7049 6429 292e 5f6f 626a 0a20  GroupId))._obj. 
+0000d240: 2020 2020 2020 2061 646d 696e 5f73 6572         admin_ser
+0000d250: 762e 7365 7444 6566 6175 6c74 4772 6f75  v.setDefaultGrou
+0000d260: 7028 7570 5f65 7870 2c20 6465 6661 756c  p(up_exp, defaul
+0000d270: 7447 726f 7570 290a 2020 2020 2020 2020  tGroup).        
+0000d280: 7365 6c66 2e63 6861 6e67 6541 6374 6976  self.changeActiv
+0000d290: 6547 726f 7570 2864 6566 6175 6c74 4772  eGroup(defaultGr
+0000d2a0: 6f75 702e 6964 290a 0a20 2020 2064 6566  oup.id)..    def
+0000d2b0: 2073 6574 4465 6661 756c 7447 726f 7570   setDefaultGroup
+0000d2c0: 2873 656c 662c 2067 726f 7570 5f69 642c  (self, group_id,
+0000d2d0: 2065 7870 5f69 643d 4e6f 6e65 293a 0a20   exp_id=None):. 
+0000d2e0: 2020 2020 2020 2022 2222 0a20 2020 2020         """.     
+0000d2f0: 2020 2053 6574 7320 7468 6520 6465 6661     Sets the defa
+0000d300: 756c 7420 6772 6f75 7020 666f 7220 7468  ult group for th
+0000d310: 6520 7370 6563 6966 6965 6420 6578 7065  e specified expe
+0000d320: 7269 6d65 6e74 6572 2c20 6f72 2063 7572  rimenter, or cur
+0000d330: 7265 6e74 2075 7365 720a 2020 2020 2020  rent user.      
+0000d340: 2020 6966 206e 6f74 2073 7065 6369 6669    if not specifi
+0000d350: 6564 2e0a 2020 2020 2020 2020 2222 220a  ed..        """.
+0000d360: 2020 2020 2020 2020 6772 6f75 705f 6964          group_id
+0000d370: 203d 2069 6e74 2867 726f 7570 5f69 6429   = int(group_id)
+0000d380: 0a20 2020 2020 2020 2065 7870 5f69 6420  .        exp_id 
+0000d390: 3d20 6578 705f 6964 2069 7320 6e6f 7420  = exp_id is not 
+0000d3a0: 4e6f 6e65 2061 6e64 2069 6e74 2865 7870  None and int(exp
+0000d3b0: 5f69 6429 206f 7220 7365 6c66 2e67 6574  _id) or self.get
+0000d3c0: 4576 656e 7443 6f6e 7465 7874 2829 2e75  EventContext().u
+0000d3d0: 7365 7249 640a 2020 2020 2020 2020 6164  serId.        ad
+0000d3e0: 6d69 6e5f 7365 7276 203d 2073 656c 662e  min_serv = self.
+0000d3f0: 6765 7441 646d 696e 5365 7276 6963 6528  getAdminService(
+0000d400: 290a 2020 2020 2020 2020 6164 6d69 6e5f  ).        admin_
+0000d410: 7365 7276 2e73 6574 4465 6661 756c 7447  serv.setDefaultG
+0000d420: 726f 7570 280a 2020 2020 2020 2020 2020  roup(.          
+0000d430: 2020 4578 7065 7269 6d65 6e74 6572 4928    ExperimenterI(
+0000d440: 6578 705f 6964 2c20 4661 6c73 6529 2c20  exp_id, False), 
+0000d450: 4578 7065 7269 6d65 6e74 6572 4772 6f75  ExperimenterGrou
+0000d460: 7049 2867 726f 7570 5f69 642c 2046 616c  pI(group_id, Fal
+0000d470: 7365 290a 2020 2020 2020 2020 290a 0a20  se).        ).. 
+0000d480: 2020 2064 6566 2075 7064 6174 6550 6572     def updatePer
+0000d490: 6d69 7373 696f 6e73 2873 656c 662c 2067  missions(self, g
+0000d4a0: 726f 7570 2c20 7065 726d 6973 7369 6f6e  roup, permission
+0000d4b0: 7329 3a0a 2020 2020 2020 2020 2222 220a  s):.        """.
+0000d4c0: 2020 2020 2020 2020 416c 6c6f 7720 746f          Allow to
+0000d4d0: 2063 6861 6e67 6520 7468 6520 7065 726d   change the perm
+0000d4e0: 6973 7369 6f6e 206f 6620 7468 6520 6772  ission of the gr
+0000d4f0: 6f75 702e 0a0a 2020 2020 2020 2020 4070  oup...        @p
+0000d500: 6172 616d 2067 726f 7570 2020 2020 2020  aram group      
+0000d510: 4120 7772 6170 7065 6420 656e 7469 7479  A wrapped entity
+0000d520: 206f 7220 616e 2075 6e6c 6f61 6465 6420   or an unloaded 
+0000d530: 7265 6665 7265 6e63 6520 746f 2061 6e0a  reference to an.
+0000d540: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000d550: 2020 2020 2020 2020 656e 7469 7479 2e20          entity. 
+0000d560: 4e6f 7420 6e75 6c6c 2e0a 2020 2020 2020  Not null..      
+0000d570: 2020 4074 7970 6520 6772 6f75 7020 2020    @type group   
+0000d580: 2020 2020 426c 6974 7a4f 626a 6563 7457      BlitzObjectW
+0000d590: 7261 7070 6572 0a20 2020 2020 2020 2040  rapper.        @
+0000d5a0: 7061 7261 6d20 7065 726d 2020 2020 2054  param perm     T
+0000d5b0: 6865 2070 6572 6d69 7373 696f 6e73 2076  he permissions v
+0000d5c0: 616c 7565 2066 6f72 2074 6869 7320 656e  alue for this en
+0000d5d0: 7469 7479 2e20 4e6f 7420 6e75 6c6c 2e0a  tity. Not null..
+0000d5e0: 2020 2020 2020 2020 4074 7970 6520 7065          @type pe
+0000d5f0: 726d 2020 2020 2020 5065 726d 6973 7369  rm      Permissi
+0000d600: 6f6e 7349 0a20 2020 2020 2020 2022 2222  onsI.        """
+0000d610: 0a0a 2020 2020 2020 2020 7065 726d 7320  ..        perms 
+0000d620: 3d20 7374 7228 7065 726d 6973 7369 6f6e  = str(permission
+0000d630: 7329 0a20 2020 2020 2020 206c 6f67 6765  s).        logge
+0000d640: 722e 6465 6275 6728 2243 686d 6f64 206f  r.debug("Chmod o
+0000d650: 6620 6772 6f75 7020 4944 3a20 2573 2074  f group ID: %s t
+0000d660: 6f20 2573 2220 2520 2867 726f 7570 2e69  o %s" % (group.i
+0000d670: 642c 2070 6572 6d73 2929 0a20 2020 2020  d, perms)).     
+0000d680: 2020 2063 6f6d 6d61 6e64 203d 2043 686d     command = Chm
+0000d690: 6f64 3228 0a20 2020 2020 2020 2020 2020  od2(.           
+0000d6a0: 2074 6172 6765 744f 626a 6563 7473 3d7b   targetObjects={
+0000d6b0: 2245 7870 6572 696d 656e 7465 7247 726f  "ExperimenterGro
+0000d6c0: 7570 223a 205b 6772 6f75 702e 6964 5d7d  up": [group.id]}
+0000d6d0: 2c20 7065 726d 6973 7369 6f6e 733d 7065  , permissions=pe
+0000d6e0: 726d 730a 2020 2020 2020 2020 290a 2020  rms.        ).  
+0000d6f0: 2020 2020 2020 6362 203d 204e 6f6e 650a        cb = None.
+0000d700: 2020 2020 2020 2020 6d65 7373 6167 6520          message 
+0000d710: 3d20 4e6f 6e65 0a20 2020 2020 2020 2074  = None.        t
+0000d720: 7279 3a0a 2020 2020 2020 2020 2020 2020  ry:.            
+0000d730: 6362 203d 2073 656c 662e 632e 7375 626d  cb = self.c.subm
+0000d740: 6974 2863 6f6d 6d61 6e64 2c20 6c6f 6f70  it(command, loop
+0000d750: 733d 3132 3029 0a20 2020 2020 2020 2065  s=120).        e
+0000d760: 7863 6570 7420 6f6d 6572 6f2e 436d 6445  xcept omero.CmdE
+0000d770: 7272 6f72 2061 7320 6578 3a0a 2020 2020  rror as ex:.    
+0000d780: 2020 2020 2020 2020 6d65 7373 6167 6520          message 
+0000d790: 3d20 6578 2e65 7272 2e6d 6573 7361 6765  = ex.err.message
+0000d7a0: 0a20 2020 2020 2020 2066 696e 616c 6c79  .        finally
+0000d7b0: 3a0a 2020 2020 2020 2020 2020 2020 6966  :.            if
+0000d7c0: 2063 623a 0a20 2020 2020 2020 2020 2020   cb:.           
+0000d7d0: 2020 2020 2063 622e 636c 6f73 6528 5472       cb.close(Tr
+0000d7e0: 7565 290a 2020 2020 2020 2020 7265 7475  ue).        retu
+0000d7f0: 726e 206d 6573 7361 6765 0a0a 2020 2020  rn message..    
+0000d800: 6465 6620 7361 7665 4f62 6a65 6374 2873  def saveObject(s
+0000d810: 656c 662c 206f 626a 2c20 6f77 6e65 723d  elf, obj, owner=
+0000d820: 4e6f 6e65 293a 0a20 2020 2020 2020 2022  None):.        "
+0000d830: 2222 0a20 2020 2020 2020 2050 726f 7669  "".        Provi
+0000d840: 6465 206d 6574 686f 6420 666f 7220 6469  de method for di
+0000d850: 7265 6374 6c79 2075 7064 6174 696e 6720  rectly updating 
+0000d860: 6f62 6a65 6374 2067 7261 7068 732e 2041  object graphs. A
+0000d870: 6374 2072 6563 7572 7369 7665 6c79 206f  ct recursively o
+0000d880: 6e0a 2020 2020 2020 2020 7468 6520 656e  n.        the en
+0000d890: 7469 7265 206f 626a 6563 7420 6772 6170  tire object grap
+0000d8a0: 682c 2072 6570 6c61 6369 6e67 2070 6c61  h, replacing pla
+0000d8b0: 6365 686f 6c64 6572 7320 616e 6420 6465  ceholders and de
+0000d8c0: 7461 696c 7320 7768 6572 650a 2020 2020  tails where.    
+0000d8d0: 2020 2020 6e65 6365 7373 6172 792c 2061      necessary, a
+0000d8e0: 6e64 2074 6865 6e20 226d 6572 6769 6e67  nd then "merging
+0000d8f0: 2220 7468 6520 6669 6e61 6c20 6772 6170  " the final grap
+0000d900: 682e 2054 6869 7320 6d65 616e 7320 7468  h. This means th
+0000d910: 6174 2074 6865 0a20 2020 2020 2020 206f  at the.        o
+0000d920: 626a 6563 7473 2074 6861 7420 6172 6520  bjects that are 
+0000d930: 7061 7373 6564 2069 6e74 6f20 6d65 7468  passed into meth
+0000d940: 6f64 7320 6172 6520 636f 7069 6564 206f  ods are copied o
+0000d950: 7665 7220 746f 206e 6577 2069 6e73 7461  ver to new insta
+0000d960: 6e63 6573 0a20 2020 2020 2020 2077 6869  nces.        whi
+0000d970: 6368 2061 7265 2074 6865 6e20 7265 7475  ch are then retu
+0000d980: 726e 6564 2e0a 2020 2020 2020 2020 5468  rned..        Th
+0000d990: 6520 6f72 6967 696e 616c 206f 626a 6563  e original objec
+0000d9a0: 7473 2073 686f 756c 6420 6265 2064 6973  ts should be dis
+0000d9b0: 6361 7264 6564 2e0a 0a20 2020 2020 2020  carded...       
+0000d9c0: 2040 7061 7261 6d20 6f62 6a20 2020 2020   @param obj     
+0000d9d0: 2041 6e20 656e 7469 7479 206f 7220 616e   An entity or an
+0000d9e0: 2075 6e6c 6f61 6465 6420 7265 6665 7265   unloaded refere
+0000d9f0: 6e63 6520 746f 2061 6e20 656e 7469 7479  nce to an entity
+0000da00: 2e20 4e6f 740a 2020 2020 2020 2020 2020  . Not.          
+0000da10: 2020 2020 2020 2020 2020 2020 2020 6e75                nu
+0000da20: 6c6c 2e0a 2020 2020 2020 2020 4074 7970  ll..        @typ
+0000da30: 6520 6f62 6a20 2020 2020 2020 4f62 6a65  e obj       Obje
+0000da40: 6374 490a 2020 2020 2020 2020 2222 220a  ctI.        """.
+0000da50: 2020 2020 2020 2020 6374 7820 3d20 7365          ctx = se
+0000da60: 6c66 2e53 4552 5649 4345 5f4f 5054 532e  lf.SERVICE_OPTS.
+0000da70: 636f 7079 2829 0a20 2020 2020 2020 2069  copy().        i
+0000da80: 6620 6f77 6e65 7220 6973 206e 6f74 204e  f owner is not N
+0000da90: 6f6e 653a 0a20 2020 2020 2020 2020 2020  one:.           
+0000daa0: 2063 7478 2e73 6574 4f6d 6572 6f55 7365   ctx.setOmeroUse
+0000dab0: 7228 6f77 6e65 7229 0a20 2020 2020 2020  r(owner).       
+0000dac0: 2075 203d 2073 656c 662e 6765 7455 7064   u = self.getUpd
+0000dad0: 6174 6553 6572 7669 6365 2829 0a20 2020  ateService().   
+0000dae0: 2020 2020 2075 2e73 6176 654f 626a 6563       u.saveObjec
+0000daf0: 7428 6f62 6a2c 2063 7478 290a 0a20 2020  t(obj, ctx)..   
+0000db00: 2064 6566 2073 6176 6541 7272 6179 2873   def saveArray(s
+0000db10: 656c 662c 206f 626a 732c 206f 776e 6572  elf, objs, owner
+0000db20: 3d4e 6f6e 6529 3a0a 2020 2020 2020 2020  =None):.        
+0000db30: 2222 220a 2020 2020 2020 2020 5072 6f76  """.        Prov
+0000db40: 6964 6520 6d65 7468 6f64 2066 6f72 2064  ide method for d
+0000db50: 6972 6563 746c 7920 7570 6461 7469 6e67  irectly updating
+0000db60: 206c 6973 7420 6f66 206f 626a 6563 7420   list of object 
+0000db70: 6772 6170 6873 2e20 4163 740a 2020 2020  graphs. Act.    
+0000db80: 2020 2020 7265 6375 7273 6976 656c 7920      recursively 
+0000db90: 6f6e 2074 6865 2065 6e74 6972 6520 6f62  on the entire ob
+0000dba0: 6a65 6374 2067 7261 7068 2c20 7265 706c  ject graph, repl
+0000dbb0: 6163 696e 6720 706c 6163 6568 6f6c 6465  acing placeholde
+0000dbc0: 7273 2061 6e64 0a20 2020 2020 2020 2064  rs and.        d
+0000dbd0: 6574 6169 6c73 2077 6865 7265 206e 6563  etails where nec
+0000dbe0: 6573 7361 7279 2c20 616e 6420 7468 656e  essary, and then
+0000dbf0: 2022 6d65 7267 696e 6722 2074 6865 2066   "merging" the f
+0000dc00: 696e 616c 2067 7261 7068 2e20 5468 6973  inal graph. This
+0000dc10: 0a20 2020 2020 2020 206d 6561 6e73 2074  .        means t
+0000dc20: 6861 7420 7468 6520 6f62 6a65 6374 7320  hat the objects 
+0000dc30: 7468 6174 2061 7265 2070 6173 7365 6420  that are passed 
+0000dc40: 696e 746f 206d 6574 686f 6473 2061 7265  into methods are
+0000dc50: 2063 6f70 6965 6420 6f76 6572 2074 6f0a   copied over to.
+0000dc60: 2020 2020 2020 2020 6e65 7720 696e 7374          new inst
+0000dc70: 616e 6365 7320 7768 6963 6820 6172 6520  ances which are 
+0000dc80: 7468 656e 2072 6574 7572 6e65 642e 0a20  then returned.. 
+0000dc90: 2020 2020 2020 2054 6865 206f 7269 6769         The origi
+0000dca0: 6e61 6c20 6f62 6a65 6374 7320 7368 6f75  nal objects shou
+0000dcb0: 6c64 2062 6520 6469 7363 6172 6465 642e  ld be discarded.
+0000dcc0: 0a0a 2020 2020 2020 2020 4070 6172 616d  ..        @param
+0000dcd0: 206f 626a 2020 2020 2020 4c69 7374 206f   obj      List o
+0000dce0: 6620 656e 7469 7469 6573 206f 7220 616e  f entities or an
+0000dcf0: 2075 6e6c 6f61 6465 6420 7265 6665 7265   unloaded refere
+0000dd00: 6e63 6573 2074 6f20 616e 0a20 2020 2020  nces to an.     
+0000dd10: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000dd20: 2020 2065 6e74 6974 792e 204e 6f74 206e     entity. Not n
+0000dd30: 756c 6c2e 0a20 2020 2020 2020 2040 7479  ull..        @ty
+0000dd40: 7065 206f 626a 2020 2020 2020 204c 7b4f  pe obj       L{O
+0000dd50: 626a 6563 7449 7d0a 2020 2020 2020 2020  bjectI}.        
+0000dd60: 2222 220a 2020 2020 2020 2020 6374 7820  """.        ctx 
+0000dd70: 3d20 7365 6c66 2e53 4552 5649 4345 5f4f  = self.SERVICE_O
+0000dd80: 5054 532e 636f 7079 2829 0a20 2020 2020  PTS.copy().     
+0000dd90: 2020 2069 6620 6f77 6e65 7220 6973 206e     if owner is n
+0000dda0: 6f74 204e 6f6e 653a 0a20 2020 2020 2020  ot None:.       
+0000ddb0: 2020 2020 2063 7478 2e73 6574 4f6d 6572       ctx.setOmer
+0000ddc0: 6f55 7365 7228 6f77 6e65 7229 0a20 2020  oUser(owner).   
+0000ddd0: 2020 2020 2075 203d 2073 656c 662e 6765       u = self.ge
+0000dde0: 7455 7064 6174 6553 6572 7669 6365 2829  tUpdateService()
+0000ddf0: 0a20 2020 2020 2020 2075 2e73 6176 6541  .        u.saveA
+0000de00: 7272 6179 286f 626a 732c 2063 7478 290a  rray(objs, ctx).
+0000de10: 0a20 2020 2064 6566 2073 6176 6541 6e64  .    def saveAnd
+0000de20: 5265 7475 726e 4f62 6a65 6374 2873 656c  ReturnObject(sel
+0000de30: 662c 206f 626a 2c20 6f77 6e65 723d 4e6f  f, obj, owner=No
+0000de40: 6e65 293a 0a20 2020 2020 2020 2022 2222  ne):.        """
+0000de50: 0a20 2020 2020 2020 2050 726f 7669 6465  .        Provide
+0000de60: 206d 6574 686f 6420 666f 7220 6469 7265   method for dire
+0000de70: 6374 6c79 2075 7064 6174 696e 6720 6f62  ctly updating ob
+0000de80: 6a65 6374 2067 7261 7068 7320 616e 6420  ject graphs and 
+0000de90: 7265 7475 726e 2069 742e 2041 6374 0a20  return it. Act. 
+0000dea0: 2020 2020 2020 2072 6563 7572 7369 7665         recursive
+0000deb0: 6c79 206f 6e20 7468 6520 656e 7469 7265  ly on the entire
+0000dec0: 206f 626a 6563 7420 6772 6170 682c 2072   object graph, r
+0000ded0: 6570 6c61 6369 6e67 2070 6c61 6365 686f  eplacing placeho
+0000dee0: 6c64 6572 7320 616e 640a 2020 2020 2020  lders and.      
+0000def0: 2020 6465 7461 696c 7320 7768 6572 6520    details where 
+0000df00: 6e65 6365 7373 6172 792c 2061 6e64 2074  necessary, and t
+0000df10: 6865 6e20 226d 6572 6769 6e67 2220 7468  hen "merging" th
+0000df20: 6520 6669 6e61 6c20 6772 6170 682e 2054  e final graph. T
+0000df30: 6869 730a 2020 2020 2020 2020 6d65 616e  his.        mean
+0000df40: 7320 7468 6174 2074 6865 206f 626a 6563  s that the objec
+0000df50: 7473 2074 6861 7420 6172 6520 7061 7373  ts that are pass
+0000df60: 6564 2069 6e74 6f20 6d65 7468 6f64 7320  ed into methods 
+0000df70: 6172 6520 636f 7069 6564 206f 7665 7220  are copied over 
+0000df80: 746f 0a20 2020 2020 2020 206e 6577 2069  to.        new i
+0000df90: 6e73 7461 6e63 6573 2077 6869 6368 2061  nstances which a
+0000dfa0: 7265 2074 6865 6e20 7265 7475 726e 6564  re then returned
+0000dfb0: 2e0a 2020 2020 2020 2020 5468 6520 6f72  ..        The or
+0000dfc0: 6967 696e 616c 206f 626a 6563 7473 2073  iginal objects s
+0000dfd0: 686f 756c 6420 6265 2064 6973 6361 7264  hould be discard
+0000dfe0: 6564 2e0a 0a20 2020 2020 2020 2040 7061  ed...        @pa
+0000dff0: 7261 6d20 6f62 6a20 2020 2020 2041 6e20  ram obj      An 
+0000e000: 656e 7469 7479 206f 7220 616e 2075 6e6c  entity or an unl
+0000e010: 6f61 6465 6420 7265 6665 7265 6e63 6520  oaded reference 
+0000e020: 746f 2061 6e20 656e 7469 7479 2e20 4e6f  to an entity. No
+0000e030: 740a 2020 2020 2020 2020 2020 2020 2020  t.              
+0000e040: 2020 2020 2020 2020 2020 6e75 6c6c 2e0a            null..
+0000e050: 2020 2020 2020 2020 4074 7970 6520 6f62          @type ob
+0000e060: 6a20 2020 2020 2020 4f62 6a65 6374 490a  j       ObjectI.
+0000e070: 2020 2020 2020 2020 4072 6574 7572 6e20          @return 
+0000e080: 2020 2020 2020 2020 5361 7665 6420 6f62          Saved ob
+0000e090: 6a65 6374 0a20 2020 2020 2020 2040 7274  ject.        @rt
+0000e0a0: 7970 6520 2020 2020 2020 2020 204f 626a  ype          Obj
+0000e0b0: 6563 7449 0a20 2020 2020 2020 2022 2222  ectI.        """
+0000e0c0: 0a20 2020 2020 2020 2075 203d 2073 656c  .        u = sel
+0000e0d0: 662e 6765 7455 7064 6174 6553 6572 7669  f.getUpdateServi
+0000e0e0: 6365 2829 0a20 2020 2020 2020 2063 7478  ce().        ctx
+0000e0f0: 203d 2073 656c 662e 5345 5256 4943 455f   = self.SERVICE_
+0000e100: 4f50 5453 2e63 6f70 7928 290a 2020 2020  OPTS.copy().    
+0000e110: 2020 2020 6966 206f 776e 6572 2069 7320      if owner is 
+0000e120: 6e6f 7420 4e6f 6e65 3a0a 2020 2020 2020  not None:.      
+0000e130: 2020 2020 2020 6374 782e 7365 744f 6d65        ctx.setOme
+0000e140: 726f 5573 6572 286f 776e 6572 290a 2020  roUser(owner).  
+0000e150: 2020 2020 2020 7265 7320 3d20 752e 7361        res = u.sa
+0000e160: 7665 416e 6452 6574 7572 6e4f 626a 6563  veAndReturnObjec
+0000e170: 7428 6f62 6a2c 2063 7478 290a 2020 2020  t(obj, ctx).    
+0000e180: 2020 2020 7265 732e 756e 6c6f 6164 2829      res.unload()
+0000e190: 0a20 2020 2020 2020 206f 626a 203d 206f  .        obj = o
+0000e1a0: 6d65 726f 2e67 6174 6577 6179 2e42 6c69  mero.gateway.Bli
+0000e1b0: 747a 4f62 6a65 6374 5772 6170 7065 7228  tzObjectWrapper(
+0000e1c0: 7365 6c66 2c20 7265 7329 0a20 2020 2020  self, res).     
+0000e1d0: 2020 2072 6574 7572 6e20 6f62 6a0a 0a20     return obj.. 
+0000e1e0: 2020 2064 6566 2073 6176 6541 6e64 5265     def saveAndRe
+0000e1f0: 7475 726e 4964 2873 656c 662c 206f 626a  turnId(self, obj
+0000e200: 2c20 6f77 6e65 723d 4e6f 6e65 293a 0a20  , owner=None):. 
+0000e210: 2020 2020 2020 2022 2222 0a20 2020 2020         """.     
+0000e220: 2020 2050 726f 7669 6465 206d 6574 686f     Provide metho
+0000e230: 6420 666f 7220 6469 7265 6374 6c79 2075  d for directly u
+0000e240: 7064 6174 696e 6720 6f62 6a65 6374 2067  pdating object g
+0000e250: 7261 7068 7320 616e 6420 7265 7475 726e  raphs and return
+0000e260: 2049 442e 2041 6374 0a20 2020 2020 2020   ID. Act.       
+0000e270: 2072 6563 7572 7369 7665 6c79 206f 6e20   recursively on 
+0000e280: 7468 6520 656e 7469 7265 206f 626a 6563  the entire objec
+0000e290: 7420 6772 6170 682c 2072 6570 6c61 6369  t graph, replaci
+0000e2a0: 6e67 2070 6c61 6365 686f 6c64 6572 7320  ng placeholders 
+0000e2b0: 616e 640a 2020 2020 2020 2020 6465 7461  and.        deta
+0000e2c0: 696c 7320 7768 6572 6520 6e65 6365 7373  ils where necess
+0000e2d0: 6172 792c 2061 6e64 2074 6865 6e20 226d  ary, and then "m
+0000e2e0: 6572 6769 6e67 2220 7468 6520 6669 6e61  erging" the fina
+0000e2f0: 6c20 6772 6170 682e 2054 6869 730a 2020  l graph. This.  
+0000e300: 2020 2020 2020 6d65 616e 7320 7468 6174        means that
+0000e310: 2074 6865 206f 626a 6563 7473 2074 6861   the objects tha
+0000e320: 7420 6172 6520 7061 7373 6564 2069 6e74  t are passed int
+0000e330: 6f20 6d65 7468 6f64 7320 6172 6520 636f  o methods are co
+0000e340: 7069 6564 206f 7665 7220 746f 0a20 2020  pied over to.   
+0000e350: 2020 2020 206e 6577 2069 6e73 7461 6e63       new instanc
+0000e360: 6573 2077 6869 6368 2061 7265 2074 6865  es which are the
+0000e370: 6e20 7265 7475 726e 6564 2e0a 2020 2020  n returned..    
+0000e380: 2020 2020 5468 6520 6f72 6967 696e 616c      The original
+0000e390: 206f 626a 6563 7473 2073 686f 756c 6420   objects should 
+0000e3a0: 6265 2064 6973 6361 7264 6564 2e0a 0a20  be discarded... 
+0000e3b0: 2020 2020 2020 2040 7061 7261 6d20 6f62         @param ob
+0000e3c0: 6a20 2020 2020 2041 6e20 656e 7469 7479  j      An entity
+0000e3d0: 206f 7220 616e 2075 6e6c 6f61 6465 6420   or an unloaded 
+0000e3e0: 7265 6665 7265 6e63 6520 746f 2061 6e20  reference to an 
+0000e3f0: 656e 7469 7479 2e20 4e6f 740a 2020 2020  entity. Not.    
+0000e400: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000e410: 2020 2020 6e75 6c6c 2e0a 2020 2020 2020      null..      
+0000e420: 2020 4074 7970 6520 6f62 6a20 2020 2020    @type obj     
+0000e430: 2020 4f62 6a65 6374 490a 2020 2020 2020    ObjectI.      
+0000e440: 2020 4072 6574 7572 6e20 2020 2020 2020    @return       
+0000e450: 2020 4944 206f 6620 7361 7665 6420 6f62    ID of saved ob
+0000e460: 6a65 6374 0a20 2020 2020 2020 2040 7274  ject.        @rt
+0000e470: 7970 6520 2020 2020 2020 2020 204c 6f6e  ype          Lon
+0000e480: 670a 2020 2020 2020 2020 2222 220a 2020  g.        """.  
+0000e490: 2020 2020 2020 7520 3d20 7365 6c66 2e67        u = self.g
+0000e4a0: 6574 5570 6461 7465 5365 7276 6963 6528  etUpdateService(
+0000e4b0: 290a 2020 2020 2020 2020 6374 7820 3d20  ).        ctx = 
+0000e4c0: 7365 6c66 2e53 4552 5649 4345 5f4f 5054  self.SERVICE_OPT
+0000e4d0: 532e 636f 7079 2829 0a20 2020 2020 2020  S.copy().       
+0000e4e0: 2069 6620 6f77 6e65 7220 6973 206e 6f74   if owner is not
+0000e4f0: 204e 6f6e 653a 0a20 2020 2020 2020 2020   None:.         
+0000e500: 2020 2063 7478 2e73 6574 4f6d 6572 6f55     ctx.setOmeroU
+0000e510: 7365 7228 6f77 6e65 7229 0a20 2020 2020  ser(owner).     
+0000e520: 2020 2072 6573 203d 2075 2e73 6176 6541     res = u.saveA
+0000e530: 6e64 5265 7475 726e 4f62 6a65 6374 286f  ndReturnObject(o
+0000e540: 626a 2c20 6374 7829 0a20 2020 2020 2020  bj, ctx).       
+0000e550: 2072 6573 2e75 6e6c 6f61 6428 290a 2020   res.unload().  
+0000e560: 2020 2020 2020 7265 7475 726e 2072 6573        return res
+0000e570: 2e69 642e 7661 6c0a 0a20 2020 2064 6566  .id.val..    def
+0000e580: 2073 6176 6541 6e64 5265 7475 726e 4669   saveAndReturnFi
+0000e590: 6c65 2873 656c 662c 2062 696e 6172 792c  le(self, binary,
+0000e5a0: 206f 4669 6c65 5f69 6429 3a0a 2020 2020   oFile_id):.    
+0000e5b0: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
+0000e5c0: 5072 6f76 6964 6520 6d65 7468 6f64 2066  Provide method f
+0000e5d0: 6f72 2064 6972 6563 746c 7920 7570 6461  or directly upda
+0000e5e0: 7469 6e67 2061 2066 696c 6520 6f62 6a65  ting a file obje
+0000e5f0: 6374 2061 6e64 2072 6574 7572 6e20 6269  ct and return bi
+0000e600: 6e61 7279 2e0a 2020 2020 2020 2020 4173  nary..        As
+0000e610: 7375 6d65 7320 7468 6174 2074 6865 2063  sumes that the c
+0000e620: 6865 636b 7375 6d20 616c 676f 7269 7468  hecksum algorith
+0000e630: 6d20 7573 6564 2066 6f72 2066 696c 6520  m used for file 
+0000e640: 696e 7465 6772 6974 790a 2020 2020 2020  integrity.      
+0000e650: 2020 7665 7269 6669 6361 7469 6f6e 2069    verification i
+0000e660: 7320 5348 412d 312e 0a0a 2020 2020 2020  s SHA-1...      
+0000e670: 2020 4070 6172 616d 2062 696e 6172 7920    @param binary 
+0000e680: 2020 2020 2020 4269 6e61 7279 2e20 4e6f        Binary. No
+0000e690: 7420 6e75 6c6c 2e0a 2020 2020 2020 2020  t null..        
+0000e6a0: 4074 7970 6520 6269 6e61 7279 2020 2020  @type binary    
+0000e6b0: 2020 2020 5374 7269 6e67 0a20 2020 2020      String.     
+0000e6c0: 2020 2040 7061 7261 6d20 6f46 696c 655f     @param oFile_
+0000e6d0: 6964 2020 2020 2046 696c 6520 4964 2069  id     File Id i
+0000e6e0: 6e20 6f72 6465 7220 746f 206d 616e 6167  n order to manag
+0000e6f0: 6520 7468 6520 7374 6174 6520 6f66 2074  e the state of t
+0000e700: 6865 0a20 2020 2020 2020 2020 2020 2020  he.             
+0000e710: 2020 2020 2020 2020 2020 2020 2020 2073                 s
+0000e720: 6572 7669 6365 2e20 4e6f 7420 6e75 6c6c  ervice. Not null
+0000e730: 2e0a 2020 2020 2020 2020 4074 7970 6520  ..        @type 
+0000e740: 6f46 696c 655f 6964 2020 2020 2020 4c6f  oFile_id      Lo
+0000e750: 6e67 0a20 2020 2020 2020 2040 7265 7475  ng.        @retu
+0000e760: 726e 2020 2020 2020 2020 2020 2020 2053  rn             S
+0000e770: 6861 6c6c 6f77 2063 6f70 7920 6f66 2066  hallow copy of f
+0000e780: 696c 652e 0a20 2020 2020 2020 2022 2222  ile..        """
+0000e790: 0a0a 2020 2020 2020 2020 7374 6f72 6520  ..        store 
+0000e7a0: 3d20 7365 6c66 2e63 7265 6174 6552 6177  = self.createRaw
+0000e7b0: 4669 6c65 5374 6f72 6528 290a 2020 2020  FileStore().    
+0000e7c0: 2020 2020 7374 6f72 652e 7365 7446 696c      store.setFil
+0000e7d0: 6549 6428 6f46 696c 655f 6964 2c20 7365  eId(oFile_id, se
+0000e7e0: 6c66 2e53 4552 5649 4345 5f4f 5054 5329  lf.SERVICE_OPTS)
+0000e7f0: 0a20 2020 2020 2020 2070 6f73 203d 2030  .        pos = 0
+0000e800: 0a20 2020 2020 2020 2072 6c65 6e20 3d20  .        rlen = 
+0000e810: 300a 2020 2020 2020 2020 6861 7368 203d  0.        hash =
+0000e820: 2068 6173 685f 7368 6131 2829 0a0a 2020   hash_sha1()..  
+0000e830: 2020 2020 2020 666f 7220 6368 756e 6b20        for chunk 
+0000e840: 696e 2062 696e 6172 792e 6368 756e 6b73  in binary.chunks
+0000e850: 2829 3a0a 2020 2020 2020 2020 2020 2020  ():.            
+0000e860: 726c 656e 203d 206c 656e 2863 6875 6e6b  rlen = len(chunk
+0000e870: 290a 2020 2020 2020 2020 2020 2020 7374  ).            st
+0000e880: 6f72 652e 7772 6974 6528 6368 756e 6b2c  ore.write(chunk,
+0000e890: 2070 6f73 2c20 726c 656e 290a 2020 2020   pos, rlen).    
+0000e8a0: 2020 2020 2020 2020 6861 7368 2e75 7064          hash.upd
+0000e8b0: 6174 6528 6368 756e 6b29 0a20 2020 2020  ate(chunk).     
+0000e8c0: 2020 2020 2020 2070 6f73 203d 2070 6f73         pos = pos
+0000e8d0: 202b 2072 6c65 6e0a 2020 2020 2020 2020   + rlen.        
+0000e8e0: 6f66 696c 6520 3d20 7374 6f72 652e 7361  ofile = store.sa
+0000e8f0: 7665 2873 656c 662e 5345 5256 4943 455f  ve(self.SERVICE_
+0000e900: 4f50 5453 290a 2020 2020 2020 2020 7374  OPTS).        st
+0000e910: 6f72 652e 636c 6f73 6528 290a 0a20 2020  ore.close()..   
+0000e920: 2020 2020 2073 6572 7665 7268 6173 6820       serverhash 
+0000e930: 3d20 6f66 696c 652e 6861 7368 2e76 616c  = ofile.hash.val
+0000e940: 0a20 2020 2020 2020 2063 6c69 656e 7468  .        clienth
+0000e950: 6173 6820 3d20 6861 7368 2e68 6578 6469  ash = hash.hexdi
+0000e960: 6765 7374 2829 0a0a 2020 2020 2020 2020  gest()..        
+0000e970: 6966 2073 6572 7665 7268 6173 6820 213d  if serverhash !=
+0000e980: 2063 6c69 656e 7468 6173 683a 0a20 2020   clienthash:.   
+0000e990: 2020 2020 2020 2020 206d 7367 203d 2028           msg = (
+0000e9a0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000e9b0: 2022 5348 412d 3120 6368 6563 6b73 756d   "SHA-1 checksum
+0000e9c0: 7320 646f 206e 6f74 206d 6174 6368 2069  s do not match i
+0000e9d0: 6e20 6669 6c65 2075 706c 6f61 643a 2063  n file upload: c
+0000e9e0: 6c69 656e 7420 6861 7322 0a20 2020 2020  lient has".     
+0000e9f0: 2020 2020 2020 2020 2020 2022 2025 7320             " %s 
+0000ea00: 6275 7420 7365 7276 6572 2068 6173 2025  but server has %
+0000ea10: 7322 2025 2028 636c 6965 6e74 6861 7368  s" % (clienthash
+0000ea20: 2c20 7365 7276 6572 6861 7368 290a 2020  , serverhash).  
+0000ea30: 2020 2020 2020 2020 2020 290a 2020 2020            ).    
+0000ea40: 2020 2020 2020 2020 6c6f 6767 6572 2e65          logger.e
+0000ea50: 7272 6f72 286d 7367 290a 2020 2020 2020  rror(msg).      
+0000ea60: 2020 2020 2020 7261 6973 6520 4578 6365        raise Exce
+0000ea70: 7074 696f 6e28 6d73 6729 0a0a 2020 2020  ption(msg)..    
+0000ea80: 2020 2020 7265 7475 726e 206f 6669 6c65      return ofile
+0000ea90: 0a0a 2020 2020 2323 2323 2323 2323 2323  ..    ##########
+0000eaa0: 2323 2323 2323 2323 2323 2323 2323 2323  ################
+0000eab0: 2323 2323 2323 2323 2323 2323 2323 2323  ################
+0000eac0: 2323 2323 0a20 2020 2023 2049 5368 6172  ####.    # IShar
+0000ead0: 650a 0a20 2020 2064 6566 2067 6574 5368  e..    def getSh
+0000eae0: 6172 6528 7365 6c66 2c20 6f69 6429 3a0a  are(self, oid):.
+0000eaf0: 2020 2020 2020 2020 2222 220a 2020 2020          """.    
+0000eb00: 2020 2020 4765 7473 2073 6861 7265 2066      Gets share f
+0000eb10: 6f72 2074 6865 2067 6976 656e 2073 6861  or the given sha
+0000eb20: 7265 2069 642e 0a0a 2020 2020 2020 2020  re id...        
+0000eb30: 4070 6172 616d 206f 6964 3a20 2020 2020  @param oid:     
+0000eb40: 5368 6172 6520 4944 2e0a 2020 2020 2020  Share ID..      
+0000eb50: 2020 4074 7970 6520 6f69 643a 2020 2020    @type oid:    
+0000eb60: 2020 4c6f 6e67 0a20 2020 2020 2020 2040    Long.        @
+0000eb70: 7265 7475 726e 3a20 2020 2020 2020 2053  return:        S
+0000eb80: 6861 7265 5772 6170 7065 7220 6f72 204e  hareWrapper or N
+0000eb90: 6f6e 650a 2020 2020 2020 2020 4072 7479  one.        @rty
+0000eba0: 7065 3a20 2020 2020 2020 2020 4c7b 5368  pe:         L{Sh
+0000ebb0: 6172 6557 7261 7070 6572 7d0a 2020 2020  areWrapper}.    
+0000ebc0: 2020 2020 2222 220a 0a20 2020 2020 2020      """..       
+0000ebd0: 2073 685f 7365 7276 203d 2073 656c 662e   sh_serv = self.
+0000ebe0: 6765 7453 6861 7265 5365 7276 6963 6528  getShareService(
+0000ebf0: 290a 2020 2020 2020 2020 7368 203d 2073  ).        sh = s
+0000ec00: 685f 7365 7276 2e67 6574 5368 6172 6528  h_serv.getShare(
+0000ec10: 696e 7428 6f69 6429 290a 2020 2020 2020  int(oid)).      
+0000ec20: 2020 6966 2073 6820 6973 206e 6f74 204e    if sh is not N
+0000ec30: 6f6e 653a 0a20 2020 2020 2020 2020 2020  one:.           
+0000ec40: 2072 6574 7572 6e20 5368 6172 6557 7261   return ShareWra
+0000ec50: 7070 6572 2873 656c 662c 2073 6829 0a20  pper(self, sh). 
+0000ec60: 2020 2020 2020 2065 6c73 653a 0a20 2020         else:.   
+0000ec70: 2020 2020 2020 2020 2072 6574 7572 6e20           return 
+0000ec80: 4e6f 6e65 0a0a 2020 2020 6465 6620 6765  None..    def ge
+0000ec90: 744f 776e 5368 6172 6573 2873 656c 6629  tOwnShares(self)
+0000eca0: 3a0a 2020 2020 2020 2020 2222 220a 2020  :.        """.  
+0000ecb0: 2020 2020 2020 4765 7473 2061 6c6c 206f        Gets all o
+0000ecc0: 776e 6564 2073 6861 7265 7320 666f 7220  wned shares for 
+0000ecd0: 7468 6520 6375 7272 656e 7420 7573 6572  the current user
+0000ece0: 2e0a 0a20 2020 2020 2020 2040 7265 7475  ...        @retu
+0000ecf0: 726e 3a20 2020 2053 6861 7265 7320 7468  rn:    Shares th
+0000ed00: 6174 2075 7365 7220 6f77 6e73 0a20 2020  at user owns.   
+0000ed10: 2020 2020 2040 7274 7970 653a 2020 2020       @rtype:    
+0000ed20: 204c 7b53 6861 7265 5772 6170 7065 727d   L{ShareWrapper}
+0000ed30: 2067 656e 6572 6174 6f72 0a20 2020 2020   generator.     
+0000ed40: 2020 2022 2222 0a0a 2020 2020 2020 2020     """..        
+0000ed50: 7368 203d 2073 656c 662e 6765 7453 6861  sh = self.getSha
+0000ed60: 7265 5365 7276 6963 6528 290a 2020 2020  reService().    
+0000ed70: 2020 2020 666f 7220 6520 696e 2073 682e      for e in sh.
+0000ed80: 6765 744f 776e 5368 6172 6573 2846 616c  getOwnShares(Fal
+0000ed90: 7365 293a 0a20 2020 2020 2020 2020 2020  se):.           
+0000eda0: 2079 6965 6c64 2053 6861 7265 5772 6170   yield ShareWrap
+0000edb0: 7065 7228 7365 6c66 2c20 6529 0a0a 2020  per(self, e)..  
+0000edc0: 2020 6465 6620 6765 744d 656d 6265 7253    def getMemberS
+0000edd0: 6861 7265 7328 7365 6c66 293a 0a20 2020  hares(self):.   
+0000ede0: 2020 2020 2022 2222 0a20 2020 2020 2020       """.       
+0000edf0: 2047 6574 7320 616c 6c20 7368 6172 6573   Gets all shares
+0000ee00: 2077 6865 7265 2063 7572 7265 6e74 2075   where current u
+0000ee10: 7365 7220 6973 2061 206d 656d 6265 722e  ser is a member.
+0000ee20: 0a0a 2020 2020 2020 2020 4072 6574 7572  ..        @retur
+0000ee30: 6e3a 2020 2020 5368 6172 6573 2074 6861  n:    Shares tha
+0000ee40: 7420 7573 6572 2069 7320 6120 6d65 6d62  t user is a memb
+0000ee50: 6572 206f 660a 2020 2020 2020 2020 4072  er of.        @r
+0000ee60: 7479 7065 3a20 2020 2020 4c7b 5368 6172  type:     L{Shar
+0000ee70: 6557 7261 7070 6572 7d20 6765 6e65 7261  eWrapper} genera
+0000ee80: 746f 720a 2020 2020 2020 2020 2222 220a  tor.        """.
+0000ee90: 0a20 2020 2020 2020 2073 6820 3d20 7365  .        sh = se
+0000eea0: 6c66 2e67 6574 5368 6172 6553 6572 7669  lf.getShareServi
+0000eeb0: 6365 2829 0a20 2020 2020 2020 2066 6f72  ce().        for
+0000eec0: 2065 2069 6e20 7368 2e67 6574 4d65 6d62   e in sh.getMemb
+0000eed0: 6572 5368 6172 6573 2846 616c 7365 293a  erShares(False):
+0000eee0: 0a20 2020 2020 2020 2020 2020 2079 6965  .            yie
+0000eef0: 6c64 2053 6861 7265 5772 6170 7065 7228  ld ShareWrapper(
+0000ef00: 7365 6c66 2c20 6529 0a0a 2020 2020 6465  self, e)..    de
+0000ef10: 6620 6765 744d 656d 6265 7243 6f75 6e74  f getMemberCount
+0000ef20: 2873 656c 662c 2073 6861 7265 5f69 6473  (self, share_ids
+0000ef30: 293a 0a20 2020 2020 2020 2022 2222 0a20  ):.        """. 
+0000ef40: 2020 2020 2020 2052 6574 7572 6e73 2061         Returns a
+0000ef50: 206d 6170 2066 726f 6d20 7368 6172 6520   map from share 
+0000ef60: 6964 2074 6f20 7468 6520 636f 756e 7420  id to the count 
+0000ef70: 6f66 2074 6f74 616c 206d 656d 6265 7273  of total members
+0000ef80: 2028 696e 636c 7564 696e 670a 2020 2020   (including.    
+0000ef90: 2020 2020 7468 6520 6f77 6e65 7229 2e20      the owner). 
+0000efa0: 5468 6973 2069 7320 7265 7072 6573 656e  This is represen
+0000efb0: 7465 6420 6279 206f 6d65 2e6d 6f64 656c  ted by ome.model
+0000efc0: 2e6d 6574 612e 5368 6172 654d 656d 6265  .meta.ShareMembe
+0000efd0: 7220 6c69 6e6b 732e 0a0a 2020 2020 2020  r links...      
+0000efe0: 2020 4070 6172 616d 2073 6861 7265 5f69    @param share_i
+0000eff0: 6473 3a20 2020 4c69 7374 206f 6620 4944  ds:   List of ID
+0000f000: 730a 2020 2020 2020 2020 4074 7970 6520  s.        @type 
+0000f010: 7368 6172 655f 6964 733a 2020 2020 4c69  share_ids:    Li
+0000f020: 7374 206f 6620 4c6f 6e67 730a 2020 2020  st of Longs.    
+0000f030: 2020 2020 4072 6574 7572 6e3a 2020 2020      @return:    
+0000f040: 2020 2020 2020 2020 4469 6374 206f 6620          Dict of 
+0000f050: 7368 6172 6549 643a 206d 656d 6265 722d  shareId: member-
+0000f060: 636f 756e 740a 2020 2020 2020 2020 4072  count.        @r
+0000f070: 7479 7065 3a20 2020 2020 2020 2020 2020  type:           
+0000f080: 2020 4469 6374 206f 6620 6c6f 6e67 3a20    Dict of long: 
+0000f090: 6c6f 6e67 0a20 2020 2020 2020 2022 2222  long.        """
+0000f0a0: 0a0a 2020 2020 2020 2020 7368 203d 2073  ..        sh = s
+0000f0b0: 656c 662e 6765 7453 6861 7265 5365 7276  elf.getShareServ
+0000f0c0: 6963 6528 290a 2020 2020 2020 2020 7265  ice().        re
+0000f0d0: 7475 726e 2073 682e 6765 744d 656d 6265  turn sh.getMembe
+0000f0e0: 7243 6f75 6e74 2873 6861 7265 5f69 6473  rCount(share_ids
+0000f0f0: 290a 0a20 2020 2064 6566 2067 6574 436f  )..    def getCo
+0000f100: 6d6d 656e 7443 6f75 6e74 2873 656c 662c  mmentCount(self,
+0000f110: 2073 6861 7265 5f69 6473 293a 0a20 2020   share_ids):.   
+0000f120: 2020 2020 2022 2222 0a20 2020 2020 2020       """.       
+0000f130: 2052 6574 7572 6e73 2061 206d 6170 2066   Returns a map f
+0000f140: 726f 6d20 7368 6172 6520 6964 2074 6f20  rom share id to 
+0000f150: 636f 6d6d 656e 7420 636f 756e 742e 0a0a  comment count...
+0000f160: 2020 2020 2020 2020 4070 6172 616d 2073          @param s
+0000f170: 6861 7265 5f69 6473 3a20 2020 4c69 7374  hare_ids:   List
+0000f180: 206f 6620 4944 730a 2020 2020 2020 2020   of IDs.        
+0000f190: 4074 7970 6520 7368 6172 655f 6964 733a  @type share_ids:
+0000f1a0: 2020 2020 4c69 7374 206f 6620 4c6f 6e67      List of Long
+0000f1b0: 730a 2020 2020 2020 2020 4072 6574 7572  s.        @retur
+0000f1c0: 6e3a 2020 2020 2020 2020 2020 2020 4469  n:            Di
+0000f1d0: 6374 206f 6620 7368 6172 6549 643a 2063  ct of shareId: c
+0000f1e0: 6f6d 6d65 6e74 2d63 6f75 6e74 0a20 2020  omment-count.   
+0000f1f0: 2020 2020 2040 7274 7970 653a 2020 2020       @rtype:    
+0000f200: 2020 2020 2020 2020 2044 6963 7420 6f66           Dict of
+0000f210: 206c 6f6e 673a 206c 6f6e 670a 2020 2020   long: long.    
+0000f220: 2020 2020 2222 220a 0a20 2020 2020 2020      """..       
+0000f230: 2073 6820 3d20 7365 6c66 2e67 6574 5368   sh = self.getSh
+0000f240: 6172 6553 6572 7669 6365 2829 0a20 2020  areService().   
+0000f250: 2020 2020 2072 6574 7572 6e20 7368 2e67       return sh.g
+0000f260: 6574 436f 6d6d 656e 7443 6f75 6e74 2873  etCommentCount(s
+0000f270: 6861 7265 5f69 6473 290a 0a20 2020 2064  hare_ids)..    d
+0000f280: 6566 2067 6574 436f 6e74 656e 7473 2873  ef getContents(s
+0000f290: 656c 662c 2073 6861 7265 5f69 6429 3a0a  elf, share_id):.
+0000f2a0: 2020 2020 2020 2020 2222 220a 2020 2020          """.    
+0000f2b0: 2020 2020 4c6f 6f6b 7320 7570 2061 6c6c      Looks up all
+0000f2c0: 2069 7465 6d73 2062 656c 6f6e 6769 6e67   items belonging
+0000f2d0: 2074 6f20 7468 6520 7368 6172 652c 2077   to the share, w
+0000f2e0: 7261 7070 6564 2069 6e20 6f62 6a65 6374  rapped in object
+0000f2f0: 2077 7261 7070 6572 0a0a 2020 2020 2020   wrapper..      
+0000f300: 2020 4070 6172 616d 2073 6861 7265 5f69    @param share_i
+0000f310: 643a 2020 2020 7368 6172 6520 4944 0a20  d:    share ID. 
+0000f320: 2020 2020 2020 2040 7479 7065 2073 6861         @type sha
+0000f330: 7265 5f69 643a 2020 2020 204c 6f6e 670a  re_id:     Long.
+0000f340: 2020 2020 2020 2020 4072 6574 7572 6e3a          @return:
+0000f350: 2020 2020 2020 2020 2020 2020 5368 6172              Shar
+0000f360: 6520 636f 6e74 656e 7473 0a20 2020 2020  e contents.     
+0000f370: 2020 2040 7274 7970 653a 2020 2020 2020     @rtype:      
+0000f380: 2020 2020 2020 204c 7b6f 6d65 726f 2e67         L{omero.g
+0000f390: 6174 6577 6179 2e42 6c69 747a 4f62 6a65  ateway.BlitzObje
+0000f3a0: 6374 5772 6170 7065 727d 2067 656e 6572  ctWrapper} gener
+0000f3b0: 6174 6f72 0a20 2020 2020 2020 2022 2222  ator.        """
+0000f3c0: 0a0a 2020 2020 2020 2020 7368 203d 2073  ..        sh = s
+0000f3d0: 656c 662e 6765 7453 6861 7265 5365 7276  elf.getShareServ
+0000f3e0: 6963 6528 290a 2020 2020 2020 2020 666f  ice().        fo
+0000f3f0: 7220 6520 696e 2073 682e 6765 7443 6f6e  r e in sh.getCon
+0000f400: 7465 6e74 7328 696e 7428 7368 6172 655f  tents(int(share_
+0000f410: 6964 2929 3a0a 2020 2020 2020 2020 2020  id)):.          
+0000f420: 2020 6966 2069 7369 6e73 7461 6e63 6528    if isinstance(
+0000f430: 652c 206f 6d65 726f 2e6d 6f64 656c 2e49  e, omero.model.I
+0000f440: 6d61 6765 4929 3a0a 2020 2020 2020 2020  mageI):.        
+0000f450: 2020 2020 2020 2020 7472 793a 0a20 2020          try:.   
+0000f460: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000f470: 206f 626a 203d 206f 6d65 726f 2e67 6174   obj = omero.gat
+0000f480: 6577 6179 2e49 6d61 6765 5772 6170 7065  eway.ImageWrappe
+0000f490: 7228 7365 6c66 2c20 6529 0a20 2020 2020  r(self, e).     
+0000f4a0: 2020 2020 2020 2020 2020 2065 7863 6570             excep
+0000f4b0: 7420 6f6d 6572 6f2e 5661 6c69 6461 7469  t omero.Validati
+0000f4c0: 6f6e 4578 6365 7074 696f 6e3a 0a20 2020  onException:.   
+0000f4d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000f4e0: 2023 2049 6620 4f62 6a65 6374 2064 656c   # If Object del
+0000f4f0: 6574 6564 2c20 7369 6d70 6c79 2072 6574  eted, simply ret
+0000f500: 7572 6e20 706c 6163 6568 6f6c 6465 720a  urn placeholder.
+0000f510: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000f520: 2020 2020 2320 4944 2075 7365 6420 746f      # ID used to
+0000f530: 2067 656e 6572 6174 6520 706c 6163 6568   generate placeh
+0000f540: 6f6c 6465 7220 7468 756d 626e 6169 6c0a  older thumbnail.
+0000f550: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000f560: 2020 2020 6f62 6a20 3d20 7b22 6964 223a      obj = {"id":
+0000f570: 2065 2e69 642e 7661 6c7d 0a20 2020 2020   e.id.val}.     
+0000f580: 2020 2020 2020 2020 2020 2079 6965 6c64             yield
+0000f590: 206f 626a 0a0a 2020 2020 6465 6620 6765   obj..    def ge
+0000f5a0: 7443 6f6d 6d65 6e74 7328 7365 6c66 2c20  tComments(self, 
+0000f5b0: 7368 6172 655f 6964 293a 0a20 2020 2020  share_id):.     
+0000f5c0: 2020 2022 2222 0a20 2020 2020 2020 204c     """.        L
+0000f5d0: 6f6f 6b73 2075 7020 616c 6c20 636f 6d6d  ooks up all comm
+0000f5e0: 656e 7473 2077 6869 6368 2062 656c 6f6e  ents which belon
+0000f5f0: 6720 746f 2074 6865 2073 6861 7265 2c20  g to the share, 
+0000f600: 7772 6170 7065 6420 696e 206f 626a 6563  wrapped in objec
+0000f610: 740a 2020 2020 2020 2020 7772 6170 7065  t.        wrappe
+0000f620: 720a 0a20 2020 2020 2020 2040 7061 7261  r..        @para
+0000f630: 6d20 7368 6172 655f 6964 3a20 2020 2073  m share_id:    s
+0000f640: 6861 7265 2049 440a 2020 2020 2020 2020  hare ID.        
+0000f650: 4074 7970 6520 7368 6172 655f 6964 3a20  @type share_id: 
+0000f660: 2020 2020 4c6f 6e67 0a20 2020 2020 2020      Long.       
+0000f670: 2040 7265 7475 726e 3a20 2020 2020 2020   @return:       
+0000f680: 2020 2020 2053 6861 7265 2063 6f6d 6d65       Share comme
+0000f690: 6e74 730a 2020 2020 2020 2020 4072 7479  nts.        @rty
+0000f6a0: 7065 3a20 2020 2020 2020 2020 2020 2020  pe:             
+0000f6b0: 4c7b 416e 6e6f 7461 7469 6f6e 5772 6170  L{AnnotationWrap
+0000f6c0: 7065 727d 2067 656e 6572 6174 6f72 0a20  per} generator. 
+0000f6d0: 2020 2020 2020 2022 2222 0a0a 2020 2020         """..    
+0000f6e0: 2020 2020 7368 203d 2073 656c 662e 6765      sh = self.ge
+0000f6f0: 7453 6861 7265 5365 7276 6963 6528 290a  tShareService().
+0000f700: 2020 2020 2020 2020 666f 7220 6520 696e          for e in
+0000f710: 2073 682e 6765 7443 6f6d 6d65 6e74 7328   sh.getComments(
+0000f720: 696e 7428 7368 6172 655f 6964 2929 3a0a  int(share_id)):.
+0000f730: 2020 2020 2020 2020 2020 2020 7969 656c              yiel
+0000f740: 6420 416e 6e6f 7461 7469 6f6e 5772 6170  d AnnotationWrap
+0000f750: 7065 7228 7365 6c66 2c20 6529 0a0a 2020  per(self, e)..  
+0000f760: 2020 6465 6620 6765 7441 6c6c 4d65 6d62    def getAllMemb
+0000f770: 6572 7328 7365 6c66 2c20 7368 6172 655f  ers(self, share_
+0000f780: 6964 293a 0a20 2020 2020 2020 2022 2222  id):.        """
+0000f790: 0a20 2020 2020 2020 2047 6574 2061 6c6c  .        Get all
+0000f7a0: 207b 406c 696e 6b20 4578 7065 7269 6d65   {@link Experime
+0000f7b0: 6e74 6572 2075 7365 7273 7d20 7768 6f20  nter users} who 
+0000f7c0: 6172 6520 6120 6d65 6d62 6572 206f 6620  are a member of 
+0000f7d0: 7468 6520 7368 6172 652e 0a0a 2020 2020  the share...    
+0000f7e0: 2020 2020 4070 6172 616d 2073 6861 7265      @param share
+0000f7f0: 5f69 643a 2020 2020 7368 6172 6520 4944  _id:    share ID
+0000f800: 0a20 2020 2020 2020 2040 7479 7065 2073  .        @type s
+0000f810: 6861 7265 5f69 643a 2020 2020 204c 6f6e  hare_id:     Lon
+0000f820: 670a 2020 2020 2020 2020 4072 6574 7572  g.        @retur
+0000f830: 6e3a 2020 2020 2020 2020 2020 2020 4d65  n:            Me
+0000f840: 6d62 6572 7320 6f66 2073 6861 7265 0a20  mbers of share. 
+0000f850: 2020 2020 2020 2040 7274 7970 653a 2020         @rtype:  
+0000f860: 2020 2020 2020 2020 2020 204c 7b45 7870             L{Exp
+0000f870: 6572 696d 656e 7465 7257 7261 7070 6572  erimenterWrapper
+0000f880: 7d20 6765 6e65 7261 746f 720a 2020 2020  } generator.    
+0000f890: 2020 2020 2222 220a 0a20 2020 2020 2020      """..       
+0000f8a0: 2073 6820 3d20 7365 6c66 2e67 6574 5368   sh = self.getSh
+0000f8b0: 6172 6553 6572 7669 6365 2829 0a20 2020  areService().   
+0000f8c0: 2020 2020 2066 6f72 2065 2069 6e20 7368       for e in sh
+0000f8d0: 2e67 6574 416c 6c4d 656d 6265 7273 2869  .getAllMembers(i
+0000f8e0: 6e74 2873 6861 7265 5f69 6429 293a 0a20  nt(share_id)):. 
+0000f8f0: 2020 2020 2020 2020 2020 2079 6965 6c64             yield
+0000f900: 2045 7870 6572 696d 656e 7465 7257 7261   ExperimenterWra
+0000f910: 7070 6572 2873 656c 662c 2065 290a 0a20  pper(self, e).. 
+0000f920: 2020 2064 6566 2067 6574 416c 6c47 7565     def getAllGue
+0000f930: 7374 7328 7365 6c66 2c20 7368 6172 655f  sts(self, share_
+0000f940: 6964 293a 0a20 2020 2020 2020 2022 2222  id):.        """
+0000f950: 0a20 2020 2020 2020 2047 6574 2074 6865  .        Get the
+0000f960: 2065 6d61 696c 2061 6464 7265 7373 6573   email addresses
+0000f970: 2066 6f72 2061 6c6c 2073 6861 7265 2067   for all share g
+0000f980: 7565 7374 732e 0a0a 2020 2020 2020 2020  uests...        
+0000f990: 4070 6172 616d 2073 6861 7265 5f69 643a  @param share_id:
+0000f9a0: 2020 2020 7368 6172 6520 4944 0a20 2020      share ID.   
+0000f9b0: 2020 2020 2040 7479 7065 2073 6861 7265       @type share
+0000f9c0: 5f69 643a 2020 2020 204c 6f6e 670a 2020  _id:     Long.  
+0000f9d0: 2020 2020 2020 4072 6574 7572 6e3a 2020        @return:  
+0000f9e0: 2020 2020 2020 2020 2020 4c69 7374 206f            List o
+0000f9f0: 6620 652d 6d61 696c 2061 6464 7265 7373  f e-mail address
+0000fa00: 6573 0a20 2020 2020 2020 2040 7274 7970  es.        @rtyp
+0000fa10: 653a 2020 2020 2020 2020 2020 2020 204c  e:             L
+0000fa20: 6973 7420 6f66 2053 7472 696e 6773 0a20  ist of Strings. 
+0000fa30: 2020 2020 2020 2022 2222 0a0a 2020 2020         """..    
+0000fa40: 2020 2020 7368 203d 2073 656c 662e 6765      sh = self.ge
+0000fa50: 7453 6861 7265 5365 7276 6963 6528 290a  tShareService().
+0000fa60: 2020 2020 2020 2020 7265 7475 726e 2073          return s
+0000fa70: 682e 6765 7441 6c6c 4775 6573 7473 2869  h.getAllGuests(i
+0000fa80: 6e74 2873 6861 7265 5f69 6429 290a 0a20  nt(share_id)).. 
+0000fa90: 2020 2064 6566 2067 6574 416c 6c55 7365     def getAllUse
+0000faa0: 7273 2873 656c 662c 2073 6861 7265 5f69  rs(self, share_i
+0000fab0: 6429 3a0a 2020 2020 2020 2020 2222 220a  d):.        """.
+0000fac0: 2020 2020 2020 2020 4765 7420 6120 7369          Get a si
+0000fad0: 6e67 6c65 2073 6574 2063 6f6e 7461 696e  ngle set contain
+0000fae0: 696e 6720 7468 6520 6c6f 6769 6e20 6e61  ing the login na
+0000faf0: 6d65 7320 6f66 2074 6865 2075 7365 7273  mes of the users
+0000fb00: 2061 7320 7765 6c6c 2065 6d61 696c 0a20   as well email. 
+0000fb10: 2020 2020 2020 2061 6464 7265 7373 6573         addresses
+0000fb20: 2066 6f72 2067 7565 7374 732e 0a0a 2020   for guests...  
+0000fb30: 2020 2020 2020 4070 6172 616d 2073 6861        @param sha
+0000fb40: 7265 5f69 643a 2020 2020 7368 6172 6520  re_id:    share 
+0000fb50: 4944 0a20 2020 2020 2020 2040 7479 7065  ID.        @type
+0000fb60: 2073 6861 7265 5f69 643a 2020 2020 204c   share_id:     L
+0000fb70: 6f6e 670a 2020 2020 2020 2020 4072 6574  ong.        @ret
+0000fb80: 7572 6e3a 2020 2020 2020 2020 2020 2020  urn:            
+0000fb90: 4c69 7374 206f 6620 7573 6572 6e61 6d65  List of username
+0000fba0: 7320 616e 6420 652d 6d61 696c 2061 6464  s and e-mail add
+0000fbb0: 7265 7373 6573 0a20 2020 2020 2020 2040  resses.        @
+0000fbc0: 7274 7970 653a 2020 2020 2020 2020 2020  rtype:          
+0000fbd0: 2020 204c 6973 7420 6f66 2053 7472 696e     List of Strin
+0000fbe0: 6773 0a20 2020 2020 2020 2022 2222 0a0a  gs.        """..
+0000fbf0: 2020 2020 2020 2020 7368 203d 2073 656c          sh = sel
+0000fc00: 662e 6765 7453 6861 7265 5365 7276 6963  f.getShareServic
+0000fc10: 6528 290a 2020 2020 2020 2020 7265 7475  e().        retu
+0000fc20: 726e 2073 682e 6765 7441 6c6c 5573 6572  rn sh.getAllUser
+0000fc30: 7328 696e 7428 7368 6172 655f 6964 2929  s(int(share_id))
+0000fc40: 0a0a 2020 2020 6465 6620 6164 6443 6f6d  ..    def addCom
+0000fc50: 6d65 6e74 2873 656c 662c 2068 6f73 742c  ment(self, host,
+0000fc60: 2073 6861 7265 5f69 642c 2063 6f6d 6d65   share_id, comme
+0000fc70: 6e74 293a 0a20 2020 2020 2020 2073 6820  nt):.        sh 
+0000fc80: 3d20 7365 6c66 2e67 6574 5368 6172 6553  = self.getShareS
+0000fc90: 6572 7669 6365 2829 0a20 2020 2020 2020  ervice().       
+0000fca0: 206e 6577 5f63 6d20 3d20 7368 2e61 6464   new_cm = sh.add
+0000fcb0: 436f 6d6d 656e 7428 696e 7428 7368 6172  Comment(int(shar
+0000fcc0: 655f 6964 292c 2073 7472 2863 6f6d 6d65  e_id), str(comme
+0000fcd0: 6e74 2929 0a0a 2020 2020 2020 2020 7365  nt))..        se
+0000fce0: 6c66 2e67 6574 5368 6172 6528 696e 7428  lf.getShare(int(
+0000fcf0: 7368 6172 655f 6964 2929 0a20 2020 2020  share_id)).     
+0000fd00: 2020 2073 685f 7479 7065 203d 2073 682e     sh_type = sh.
+0000fd10: 6765 7443 6f6e 7465 6e74 5369 7a65 2873  getContentSize(s
+0000fd20: 6861 7265 5f69 6429 203e 2030 2061 6e64  hare_id) > 0 and
+0000fd30: 2022 7368 6172 6522 206f 7220 2264 6973   "share" or "dis
+0000fd40: 6375 7373 696f 6e22 0a20 2020 2020 2020  cussion".       
+0000fd50: 2073 7562 6a65 6374 203d 2022 4f4d 4552   subject = "OMER
+0000fd60: 4f2e 2573 2025 7322 2025 2028 7368 5f74  O.%s %s" % (sh_t
+0000fd70: 7970 652c 2073 6861 7265 5f69 6429 0a20  ype, share_id). 
+0000fd80: 2020 2020 2020 2062 6f64 7920 3d20 2225         body = "%
+0000fd90: 7320 6164 6465 6420 6e65 7720 636f 6d6d  s added new comm
+0000fda0: 656e 742e 5c6e 5c6e 2573 5c6e 5c6e 2573  ent.\n\n%s\n\n%s
+0000fdb0: 2055 524c 3a20 2573 5c6e 2220 2520 280a   URL: %s\n" % (.
+0000fdc0: 2020 2020 2020 2020 2020 2020 7365 6c66              self
+0000fdd0: 2e67 6574 5573 6572 2829 2e67 6574 4675  .getUser().getFu
+0000fde0: 6c6c 4e61 6d65 2829 2c0a 2020 2020 2020  llName(),.      
+0000fdf0: 2020 2020 2020 7374 7228 636f 6d6d 656e        str(commen
+0000fe00: 7429 2c0a 2020 2020 2020 2020 2020 2020  t),.            
+0000fe10: 7368 5f74 7970 652e 7469 746c 6528 292c  sh_type.title(),
+0000fe20: 0a20 2020 2020 2020 2020 2020 2068 6f73  .            hos
+0000fe30: 742c 0a20 2020 2020 2020 2029 0a20 2020  t,.        ).   
+0000fe40: 2020 2020 2073 682e 6e6f 7469 6679 4d65       sh.notifyMe
+0000fe50: 6d62 6572 734f 6653 6861 7265 2869 6e74  mbersOfShare(int
+0000fe60: 2873 6861 7265 5f69 6429 2c20 7375 626a  (share_id), subj
+0000fe70: 6563 742c 2062 6f64 792c 2046 616c 7365  ect, body, False
+0000fe80: 290a 2020 2020 2020 2020 7265 7475 726e  ).        return
+0000fe90: 2043 6f6d 6d65 6e74 416e 6e6f 7461 7469   CommentAnnotati
+0000fea0: 6f6e 5772 6170 7065 7228 7365 6c66 2c20  onWrapper(self, 
+0000feb0: 6e65 775f 636d 290a 0a20 2020 2064 6566  new_cm)..    def
+0000fec0: 2072 656d 6f76 6549 6d61 6765 2873 656c   removeImage(sel
+0000fed0: 662c 2073 6861 7265 5f69 642c 2069 6d61  f, share_id, ima
+0000fee0: 6765 5f69 6429 3a0a 2020 2020 2020 2020  ge_id):.        
+0000fef0: 7368 203d 2073 656c 662e 6765 7453 6861  sh = self.getSha
+0000ff00: 7265 5365 7276 6963 6528 290a 2020 2020  reService().    
+0000ff10: 2020 2020 7365 6c66 2e53 4552 5649 4345      self.SERVICE
+0000ff20: 5f4f 5054 532e 7365 744f 6d65 726f 4772  _OPTS.setOmeroGr
+0000ff30: 6f75 7028 222d 3122 290a 2020 2020 2020  oup("-1").      
+0000ff40: 2020 696d 6720 3d20 7365 6c66 2e67 6574    img = self.get
+0000ff50: 4f62 6a65 6374 2822 496d 6167 6522 2c20  Object("Image", 
+0000ff60: 696d 6167 655f 6964 290a 2020 2020 2020  image_id).      
+0000ff70: 2020 7368 2e72 656d 6f76 654f 626a 6563    sh.removeObjec
+0000ff80: 7428 696e 7428 7368 6172 655f 6964 292c  t(int(share_id),
+0000ff90: 2069 6d67 2e5f 6f62 6a29 0a0a 2020 2020   img._obj)..    
+0000ffa0: 6465 6620 6372 6561 7465 5368 6172 6528  def createShare(
+0000ffb0: 7365 6c66 2c20 686f 7374 2c20 696d 6167  self, host, imag
+0000ffc0: 6573 2c20 6d65 7373 6167 652c 206d 656d  es, message, mem
+0000ffd0: 6265 7273 2c20 656e 6162 6c65 2c20 6578  bers, enable, ex
+0000ffe0: 7069 7261 7469 6f6e 3d4e 6f6e 6529 3a0a  piration=None):.
+0000fff0: 2020 2020 2020 2020 7368 203d 2073 656c          sh = sel
+00010000: 662e 6765 7453 6861 7265 5365 7276 6963  f.getShareServic
+00010010: 6528 290a 2020 2020 2020 2020 6974 656d  e().        item
+00010020: 7320 3d20 5b69 2e5f 6f62 6a20 666f 7220  s = [i._obj for 
+00010030: 6920 696e 2069 6d61 6765 735d 0a20 2020  i in images].   
+00010040: 2020 2020 206d 7320 3d20 5b6d 2e5f 6f62       ms = [m._ob
+00010050: 6a20 666f 7220 6d20 696e 206d 656d 6265  j for m in membe
+00010060: 7273 5d0a 2020 2020 2020 2020 7369 6420  rs].        sid 
+00010070: 3d20 7368 2e63 7265 6174 6553 6861 7265  = sh.createShare
+00010080: 286d 6573 7361 6765 2c20 7274 696d 6528  (message, rtime(
+00010090: 6578 7069 7261 7469 6f6e 292c 2069 7465  expiration), ite
+000100a0: 6d73 2c20 6d73 2c20 5b5d 2c20 656e 6162  ms, ms, [], enab
+000100b0: 6c65 290a 2020 2020 2020 2020 7368 5f74  le).        sh_t
+000100c0: 7970 6520 3d20 6c65 6e28 696d 6167 6573  ype = len(images
+000100d0: 2920 3e20 3020 616e 6420 2273 6861 7265  ) > 0 and "share
+000100e0: 2220 6f72 2022 6469 7363 7573 7369 6f6e  " or "discussion
+000100f0: 220a 2020 2020 2020 2020 626f 6479 203d  ".        body =
+00010100: 2022 2573 5c6e 5c6e 2573 2055 524c 3a20   "%s\n\n%s URL: 
+00010110: 2573 5c6e 2220 2520 286d 6573 7361 6765  %s\n" % (message
+00010120: 2c20 7368 5f74 7970 652e 7469 746c 6528  , sh_type.title(
+00010130: 292c 2068 6f73 7429 0a20 2020 2020 2020  ), host).       
+00010140: 2073 7562 6a65 6374 203d 2022 4f4d 4552   subject = "OMER
+00010150: 4f2e 2573 2025 7322 2025 2028 7368 5f74  O.%s %s" % (sh_t
+00010160: 7970 652c 2073 6964 290a 2020 2020 2020  ype, sid).      
+00010170: 2020 7368 2e6e 6f74 6966 794d 656d 6265    sh.notifyMembe
+00010180: 7273 4f66 5368 6172 6528 7369 642c 2073  rsOfShare(sid, s
+00010190: 7562 6a65 6374 2c20 626f 6479 2c20 4661  ubject, body, Fa
+000101a0: 6c73 6529 0a20 2020 2020 2020 2072 6574  lse).        ret
+000101b0: 7572 6e20 7369 640a 0a20 2020 2064 6566  urn sid..    def
+000101c0: 2075 7064 6174 6553 6861 7265 4f72 4469   updateShareOrDi
+000101d0: 7363 7573 7369 6f6e 280a 2020 2020 2020  scussion(.      
+000101e0: 2020 7365 6c66 2c20 686f 7374 2c20 7368    self, host, sh
+000101f0: 6172 655f 6964 2c20 6d65 7373 6167 652c  are_id, message,
+00010200: 2061 6464 5f6d 656d 6265 7273 2c20 726d   add_members, rm
+00010210: 5f6d 656d 6265 7273 2c20 656e 6162 6c65  _members, enable
+00010220: 2c20 6578 7069 7261 7469 6f6e 3d4e 6f6e  , expiration=Non
+00010230: 650a 2020 2020 293a 0a20 2020 2020 2020  e.    ):.       
+00010240: 2073 6861 7265 5f69 6420 3d20 696e 7428   share_id = int(
+00010250: 7368 6172 655f 6964 290a 2020 2020 2020  share_id).      
+00010260: 2020 7368 203d 2073 656c 662e 6765 7453    sh = self.getS
+00010270: 6861 7265 5365 7276 6963 6528 290a 2020  hareService().  
+00010280: 2020 2020 2020 7368 2e73 6574 4465 7363        sh.setDesc
+00010290: 7269 7074 696f 6e28 7368 6172 655f 6964  ription(share_id
+000102a0: 2c20 6d65 7373 6167 6529 0a20 2020 2020  , message).     
+000102b0: 2020 2073 682e 7365 7445 7870 6972 6174     sh.setExpirat
+000102c0: 696f 6e28 7368 6172 655f 6964 2c20 7274  ion(share_id, rt
+000102d0: 696d 6528 6578 7069 7261 7469 6f6e 2929  ime(expiration))
+000102e0: 0a20 2020 2020 2020 2073 682e 7365 7441  .        sh.setA
+000102f0: 6374 6976 6528 7368 6172 655f 6964 2c20  ctive(share_id, 
+00010300: 656e 6162 6c65 290a 2020 2020 2020 2020  enable).        
+00010310: 7368 5f74 7970 6520 3d20 7368 2e67 6574  sh_type = sh.get
+00010320: 436f 6e74 656e 7453 697a 6528 7368 6172  ContentSize(shar
+00010330: 655f 6964 2920 3e20 3020 616e 6420 2273  e_id) > 0 and "s
+00010340: 6861 7265 2220 6f72 2022 6469 7363 7573  hare" or "discus
+00010350: 7369 6f6e 220a 2020 2020 2020 2020 6966  sion".        if
+00010360: 206c 656e 2861 6464 5f6d 656d 6265 7273   len(add_members
+00010370: 2920 3e20 303a 0a20 2020 2020 2020 2020  ) > 0:.         
+00010380: 2020 2073 682e 6164 6455 7365 7273 2873     sh.addUsers(s
+00010390: 6861 7265 5f69 642c 2061 6464 5f6d 656d  hare_id, add_mem
+000103a0: 6265 7273 290a 2020 2020 2020 2020 2020  bers).          
+000103b0: 2020 7368 6172 6520 3d20 7365 6c66 2e67    share = self.g
+000103c0: 6574 5368 6172 6528 7368 6172 655f 6964  etShare(share_id
+000103d0: 290a 2020 2020 2020 2020 2020 2020 626f  ).            bo
+000103e0: 6479 203d 2022 2573 5c6e 5c6e 2573 2055  dy = "%s\n\n%s U
+000103f0: 524c 3a20 2573 5c6e 2220 2520 2873 6861  RL: %s\n" % (sha
+00010400: 7265 2e6d 6573 7361 6765 2c20 7368 5f74  re.message, sh_t
+00010410: 7970 652e 7469 746c 6528 292c 2068 6f73  ype.title(), hos
+00010420: 7429 0a20 2020 2020 2020 2020 2020 2073  t).            s
+00010430: 7562 6a65 6374 203d 2022 4f4d 4552 4f2e  ubject = "OMERO.
+00010440: 2573 2025 7322 2025 2028 7368 5f74 7970  %s %s" % (sh_typ
+00010450: 652c 2073 6861 7265 5f69 6429 0a20 2020  e, share_id).   
+00010460: 2020 2020 2020 2020 2073 682e 6e6f 7469           sh.noti
+00010470: 6679 4d65 6d62 6572 734f 6653 6861 7265  fyMembersOfShare
+00010480: 2873 6861 7265 5f69 642c 2073 7562 6a65  (share_id, subje
+00010490: 6374 2c20 626f 6479 2c20 4661 6c73 6529  ct, body, False)
+000104a0: 0a20 2020 2020 2020 2069 6620 6c65 6e28  .        if len(
+000104b0: 726d 5f6d 656d 6265 7273 2920 3e20 303a  rm_members) > 0:
+000104c0: 0a20 2020 2020 2020 2020 2020 2073 682e  .            sh.
+000104d0: 7265 6d6f 7665 5573 6572 7328 7368 6172  removeUsers(shar
+000104e0: 655f 6964 2c20 726d 5f6d 656d 6265 7273  e_id, rm_members
+000104f0: 290a 2020 2020 2020 2020 7265 7475 726e  ).        return
+00010500: 2073 6861 7265 5f69 640a 0a20 2020 2023   share_id..    #
+00010510: 2323 2323 2323 2323 2323 2323 2323 2323  ################
+00010520: 2323 2323 2323 2323 2323 2323 2323 2323  ################
+00010530: 2323 2323 2323 2323 2323 2323 230a 2020  #############.  
+00010540: 2020 2320 4869 7374 6f72 7920 2020 2020    # History     
+00010550: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00010560: 2020 2020 2020 2020 2020 2020 2020 2323                ##
+00010570: 0a0a 2020 2020 6465 6620 6765 7444 6174  ..    def getDat
+00010580: 6142 7950 6572 696f 6428 7365 6c66 2c20  aByPeriod(self, 
+00010590: 7374 6172 742c 2065 6e64 2c20 6569 642c  start, end, eid,
+000105a0: 206f 7479 7065 3d4e 6f6e 652c 2070 6167   otype=None, pag
+000105b0: 653d 4e6f 6e65 293a 0a20 2020 2020 2020  e=None):.       
+000105c0: 2022 2222 0a20 2020 2020 2020 2052 6574   """.        Ret
+000105d0: 7269 6576 6520 6769 7665 6e20 6461 7461  rieve given data
+000105e0: 206f 626a 6563 7473 2062 7920 7468 6520   objects by the 
+000105f0: 6769 7665 6e20 7065 7269 6f64 206f 6620  given period of 
+00010600: 7469 6d65 0a20 2020 2020 2020 2063 6f6e  time.        con
+00010610: 7472 6f6c 6c65 6420 6279 2074 6865 2073  trolled by the s
+00010620: 6563 7572 6974 7920 7379 7374 656d 2e0a  ecurity system..
+00010630: 0a20 2020 2020 2020 2040 7061 7261 6d20  .        @param 
+00010640: 7374 6172 7420 2020 2020 2020 2053 7461  start        Sta
+00010650: 7274 696e 6720 6461 7461 0a20 2020 2020  rting data.     
+00010660: 2020 2040 7479 7065 2073 7461 7274 2020     @type start  
+00010670: 2020 2020 2020 204c 6f6e 670a 2020 2020         Long.    
+00010680: 2020 2020 4070 6172 616d 2065 6e64 2020      @param end  
+00010690: 2020 2020 2020 2020 4669 6e69 7368 696e          Finishin
+000106a0: 6720 6461 7461 0a20 2020 2020 2020 2040  g data.        @
+000106b0: 7479 7065 2065 6e64 2020 2020 2020 2020  type end        
+000106c0: 2020 204c 6f6e 670a 2020 2020 2020 2020     Long.        
+000106d0: 4070 6172 616d 206f 7479 7065 2020 2020  @param otype    
+000106e0: 2020 2020 4461 7461 2074 7970 653a 2050      Data type: P
+000106f0: 726f 6a65 6374 2c20 4461 7461 7365 742c  roject, Dataset,
+00010700: 2049 6d61 6765 0a20 2020 2020 2020 2040   Image.        @
+00010710: 7479 7065 206f 7479 7065 2020 2020 2020  type otype      
+00010720: 2020 2053 7472 696e 670a 2020 2020 2020     String.      
+00010730: 2020 4072 6574 7572 6e3a 2020 2020 2020    @return:      
+00010740: 2020 2020 2020 4d61 7020 6f66 2070 726f        Map of pro
+00010750: 6a65 6374 2c20 6461 7461 7365 7420 616e  ject, dataset an
+00010760: 6420 696d 6167 6520 6c69 7374 730a 2020  d image lists.  
+00010770: 2020 2020 2020 4072 7479 7065 3a20 2020        @rtype:   
+00010780: 2020 2020 2020 2020 2020 4d61 700a 2020            Map.  
+00010790: 2020 2020 2020 2222 220a 2020 2020 2020        """.      
+000107a0: 2020 746d 203d 2073 656c 662e 6765 7454    tm = self.getT
+000107b0: 696d 656c 696e 6553 6572 7669 6365 2829  imelineService()
+000107c0: 0a0a 2020 2020 2020 2020 7020 3d20 6f6d  ..        p = om
+000107d0: 6572 6f2e 7379 732e 5061 7261 6d65 7465  ero.sys.Paramete
+000107e0: 7273 4928 290a 2020 2020 2020 2020 702e  rsI().        p.
+000107f0: 6578 7028 6569 6429 0a20 2020 2020 2020  exp(eid).       
+00010800: 2069 6620 7061 6765 2069 7320 6e6f 7420   if page is not 
+00010810: 4e6f 6e65 3a0a 2020 2020 2020 2020 2020  None:.          
+00010820: 2020 702e 7061 6765 2828 2869 6e74 2870    p.page(((int(p
+00010830: 6167 6529 202d 2031 2920 2a20 7365 7474  age) - 1) * sett
+00010840: 696e 6773 2e50 4147 4529 2c20 7365 7474  ings.PAGE), sett
+00010850: 696e 6773 2e50 4147 4529 0a20 2020 2020  ings.PAGE).     
+00010860: 2020 2065 6c73 653a 0a20 2020 2020 2020     else:.       
+00010870: 2020 2020 2070 2e70 6167 6528 4e6f 6e65       p.page(None
+00010880: 2c20 3130 3029 0a0a 2020 2020 2020 2020  , 100)..        
+00010890: 696d 5f6c 6973 7420 3d20 6c69 7374 2829  im_list = list()
+000108a0: 0a20 2020 2020 2020 2064 735f 6c69 7374  .        ds_list
+000108b0: 203d 206c 6973 7428 290a 2020 2020 2020   = list().      
+000108c0: 2020 7072 5f6c 6973 7420 3d20 6c69 7374    pr_list = list
+000108d0: 2829 0a0a 2020 2020 2020 2020 6966 206f  ()..        if o
+000108e0: 7479 7065 2069 7320 6e6f 7420 4e6f 6e65  type is not None
+000108f0: 2061 6e64 206f 7479 7065 2069 6e20 2822   and otype in ("
+00010900: 496d 6167 6522 2c20 2244 6174 6173 6574  Image", "Dataset
+00010910: 222c 2022 5072 6f6a 6563 7422 293a 0a20  ", "Project"):. 
+00010920: 2020 2020 2020 2020 2020 206f 7479 7065             otype
+00010930: 203d 206f 7479 7065 2e74 6974 6c65 2829   = otype.title()
+00010940: 0a20 2020 2020 2020 2020 2020 2066 6f72  .            for
+00010950: 2065 2069 6e20 746d 2e67 6574 4279 5065   e in tm.getByPe
+00010960: 7269 6f64 280a 2020 2020 2020 2020 2020  riod(.          
+00010970: 2020 2020 2020 5b6f 7479 7065 5d2c 2072        [otype], r
+00010980: 7469 6d65 2869 6e74 2873 7461 7274 2929  time(int(start))
+00010990: 2c20 7274 696d 6528 696e 7428 656e 6429  , rtime(int(end)
+000109a0: 292c 2070 2c20 5472 7565 2c20 7365 6c66  ), p, True, self
+000109b0: 2e53 4552 5649 4345 5f4f 5054 530a 2020  .SERVICE_OPTS.  
+000109c0: 2020 2020 2020 2020 2020 295b 6f74 7970            )[otyp
+000109d0: 655d 3a0a 2020 2020 2020 2020 2020 2020  e]:.            
+000109e0: 2020 2020 7772 6170 7065 7220 3d20 4b4e      wrapper = KN
+000109f0: 4f57 4e5f 5752 4150 5045 5253 2e67 6574  OWN_WRAPPERS.get
+00010a00: 286f 7479 7065 2e74 6974 6c65 2829 2c20  (otype.title(), 
+00010a10: 4e6f 6e65 290a 2020 2020 2020 2020 2020  None).          
+00010a20: 2020 2020 2020 696d 5f6c 6973 742e 6170        im_list.ap
+00010a30: 7065 6e64 2877 7261 7070 6572 2873 656c  pend(wrapper(sel
+00010a40: 662c 2065 2929 0a20 2020 2020 2020 2065  f, e)).        e
+00010a50: 6c73 653a 0a20 2020 2020 2020 2020 2020  lse:.           
+00010a60: 2072 6573 203d 2074 6d2e 6765 7442 7950   res = tm.getByP
+00010a70: 6572 696f 6428 0a20 2020 2020 2020 2020  eriod(.         
+00010a80: 2020 2020 2020 205b 2249 6d61 6765 222c         ["Image",
+00010a90: 2022 4461 7461 7365 7422 2c20 2250 726f   "Dataset", "Pro
+00010aa0: 6a65 6374 225d 2c0a 2020 2020 2020 2020  ject"],.        
+00010ab0: 2020 2020 2020 2020 7274 696d 6528 696e          rtime(in
+00010ac0: 7428 7374 6172 7429 292c 0a20 2020 2020  t(start)),.     
+00010ad0: 2020 2020 2020 2020 2020 2072 7469 6d65             rtime
+00010ae0: 2869 6e74 2865 6e64 2929 2c0a 2020 2020  (int(end)),.    
+00010af0: 2020 2020 2020 2020 2020 2020 702c 0a20              p,. 
+00010b00: 2020 2020 2020 2020 2020 2020 2020 2054                 T
+00010b10: 7275 652c 0a20 2020 2020 2020 2020 2020  rue,.           
+00010b20: 2020 2020 2073 656c 662e 5345 5256 4943       self.SERVIC
+00010b30: 455f 4f50 5453 2c0a 2020 2020 2020 2020  E_OPTS,.        
+00010b40: 2020 2020 290a 2020 2020 2020 2020 2020      ).          
+00010b50: 2020 7472 793a 0a20 2020 2020 2020 2020    try:.         
+00010b60: 2020 2020 2020 2066 6f72 2065 2069 6e20         for e in 
+00010b70: 7265 735b 2249 6d61 6765 225d 3a0a 2020  res["Image"]:.  
+00010b80: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00010b90: 2020 696d 5f6c 6973 742e 6170 7065 6e64    im_list.append
+00010ba0: 2849 6d61 6765 5772 6170 7065 7228 7365  (ImageWrapper(se
+00010bb0: 6c66 2c20 6529 290a 2020 2020 2020 2020  lf, e)).        
+00010bc0: 2020 2020 6578 6365 7074 2045 7863 6570      except Excep
+00010bd0: 7469 6f6e 3a0a 2020 2020 2020 2020 2020  tion:.          
+00010be0: 2020 2020 2020 7061 7373 0a20 2020 2020        pass.     
+00010bf0: 2020 2020 2020 2074 7279 3a0a 2020 2020         try:.    
+00010c00: 2020 2020 2020 2020 2020 2020 666f 7220              for 
+00010c10: 6520 696e 2072 6573 5b22 4461 7461 7365  e in res["Datase
+00010c20: 7422 5d3a 0a20 2020 2020 2020 2020 2020  t"]:.           
+00010c30: 2020 2020 2020 2020 2064 735f 6c69 7374           ds_list
+00010c40: 2e61 7070 656e 6428 4461 7461 7365 7457  .append(DatasetW
+00010c50: 7261 7070 6572 2873 656c 662c 2065 2929  rapper(self, e))
+00010c60: 0a20 2020 2020 2020 2020 2020 2065 7863  .            exc
+00010c70: 6570 7420 4578 6365 7074 696f 6e3a 0a20  ept Exception:. 
+00010c80: 2020 2020 2020 2020 2020 2020 2020 2070                 p
+00010c90: 6173 730a 2020 2020 2020 2020 2020 2020  ass.            
+00010ca0: 7472 793a 0a20 2020 2020 2020 2020 2020  try:.           
+00010cb0: 2020 2020 2066 6f72 2065 2069 6e20 7265       for e in re
+00010cc0: 735b 2250 726f 6a65 6374 225d 3a0a 2020  s["Project"]:.  
+00010cd0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00010ce0: 2020 7072 5f6c 6973 742e 6170 7065 6e64    pr_list.append
+00010cf0: 2850 726f 6a65 6374 5772 6170 7065 7228  (ProjectWrapper(
+00010d00: 7365 6c66 2c20 6529 290a 2020 2020 2020  self, e)).      
+00010d10: 2020 2020 2020 6578 6365 7074 2045 7863        except Exc
+00010d20: 6570 7469 6f6e 3a0a 2020 2020 2020 2020  eption:.        
+00010d30: 2020 2020 2020 2020 7061 7373 0a20 2020          pass.   
+00010d40: 2020 2020 2072 6574 7572 6e20 7b22 7072       return {"pr
+00010d50: 6f6a 6563 7422 3a20 7072 5f6c 6973 742c  oject": pr_list,
+00010d60: 2022 6461 7461 7365 7422 3a20 6473 5f6c   "dataset": ds_l
+00010d70: 6973 742c 2022 696d 6167 6522 3a20 696d  ist, "image": im
+00010d80: 5f6c 6973 747d 0a0a 2020 2020 6465 6620  _list}..    def 
+00010d90: 636f 756e 7444 6174 6142 7950 6572 696f  countDataByPerio
+00010da0: 6428 7365 6c66 2c20 7374 6172 742c 2065  d(self, start, e
+00010db0: 6e64 2c20 6569 642c 206f 7479 7065 3d4e  nd, eid, otype=N
+00010dc0: 6f6e 6529 3a0a 2020 2020 2020 2020 2222  one):.        ""
+00010dd0: 220a 2020 2020 2020 2020 436f 756e 7473  ".        Counts
+00010de0: 2067 6976 656e 2064 6174 6120 6f62 6a65   given data obje
+00010df0: 6374 7320 6279 2074 6865 2067 6976 656e  cts by the given
+00010e00: 2070 6572 696f 6420 6f66 2074 696d 650a   period of time.
+00010e10: 2020 2020 2020 2020 636f 6e74 726f 6c6c          controll
+00010e20: 6564 2062 7920 7468 6520 7365 6375 7269  ed by the securi
+00010e30: 7479 2073 7973 7465 6d2e 0a0a 2020 2020  ty system...    
+00010e40: 2020 2020 4070 6172 616d 2073 7461 7274      @param start
+00010e50: 2020 2020 2020 2020 5374 6172 7469 6e67          Starting
+00010e60: 2064 6174 610a 2020 2020 2020 2020 4074   data.        @t
+00010e70: 7970 6520 7374 6172 7420 2020 2020 2020  ype start       
+00010e80: 2020 4c6f 6e67 0a20 2020 2020 2020 2040    Long.        @
+00010e90: 7061 7261 6d20 656e 6420 2020 2020 2020  param end       
+00010ea0: 2020 2046 696e 6973 6869 6e67 2064 6174     Finishing dat
+00010eb0: 610a 2020 2020 2020 2020 4074 7970 6520  a.        @type 
+00010ec0: 656e 6420 2020 2020 2020 2020 2020 4c6f  end           Lo
+00010ed0: 6e67 0a20 2020 2020 2020 2040 7061 7261  ng.        @para
+00010ee0: 6d20 6f74 7970 6520 2020 2020 2020 2044  m otype        D
+00010ef0: 6174 6120 7479 7065 3a20 5072 6f6a 6563  ata type: Projec
+00010f00: 742c 2044 6174 6173 6574 2c20 496d 6167  t, Dataset, Imag
+00010f10: 650a 2020 2020 2020 2020 4074 7970 6520  e.        @type 
+00010f20: 6f74 7970 6520 2020 2020 2020 2020 5374  otype         St
+00010f30: 7269 6e67 0a20 2020 2020 2020 2040 7265  ring.        @re
+00010f40: 7475 726e 3a20 2020 2020 2020 2020 2020  turn:           
+00010f50: 2043 6f75 6e74 6572 0a20 2020 2020 2020   Counter.       
+00010f60: 2040 7274 7970 653a 2020 2020 2020 2020   @rtype:        
+00010f70: 2020 2020 204c 6f6e 670a 2020 2020 2020       Long.      
+00010f80: 2020 2222 220a 2020 2020 2020 2020 746d    """.        tm
+00010f90: 203d 2073 656c 662e 6765 7454 696d 656c   = self.getTimel
+00010fa0: 696e 6553 6572 7669 6365 2829 0a20 2020  ineService().   
+00010fb0: 2020 2020 2070 203d 206f 6d65 726f 2e73       p = omero.s
+00010fc0: 7973 2e50 6172 616d 6574 6572 7328 290a  ys.Parameters().
+00010fd0: 2020 2020 2020 2020 702e 6d61 7020 3d20          p.map = 
+00010fe0: 7b7d 0a20 2020 2020 2020 2066 203d 206f  {}.        f = o
+00010ff0: 6d65 726f 2e73 7973 2e46 696c 7465 7228  mero.sys.Filter(
+00011000: 290a 2020 2020 2020 2020 662e 6f77 6e65  ).        f.owne
+00011010: 7249 6420 3d20 726c 6f6e 6728 6569 6429  rId = rlong(eid)
+00011020: 0a20 2020 2020 2020 2023 2066 2e67 726f  .        # f.gro
+00011030: 7570 4964 203d 2072 6c6f 6e67 2873 656c  upId = rlong(sel
+00011040: 662e 6765 7445 7665 6e74 436f 6e74 6578  f.getEventContex
+00011050: 7428 292e 6772 6f75 7049 6429 0a20 2020  t().groupId).   
+00011060: 2020 2020 2070 2e74 6865 4669 6c74 6572       p.theFilter
+00011070: 203d 2066 0a20 2020 2020 2020 2069 6620   = f.        if 
+00011080: 6f74 7970 6520 3d3d 2022 696d 6167 6522  otype == "image"
+00011090: 3a0a 2020 2020 2020 2020 2020 2020 7265  :.            re
+000110a0: 7475 726e 2074 6d2e 636f 756e 7442 7950  turn tm.countByP
+000110b0: 6572 696f 6428 0a20 2020 2020 2020 2020  eriod(.         
+000110c0: 2020 2020 2020 205b 2249 6d61 6765 225d         ["Image"]
+000110d0: 2c20 7274 696d 6528 696e 7428 7374 6172  , rtime(int(star
+000110e0: 7429 292c 2072 7469 6d65 2869 6e74 2865  t)), rtime(int(e
+000110f0: 6e64 2929 2c20 702c 2073 656c 662e 5345  nd)), p, self.SE
+00011100: 5256 4943 455f 4f50 5453 0a20 2020 2020  RVICE_OPTS.     
+00011110: 2020 2020 2020 2029 5b22 496d 6167 6522         )["Image"
+00011120: 5d0a 2020 2020 2020 2020 656c 6966 206f  ].        elif o
+00011130: 7479 7065 203d 3d20 2264 6174 6173 6574  type == "dataset
+00011140: 223a 0a20 2020 2020 2020 2020 2020 2072  ":.            r
+00011150: 6574 7572 6e20 746d 2e63 6f75 6e74 4279  eturn tm.countBy
+00011160: 5065 7269 6f64 280a 2020 2020 2020 2020  Period(.        
+00011170: 2020 2020 2020 2020 5b22 4461 7461 7365          ["Datase
+00011180: 7422 5d2c 2072 7469 6d65 2869 6e74 2873  t"], rtime(int(s
+00011190: 7461 7274 2929 2c20 7274 696d 6528 696e  tart)), rtime(in
+000111a0: 7428 656e 6429 292c 2070 2c20 7365 6c66  t(end)), p, self
+000111b0: 2e53 4552 5649 4345 5f4f 5054 530a 2020  .SERVICE_OPTS.  
+000111c0: 2020 2020 2020 2020 2020 295b 2244 6174            )["Dat
+000111d0: 6173 6574 225d 0a20 2020 2020 2020 2065  aset"].        e
+000111e0: 6c69 6620 6f74 7970 6520 3d3d 2022 7072  lif otype == "pr
+000111f0: 6f6a 6563 7422 3a0a 2020 2020 2020 2020  oject":.        
+00011200: 2020 2020 7265 7475 726e 2074 6d2e 636f      return tm.co
+00011210: 756e 7442 7950 6572 696f 6428 0a20 2020  untByPeriod(.   
+00011220: 2020 2020 2020 2020 2020 2020 205b 2250               ["P
+00011230: 726f 6a65 6374 225d 2c20 7274 696d 6528  roject"], rtime(
+00011240: 696e 7428 7374 6172 7429 292c 2072 7469  int(start)), rti
+00011250: 6d65 2869 6e74 2865 6e64 2929 2c20 702c  me(int(end)), p,
+00011260: 2073 656c 662e 5345 5256 4943 455f 4f50   self.SERVICE_OP
+00011270: 5453 0a20 2020 2020 2020 2020 2020 2029  TS.            )
+00011280: 5b22 5072 6f6a 6563 7422 5d0a 2020 2020  ["Project"].    
+00011290: 2020 2020 656c 7365 3a0a 2020 2020 2020      else:.      
+000112a0: 2020 2020 2020 6320 3d20 746d 2e63 6f75        c = tm.cou
+000112b0: 6e74 4279 5065 7269 6f64 280a 2020 2020  ntByPeriod(.    
+000112c0: 2020 2020 2020 2020 2020 2020 5b22 496d              ["Im
+000112d0: 6167 6522 2c20 2244 6174 6173 6574 222c  age", "Dataset",
+000112e0: 2022 5072 6f6a 6563 7422 5d2c 0a20 2020   "Project"],.   
+000112f0: 2020 2020 2020 2020 2020 2020 2072 7469               rti
+00011300: 6d65 2869 6e74 2873 7461 7274 2929 2c0a  me(int(start)),.
+00011310: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00011320: 7274 696d 6528 696e 7428 656e 6429 292c  rtime(int(end)),
+00011330: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00011340: 2070 2c0a 2020 2020 2020 2020 2020 2020   p,.            
+00011350: 2020 2020 7365 6c66 2e53 4552 5649 4345      self.SERVICE
+00011360: 5f4f 5054 532c 0a20 2020 2020 2020 2020  _OPTS,.         
+00011370: 2020 2029 0a20 2020 2020 2020 2020 2020     ).           
+00011380: 2072 6574 7572 6e20 635b 2249 6d61 6765   return c["Image
+00011390: 225d 202b 2063 5b22 4461 7461 7365 7422  "] + c["Dataset"
+000113a0: 5d20 2b20 635b 2250 726f 6a65 6374 225d  ] + c["Project"]
+000113b0: 0a0a 2020 2020 6465 6620 6765 7445 7665  ..    def getEve
+000113c0: 6e74 7342 7950 6572 696f 6428 7365 6c66  ntsByPeriod(self
+000113d0: 2c20 7374 6172 742c 2065 6e64 2c20 6569  , start, end, ei
+000113e0: 6429 3a0a 2020 2020 2020 2020 2222 220a  d):.        """.
+000113f0: 2020 2020 2020 2020 5265 7472 6965 7665          Retrieve
+00011400: 2065 7665 6e74 206c 6f67 206f 626a 6563   event log objec
+00011410: 7473 2062 7920 7468 6520 6769 7665 6e20  ts by the given 
+00011420: 7065 7269 6f64 206f 6620 7469 6d65 0a20  period of time. 
+00011430: 2020 2020 2020 2063 6f6e 7472 6f6c 6c65         controlle
+00011440: 6420 6279 2074 6865 2073 6563 7572 6974  d by the securit
+00011450: 7920 7379 7374 656d 2e0a 0a20 2020 2020  y system...     
+00011460: 2020 2040 7061 7261 6d20 7374 6172 7420     @param start 
+00011470: 2020 2020 2020 2053 7461 7274 696e 6720         Starting 
+00011480: 6461 7461 0a20 2020 2020 2020 2040 7479  data.        @ty
+00011490: 7065 2073 7461 7274 2020 2020 2020 2020  pe start        
+000114a0: 204c 6f6e 670a 2020 2020 2020 2020 4070   Long.        @p
+000114b0: 6172 616d 2065 6e64 2020 2020 2020 2020  aram end        
+000114c0: 2020 4669 6e69 7368 696e 6720 6461 7461    Finishing data
+000114d0: 0a20 2020 2020 2020 2040 7479 7065 2065  .        @type e
+000114e0: 6e64 2020 2020 2020 2020 2020 204c 6f6e  nd           Lon
+000114f0: 670a 2020 2020 2020 2020 4072 6574 7572  g.        @retur
+00011500: 6e3a 2020 2020 2020 2020 2020 2020 4c69  n:            Li
+00011510: 7374 206f 6620 6576 656e 7420 6c6f 6773  st of event logs
+00011520: 0a20 2020 2020 2020 2040 7274 7970 653a  .        @rtype:
+00011530: 2020 2020 2020 2020 2020 2020 204c 6973               Lis
+00011540: 740a 2020 2020 2020 2020 2222 220a 2020  t.        """.  
+00011550: 2020 2020 2020 746d 203d 2073 656c 662e        tm = self.
+00011560: 6765 7454 696d 656c 696e 6553 6572 7669  getTimelineServi
+00011570: 6365 2829 0a20 2020 2020 2020 2070 203d  ce().        p =
+00011580: 206f 6d65 726f 2e73 7973 2e50 6172 616d   omero.sys.Param
+00011590: 6574 6572 7328 290a 2020 2020 2020 2020  eters().        
+000115a0: 702e 6d61 7020 3d20 7b7d 0a20 2020 2020  p.map = {}.     
+000115b0: 2020 2066 203d 206f 6d65 726f 2e73 7973     f = omero.sys
+000115c0: 2e46 696c 7465 7228 290a 2020 2020 2020  .Filter().      
+000115d0: 2020 662e 6c69 6d69 7420 3d20 7269 6e74    f.limit = rint
+000115e0: 2831 3030 3030 3029 0a20 2020 2020 2020  (100000).       
+000115f0: 2074 7279 3a0a 2020 2020 2020 2020 2020   try:.          
+00011600: 2020 662e 6772 6f75 7049 6420 3d20 726c    f.groupId = rl
+00011610: 6f6e 6728 7365 6c66 2e53 4552 5649 4345  ong(self.SERVICE
+00011620: 5f4f 5054 532e 6765 744f 6d65 726f 4772  _OPTS.getOmeroGr
+00011630: 6f75 7028 2929 0a20 2020 2020 2020 2065  oup()).        e
+00011640: 7863 6570 7420 4578 6365 7074 696f 6e3a  xcept Exception:
+00011650: 0a20 2020 2020 2020 2020 2020 2066 2e67  .            f.g
+00011660: 726f 7570 4964 203d 2072 6c6f 6e67 2873  roupId = rlong(s
+00011670: 656c 662e 6765 7445 7665 6e74 436f 6e74  elf.getEventCont
+00011680: 6578 7428 292e 6772 6f75 7049 6429 0a20  ext().groupId). 
+00011690: 2020 2020 2020 2066 2e6f 776e 6572 4964         f.ownerId
+000116a0: 203d 2072 6c6f 6e67 2865 6964 206f 7220   = rlong(eid or 
+000116b0: 7365 6c66 2e67 6574 4576 656e 7443 6f6e  self.getEventCon
+000116c0: 7465 7874 2829 2e75 7365 7249 6429 0a20  text().userId). 
+000116d0: 2020 2020 2020 2070 2e74 6865 4669 6c74         p.theFilt
+000116e0: 6572 203d 2066 0a20 2020 2020 2020 2073  er = f.        s
+000116f0: 6572 7669 6365 5f6f 7074 7320 3d20 7365  ervice_opts = se
+00011700: 6c66 2e63 7265 6174 6553 6572 7669 6365  lf.createService
+00011710: 4f70 7473 4469 6374 2829 0a20 2020 2020  OptsDict().     
+00011720: 2020 2073 6572 7669 6365 5f6f 7074 732e     service_opts.
+00011730: 7365 744f 6d65 726f 4772 6f75 7028 7374  setOmeroGroup(st
+00011740: 7228 662e 6772 6f75 7049 642e 7661 6c29  r(f.groupId.val)
+00011750: 290a 2020 2020 2020 2020 7265 7475 726e  ).        return
+00011760: 2074 6d2e 6765 7445 7665 6e74 4c6f 6773   tm.getEventLogs
+00011770: 4279 5065 7269 6f64 2872 7469 6d65 2873  ByPeriod(rtime(s
+00011780: 7461 7274 292c 2072 7469 6d65 2865 6e64  tart), rtime(end
+00011790: 292c 2070 2c20 7365 7276 6963 655f 6f70  ), p, service_op
+000117a0: 7473 290a 2020 2020 2020 2020 2320 7969  ts).        # yi
+000117b0: 656c 6420 4576 656e 744c 6f67 5772 6170  eld EventLogWrap
+000117c0: 7065 7228 7365 6c66 2c20 6529 0a0a 2020  per(self, e)..  
+000117d0: 2020 6465 6620 7265 6772 6f75 7046 696c    def regroupFil
+000117e0: 6573 6574 7328 7365 6c66 2c20 6473 4964  esets(self, dsId
+000117f0: 732c 2066 7349 6473 293a 0a20 2020 2020  s, fsIds):.     
+00011800: 2020 2022 2222 0a20 2020 2020 2020 2046     """.        F
+00011810: 6f72 2065 6163 6820 4669 6c65 7365 742c  or each Fileset,
+00011820: 206d 616b 6520 7375 7265 2061 6c6c 2074   make sure all t
+00011830: 6865 2049 6d61 6765 7320 6172 6520 696e  he Images are in
+00011840: 2074 6865 2073 616d 6520 4461 7461 7365   the same Datase
+00011850: 740a 2020 2020 2020 2020 6173 2065 6163  t.        as eac
+00011860: 6820 6f74 6865 722e 0a20 2020 2020 2020  h other..       
+00011870: 2057 6520 6368 6f6f 7365 2061 2027 7461   We choose a 'ta
+00011880: 7267 6574 2720 4461 7461 7365 7420 7468  rget' Dataset th
+00011890: 6174 2061 6c72 6561 6479 2068 6173 206f  at already has o
+000118a0: 6e65 206f 6620 7468 6520 4669 6c65 7365  ne of the Filese
+000118b0: 740a 2020 2020 2020 2020 496d 6167 6573  t.        Images
+000118c0: 2069 6e20 6974 2c20 616e 6420 6973 2069   in it, and is i
+000118d0: 6e20 7468 6520 6473 4964 7320 6c69 7374  n the dsIds list
+000118e0: 2e0a 2020 2020 2020 2020 5468 6973 206d  ..        This m
+000118f0: 6574 686f 6420 6973 2075 7365 6420 7768  ethod is used wh
+00011900: 656e 2070 7265 7061 7269 6e67 2074 6f20  en preparing to 
+00011910: 6368 6772 7020 7468 6520 7370 6563 6966  chgrp the specif
+00011920: 6965 6420 6461 7461 7365 7473 0a20 2020  ied datasets.   
+00011930: 2020 2020 2022 2222 0a0a 2020 2020 2020       """..      
+00011940: 2020 666f 7220 6669 6c65 7365 7420 696e    for fileset in
+00011950: 2073 656c 662e 6765 744f 626a 6563 7473   self.getObjects
+00011960: 2822 4669 6c65 7365 7422 2c20 6673 4964  ("Fileset", fsId
+00011970: 7329 3a0a 2020 2020 2020 2020 2020 2020  s):.            
+00011980: 6769 6420 3d20 6669 6c65 7365 742e 6765  gid = fileset.ge
+00011990: 7444 6574 6169 6c73 2829 2e67 726f 7570  tDetails().group
+000119a0: 2e69 642e 7661 6c0a 2020 2020 2020 2020  .id.val.        
+000119b0: 2020 2020 7365 6c66 2e53 4552 5649 4345      self.SERVICE
+000119c0: 5f4f 5054 532e 7365 744f 6d65 726f 4772  _OPTS.setOmeroGr
+000119d0: 6f75 7028 6769 6429 0a20 2020 2020 2020  oup(gid).       
+000119e0: 2020 2020 2023 2061 6c6c 2074 6865 7365       # all these
+000119f0: 206e 6565 6420 746f 2062 6520 696e 2073   need to be in s
+00011a00: 616d 6520 4461 7461 7365 740a 2020 2020  ame Dataset.    
+00011a10: 2020 2020 2020 2020 6673 496d 6773 203d          fsImgs =
+00011a20: 2066 696c 6573 6574 2e63 6f70 7949 6d61   fileset.copyIma
+00011a30: 6765 7328 290a 2020 2020 2020 2020 2020  ges().          
+00011a40: 2020 2320 6669 6e64 206f 6e65 206f 6620    # find one of 
+00011a50: 7468 6520 4461 7461 7365 7473 2028 6f62  the Datasets (ob
+00011a60: 6a5f 6964 7329 2074 6861 7420 636f 6e74  j_ids) that cont
+00011a70: 6169 6e73 206f 6e65 206f 6620 7468 6573  ains one of thes
+00011a80: 650a 2020 2020 2020 2020 2020 2020 2320  e.            # 
+00011a90: 696d 6167 6573 2e2e 2e0a 2020 2020 2020  images....      
+00011aa0: 2020 2020 2020 7461 7267 6574 5f64 7320        target_ds 
+00011ab0: 3d20 4e6f 6e65 0a20 2020 2020 2020 2020  = None.         
+00011ac0: 2020 2066 6f72 2069 2069 6e20 6673 496d     for i in fsIm
+00011ad0: 6773 3a0a 2020 2020 2020 2020 2020 2020  gs:.            
+00011ae0: 2020 2020 666f 7220 6420 696e 2069 2e6c      for d in i.l
+00011af0: 6973 7450 6172 656e 7473 2829 3a0a 2020  istParents():.  
+00011b00: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00011b10: 2020 6966 2064 2e69 6420 696e 2064 7349    if d.id in dsI
+00011b20: 6473 3a0a 2020 2020 2020 2020 2020 2020  ds:.            
+00011b30: 2020 2020 2020 2020 2020 2020 7461 7267              targ
+00011b40: 6574 5f64 7320 3d20 642e 6964 0a20 2020  et_ds = d.id.   
+00011b50: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00011b60: 2020 2020 2062 7265 616b 0a20 2020 2020       break.     
+00011b70: 2020 2020 2020 2020 2020 2069 6620 7461             if ta
+00011b80: 7267 6574 5f64 7320 6973 206e 6f74 204e  rget_ds is not N
+00011b90: 6f6e 653a 0a20 2020 2020 2020 2020 2020  one:.           
+00011ba0: 2020 2020 2020 2020 2062 7265 616b 0a20           break. 
+00011bb0: 2020 2020 2020 2020 2020 2023 206d 6f76             # mov
+00011bc0: 6520 414c 4c20 6673 2069 6d61 6765 7320  e ALL fs images 
+00011bd0: 696e 746f 2074 6861 7420 4461 7461 7365  into that Datase
+00011be0: 740a 2020 2020 2020 2020 2020 2020 666f  t.            fo
+00011bf0: 7220 6920 696e 2066 7349 6d67 733a 0a20  r i in fsImgs:. 
+00011c00: 2020 2020 2020 2020 2020 2020 2020 2063                 c
+00011c10: 6f72 7265 6374 5f64 6174 6173 6574 203d  orrect_dataset =
+00011c20: 2046 616c 7365 0a20 2020 2020 2020 2020   False.         
+00011c30: 2020 2020 2020 2066 6f72 2070 6c69 6e6b         for plink
+00011c40: 2069 6e20 692e 6765 7450 6172 656e 744c   in i.getParentL
+00011c50: 696e 6b73 2829 3a0a 2020 2020 2020 2020  inks():.        
+00011c60: 2020 2020 2020 2020 2020 2020 6966 2070              if p
+00011c70: 6c69 6e6b 2e70 6172 656e 742e 6964 2021  link.parent.id !
+00011c80: 3d20 7461 7267 6574 5f64 733a 0a20 2020  = target_ds:.   
+00011c90: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00011ca0: 2020 2020 2073 656c 662e 6465 6c65 7465       self.delete
+00011cb0: 4f62 6a65 6374 2870 6c69 6e6b 2e5f 6f62  Object(plink._ob
+00011cc0: 6a29 0a20 2020 2020 2020 2020 2020 2020  j).             
+00011cd0: 2020 2020 2020 2065 6c73 653a 0a20 2020         else:.   
+00011ce0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00011cf0: 2020 2020 2063 6f72 7265 6374 5f64 6174       correct_dat
+00011d00: 6173 6574 203d 2054 7275 650a 2020 2020  aset = True.    
+00011d10: 2020 2020 2020 2020 2020 2020 6966 206e              if n
+00011d20: 6f74 2063 6f72 7265 6374 5f64 6174 6173  ot correct_datas
+00011d30: 6574 3a0a 2020 2020 2020 2020 2020 2020  et:.            
+00011d40: 2020 2020 2020 2020 6c69 6e6b 203d 206f          link = o
+00011d50: 6d65 726f 2e6d 6f64 656c 2e44 6174 6173  mero.model.Datas
+00011d60: 6574 496d 6167 654c 696e 6b49 2829 0a20  etImageLinkI(). 
+00011d70: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00011d80: 2020 206c 696e 6b2e 7365 7443 6869 6c64     link.setChild
+00011d90: 286f 6d65 726f 2e6d 6f64 656c 2e49 6d61  (omero.model.Ima
+00011da0: 6765 4928 692e 6765 7449 6428 292c 2046  geI(i.getId(), F
+00011db0: 616c 7365 2929 0a20 2020 2020 2020 2020  alse)).         
+00011dc0: 2020 2020 2020 2020 2020 206c 696e 6b2e             link.
+00011dd0: 7365 7450 6172 656e 7428 6f6d 6572 6f2e  setParent(omero.
+00011de0: 6d6f 6465 6c2e 4461 7461 7365 7449 2874  model.DatasetI(t
+00011df0: 6172 6765 745f 6473 2c20 4661 6c73 6529  arget_ds, False)
+00011e00: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
+00011e10: 2020 2020 2020 7365 6c66 2e73 6176 654f        self.saveO
+00011e20: 626a 6563 7428 6c69 6e6b 290a 0a20 2020  bject(link)..   
+00011e30: 2020 2020 2023 2063 6f6e 6e2e 6368 6772       # conn.chgr
+00011e40: 704f 626a 6563 7473 2864 7479 7065 2c20  pObjects(dtype, 
+00011e50: 6f62 6a5f 6964 732c 2067 726f 7570 5f69  obj_ids, group_i
+00011e60: 642c 2063 6f6e 7461 696e 6572 5f69 6429  d, container_id)
+00011e70: 0a0a 0a6f 6d65 726f 2e67 6174 6577 6179  ...omero.gateway
+00011e80: 2e42 6c69 747a 4761 7465 7761 7920 3d20  .BlitzGateway = 
+00011e90: 4f6d 6572 6f57 6562 4761 7465 7761 790a  OmeroWebGateway.
+00011ea0: 0a0a 636c 6173 7320 4f6d 6572 6f57 6562  ..class OmeroWeb
+00011eb0: 5361 6665 4361 6c6c 5772 6170 7065 7228  SafeCallWrapper(
+00011ec0: 4f6d 6572 6f47 6174 6577 6179 5361 6665  OmeroGatewaySafe
+00011ed0: 4361 6c6c 5772 6170 7065 7229 3a20 2023  CallWrapper):  #
+00011ee0: 2070 7261 676d 613a 206e 6f20 636f 7665   pragma: no cove
+00011ef0: 720a 2020 2020 2222 220a 2020 2020 4675  r.    """.    Fu
+00011f00: 6e63 7469 6f6e 206f 7220 6d65 7468 6f64  nction or method
+00011f10: 2077 7261 7070 6572 2074 6861 7420 6861   wrapper that ha
+00011f20: 6e64 6c65 7320 4c7b 4963 652e 4f62 6a65  ndles L{Ice.Obje
+00011f30: 6374 4e6f 7445 7869 7374 4578 6365 7074  ctNotExistExcept
+00011f40: 696f 6e7d 0a20 2020 2062 7920 7265 2d63  ion}.    by re-c
+00011f50: 7265 6174 696e 6720 7468 6520 7365 7276  reating the serv
+00011f60: 6572 2073 6964 6520 7072 6f78 792e 0a20  er side proxy.. 
+00011f70: 2020 2022 2222 0a0a 2020 2020 6465 6620     """..    def 
+00011f80: 6861 6e64 6c65 5f65 7863 6570 7469 6f6e  handle_exception
+00011f90: 2873 656c 662c 2065 2c20 2a61 7267 732c  (self, e, *args,
+00011fa0: 202a 2a6b 7761 7267 7329 3a0a 2020 2020   **kwargs):.    
+00011fb0: 2020 2020 6966 2065 2e5f 5f63 6c61 7373      if e.__class
+00011fc0: 5f5f 2069 7320 4963 652e 4f62 6a65 6374  __ is Ice.Object
+00011fd0: 4e6f 7445 7869 7374 4578 6365 7074 696f  NotExistExceptio
+00011fe0: 6e3a 0a20 2020 2020 2020 2020 2020 2023  n:.            #
+00011ff0: 2052 6573 746f 7265 6420 7072 6f78 7920   Restored proxy 
+00012000: 6f62 6a65 6374 2072 652d 6372 6561 7469  object re-creati
+00012010: 6f6e 206c 6f67 6963 2066 726f 6d20 7468  on logic from th
+00012020: 6520 7072 652d 2335 3833 350a 2020 2020  e pre-#5835.    
+00012030: 2020 2020 2020 2020 2320 7665 7273 696f          # versio
+00012040: 6e20 6f66 2023 205f 7361 6665 4361 6c6c  n of # _safeCall
+00012050: 5772 6170 2829 2066 726f 6d20 6f6d 6572  Wrap() from omer
+00012060: 6f2e 6761 7465 7761 792e 2028 5365 6520  o.gateway. (See 
+00012070: 2336 3336 3529 0a20 2020 2020 2020 2020  #6365).         
+00012080: 2020 206c 6f67 6765 722e 7761 726e 2822     logger.warn("
+00012090: 4174 7465 6d70 7469 6e67 2074 6f20 7265  Attempting to re
+000120a0: 2d63 7265 6174 6520 7072 6f78 7920 616e  -create proxy an
+000120b0: 6420 7265 2d63 616c 6c20 6d65 7468 6f64  d re-call method
+000120c0: 2e22 290a 2020 2020 2020 2020 2020 2020  .").            
+000120d0: 7472 793a 0a20 2020 2020 2020 2020 2020  try:.           
+000120e0: 2020 2020 2073 656c 662e 7072 6f78 794f       self.proxyO
+000120f0: 626a 6563 7457 7261 7070 6572 2e5f 6f62  bjectWrapper._ob
+00012100: 6a20 3d20 7365 6c66 2e70 726f 7879 4f62  j = self.proxyOb
+00012110: 6a65 6374 5772 6170 7065 722e 5f63 7265  jectWrapper._cre
+00012120: 6174 655f 6675 6e63 2829 0a20 2020 2020  ate_func().     
+00012130: 2020 2020 2020 2020 2020 2066 756e 6320             func 
+00012140: 3d20 6765 7461 7474 7228 7365 6c66 2e70  = getattr(self.p
+00012150: 726f 7879 4f62 6a65 6374 5772 6170 7065  roxyObjectWrappe
+00012160: 722e 5f6f 626a 2c20 7365 6c66 2e61 7474  r._obj, self.att
+00012170: 7229 0a20 2020 2020 2020 2020 2020 2020  r).             
+00012180: 2020 2072 6574 7572 6e20 6675 6e63 282a     return func(*
+00012190: 6172 6773 2c20 2a2a 6b77 6172 6773 290a  args, **kwargs).
+000121a0: 2020 2020 2020 2020 2020 2020 6578 6365              exce
+000121b0: 7074 2045 7863 6570 7469 6f6e 2061 7320  pt Exception as 
+000121c0: 653a 0a20 2020 2020 2020 2020 2020 2020  e:.             
+000121d0: 2020 2073 656c 662e 6465 6275 6728 652e     self.debug(e.
+000121e0: 5f5f 636c 6173 735f 5f2e 5f5f 6e61 6d65  __class__.__name
+000121f0: 5f5f 2c20 6172 6773 2c20 6b77 6172 6773  __, args, kwargs
+00012200: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
+00012210: 2020 7261 6973 650a 2020 2020 2020 2020    raise.        
+00012220: 656c 7365 3a0a 2020 2020 2020 2020 2020  else:.          
+00012230: 2020 7375 7065 7228 4f6d 6572 6f57 6562    super(OmeroWeb
+00012240: 5361 6665 4361 6c6c 5772 6170 7065 722c  SafeCallWrapper,
+00012250: 2073 656c 6629 2e68 616e 646c 655f 6578   self).handle_ex
+00012260: 6365 7074 696f 6e28 652c 202a 6172 6773  ception(e, *args
+00012270: 2c20 2a2a 6b77 6172 6773 290a 0a0a 6f6d  , **kwargs)...om
+00012280: 6572 6f2e 6761 7465 7761 792e 5361 6665  ero.gateway.Safe
+00012290: 4361 6c6c 5772 6170 7065 7220 3d20 4f6d  CallWrapper = Om
+000122a0: 6572 6f57 6562 5361 6665 4361 6c6c 5772  eroWebSafeCallWr
+000122b0: 6170 7065 720a 0a0a 636c 6173 7320 4f6d  apper...class Om
+000122c0: 6572 6f57 6562 4f62 6a65 6374 5772 6170  eroWebObjectWrap
+000122d0: 7065 7228 6f62 6a65 6374 293a 0a0a 2020  per(object):..  
+000122e0: 2020 616e 6e6f 7461 7469 6f6e 5f63 6f75    annotation_cou
+000122f0: 6e74 6572 203d 204e 6f6e 650a 0a20 2020  nter = None..   
+00012300: 2064 6566 2063 6f75 6e74 5061 7265 6e74   def countParent
+00012310: 7328 7365 6c66 293a 0a20 2020 2020 2020  s(self):.       
+00012320: 206c 7020 3d20 7365 6c66 2e6c 6973 7450   lp = self.listP
+00012330: 6172 656e 7473 2829 0a20 2020 2020 2020  arents().       
+00012340: 2069 6620 6c70 2069 7320 6e6f 7420 4e6f   if lp is not No
+00012350: 6e65 3a0a 2020 2020 2020 2020 2020 2020  ne:.            
+00012360: 7265 7475 726e 206c 656e 286c 7029 0a0a  return len(lp)..
+00012370: 2020 2020 6465 6620 636f 756e 7441 6e6e      def countAnn
+00012380: 6f74 6174 696f 6e73 2873 656c 6629 3a0a  otations(self):.
+00012390: 2020 2020 2020 2020 2222 220a 2020 2020          """.    
+000123a0: 2020 2020 436f 756e 7420 6f6e 2061 6e6e      Count on ann
+000123b0: 6f74 6174 696f 6e73 206c 696e 6b65 6420  otations linked 
+000123c0: 746f 2074 6865 206f 626a 6563 7420 616e  to the object an
+000123d0: 6420 7365 7420 7468 6520 7661 6c75 650a  d set the value.
+000123e0: 2020 2020 2020 2020 6f6e 2074 6865 2063          on the c
+000123f0: 7573 746f 6d20 6669 656c 7320 2761 6e6e  ustom fiels 'ann
+00012400: 6f74 6174 696f 6e5f 636f 756e 7465 7227  otation_counter'
+00012410: 2e0a 0a20 2020 2020 2020 2040 7265 7475  ...        @retu
+00012420: 726e 2020 2020 2043 6f75 6e74 6572 0a20  rn     Counter. 
+00012430: 2020 2020 2020 2022 2222 0a0a 2020 2020         """..    
+00012440: 2020 2020 6966 2073 656c 662e 616e 6e6f      if self.anno
+00012450: 7461 7469 6f6e 5f63 6f75 6e74 6572 2069  tation_counter i
+00012460: 7320 6e6f 7420 4e6f 6e65 3a0a 2020 2020  s not None:.    
+00012470: 2020 2020 2020 2020 7265 7475 726e 2073          return s
+00012480: 656c 662e 616e 6e6f 7461 7469 6f6e 5f63  elf.annotation_c
+00012490: 6f75 6e74 6572 0a20 2020 2020 2020 2065  ounter.        e
+000124a0: 6c73 653a 0a20 2020 2020 2020 2020 2020  lse:.           
+000124b0: 2063 6f6e 7461 696e 6572 203d 2073 656c   container = sel
+000124c0: 662e 5f63 6f6e 6e2e 6765 7443 6f6e 7461  f._conn.getConta
+000124d0: 696e 6572 5365 7276 6963 6528 290a 2020  inerService().  
+000124e0: 2020 2020 2020 2020 2020 6d20 3d20 636f            m = co
+000124f0: 6e74 6169 6e65 722e 6765 7443 6f6c 6c65  ntainer.getColle
+00012500: 6374 696f 6e43 6f75 6e74 280a 2020 2020  ctionCount(.    
+00012510: 2020 2020 2020 2020 2020 2020 7365 6c66              self
+00012520: 2e5f 6f62 6a2e 5f5f 636c 6173 735f 5f2e  ._obj.__class__.
+00012530: 5f5f 6e61 6d65 5f5f 2c0a 2020 2020 2020  __name__,.      
+00012540: 2020 2020 2020 2020 2020 7479 7065 2873            type(s
+00012550: 656c 662e 5f6f 626a 292e 414e 4e4f 5441  elf._obj).ANNOTA
+00012560: 5449 4f4e 4c49 4e4b 532c 0a20 2020 2020  TIONLINKS,.     
+00012570: 2020 2020 2020 2020 2020 205b 7365 6c66             [self
+00012580: 2e5f 6f69 645d 2c0a 2020 2020 2020 2020  ._oid],.        
+00012590: 2020 2020 2020 2020 4e6f 6e65 2c0a 2020          None,.  
+000125a0: 2020 2020 2020 2020 2020 290a 2020 2020            ).    
+000125b0: 2020 2020 2020 2020 6966 206d 5b73 656c          if m[sel
+000125c0: 662e 5f6f 6964 5d20 3e20 303a 0a20 2020  f._oid] > 0:.   
+000125d0: 2020 2020 2020 2020 2020 2020 2073 656c               sel
+000125e0: 662e 616e 6e6f 7461 7469 6f6e 5f63 6f75  f.annotation_cou
+000125f0: 6e74 6572 203d 206d 5b73 656c 662e 5f6f  nter = m[self._o
+00012600: 6964 5d0a 2020 2020 2020 2020 2020 2020  id].            
+00012610: 2020 2020 7265 7475 726e 2073 656c 662e      return self.
+00012620: 616e 6e6f 7461 7469 6f6e 5f63 6f75 6e74  annotation_count
+00012630: 6572 0a20 2020 2020 2020 2020 2020 2065  er.            e
+00012640: 6c73 653a 0a20 2020 2020 2020 2020 2020  lse:.           
+00012650: 2020 2020 2072 6574 7572 6e20 4e6f 6e65       return None
+00012660: 0a0a 2020 2020 6465 6620 6765 7450 6572  ..    def getPer
+00012670: 6d69 7373 696f 6e73 2873 656c 6629 3a0a  missions(self):.
+00012680: 2020 2020 2020 2020 7020 3d20 4e6f 6e65          p = None
+00012690: 0a20 2020 2020 2020 2069 6620 7365 6c66  .        if self
+000126a0: 2e64 6574 6169 6c73 2e67 6574 5065 726d  .details.getPerm
+000126b0: 6973 7369 6f6e 7328 2920 6973 204e 6f6e  issions() is Non
+000126c0: 653a 0a20 2020 2020 2020 2020 2020 2072  e:.            r
+000126d0: 6574 7572 6e20 2275 6e6b 6e6f 776e 220a  eturn "unknown".
+000126e0: 2020 2020 2020 2020 656c 7365 3a0a 2020          else:.  
+000126f0: 2020 2020 2020 2020 2020 7020 3d20 7365            p = se
+00012700: 6c66 2e64 6574 6169 6c73 2e67 6574 5065  lf.details.getPe
+00012710: 726d 6973 7369 6f6e 7328 290a 2020 2020  rmissions().    
+00012720: 2020 2020 6966 2070 2e69 7347 726f 7570      if p.isGroup
+00012730: 5772 6974 6528 293a 0a20 2020 2020 2020  Write():.       
+00012740: 2020 2020 2066 6c61 6720 3d20 2252 6561       flag = "Rea
+00012750: 642d 5772 6974 6522 0a20 2020 2020 2020  d-Write".       
+00012760: 2065 6c69 6620 702e 6973 4772 6f75 7041   elif p.isGroupA
+00012770: 6e6e 6f74 6174 6528 293a 0a20 2020 2020  nnotate():.     
+00012780: 2020 2020 2020 2066 6c61 6720 3d20 2252         flag = "R
+00012790: 6561 642d 416e 6e6f 7461 7465 220a 2020  ead-Annotate".  
+000127a0: 2020 2020 2020 656c 6966 2070 2e69 7347        elif p.isG
+000127b0: 726f 7570 5265 6164 2829 3a0a 2020 2020  roupRead():.    
+000127c0: 2020 2020 2020 2020 666c 6167 203d 2022          flag = "
+000127d0: 5265 6164 2d4f 6e6c 7922 0a20 2020 2020  Read-Only".     
+000127e0: 2020 2065 6c69 6620 702e 6973 5573 6572     elif p.isUser
+000127f0: 5265 6164 2829 3a0a 2020 2020 2020 2020  Read():.        
+00012800: 2020 2020 666c 6167 203d 2022 5072 6976      flag = "Priv
+00012810: 6174 6522 0a20 2020 2020 2020 2065 6c73  ate".        els
+00012820: 653a 0a20 2020 2020 2020 2020 2020 2066  e:.            f
+00012830: 6c61 6720 3d20 700a 2020 2020 2020 2020  lag = p.        
+00012840: 7265 7475 726e 2066 6c61 670a 0a20 2020  return flag..   
+00012850: 2064 6566 2077 6172 704e 616d 6528 7365   def warpName(se
+00012860: 6c66 293a 0a20 2020 2020 2020 2022 2222  lf):.        """
+00012870: 0a20 2020 2020 2020 2057 6172 7020 6e61  .        Warp na
+00012880: 6d65 206f 6620 7468 6520 6f62 6a65 6374  me of the object
+00012890: 2069 6620 6e61 6d65 7320 6973 206c 6f6e   if names is lon
+000128a0: 6765 7220 7468 656e 2033 3020 6368 6172  ger then 30 char
+000128b0: 6163 7465 7273 2e0a 0a20 2020 2020 2020  acters...       
+000128c0: 2040 7265 7475 726e 2020 2020 2057 6172   @return     War
+000128d0: 7065 6420 7374 7269 6e67 2e0a 2020 2020  ped string..    
+000128e0: 2020 2020 2222 220a 0a20 2020 2020 2020      """..       
+000128f0: 2074 7279 3a0a 2020 2020 2020 2020 2020   try:.          
+00012900: 2020 6c65 6e67 7468 203d 206c 656e 2873    length = len(s
+00012910: 656c 662e 6e61 6d65 290a 2020 2020 2020  elf.name).      
+00012920: 2020 2020 2020 6966 206c 656e 6774 6820        if length 
+00012930: 3c20 3330 3a0a 2020 2020 2020 2020 2020  < 30:.          
+00012940: 2020 2020 2020 7265 7475 726e 2073 656c        return sel
+00012950: 662e 6e61 6d65 0a20 2020 2020 2020 2020  f.name.         
+00012960: 2020 2065 6c69 6620 6c65 6e67 7468 203e     elif length >
+00012970: 3d20 3330 3a0a 2020 2020 2020 2020 2020  = 30:.          
+00012980: 2020 2020 2020 7370 6c69 7465 6420 3d20        splited = 
+00012990: 5b5d 0a20 2020 2020 2020 2020 2020 2020  [].             
+000129a0: 2020 2066 6f72 2076 2069 6e20 7261 6e67     for v in rang
+000129b0: 6528 302c 206c 656e 2873 656c 662e 6e61  e(0, len(self.na
+000129c0: 6d65 292c 2033 3029 3a0a 2020 2020 2020  me), 30):.      
+000129d0: 2020 2020 2020 2020 2020 2020 2020 7370                sp
+000129e0: 6c69 7465 642e 6170 7065 6e64 2873 656c  lited.append(sel
+000129f0: 662e 6e61 6d65 5b76 203a 2076 202b 2033  f.name[v : v + 3
+00012a00: 305d 202b 2022 5c6e 2229 0a20 2020 2020  0] + "\n").     
+00012a10: 2020 2020 2020 2020 2020 2072 6574 7572             retur
+00012a20: 6e20 2222 2e6a 6f69 6e28 7370 6c69 7465  n "".join(splite
+00012a30: 6429 0a20 2020 2020 2020 2065 7863 6570  d).        excep
+00012a40: 7420 4578 6365 7074 696f 6e3a 0a20 2020  t Exception:.   
+00012a50: 2020 2020 2020 2020 206c 6f67 6765 722e           logger.
+00012a60: 696e 666f 2874 7261 6365 6261 636b 2e66  info(traceback.f
+00012a70: 6f72 6d61 745f 6578 6328 2929 0a20 2020  ormat_exc()).   
+00012a80: 2020 2020 2020 2020 2072 6574 7572 6e20           return 
+00012a90: 7365 6c66 2e6e 616d 650a 0a20 2020 2064  self.name..    d
+00012aa0: 6566 2067 6574 5065 726d 7343 7373 2873  ef getPermsCss(s
+00012ab0: 656c 6629 3a0a 2020 2020 2020 2020 2222  elf):.        ""
+00012ac0: 220a 2020 2020 2020 2020 5265 7475 726e  ".        Return
+00012ad0: 7320 6120 7374 7269 6e67 2074 6861 7420  s a string that 
+00012ae0: 6361 6e20 6265 2075 7365 6420 6173 2063  can be used as c
+00012af0: 6c61 7373 6573 206f 6e20 616e 2068 746d  lasses on an htm
+00012b00: 6c20 656c 656d 656e 7420 746f 0a20 2020  l element to.   
+00012b10: 2020 2020 2069 6e64 6963 6174 6520 7468       indicate th
+00012b20: 6520 7065 726d 6973 7369 6f6e 7320 666c  e permissions fl
+00012b30: 6167 7320 6f66 2074 6865 206f 626a 6563  ags of the objec
+00012b40: 742e 2045 2e67 2e20 2263 616e 4564 6974  t. E.g. "canEdit
+00012b50: 2063 616e 4c69 6e6b 220a 2020 2020 2020   canLink".      
+00012b60: 2020 466c 6167 732f 636c 6173 7365 7320    Flags/classes 
+00012b70: 6172 6520 6361 6e45 6469 742c 2063 616e  are canEdit, can
+00012b80: 416e 6e6f 7461 7465 2c20 6361 6e4c 696e  Annotate, canLin
+00012b90: 6b2c 2063 616e 4465 6c65 7465 0a20 2020  k, canDelete.   
+00012ba0: 2020 2020 2022 2222 0a20 2020 2020 2020       """.       
+00012bb0: 2066 6c61 6773 203d 205b 5d0a 2020 2020   flags = [].    
+00012bc0: 2020 2020 6966 2073 656c 662e 6361 6e45      if self.canE
+00012bd0: 6469 7428 293a 0a20 2020 2020 2020 2020  dit():.         
+00012be0: 2020 2066 6c61 6773 2e61 7070 656e 6428     flags.append(
+00012bf0: 2263 616e 4564 6974 2229 0a20 2020 2020  "canEdit").     
+00012c00: 2020 2069 6620 7365 6c66 2e63 616e 416e     if self.canAn
+00012c10: 6e6f 7461 7465 2829 3a0a 2020 2020 2020  notate():.      
+00012c20: 2020 2020 2020 666c 6167 732e 6170 7065        flags.appe
+00012c30: 6e64 2822 6361 6e41 6e6e 6f74 6174 6522  nd("canAnnotate"
+00012c40: 290a 2020 2020 2020 2020 6966 2073 656c  ).        if sel
+00012c50: 662e 6361 6e4c 696e 6b28 293a 0a20 2020  f.canLink():.   
+00012c60: 2020 2020 2020 2020 2066 6c61 6773 2e61           flags.a
+00012c70: 7070 656e 6428 2263 616e 4c69 6e6b 2229  ppend("canLink")
+00012c80: 0a20 2020 2020 2020 2069 6620 7365 6c66  .        if self
+00012c90: 2e63 616e 4465 6c65 7465 2829 3a0a 2020  .canDelete():.  
+00012ca0: 2020 2020 2020 2020 2020 666c 6167 732e            flags.
+00012cb0: 6170 7065 6e64 2822 6361 6e44 656c 6574  append("canDelet
+00012cc0: 6522 290a 2020 2020 2020 2020 6966 2073  e").        if s
+00012cd0: 656c 662e 6973 4f77 6e65 6428 293a 0a20  elf.isOwned():. 
+00012ce0: 2020 2020 2020 2020 2020 2066 6c61 6773             flags
+00012cf0: 2e61 7070 656e 6428 2269 734f 776e 6564  .append("isOwned
+00012d00: 2229 0a20 2020 2020 2020 2069 6620 7365  ").        if se
+00012d10: 6c66 2e63 616e 4368 6772 7028 293a 0a20  lf.canChgrp():. 
+00012d20: 2020 2020 2020 2020 2020 2066 6c61 6773             flags
+00012d30: 2e61 7070 656e 6428 2263 616e 4368 6772  .append("canChgr
+00012d40: 7022 290a 2020 2020 2020 2020 7265 7475  p").        retu
+00012d50: 726e 2022 2022 2e6a 6f69 6e28 666c 6167  rn " ".join(flag
+00012d60: 7329 0a0a 2020 2020 6465 6620 7365 7452  s)..    def setR
+00012d70: 6174 696e 6728 7365 6c66 2c20 7261 7469  ating(self, rati
+00012d80: 6e67 293a 0a20 2020 2020 2020 2022 2222  ng):.        """
+00012d90: 0a20 2020 2020 2020 2041 6464 2061 2072  .        Add a r
+00012da0: 6174 696e 6720 286c 6f6e 6729 2061 6e6e  ating (long) ann
+00012db0: 6f74 6174 696f 6e20 746f 2074 6865 206f  otation to the o
+00012dc0: 626a 6563 742c 206f 7220 7570 6461 7465  bject, or update
+00012dd0: 2061 6e20 6578 6973 7469 6e67 0a20 2020   an existing.   
+00012de0: 2020 2020 2072 6174 696e 672e 0a20 2020       rating..   
+00012df0: 2020 2020 2049 6620 7261 7469 6e67 2069       If rating i
+00012e00: 7320 7a65 726f 2c20 7765 2072 656d 6f76  s zero, we remov
+00012e10: 6520 616e 7920 6578 6973 7469 6e67 2072  e any existing r
+00012e20: 6174 696e 6720 616e 6e6f 7461 7469 6f6e  ating annotation
+00012e30: 2e0a 2020 2020 2020 2020 2222 220a 2020  ..        """.  
+00012e40: 2020 2020 2020 7261 7469 6e67 5f6e 7320        rating_ns 
+00012e50: 3d20 6f6d 6572 6f2e 636f 6e73 7461 6e74  = omero.constant
+00012e60: 732e 6d65 7461 6461 7461 2e4e 5349 4e53  s.metadata.NSINS
+00012e70: 4947 4854 5241 5449 4e47 0a20 2020 2020  IGHTRATING.     
+00012e80: 2020 2070 6172 656e 745f 7479 7065 203d     parent_type =
+00012e90: 2073 656c 662e 4f4d 4552 4f5f 434c 4153   self.OMERO_CLAS
+00012ea0: 530a 2020 2020 2020 2020 7573 6572 6964  S.        userid
+00012eb0: 203d 2073 656c 662e 5f63 6f6e 6e2e 6765   = self._conn.ge
+00012ec0: 7455 7365 7249 6428 290a 0a20 2020 2020  tUserId()..     
+00012ed0: 2020 2072 6174 696e 6741 6e6e 7320 3d20     ratingAnns = 
+00012ee0: 6c69 7374 280a 2020 2020 2020 2020 2020  list(.          
+00012ef0: 2020 7365 6c66 2e5f 636f 6e6e 2e67 6574    self._conn.get
+00012f00: 416e 6e6f 7461 7469 6f6e 4c69 6e6b 7328  AnnotationLinks(
+00012f10: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00012f20: 2070 6172 656e 745f 7479 7065 2c20 7061   parent_type, pa
+00012f30: 7265 6e74 5f69 6473 3d5b 7365 6c66 2e69  rent_ids=[self.i
+00012f40: 645d 2c20 6e73 3d72 6174 696e 675f 6e73  d], ns=rating_ns
+00012f50: 0a20 2020 2020 2020 2020 2020 2029 0a20  .            ). 
+00012f60: 2020 2020 2020 2029 0a20 2020 2020 2020         ).       
+00012f70: 2023 2066 696c 7465 7220 666f 7220 6c69   # filter for li
+00012f80: 6e6b 7320 4920 6f77 6e0a 2020 2020 2020  nks I own.      
+00012f90: 2020 7261 7469 6e67 416e 6e73 203d 205b    ratingAnns = [
+00012fa0: 7220 666f 7220 7220 696e 2072 6174 696e  r for r in ratin
+00012fb0: 6741 6e6e 7320 6966 2072 2e67 6574 4465  gAnns if r.getDe
+00012fc0: 7461 696c 7328 292e 6f77 6e65 722e 6964  tails().owner.id
+00012fd0: 2e76 616c 203d 3d20 7573 6572 6964 5d0a  .val == userid].
+00012fe0: 2020 2020 2020 2020 7261 7469 6e67 4c69          ratingLi
+00012ff0: 6e6b 203d 2072 6174 696e 6741 6e6e 7320  nk = ratingAnns 
+00013000: 616e 6420 7261 7469 6e67 416e 6e73 5b30  and ratingAnns[0
+00013010: 5d20 6f72 204e 6f6e 650a 0a20 2020 2020  ] or None..     
+00013020: 2020 2064 6566 2067 6574 4c69 6e6b 436f     def getLinkCo
+00013030: 756e 7428 616e 6e49 6429 3a0a 2020 2020  unt(annId):.    
+00013040: 2020 2020 2020 2020 6c69 6e6b 436f 756e          linkCoun
+00013050: 7420 3d20 300a 2020 2020 2020 2020 2020  t = 0.          
+00013060: 2020 666f 7220 7061 7265 6e74 5479 7065    for parentType
+00013070: 2069 6e20 5b0a 2020 2020 2020 2020 2020   in [.          
+00013080: 2020 2020 2020 2250 726f 6a65 6374 222c        "Project",
+00013090: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+000130a0: 2022 4461 7461 7365 7422 2c0a 2020 2020   "Dataset",.    
+000130b0: 2020 2020 2020 2020 2020 2020 2249 6d61              "Ima
+000130c0: 6765 222c 0a20 2020 2020 2020 2020 2020  ge",.           
+000130d0: 2020 2020 2022 5363 7265 656e 222c 0a20       "Screen",. 
+000130e0: 2020 2020 2020 2020 2020 2020 2020 2022                 "
+000130f0: 506c 6174 6522 2c0a 2020 2020 2020 2020  Plate",.        
+00013100: 2020 2020 2020 2020 2250 6c61 7465 4163          "PlateAc
+00013110: 7175 6973 6974 696f 6e22 2c0a 2020 2020  quisition",.    
+00013120: 2020 2020 2020 2020 2020 2020 2257 656c              "Wel
+00013130: 6c22 2c0a 2020 2020 2020 2020 2020 2020  l",.            
+00013140: 5d3a 0a20 2020 2020 2020 2020 2020 2020  ]:.             
+00013150: 2020 2061 6e6e 4c69 6e6b 7320 3d20 6c69     annLinks = li
+00013160: 7374 280a 2020 2020 2020 2020 2020 2020  st(.            
+00013170: 2020 2020 2020 2020 7365 6c66 2e5f 636f          self._co
+00013180: 6e6e 2e67 6574 416e 6e6f 7461 7469 6f6e  nn.getAnnotation
+00013190: 4c69 6e6b 7328 7061 7265 6e74 5479 7065  Links(parentType
+000131a0: 2c20 616e 6e5f 6964 733d 5b61 6e6e 4964  , ann_ids=[annId
+000131b0: 5d29 0a20 2020 2020 2020 2020 2020 2020  ]).             
+000131c0: 2020 2029 0a20 2020 2020 2020 2020 2020     ).           
+000131d0: 2020 2020 206c 696e 6b43 6f75 6e74 202b       linkCount +
+000131e0: 3d20 6c65 6e28 616e 6e4c 696e 6b73 290a  = len(annLinks).
+000131f0: 2020 2020 2020 2020 2020 2020 7265 7475              retu
+00013200: 726e 206c 696e 6b43 6f75 6e74 0a0a 2020  rn linkCount..  
+00013210: 2020 2020 2020 6465 6620 6164 6452 6174        def addRat
+00013220: 696e 6728 7661 6c75 6529 3a0a 2020 2020  ing(value):.    
+00013230: 2020 2020 2020 2020 6966 2076 616c 7565          if value
+00013240: 203d 3d20 303a 0a20 2020 2020 2020 2020   == 0:.         
+00013250: 2020 2020 2020 2072 6574 7572 6e0a 2020         return.  
+00013260: 2020 2020 2020 2020 2020 7261 7469 6e67            rating
+00013270: 416e 6e20 3d20 6f6d 6572 6f2e 6d6f 6465  Ann = omero.mode
+00013280: 6c2e 4c6f 6e67 416e 6e6f 7461 7469 6f6e  l.LongAnnotation
+00013290: 4928 290a 2020 2020 2020 2020 2020 2020  I().            
+000132a0: 7261 7469 6e67 416e 6e2e 7365 744c 6f6e  ratingAnn.setLon
+000132b0: 6756 616c 7565 2872 6c6f 6e67 2876 616c  gValue(rlong(val
+000132c0: 7565 2929 0a20 2020 2020 2020 2020 2020  ue)).           
+000132d0: 2072 6174 696e 6741 6e6e 2e73 6574 4e73   ratingAnn.setNs
+000132e0: 2872 7374 7269 6e67 2872 6174 696e 675f  (rstring(rating_
+000132f0: 6e73 2929 0a20 2020 2020 2020 2020 2020  ns)).           
+00013300: 2073 656c 662e 5f63 6f6e 6e2e 5345 5256   self._conn.SERV
+00013310: 4943 455f 4f50 5453 2e73 6574 4f6d 6572  ICE_OPTS.setOmer
+00013320: 6f47 726f 7570 2873 656c 662e 6765 7444  oGroup(self.getD
+00013330: 6574 6169 6c73 2829 2e67 726f 7570 2e69  etails().group.i
+00013340: 642e 7661 6c29 0a20 2020 2020 2020 2020  d.val).         
+00013350: 2020 2072 6174 696e 6741 6e6e 203d 2073     ratingAnn = s
+00013360: 656c 662e 5f63 6f6e 6e2e 6765 7455 7064  elf._conn.getUpd
+00013370: 6174 6553 6572 7669 6365 2829 2e73 6176  ateService().sav
+00013380: 6541 6e64 5265 7475 726e 4f62 6a65 6374  eAndReturnObject
+00013390: 280a 2020 2020 2020 2020 2020 2020 2020  (.              
+000133a0: 2020 7261 7469 6e67 416e 6e2c 2073 656c    ratingAnn, sel
+000133b0: 662e 5f63 6f6e 6e2e 5345 5256 4943 455f  f._conn.SERVICE_
+000133c0: 4f50 5453 0a20 2020 2020 2020 2020 2020  OPTS.           
+000133d0: 2029 0a20 2020 2020 2020 2020 2020 2073   ).            s
+000133e0: 656c 662e 6c69 6e6b 416e 6e6f 7461 7469  elf.linkAnnotati
+000133f0: 6f6e 2841 6e6e 6f74 6174 696f 6e57 7261  on(AnnotationWra
+00013400: 7070 6572 2873 656c 662e 5f63 6f6e 6e2c  pper(self._conn,
+00013410: 2072 6174 696e 6741 6e6e 2929 0a0a 2020   ratingAnn))..  
+00013420: 2020 2020 2020 6966 2072 6174 696e 674c        if ratingL
+00013430: 696e 6b20 6973 206e 6f74 204e 6f6e 653a  ink is not None:
+00013440: 0a20 2020 2020 2020 2020 2020 2072 6174  .            rat
+00013450: 696e 6741 6e6e 203d 2072 6174 696e 674c  ingAnn = ratingL
+00013460: 696e 6b2e 6765 7443 6869 6c64 2829 0a20  ink.getChild(). 
+00013470: 2020 2020 2020 2020 2020 2023 2069 6620             # if 
+00013480: 7261 7469 6e67 2069 7320 6f6e 6c79 2075  rating is only u
+00013490: 7365 6420 6279 2074 6869 7320 6f62 6a65  sed by this obje
+000134a0: 6374 2c20 7765 2063 616e 2075 7064 6174  ct, we can updat
+000134b0: 6520 6f72 2064 656c 6574 650a 2020 2020  e or delete.    
+000134c0: 2020 2020 2020 2020 6966 2067 6574 4c69          if getLi
+000134d0: 6e6b 436f 756e 7428 7261 7469 6e67 416e  nkCount(ratingAn
+000134e0: 6e2e 6964 2920 3d3d 2031 3a0a 2020 2020  n.id) == 1:.    
+000134f0: 2020 2020 2020 2020 2020 2020 6966 2072              if r
+00013500: 6174 696e 6720 3e20 303a 0a20 2020 2020  ating > 0:.     
+00013510: 2020 2020 2020 2020 2020 2020 2020 2072                 r
+00013520: 6174 696e 6741 6e6e 2e73 6574 4c6f 6e67  atingAnn.setLong
+00013530: 5661 6c75 6528 726c 6f6e 6728 7261 7469  Value(rlong(rati
+00013540: 6e67 2929 0a20 2020 2020 2020 2020 2020  ng)).           
+00013550: 2020 2020 2020 2020 2072 6174 696e 6741           ratingA
+00013560: 6e6e 2e73 6176 6528 290a 2020 2020 2020  nn.save().      
+00013570: 2020 2020 2020 2020 2020 656c 7365 3a0a            else:.
+00013580: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00013590: 2020 2020 7365 6c66 2e5f 636f 6e6e 2e64      self._conn.d
+000135a0: 656c 6574 654f 626a 6563 7428 7261 7469  eleteObject(rati
+000135b0: 6e67 4c69 6e6b 2e5f 6f62 6a29 0a20 2020  ngLink._obj).   
+000135c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000135d0: 2023 2072 6174 696e 6741 6e6e 2077 6173   # ratingAnn was
+000135e0: 2061 7574 6f6d 6174 6963 616c 6c79 2064   automatically d
+000135f0: 656c 6574 6564 2069 6620 6f72 7068 616e  eleted if orphan
+00013600: 6564 0a20 2020 2020 2020 2020 2020 2023  ed.            #
+00013610: 206f 7468 6572 7769 7365 2c20 756e 6c69   otherwise, unli
+00013620: 6e6b 2061 6e64 2063 7265 6174 6520 6120  nk and create a 
+00013630: 6e65 7720 7261 7469 6e67 0a20 2020 2020  new rating.     
+00013640: 2020 2020 2020 2065 6c73 653a 0a20 2020         else:.   
+00013650: 2020 2020 2020 2020 2020 2020 2073 656c               sel
+00013660: 662e 5f63 6f6e 6e2e 6465 6c65 7465 4f62  f._conn.deleteOb
+00013670: 6a65 6374 2872 6174 696e 674c 696e 6b2e  ject(ratingLink.
+00013680: 5f6f 626a 290a 2020 2020 2020 2020 2020  _obj).          
+00013690: 2020 2020 2020 6164 6452 6174 696e 6728        addRating(
+000136a0: 7261 7469 6e67 290a 2020 2020 2020 2020  rating).        
+000136b0: 656c 7365 3a0a 2020 2020 2020 2020 2020  else:.          
+000136c0: 2020 6164 6452 6174 696e 6728 7261 7469    addRating(rati
+000136d0: 6e67 290a 0a0a 636c 6173 7320 4578 7065  ng)...class Expe
+000136e0: 7269 6d65 6e74 6572 5772 6170 7065 7228  rimenterWrapper(
+000136f0: 4f6d 6572 6f57 6562 4f62 6a65 6374 5772  OmeroWebObjectWr
+00013700: 6170 7065 722c 206f 6d65 726f 2e67 6174  apper, omero.gat
+00013710: 6577 6179 2e45 7870 6572 696d 656e 7465  eway.Experimente
+00013720: 7257 7261 7070 6572 293a 0a20 2020 2022  rWrapper):.    "
+00013730: 2222 0a20 2020 206f 6d65 726f 5f6d 6f64  "".    omero_mod
+00013740: 656c 5f45 7870 6572 696d 656e 7465 7249  el_ExperimenterI
+00013750: 2063 6c61 7373 2077 7261 7070 6572 206f   class wrapper o
+00013760: 7665 7277 7269 7465 0a20 2020 206f 6d65  verwrite.    ome
+00013770: 726f 2e67 6174 6577 6179 2e45 7870 6572  ro.gateway.Exper
+00013780: 696d 656e 7465 7257 7261 7070 6572 2061  imenterWrapper a
+00013790: 6e64 2065 7874 656e 6420 4f6d 6572 6f57  nd extend OmeroW
+000137a0: 6562 4f62 6a65 6374 5772 6170 7065 722e  ebObjectWrapper.
+000137b0: 0a20 2020 2022 2222 0a0a 2020 2020 6c64  .    """..    ld
+000137c0: 6170 5573 6572 203d 204e 6f6e 650a 0a20  apUser = None.. 
+000137d0: 2020 2064 6566 205f 5f70 7265 7061 7265     def __prepare
+000137e0: 5f5f 2873 656c 662c 202a 2a6b 7761 7267  __(self, **kwarg
+000137f0: 7329 3a0a 2020 2020 2020 2020 7375 7065  s):.        supe
+00013800: 7228 4578 7065 7269 6d65 6e74 6572 5772  r(ExperimenterWr
+00013810: 6170 7065 722c 2073 656c 6629 2e5f 5f70  apper, self).__p
+00013820: 7265 7061 7265 5f5f 282a 2a6b 7761 7267  repare__(**kwarg
+00013830: 7329 0a20 2020 2020 2020 2069 6620 226c  s).        if "l
+00013840: 6461 7055 7365 7222 2069 6e20 6b77 6172  dapUser" in kwar
+00013850: 6773 3a0a 2020 2020 2020 2020 2020 2020  gs:.            
+00013860: 7365 6c66 2e61 6e6e 6f74 6174 696f 6e5f  self.annotation_
+00013870: 636f 756e 7465 7220 3d20 6b77 6172 6773  counter = kwargs
+00013880: 5b22 6c64 6170 5573 6572 225d 0a0a 2020  ["ldapUser"]..  
+00013890: 2020 6465 6620 6973 4564 6974 6162 6c65    def isEditable
+000138a0: 2873 656c 6629 3a0a 2020 2020 2020 2020  (self):.        
+000138b0: 7265 7475 726e 2073 656c 662e 6f6d 654e  return self.omeN
+000138c0: 616d 652e 6c6f 7765 7228 2920 213d 2022  ame.lower() != "
+000138d0: 6775 6573 7422 0a0a 2020 2020 6465 6620  guest"..    def 
+000138e0: 6973 4c64 6170 5573 6572 2873 656c 6629  isLdapUser(self)
+000138f0: 3a0a 2020 2020 2020 2020 2222 220a 2020  :.        """.  
+00013900: 2020 2020 2020 5265 7475 726e 2044 4e20        Return DN 
+00013910: 6f66 2074 6865 2073 7065 6369 6669 6320  of the specific 
+00013920: 6578 7065 7269 6d65 6e74 6572 2069 6620  experimenter if 
+00013930: 7573 6573 204c 4441 5020 6175 7468 656e  uses LDAP authen
+00013940: 7469 6361 7469 6f6e 0a20 2020 2020 2020  tication.       
+00013950: 2028 6861 7320 7365 7420 646e 206f 6e20   (has set dn on 
+00013960: 7061 7373 776f 7264 2074 6162 6c65 2920  password table) 
+00013970: 6f72 204e 6f6e 652e 0a20 2020 2020 2020  or None..       
+00013980: 2040 7061 7261 6d20 6569 643a 2065 7870   @param eid: exp
+00013990: 6572 696d 656e 7465 7220 4944 0a20 2020  erimenter ID.   
+000139a0: 2020 2020 2040 7479 7065 2065 6964 3a20       @type eid: 
+000139b0: 4c7b 4c6f 6e67 7d0a 2020 2020 2020 2020  L{Long}.        
+000139c0: 4072 6574 7572 6e3a 2044 6973 7469 6e67  @return: Disting
+000139d0: 7569 7368 6564 204e 616d 650a 2020 2020  uished Name.    
+000139e0: 2020 2020 4072 7479 7065 3a20 5374 7269      @rtype: Stri
+000139f0: 6e67 0a20 2020 2020 2020 2022 2222 0a0a  ng.        """..
+00013a00: 2020 2020 2020 2020 6966 2073 656c 662e          if self.
+00013a10: 6c64 6170 3a0a 2020 2020 2020 2020 2020  ldap:.          
+00013a20: 2020 6164 6d69 6e5f 7365 7276 203d 2073    admin_serv = s
+00013a30: 656c 662e 5f63 6f6e 6e2e 6765 7441 646d  elf._conn.getAdm
+00013a40: 696e 5365 7276 6963 6528 290a 2020 2020  inService().    
+00013a50: 2020 2020 2020 2020 7365 6c66 2e6c 6461          self.lda
+00013a60: 7055 7365 7220 3d20 6164 6d69 6e5f 7365  pUser = admin_se
+00013a70: 7276 2e6c 6f6f 6b75 704c 6461 7041 7574  rv.lookupLdapAut
+00013a80: 6845 7870 6572 696d 656e 7465 7228 7365  hExperimenter(se
+00013a90: 6c66 2e69 6429 0a20 2020 2020 2020 2072  lf.id).        r
+00013aa0: 6574 7572 6e20 7365 6c66 2e6c 6461 7055  eturn self.ldapU
+00013ab0: 7365 720a 0a20 2020 2064 6566 2067 6574  ser..    def get
+00013ac0: 4465 6661 756c 7447 726f 7570 2873 656c  DefaultGroup(sel
+00013ad0: 6629 3a0a 2020 2020 2020 2020 6765 4d61  f):.        geMa
+00013ae0: 7020 3d20 7365 6c66 2e63 6f70 7947 726f  p = self.copyGro
+00013af0: 7570 4578 7065 7269 6d65 6e74 6572 4d61  upExperimenterMa
+00013b00: 7028 290a 2020 2020 2020 2020 6966 2073  p().        if s
+00013b10: 656c 662e 7369 7a65 4f66 4772 6f75 7045  elf.sizeOfGroupE
+00013b20: 7870 6572 696d 656e 7465 724d 6170 2829  xperimenterMap()
+00013b30: 203e 2030 2061 6e64 2067 654d 6170 5b30   > 0 and geMap[0
+00013b40: 5d20 6973 206e 6f74 204e 6f6e 653a 0a20  ] is not None:. 
+00013b50: 2020 2020 2020 2020 2020 2072 6574 7572             retur
+00013b60: 6e20 4578 7065 7269 6d65 6e74 6572 4772  n ExperimenterGr
+00013b70: 6f75 7057 7261 7070 6572 2873 656c 662e  oupWrapper(self.
+00013b80: 5f63 6f6e 6e2c 2067 654d 6170 5b30 5d2e  _conn, geMap[0].
+00013b90: 7061 7265 6e74 290a 2020 2020 2020 2020  parent).        
+00013ba0: 7265 7475 726e 204e 6f6e 650a 0a20 2020  return None..   
+00013bb0: 2064 6566 2067 6574 4f74 6865 7247 726f   def getOtherGro
+00013bc0: 7570 7328 7365 6c66 2c20 6578 636c 7564  ups(self, exclud
+00013bd0: 6564 5f6e 616d 6573 3d28 2275 7365 7222  ed_names=("user"
+00013be0: 2c20 2267 7565 7374 2229 2c20 6578 636c  , "guest"), excl
+00013bf0: 7564 6564 5f69 6473 3d6c 6973 7428 2929  uded_ids=list())
+00013c00: 3a0a 2020 2020 2020 2020 666f 7220 6765  :.        for ge
+00013c10: 6d20 696e 2073 656c 662e 636f 7079 4772  m in self.copyGr
+00013c20: 6f75 7045 7870 6572 696d 656e 7465 724d  oupExperimenterM
+00013c30: 6170 2829 3a0a 2020 2020 2020 2020 2020  ap():.          
+00013c40: 2020 6966 2067 656d 2069 7320 4e6f 6e65    if gem is None
+00013c50: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+00013c60: 2020 636f 6e74 696e 7565 0a20 2020 2020    continue.     
+00013c70: 2020 2020 2020 2066 6c61 6720 3d20 4661         flag = Fa
+00013c80: 6c73 650a 2020 2020 2020 2020 2020 2020  lse.            
+00013c90: 6966 2067 656d 2e70 6172 656e 742e 6e61  if gem.parent.na
+00013ca0: 6d65 2e76 616c 2069 6e20 6578 636c 7564  me.val in exclud
+00013cb0: 6564 5f6e 616d 6573 3a0a 2020 2020 2020  ed_names:.      
+00013cc0: 2020 2020 2020 2020 2020 666c 6167 203d            flag =
+00013cd0: 2054 7275 650a 2020 2020 2020 2020 2020   True.          
+00013ce0: 2020 6966 2067 656d 2e70 6172 656e 742e    if gem.parent.
+00013cf0: 6964 2e76 616c 2069 6e20 6578 636c 7564  id.val in exclud
+00013d00: 6564 5f69 6473 3a0a 2020 2020 2020 2020  ed_ids:.        
+00013d10: 2020 2020 2020 2020 666c 6167 203d 2054          flag = T
+00013d20: 7275 650a 2020 2020 2020 2020 2020 2020  rue.            
+00013d30: 6966 206e 6f74 2066 6c61 673a 0a20 2020  if not flag:.   
+00013d40: 2020 2020 2020 2020 2020 2020 2079 6965               yie
+00013d50: 6c64 2045 7870 6572 696d 656e 7465 7247  ld ExperimenterG
+00013d60: 726f 7570 5772 6170 7065 7228 7365 6c66  roupWrapper(self
+00013d70: 2e5f 636f 6e6e 2c20 6765 6d2e 7061 7265  ._conn, gem.pare
+00013d80: 6e74 290a 0a0a 6f6d 6572 6f2e 6761 7465  nt)...omero.gate
+00013d90: 7761 792e 4578 7065 7269 6d65 6e74 6572  way.Experimenter
+00013da0: 5772 6170 7065 7220 3d20 4578 7065 7269  Wrapper = Experi
+00013db0: 6d65 6e74 6572 5772 6170 7065 720a 0a0a  menterWrapper...
+00013dc0: 636c 6173 7320 4578 7065 7269 6d65 6e74  class Experiment
+00013dd0: 6572 4772 6f75 7057 7261 7070 6572 280a  erGroupWrapper(.
+00013de0: 2020 2020 4f6d 6572 6f57 6562 4f62 6a65      OmeroWebObje
+00013df0: 6374 5772 6170 7065 722c 206f 6d65 726f  ctWrapper, omero
+00013e00: 2e67 6174 6577 6179 2e45 7870 6572 696d  .gateway.Experim
+00013e10: 656e 7465 7247 726f 7570 5772 6170 7065  enterGroupWrappe
+00013e20: 720a 293a 0a20 2020 2022 2222 0a20 2020  r.):.    """.   
+00013e30: 206f 6d65 726f 5f6d 6f64 656c 5f45 7870   omero_model_Exp
+00013e40: 6572 696d 656e 7465 7247 726f 7570 4920  erimenterGroupI 
+00013e50: 636c 6173 7320 7772 6170 7065 7220 6f76  class wrapper ov
+00013e60: 6572 7772 6974 650a 2020 2020 6f6d 6572  erwrite.    omer
+00013e70: 6f2e 6761 7465 7761 792e 4578 7065 7269  o.gateway.Experi
+00013e80: 6d65 6e74 6572 4772 6f75 7057 7261 7070  menterGroupWrapp
+00013e90: 6572 0a20 2020 2061 6e64 2065 7874 656e  er.    and exten
+00013ea0: 6420 4f6d 6572 6f57 6562 4f62 6a65 6374  d OmeroWebObject
+00013eb0: 5772 6170 7065 722e 0a20 2020 2022 2222  Wrapper..    """
+00013ec0: 0a0a 2020 2020 6465 6620 6973 4564 6974  ..    def isEdit
+00013ed0: 6162 6c65 2873 656c 6629 3a0a 2020 2020  able(self):.    
+00013ee0: 2020 2020 7265 7475 726e 2073 656c 662e      return self.
+00013ef0: 6e61 6d65 2e6c 6f77 6572 2829 206e 6f74  name.lower() not
+00013f00: 2069 6e20 2822 6775 6573 7422 2c20 2275   in ("guest", "u
+00013f10: 7365 7222 290a 0a20 2020 2064 6566 206c  ser")..    def l
+00013f20: 6f61 644c 6561 6465 7273 416e 644d 656d  oadLeadersAndMem
+00013f30: 6265 7273 2873 656c 6629 3a0a 2020 2020  bers(self):.    
+00013f40: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
+00013f50: 5265 7475 726e 7320 6c69 7374 7320 6f66  Returns lists of
+00013f60: 2027 6c65 6164 6572 7327 2061 6e64 2027   'leaders' and '
+00013f70: 6d65 6d62 6572 7327 206f 6620 7468 6520  members' of the 
+00013f80: 7370 6563 6966 6965 6420 6772 6f75 700a  specified group.
+00013f90: 2020 2020 2020 2020 2864 6566 6175 6c74          (default
+00013fa0: 2069 7320 6375 7272 656e 7420 6772 6f75   is current grou
+00013fb0: 7029 2061 7320 6120 6469 6374 2077 6974  p) as a dict wit
+00013fc0: 6820 7468 6f73 6520 6b65 7973 2e0a 0a20  h those keys... 
+00013fd0: 2020 2020 2020 2040 7265 7475 726e 3a20         @return: 
+00013fe0: 2020 207b 276c 6561 6465 7273 273a 206c     {'leaders': l
+00013ff0: 6973 7420 4c7b 4578 7065 7269 6d65 6e74  ist L{Experiment
+00014000: 6572 5772 6170 7065 727d 2c0a 2020 2020  erWrapper},.    
+00014010: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00014020: 2027 636f 6c6c 6561 6775 6573 273a 206c   'colleagues': l
+00014030: 6973 7420 4c7b 4578 7065 7269 6d65 6e74  ist L{Experiment
+00014040: 6572 5772 6170 7065 727d 7d0a 2020 2020  erWrapper}}.    
+00014050: 2020 2020 4072 7479 7065 3a20 2020 2020      @rtype:     
+00014060: 6469 6374 0a20 2020 2020 2020 2022 2222  dict.        """
+00014070: 0a20 2020 2020 2020 2073 656c 662e 6c65  .        self.le
+00014080: 6164 6572 732c 2073 656c 662e 636f 6c6c  aders, self.coll
+00014090: 6561 6775 6573 203d 2073 656c 662e 6772  eagues = self.gr
+000140a0: 6f75 7053 756d 6d61 7279 2829 0a20 2020  oupSummary().   
+000140b0: 2020 2020 2073 656c 662e 6c65 6164 6572       self.leader
+000140c0: 732e 736f 7274 286b 6579 3d6c 616d 6264  s.sort(key=lambd
+000140d0: 6120 783a 2078 2e67 6574 4c61 7374 4e61  a x: x.getLastNa
+000140e0: 6d65 2829 2e6c 6f77 6572 2829 290a 2020  me().lower()).  
+000140f0: 2020 2020 2020 7365 6c66 2e63 6f6c 6c65        self.colle
+00014100: 6167 7565 732e 736f 7274 286b 6579 3d6c  agues.sort(key=l
+00014110: 616d 6264 6120 783a 2078 2e67 6574 4c61  ambda x: x.getLa
+00014120: 7374 4e61 6d65 2829 2e6c 6f77 6572 2829  stName().lower()
+00014130: 290a 2020 2020 2020 2020 2320 4f6e 6c79  ).        # Only
+00014140: 2073 686f 7720 2741 6c6c 204d 656d 6265   show 'All Membe
+00014150: 7273 2720 6f70 7469 6f6e 2069 6620 636f  rs' option if co
+00014160: 6e66 6967 7572 6564 2c20 616e 6420 7765  nfigured, and we
+00014170: 2772 6520 6e6f 7420 696e 2061 0a20 2020  're not in a.   
+00014180: 2020 2020 2023 2070 7269 7661 7465 2067       # private g
+00014190: 726f 7570 0a20 2020 2020 2020 2069 6620  roup.        if 
+000141a0: 280a 2020 2020 2020 2020 2020 2020 7365  (.            se
+000141b0: 6c66 2e64 6574 6169 6c73 2e70 6572 6d69  lf.details.permi
+000141c0: 7373 696f 6e73 2e69 7347 726f 7570 5265  ssions.isGroupRe
+000141d0: 6164 2829 0a20 2020 2020 2020 2020 2020  ad().           
+000141e0: 206f 7220 7365 6c66 2e5f 636f 6e6e 2e69   or self._conn.i
+000141f0: 7341 646d 696e 2829 0a20 2020 2020 2020  sAdmin().       
+00014200: 2020 2020 206f 7220 7365 6c66 2e69 734f       or self.isO
+00014210: 776e 6572 2829 0a20 2020 2020 2020 2029  wner().        )
+00014220: 3a0a 2020 2020 2020 2020 2020 2020 7365  :.            se
+00014230: 6c66 2e61 6c6c 203d 2054 7275 650a 0a20  lf.all = True.. 
+00014240: 2020 2064 6566 2067 6574 4f77 6e65 7273     def getOwners
+00014250: 2873 656c 6629 3a0a 2020 2020 2020 2020  (self):.        
+00014260: 666f 7220 6765 6d20 696e 2073 656c 662e  for gem in self.
+00014270: 636f 7079 4772 6f75 7045 7870 6572 696d  copyGroupExperim
+00014280: 656e 7465 724d 6170 2829 3a0a 2020 2020  enterMap():.    
+00014290: 2020 2020 2020 2020 6966 2067 656d 2069          if gem i
+000142a0: 7320 4e6f 6e65 3a0a 2020 2020 2020 2020  s None:.        
+000142b0: 2020 2020 2020 2020 636f 6e74 696e 7565          continue
+000142c0: 0a20 2020 2020 2020 2020 2020 2069 6620  .            if 
+000142d0: 6765 6d2e 6f77 6e65 722e 7661 6c3a 0a20  gem.owner.val:. 
+000142e0: 2020 2020 2020 2020 2020 2020 2020 2079                 y
+000142f0: 6965 6c64 2045 7870 6572 696d 656e 7465  ield Experimente
+00014300: 7257 7261 7070 6572 2873 656c 662e 5f63  rWrapper(self._c
+00014310: 6f6e 6e2c 2067 656d 2e63 6869 6c64 290a  onn, gem.child).
+00014320: 0a20 2020 2064 6566 2067 6574 4f77 6e65  .    def getOwne
+00014330: 7273 4e61 6d65 7328 7365 6c66 293a 0a20  rsNames(self):. 
+00014340: 2020 2020 2020 2077 6172 6e69 6e67 732e         warnings.
+00014350: 7761 726e 2822 6765 744f 776e 6572 734e  warn("getOwnersN
+00014360: 616d 6573 2829 2064 6570 7265 6361 7465  ames() deprecate
+00014370: 6420 696e 2035 2e37 2e30 222c 2044 6570  d in 5.7.0", Dep
+00014380: 7265 6361 7469 6f6e 5761 726e 696e 6729  recationWarning)
+00014390: 0a20 2020 2020 2020 206f 776e 6572 7320  .        owners 
+000143a0: 3d20 6c69 7374 2829 0a20 2020 2020 2020  = list().       
+000143b0: 2066 6f72 2065 2069 6e20 7365 6c66 2e67   for e in self.g
+000143c0: 6574 4f77 6e65 7273 2829 3a0a 2020 2020  etOwners():.    
+000143d0: 2020 2020 2020 2020 6f77 6e65 7273 2e61          owners.a
+000143e0: 7070 656e 6428 652e 6765 7446 756c 6c4e  ppend(e.getFullN
+000143f0: 616d 6528 2929 0a20 2020 2020 2020 2072  ame()).        r
+00014400: 6574 7572 6e20 222c 2022 2e6a 6f69 6e28  eturn ", ".join(
+00014410: 6f77 6e65 7273 290a 0a20 2020 2064 6566  owners)..    def
+00014420: 2067 6574 4d65 6d62 6572 7328 7365 6c66   getMembers(self
+00014430: 2c20 6578 636c 7564 6564 5f6f 6d65 6e61  , excluded_omena
+00014440: 6d65 3d6c 6973 7428 292c 2065 7863 6c75  me=list(), exclu
+00014450: 6465 645f 6964 733d 6c69 7374 2829 293a  ded_ids=list()):
+00014460: 0a20 2020 2020 2020 2066 6f72 2067 656d  .        for gem
+00014470: 2069 6e20 7365 6c66 2e63 6f70 7947 726f   in self.copyGro
+00014480: 7570 4578 7065 7269 6d65 6e74 6572 4d61  upExperimenterMa
+00014490: 7028 293a 0a20 2020 2020 2020 2020 2020  p():.           
+000144a0: 2069 6620 6765 6d20 6973 204e 6f6e 653a   if gem is None:
+000144b0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+000144c0: 2063 6f6e 7469 6e75 650a 2020 2020 2020   continue.      
+000144d0: 2020 2020 2020 666c 6167 203d 2046 616c        flag = Fal
+000144e0: 7365 0a20 2020 2020 2020 2020 2020 2069  se.            i
+000144f0: 6620 6765 6d2e 6368 696c 642e 6f6d 654e  f gem.child.omeN
+00014500: 616d 652e 7661 6c20 696e 2065 7863 6c75  ame.val in exclu
+00014510: 6465 645f 6f6d 656e 616d 653a 0a20 2020  ded_omename:.   
+00014520: 2020 2020 2020 2020 2020 2020 2066 6c61               fla
+00014530: 6720 3d20 5472 7565 0a20 2020 2020 2020  g = True.       
+00014540: 2020 2020 2069 6620 6765 6d2e 7061 7265       if gem.pare
+00014550: 6e74 2e69 642e 7661 6c20 696e 2065 7863  nt.id.val in exc
+00014560: 6c75 6465 645f 6964 733a 0a20 2020 2020  luded_ids:.     
+00014570: 2020 2020 2020 2020 2020 2066 6c61 6720             flag 
+00014580: 3d20 5472 7565 0a20 2020 2020 2020 2020  = True.         
+00014590: 2020 2069 6620 6e6f 7420 666c 6167 3a0a     if not flag:.
+000145a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000145b0: 7969 656c 6420 4578 7065 7269 6d65 6e74  yield Experiment
+000145c0: 6572 5772 6170 7065 7228 7365 6c66 2e5f  erWrapper(self._
+000145d0: 636f 6e6e 2c20 6765 6d2e 6368 696c 6429  conn, gem.child)
+000145e0: 0a0a 2020 2020 6465 6620 6973 4f77 6e65  ..    def isOwne
+000145f0: 7228 7365 6c66 293a 0a20 2020 2020 2020  r(self):.       
+00014600: 2022 2222 5265 7475 726e 7320 5472 7565   """Returns True
+00014610: 2069 6620 6375 7272 656e 7420 7573 6572   if current user
+00014620: 2069 7320 4f77 6e65 7220 6f66 2074 6869   is Owner of thi
+00014630: 7320 6772 6f75 7022 2222 0a20 2020 2020  s group""".     
+00014640: 2020 2072 6574 7572 6e20 7365 6c66 2e67     return self.g
+00014650: 6574 4964 2829 2069 6e20 7365 6c66 2e5f  etId() in self._
+00014660: 636f 6e6e 2e67 6574 4576 656e 7443 6f6e  conn.getEventCon
+00014670: 7465 7874 2829 2e6c 6561 6465 724f 6647  text().leaderOfG
+00014680: 726f 7570 730a 0a20 2020 2064 6566 2069  roups..    def i
+00014690: 734c 6f63 6b65 6428 7365 6c66 293a 0a20  sLocked(self):. 
+000146a0: 2020 2020 2020 2069 6620 7365 6c66 2e6e         if self.n
+000146b0: 616d 6520 3d3d 2022 7573 6572 223a 0a20  ame == "user":. 
+000146c0: 2020 2020 2020 2020 2020 2072 6574 7572             retur
+000146d0: 6e20 5472 7565 0a20 2020 2020 2020 2065  n True.        e
+000146e0: 6c69 6620 7365 6c66 2e6e 616d 6520 3d3d  lif self.name ==
+000146f0: 2022 7379 7374 656d 223a 0a20 2020 2020   "system":.     
+00014700: 2020 2020 2020 2072 6574 7572 6e20 5472         return Tr
+00014710: 7565 0a20 2020 2020 2020 2065 6c69 6620  ue.        elif 
+00014720: 7365 6c66 2e6e 616d 6520 3d3d 2022 6775  self.name == "gu
+00014730: 6573 7422 3a0a 2020 2020 2020 2020 2020  est":.          
+00014740: 2020 7265 7475 726e 2054 7275 650a 2020    return True.  
+00014750: 2020 2020 2020 656c 7365 3a0a 2020 2020        else:.    
+00014760: 2020 2020 2020 2020 4661 6c73 650a 0a0a          False...
+00014770: 6f6d 6572 6f2e 6761 7465 7761 792e 4578  omero.gateway.Ex
+00014780: 7065 7269 6d65 6e74 6572 4772 6f75 7057  perimenterGroupW
+00014790: 7261 7070 6572 203d 2045 7870 6572 696d  rapper = Experim
+000147a0: 656e 7465 7247 726f 7570 5772 6170 7065  enterGroupWrappe
+000147b0: 720a 0a0a 636c 6173 7320 5072 6f6a 6563  r...class Projec
+000147c0: 7457 7261 7070 6572 284f 6d65 726f 5765  tWrapper(OmeroWe
+000147d0: 624f 626a 6563 7457 7261 7070 6572 2c20  bObjectWrapper, 
+000147e0: 6f6d 6572 6f2e 6761 7465 7761 792e 5072  omero.gateway.Pr
+000147f0: 6f6a 6563 7457 7261 7070 6572 293a 0a20  ojectWrapper):. 
+00014800: 2020 2022 2222 0a20 2020 206f 6d65 726f     """.    omero
+00014810: 5f6d 6f64 656c 5f50 726f 6a65 6374 4920  _model_ProjectI 
+00014820: 636c 6173 7320 7772 6170 7065 7220 6f76  class wrapper ov
+00014830: 6572 7772 6974 6520 6f6d 6572 6f2e 6761  erwrite omero.ga
+00014840: 7465 7761 792e 5072 6f6a 6563 7457 7261  teway.ProjectWra
+00014850: 7070 6572 0a20 2020 2061 6e64 2065 7874  pper.    and ext
+00014860: 656e 6420 4f6d 6572 6f57 6562 4f62 6a65  end OmeroWebObje
+00014870: 6374 5772 6170 7065 722e 0a20 2020 2022  ctWrapper..    "
+00014880: 2222 0a0a 2020 2020 616e 6e6f 7461 7469  ""..    annotati
+00014890: 6f6e 5f63 6f75 6e74 6572 203d 204e 6f6e  on_counter = Non
+000148a0: 650a 0a20 2020 2064 6566 205f 5f70 7265  e..    def __pre
+000148b0: 7061 7265 5f5f 2873 656c 662c 202a 2a6b  pare__(self, **k
+000148c0: 7761 7267 7329 3a0a 2020 2020 2020 2020  wargs):.        
+000148d0: 7375 7065 7228 5072 6f6a 6563 7457 7261  super(ProjectWra
+000148e0: 7070 6572 2c20 7365 6c66 292e 5f5f 7072  pper, self).__pr
+000148f0: 6570 6172 655f 5f28 2a2a 6b77 6172 6773  epare__(**kwargs
+00014900: 290a 2020 2020 2020 2020 6966 2022 616e  ).        if "an
+00014910: 6e6f 7461 7469 6f6e 5f63 6f75 6e74 6572  notation_counter
+00014920: 2220 696e 206b 7761 7267 733a 0a20 2020  " in kwargs:.   
+00014930: 2020 2020 2020 2020 2073 656c 662e 616e           self.an
+00014940: 6e6f 7461 7469 6f6e 5f63 6f75 6e74 6572  notation_counter
+00014950: 203d 206b 7761 7267 735b 2261 6e6e 6f74   = kwargs["annot
+00014960: 6174 696f 6e5f 636f 756e 7465 7222 5d0a  ation_counter"].
+00014970: 0a0a 6f6d 6572 6f2e 6761 7465 7761 792e  ..omero.gateway.
+00014980: 5072 6f6a 6563 7457 7261 7070 6572 203d  ProjectWrapper =
+00014990: 2050 726f 6a65 6374 5772 6170 7065 720a   ProjectWrapper.
+000149a0: 0a0a 636c 6173 7320 4461 7461 7365 7457  ..class DatasetW
+000149b0: 7261 7070 6572 284f 6d65 726f 5765 624f  rapper(OmeroWebO
+000149c0: 626a 6563 7457 7261 7070 6572 2c20 6f6d  bjectWrapper, om
+000149d0: 6572 6f2e 6761 7465 7761 792e 4461 7461  ero.gateway.Data
+000149e0: 7365 7457 7261 7070 6572 293a 0a20 2020  setWrapper):.   
+000149f0: 2022 2222 0a20 2020 206f 6d65 726f 5f6d   """.    omero_m
+00014a00: 6f64 656c 5f44 6174 6173 6574 4920 636c  odel_DatasetI cl
+00014a10: 6173 7320 7772 6170 7065 7220 6f76 6572  ass wrapper over
+00014a20: 7772 6974 6520 6f6d 6572 6f2e 6761 7465  write omero.gate
+00014a30: 7761 792e 4461 7461 7365 7457 7261 7070  way.DatasetWrapp
+00014a40: 6572 0a20 2020 2061 6e64 2065 7874 656e  er.    and exten
+00014a50: 6473 204f 6d65 726f 5765 624f 626a 6563  ds OmeroWebObjec
+00014a60: 7457 7261 7070 6572 2e0a 2020 2020 2222  tWrapper..    ""
+00014a70: 220a 0a20 2020 2061 6e6e 6f74 6174 696f  "..    annotatio
+00014a80: 6e5f 636f 756e 7465 7220 3d20 4e6f 6e65  n_counter = None
+00014a90: 0a0a 2020 2020 6465 6620 5f5f 7072 6570  ..    def __prep
+00014aa0: 6172 655f 5f28 7365 6c66 2c20 2a2a 6b77  are__(self, **kw
+00014ab0: 6172 6773 293a 0a20 2020 2020 2020 2073  args):.        s
+00014ac0: 7570 6572 2844 6174 6173 6574 5772 6170  uper(DatasetWrap
+00014ad0: 7065 722c 2073 656c 6629 2e5f 5f70 7265  per, self).__pre
+00014ae0: 7061 7265 5f5f 282a 2a6b 7761 7267 7329  pare__(**kwargs)
+00014af0: 0a20 2020 2020 2020 2069 6620 2261 6e6e  .        if "ann
+00014b00: 6f74 6174 696f 6e5f 636f 756e 7465 7222  otation_counter"
+00014b10: 2069 6e20 6b77 6172 6773 3a0a 2020 2020   in kwargs:.    
+00014b20: 2020 2020 2020 2020 7365 6c66 2e61 6e6e          self.ann
+00014b30: 6f74 6174 696f 6e5f 636f 756e 7465 7220  otation_counter 
+00014b40: 3d20 6b77 6172 6773 5b22 616e 6e6f 7461  = kwargs["annota
+00014b50: 7469 6f6e 5f63 6f75 6e74 6572 225d 0a20  tion_counter"]. 
+00014b60: 2020 2020 2020 2069 6620 226c 696e 6b22         if "link"
+00014b70: 2069 6e20 6b77 6172 6773 3a0a 2020 2020   in kwargs:.    
+00014b80: 2020 2020 2020 2020 7365 6c66 2e6c 696e          self.lin
+00014b90: 6b20 3d20 226c 696e 6b22 2069 6e20 6b77  k = "link" in kw
+00014ba0: 6172 6773 2061 6e64 206b 7761 7267 735b  args and kwargs[
+00014bb0: 226c 696e 6b22 5d20 6f72 204e 6f6e 650a  "link"] or None.
+00014bc0: 0a0a 6f6d 6572 6f2e 6761 7465 7761 792e  ..omero.gateway.
+00014bd0: 4461 7461 7365 7457 7261 7070 6572 203d  DatasetWrapper =
+00014be0: 2044 6174 6173 6574 5772 6170 7065 720a   DatasetWrapper.
+00014bf0: 0a0a 636c 6173 7320 496d 6167 6557 7261  ..class ImageWra
+00014c00: 7070 6572 284f 6d65 726f 5765 624f 626a  pper(OmeroWebObj
+00014c10: 6563 7457 7261 7070 6572 2c20 6f6d 6572  ectWrapper, omer
+00014c20: 6f2e 6761 7465 7761 792e 496d 6167 6557  o.gateway.ImageW
+00014c30: 7261 7070 6572 293a 0a20 2020 2022 2222  rapper):.    """
+00014c40: 0a20 2020 206f 6d65 726f 5f6d 6f64 656c  .    omero_model
+00014c50: 5f49 6d61 6765 4920 636c 6173 7320 7772  _ImageI class wr
+00014c60: 6170 7065 7220 6f76 6572 7772 6974 6520  apper overwrite 
+00014c70: 6f6d 6572 6f2e 6761 7465 7761 792e 496d  omero.gateway.Im
+00014c80: 6167 6557 7261 7070 6572 0a20 2020 2061  ageWrapper.    a
+00014c90: 6e64 2065 7874 656e 6473 204f 6d65 726f  nd extends Omero
+00014ca0: 5765 624f 626a 6563 7457 7261 7070 6572  WebObjectWrapper
+00014cb0: 2e0a 2020 2020 2222 220a 0a20 2020 2061  ..    """..    a
+00014cc0: 6e6e 6f74 6174 696f 6e5f 636f 756e 7465  nnotation_counte
+00014cd0: 7220 3d20 4e6f 6e65 0a0a 2020 2020 6465  r = None..    de
+00014ce0: 6620 5f5f 7072 6570 6172 655f 5f28 7365  f __prepare__(se
+00014cf0: 6c66 2c20 2a2a 6b77 6172 6773 293a 0a20  lf, **kwargs):. 
+00014d00: 2020 2020 2020 2073 7570 6572 2849 6d61         super(Ima
+00014d10: 6765 5772 6170 7065 722c 2073 656c 6629  geWrapper, self)
+00014d20: 2e5f 5f70 7265 7061 7265 5f5f 282a 2a6b  .__prepare__(**k
+00014d30: 7761 7267 7329 0a20 2020 2020 2020 2069  wargs).        i
+00014d40: 6620 2261 6e6e 6f74 6174 696f 6e5f 636f  f "annotation_co
+00014d50: 756e 7465 7222 2069 6e20 6b77 6172 6773  unter" in kwargs
+00014d60: 3a0a 2020 2020 2020 2020 2020 2020 7365  :.            se
+00014d70: 6c66 2e61 6e6e 6f74 6174 696f 6e5f 636f  lf.annotation_co
+00014d80: 756e 7465 7220 3d20 6b77 6172 6773 5b22  unter = kwargs["
+00014d90: 616e 6e6f 7461 7469 6f6e 5f63 6f75 6e74  annotation_count
+00014da0: 6572 225d 0a20 2020 2020 2020 2069 6620  er"].        if 
+00014db0: 226c 696e 6b22 2069 6e20 6b77 6172 6773  "link" in kwargs
+00014dc0: 3a0a 2020 2020 2020 2020 2020 2020 7365  :.            se
+00014dd0: 6c66 2e6c 696e 6b20 3d20 226c 696e 6b22  lf.link = "link"
+00014de0: 2069 6e20 6b77 6172 6773 2061 6e64 206b   in kwargs and k
+00014df0: 7761 7267 735b 226c 696e 6b22 5d20 6f72  wargs["link"] or
+00014e00: 204e 6f6e 650a 0a20 2020 2064 6566 2067   None..    def g
+00014e10: 6574 5069 7865 6c53 697a 6555 6e69 7473  etPixelSizeUnits
+00014e20: 2873 656c 6629 3a0a 2020 2020 2020 2020  (self):.        
+00014e30: 2222 220a 2020 2020 2020 2020 5765 2075  """.        We u
+00014e40: 7365 2074 6865 2070 6978 656c 5369 7a65  se the pixelSize
+00014e50: 5820 746f 2066 696e 6420 7468 6520 6170  X to find the ap
+00014e60: 7072 6f70 7269 6174 6520 756e 6974 732e  propriate units.
+00014e70: 0a20 2020 2020 2020 2042 7920 6465 6661  .        By defa
+00014e80: 756c 742c 2077 6520 6765 7420 7468 6520  ult, we get the 
+00014e90: 6163 7475 616c 2073 697a 6520 696e 204d  actual size in M
+00014ea0: 6963 726f 6e73 2c20 7468 656e 2075 7365  icrons, then use
+00014eb0: 2074 6865 0a20 2020 2020 2020 206c 656e   the.        len
+00014ec0: 6774 6875 6e69 7420 6669 6c74 6572 2074  gthunit filter t
+00014ed0: 6f20 7069 636b 2074 6865 206d 6f73 7420  o pick the most 
+00014ee0: 7375 6974 6162 6c65 2073 697a 6520 2873  suitable size (s
+00014ef0: 616d 6520 6c6f 6769 630a 2020 2020 2020  ame logic.      
+00014f00: 2020 6973 2075 7365 6420 666f 7220 646f    is used for do
+00014f10: 696e 6720 7468 6520 6c65 6e67 7468 2063  ing the length c
+00014f20: 6f6e 7665 7273 696f 6e73 292e 0a20 2020  onversions)..   
+00014f30: 2020 2020 2048 6f77 6576 6572 2c20 6966       However, if
+00014f40: 2075 6e69 7420 6361 6e27 7420 6265 2063   unit can't be c
+00014f50: 6f6e 7665 7274 6564 2c20 7468 656e 2077  onverted, then w
+00014f60: 6520 6a75 7374 2072 6574 7572 6e20 7468  e just return th
+00014f70: 650a 2020 2020 2020 2020 6375 7272 656e  e.        curren
+00014f80: 7420 756e 6974 2773 2073 796d 626f 6c2e  t unit's symbol.
+00014f90: 0a20 2020 2020 2020 2022 2222 0a20 2020  .        """.   
+00014fa0: 2020 2020 2074 7279 3a0a 2020 2020 2020       try:.      
+00014fb0: 2020 2020 2020 7369 7a65 203d 2073 656c        size = sel
+00014fc0: 662e 6765 7450 6978 656c 5369 7a65 5828  f.getPixelSizeX(
+00014fd0: 756e 6974 733d 224d 4943 524f 4d45 5445  units="MICROMETE
+00014fe0: 5222 290a 2020 2020 2020 2020 6578 6365  R").        exce
+00014ff0: 7074 2045 7863 6570 7469 6f6e 3a0a 2020  pt Exception:.  
+00015000: 2020 2020 2020 2020 2020 7369 7a65 203d            size =
+00015010: 2073 656c 662e 6765 7450 6978 656c 5369   self.getPixelSi
+00015020: 7a65 5828 5472 7565 290a 2020 2020 2020  zeX(True).      
+00015030: 2020 2020 2020 6966 2073 697a 6520 6973        if size is
+00015040: 206e 6f74 204e 6f6e 653a 0a20 2020 2020   not None:.     
+00015050: 2020 2020 2020 2020 2020 2072 6574 7572             retur
+00015060: 6e20 7369 7a65 2e67 6574 5379 6d62 6f6c  n size.getSymbol
+00015070: 2829 0a20 2020 2020 2020 2069 6620 7369  ().        if si
+00015080: 7a65 2069 7320 4e6f 6e65 3a0a 2020 2020  ze is None:.    
+00015090: 2020 2020 2020 2020 7369 7a65 203d 2030          size = 0
+000150a0: 0a20 2020 2020 2020 2065 6c73 653a 0a20  .        else:. 
+000150b0: 2020 2020 2020 2020 2020 2073 697a 6520             size 
+000150c0: 3d20 7369 7a65 2e67 6574 5661 6c75 6528  = size.getValue(
+000150d0: 290a 2020 2020 2020 2020 7265 7475 726e  ).        return
+000150e0: 206c 656e 6774 6875 6e69 7428 7369 7a65   lengthunit(size
+000150f0: 290a 0a20 2020 2064 6566 2067 6574 5069  )..    def getPi
+00015100: 7865 6c53 697a 6558 4d69 6372 6f6e 7328  xelSizeXMicrons(
+00015110: 7365 6c66 293a 0a20 2020 2020 2020 2022  self):.        "
+00015120: 2222 0a20 2020 2020 2020 2048 656c 7065  "".        Helpe
+00015130: 7220 666f 7220 6361 6c6c 696e 6720 6765  r for calling ge
+00015140: 7450 6978 656c 5369 7a65 5828 756e 6974  tPixelSizeX(unit
+00015150: 733d 224d 4943 524f 4d45 5445 5222 2920  s="MICROMETER") 
+00015160: 696e 2074 656d 706c 6174 6573 0a20 2020  in templates.   
+00015170: 2020 2020 2022 2222 0a20 2020 2020 2020       """.       
+00015180: 2074 7279 3a0a 2020 2020 2020 2020 2020   try:.          
+00015190: 2020 7369 7a65 203d 2073 656c 662e 6765    size = self.ge
+000151a0: 7450 6978 656c 5369 7a65 5828 756e 6974  tPixelSizeX(unit
+000151b0: 733d 224d 4943 524f 4d45 5445 5222 290a  s="MICROMETER").
+000151c0: 2020 2020 2020 2020 6578 6365 7074 2045          except E
+000151d0: 7863 6570 7469 6f6e 3a0a 2020 2020 2020  xception:.      
+000151e0: 2020 2020 2020 7369 7a65 203d 2073 656c        size = sel
+000151f0: 662e 6765 7450 6978 656c 5369 7a65 5828  f.getPixelSizeX(
+00015200: 5472 7565 290a 2020 2020 2020 2020 6966  True).        if
+00015210: 2073 697a 6520 6973 204e 6f6e 653a 0a20   size is None:. 
+00015220: 2020 2020 2020 2020 2020 2072 6574 7572             retur
+00015230: 6e20 300a 2020 2020 2020 2020 7265 7475  n 0.        retu
+00015240: 726e 2073 697a 652e 6765 7456 616c 7565  rn size.getValue
+00015250: 2829 0a0a 2020 2020 6465 6620 6765 7450  ()..    def getP
+00015260: 6978 656c 5369 7a65 594d 6963 726f 6e73  ixelSizeYMicrons
+00015270: 2873 656c 6629 3a0a 2020 2020 2020 2020  (self):.        
+00015280: 2222 220a 2020 2020 2020 2020 4865 6c70  """.        Help
+00015290: 6572 2066 6f72 2063 616c 6c69 6e67 2067  er for calling g
+000152a0: 6574 5069 7865 6c53 697a 6558 2875 6e69  etPixelSizeX(uni
+000152b0: 7473 3d22 4d49 4352 4f4d 4554 4552 2229  ts="MICROMETER")
+000152c0: 2069 6e20 7465 6d70 6c61 7465 730a 2020   in templates.  
+000152d0: 2020 2020 2020 2222 220a 2020 2020 2020        """.      
+000152e0: 2020 7472 793a 0a20 2020 2020 2020 2020    try:.         
+000152f0: 2020 2073 697a 6520 3d20 7365 6c66 2e67     size = self.g
+00015300: 6574 5069 7865 6c53 697a 6559 2875 6e69  etPixelSizeY(uni
+00015310: 7473 3d22 4d49 4352 4f4d 4554 4552 2229  ts="MICROMETER")
+00015320: 0a20 2020 2020 2020 2065 7863 6570 7420  .        except 
+00015330: 4578 6365 7074 696f 6e3a 0a20 2020 2020  Exception:.     
+00015340: 2020 2020 2020 2073 697a 6520 3d20 7365         size = se
+00015350: 6c66 2e67 6574 5069 7865 6c53 697a 6559  lf.getPixelSizeY
+00015360: 2854 7275 6529 0a20 2020 2020 2020 2069  (True).        i
+00015370: 6620 7369 7a65 2069 7320 4e6f 6e65 3a0a  f size is None:.
+00015380: 2020 2020 2020 2020 2020 2020 7265 7475              retu
+00015390: 726e 2030 0a20 2020 2020 2020 2072 6574  rn 0.        ret
+000153a0: 7572 6e20 7369 7a65 2e67 6574 5661 6c75  urn size.getValu
+000153b0: 6528 290a 0a20 2020 2064 6566 2067 6574  e()..    def get
+000153c0: 5069 7865 6c53 697a 655a 4d69 6372 6f6e  PixelSizeZMicron
+000153d0: 7328 7365 6c66 293a 0a20 2020 2020 2020  s(self):.       
+000153e0: 2022 2222 0a20 2020 2020 2020 2048 656c   """.        Hel
+000153f0: 7065 7220 666f 7220 6361 6c6c 696e 6720  per for calling 
+00015400: 6765 7450 6978 656c 5369 7a65 5828 756e  getPixelSizeX(un
+00015410: 6974 733d 224d 4943 524f 4d45 5445 5222  its="MICROMETER"
+00015420: 2920 696e 2074 656d 706c 6174 6573 0a20  ) in templates. 
+00015430: 2020 2020 2020 2022 2222 0a20 2020 2020         """.     
+00015440: 2020 2074 7279 3a0a 2020 2020 2020 2020     try:.        
+00015450: 2020 2020 7369 7a65 203d 2073 656c 662e      size = self.
+00015460: 6765 7450 6978 656c 5369 7a65 5a28 756e  getPixelSizeZ(un
+00015470: 6974 733d 224d 4943 524f 4d45 5445 5222  its="MICROMETER"
+00015480: 290a 2020 2020 2020 2020 6578 6365 7074  ).        except
+00015490: 2045 7863 6570 7469 6f6e 3a0a 2020 2020   Exception:.    
+000154a0: 2020 2020 2020 2020 7369 7a65 203d 2073          size = s
+000154b0: 656c 662e 6765 7450 6978 656c 5369 7a65  elf.getPixelSize
+000154c0: 5a28 5472 7565 290a 2020 2020 2020 2020  Z(True).        
+000154d0: 6966 2073 697a 6520 6973 204e 6f6e 653a  if size is None:
+000154e0: 0a20 2020 2020 2020 2020 2020 2072 6574  .            ret
+000154f0: 7572 6e20 300a 2020 2020 2020 2020 7265  urn 0.        re
+00015500: 7475 726e 2073 697a 652e 6765 7456 616c  turn size.getVal
+00015510: 7565 2829 0a0a 2020 2020 6465 6620 6765  ue()..    def ge
+00015520: 7450 6978 656c 5369 7a65 5857 6974 6855  tPixelSizeXWithU
+00015530: 6e69 7473 2873 656c 6629 3a0a 2020 2020  nits(self):.    
+00015540: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
+00015550: 5265 7475 726e 7320 5b76 616c 7565 2c20  Returns [value, 
+00015560: 756e 6974 5379 6d62 6f6c 5d0a 2020 2020  unitSymbol].    
+00015570: 2020 2020 4966 2074 6865 2075 6e69 7420      If the unit 
+00015580: 6973 204d 4943 524f 4d45 5445 5220 696e  is MICROMETER in
+00015590: 2064 6174 6162 6173 6520 2864 6566 6175   database (defau
+000155a0: 6c74 292c 2077 650a 2020 2020 2020 2020  lt), we.        
+000155b0: 636f 6e76 6572 7420 746f 206d 6f72 6520  convert to more 
+000155c0: 6170 7072 6f70 7269 6174 6520 756e 6974  appropriate unit
+000155d0: 7320 2620 7661 6c75 650a 2020 2020 2020  s & value.      
+000155e0: 2020 2222 220a 2020 2020 2020 2020 7369    """.        si
+000155f0: 7a65 203d 2073 656c 662e 6765 7450 6978  ze = self.getPix
+00015600: 656c 5369 7a65 5828 5472 7565 290a 2020  elSizeX(True).  
+00015610: 2020 2020 2020 7265 7475 726e 2073 656c        return sel
+00015620: 662e 666f 726d 6174 5069 7865 6c53 697a  f.formatPixelSiz
+00015630: 6557 6974 6855 6e69 7473 2873 697a 6529  eWithUnits(size)
+00015640: 0a0a 2020 2020 6465 6620 6765 7450 6978  ..    def getPix
+00015650: 656c 5369 7a65 5957 6974 6855 6e69 7473  elSizeYWithUnits
+00015660: 2873 656c 6629 3a0a 2020 2020 2020 2020  (self):.        
+00015670: 2222 220a 2020 2020 2020 2020 5265 7475  """.        Retu
+00015680: 726e 7320 5b76 616c 7565 2c20 756e 6974  rns [value, unit
+00015690: 5379 6d62 6f6c 5d0a 2020 2020 2020 2020  Symbol].        
+000156a0: 4966 2074 6865 2075 6e69 7420 6973 204d  If the unit is M
+000156b0: 4943 524f 4d45 5445 5220 696e 2064 6174  ICROMETER in dat
+000156c0: 6162 6173 6520 2864 6566 6175 6c74 292c  abase (default),
+000156d0: 2077 650a 2020 2020 2020 2020 636f 6e76   we.        conv
+000156e0: 6572 7420 746f 206d 6f72 6520 6170 7072  ert to more appr
+000156f0: 6f70 7269 6174 6520 756e 6974 7320 2620  opriate units & 
+00015700: 7661 6c75 650a 2020 2020 2020 2020 2222  value.        ""
+00015710: 220a 2020 2020 2020 2020 7369 7a65 203d  ".        size =
+00015720: 2073 656c 662e 6765 7450 6978 656c 5369   self.getPixelSi
+00015730: 7a65 5928 5472 7565 290a 2020 2020 2020  zeY(True).      
+00015740: 2020 7265 7475 726e 2073 656c 662e 666f    return self.fo
+00015750: 726d 6174 5069 7865 6c53 697a 6557 6974  rmatPixelSizeWit
+00015760: 6855 6e69 7473 2873 697a 6529 0a0a 2020  hUnits(size)..  
+00015770: 2020 6465 6620 6765 7450 6978 656c 5369    def getPixelSi
+00015780: 7a65 5a57 6974 6855 6e69 7473 2873 656c  zeZWithUnits(sel
+00015790: 6629 3a0a 2020 2020 2020 2020 2222 220a  f):.        """.
+000157a0: 2020 2020 2020 2020 5265 7475 726e 7320          Returns 
+000157b0: 5b76 616c 7565 2c20 756e 6974 5379 6d62  [value, unitSymb
+000157c0: 6f6c 5d0a 2020 2020 2020 2020 4966 2074  ol].        If t
+000157d0: 6865 2075 6e69 7420 6973 204d 4943 524f  he unit is MICRO
+000157e0: 4d45 5445 5220 696e 2064 6174 6162 6173  METER in databas
+000157f0: 6520 2864 6566 6175 6c74 292c 2077 650a  e (default), we.
+00015800: 2020 2020 2020 2020 636f 6e76 6572 7420          convert 
+00015810: 746f 206d 6f72 6520 6170 7072 6f70 7269  to more appropri
+00015820: 6174 6520 756e 6974 7320 2620 7661 6c75  ate units & valu
+00015830: 650a 2020 2020 2020 2020 2222 220a 2020  e.        """.  
+00015840: 2020 2020 2020 7369 7a65 203d 2073 656c        size = sel
+00015850: 662e 6765 7450 6978 656c 5369 7a65 5a28  f.getPixelSizeZ(
+00015860: 5472 7565 290a 2020 2020 2020 2020 7265  True).        re
+00015870: 7475 726e 2073 656c 662e 666f 726d 6174  turn self.format
+00015880: 5069 7865 6c53 697a 6557 6974 6855 6e69  PixelSizeWithUni
+00015890: 7473 2873 697a 6529 0a0a 2020 2020 6465  ts(size)..    de
+000158a0: 6620 666f 726d 6174 5069 7865 6c53 697a  f formatPixelSiz
+000158b0: 6557 6974 6855 6e69 7473 2873 656c 662c  eWithUnits(self,
+000158c0: 2073 697a 6529 3a0a 2020 2020 2020 2020   size):.        
+000158d0: 2222 220a 2020 2020 2020 2020 466f 726d  """.        Form
+000158e0: 6174 7320 7468 6520 7265 7370 6f6e 7365  ats the response
+000158f0: 2066 6f72 206d 6574 686f 6473 2061 626f   for methods abo
+00015900: 7665 2e0a 2020 2020 2020 2020 5265 7475  ve..        Retu
+00015910: 726e 7320 5b76 616c 7565 2c20 756e 6974  rns [value, unit
+00015920: 5379 6d62 6f6c 5d0a 2020 2020 2020 2020  Symbol].        
+00015930: 4966 2074 6865 2075 6e69 7420 6973 204d  If the unit is M
+00015940: 4943 524f 4d45 5445 5220 696e 2064 6174  ICROMETER in dat
+00015950: 6162 6173 6520 2864 6566 6175 6c74 292c  abase (default),
+00015960: 2077 650a 2020 2020 2020 2020 636f 6e76   we.        conv
+00015970: 6572 7420 746f 206d 6f72 6520 6170 7072  ert to more appr
+00015980: 6f70 7269 6174 6520 756e 6974 7320 2620  opriate units & 
+00015990: 7661 6c75 650a 2020 2020 2020 2020 2222  value.        ""
+000159a0: 220a 2020 2020 2020 2020 6966 2073 697a  ".        if siz
+000159b0: 6520 6973 204e 6f6e 653a 0a20 2020 2020  e is None:.     
+000159c0: 2020 2020 2020 2072 6574 7572 6e20 284e         return (N
+000159d0: 6f6e 652c 2022 c2b5 6d22 290a 2020 2020  one, "..m").    
+000159e0: 2020 2020 6c65 6e67 7468 203d 2073 697a      length = siz
+000159f0: 652e 6765 7456 616c 7565 2829 0a20 2020  e.getValue().   
+00015a00: 2020 2020 2075 6e69 7420 3d20 7369 7a65       unit = size
+00015a10: 2e67 6574 556e 6974 2829 0a20 2020 2020  .getUnit().     
+00015a20: 2020 2069 6620 756e 6974 203d 3d20 224d     if unit == "M
+00015a30: 4943 524f 4d45 5445 5222 3a0a 2020 2020  ICROMETER":.    
+00015a40: 2020 2020 2020 2020 756e 6974 203d 206c          unit = l
+00015a50: 656e 6774 6875 6e69 7428 6c65 6e67 7468  engthunit(length
+00015a60: 290a 2020 2020 2020 2020 2020 2020 6c65  ).            le
+00015a70: 6e67 7468 203d 206c 656e 6774 6866 6f72  ngth = lengthfor
+00015a80: 6d61 7428 6c65 6e67 7468 290a 2020 2020  mat(length).    
+00015a90: 2020 2020 656c 7365 3a0a 2020 2020 2020      else:.      
+00015aa0: 2020 2020 2020 756e 6974 203d 2073 697a        unit = siz
+00015ab0: 652e 6765 7453 796d 626f 6c28 290a 2020  e.getSymbol().  
+00015ac0: 2020 2020 2020 7265 7475 726e 2028 6c65        return (le
+00015ad0: 6e67 7468 2c20 756e 6974 290a 0a20 2020  ngth, unit)..   
+00015ae0: 2064 6566 2067 6574 4368 616e 6e65 6c73   def getChannels
+00015af0: 2873 656c 662c 202a 6172 6773 2c20 2a2a  (self, *args, **
+00015b00: 6b77 6172 6773 293a 0a20 2020 2020 2020  kwargs):.       
+00015b10: 2022 2222 0a20 2020 2020 2020 2054 6869   """.        Thi
+00015b20: 7320 6f76 6572 7269 6465 2073 7461 6e64  s override stand
+00015b30: 6172 6420 6f6d 6572 6f2e 6761 7465 7761  ard omero.gatewa
+00015b40: 792e 496d 6167 6557 7261 7070 6572 2e67  y.ImageWrapper.g
+00015b50: 6574 4368 616e 6e65 6c73 0a20 2020 2020  etChannels.     
+00015b60: 2020 2061 6e64 2063 6174 6368 2065 7863     and catch exc
+00015b70: 6570 7469 6f6e 732e 0a20 2020 2020 2020  eptions..       
+00015b80: 2022 2222 0a20 2020 2020 2020 2074 7279   """.        try
+00015b90: 3a0a 2020 2020 2020 2020 2020 2020 7265  :.            re
+00015ba0: 7475 726e 2073 7570 6572 2849 6d61 6765  turn super(Image
+00015bb0: 5772 6170 7065 722c 2073 656c 6629 2e67  Wrapper, self).g
+00015bc0: 6574 4368 616e 6e65 6c73 282a 6172 6773  etChannels(*args
+00015bd0: 2c20 2a2a 6b77 6172 6773 290a 2020 2020  , **kwargs).    
+00015be0: 2020 2020 6578 6365 7074 2045 7863 6570      except Excep
+00015bf0: 7469 6f6e 3a0a 2020 2020 2020 2020 2020  tion:.          
+00015c00: 2020 6c6f 6767 6572 2e65 7272 6f72 2822    logger.error("
+00015c10: 4661 696c 6564 2074 6f20 6c6f 6164 2063  Failed to load c
+00015c20: 6861 6e6e 656c 733a 222c 2065 7863 5f69  hannels:", exc_i
+00015c30: 6e66 6f3d 5472 7565 290a 2020 2020 2020  nfo=True).      
+00015c40: 2020 2020 2020 7265 7475 726e 204e 6f6e        return Non
+00015c50: 650a 0a20 2020 2064 6566 2073 686f 774f  e..    def showO
+00015c60: 7269 6769 6e61 6c46 696c 6550 6174 6873  riginalFilePaths
+00015c70: 2873 656c 6629 3a0a 2020 2020 2020 2020  (self):.        
+00015c80: 2222 220a 2020 2020 2020 2020 5468 6973  """.        This
+00015c90: 2064 6574 6572 6d69 6e65 7320 7768 6574   determines whet
+00015ca0: 6865 7220 7765 2077 616e 7420 746f 2073  her we want to s
+00015cb0: 686f 7720 7468 6520 7061 7468 7320 6f66  how the paths of
+00015cc0: 0a20 2020 2020 2020 204f 7269 6769 6e61  .        Origina
+00015cd0: 6c20 496d 706f 7274 6564 2046 696c 6573  l Imported Files
+00015ce0: 2e0a 2020 2020 2020 2020 2222 220a 2020  ..        """.  
+00015cf0: 2020 2020 2020 7265 7475 726e 2073 7570        return sup
+00015d00: 6572 2849 6d61 6765 5772 6170 7065 722c  er(ImageWrapper,
+00015d10: 2073 656c 6629 2e63 6f75 6e74 4669 6c65   self).countFile
+00015d20: 7365 7446 696c 6573 2829 203e 2030 0a0a  setFiles() > 0..
+00015d30: 2020 2020 6465 6620 6765 7446 696c 6573      def getFiles
+00015d40: 6574 496d 6167 6573 2873 656c 6629 3a0a  etImages(self):.
+00015d50: 2020 2020 2020 2020 2222 220a 2020 2020          """.    
+00015d60: 2020 2020 5265 7475 726e 7320 6120 6c69      Returns a li
+00015d70: 7374 206f 6620 7468 6520 2773 6962 6c69  st of the 'sibli
+00015d80: 6e67 2720 696d 6167 6573 2028 696e 636c  ng' images (incl
+00015d90: 7564 696e 6720 7468 6973 206f 6e65 2920  uding this one) 
+00015da0: 7468 6174 0a20 2020 2020 2020 2062 656c  that.        bel
+00015db0: 6f6e 6720 746f 2074 6869 7320 696d 6167  ong to this imag
+00015dc0: 6527 7320 4669 6c65 7365 742e 2053 6f72  e's Fileset. Sor
+00015dd0: 7465 6420 6279 206e 616d 652e 0a20 2020  ted by name..   
+00015de0: 2020 2020 2049 6620 496d 6167 6520 6861       If Image ha
+00015df0: 7320 6e6f 2046 696c 6573 6574 2c20 7265  s no Fileset, re
+00015e00: 7475 726e 2061 6e20 656d 7074 7920 6c69  turn an empty li
+00015e10: 7374 2e0a 0a20 2020 2020 2020 2040 7274  st...        @rt
+00015e20: 7970 653a 2020 2020 204c 6973 7420 6f66  ype:     List of
+00015e30: 207b 496d 6167 6557 7261 7070 6572 7d0a   {ImageWrapper}.
+00015e40: 2020 2020 2020 2020 2222 220a 2020 2020          """.    
+00015e50: 2020 2020 6669 6c65 7365 7420 3d20 7365      fileset = se
+00015e60: 6c66 2e67 6574 4669 6c65 7365 7428 290a  lf.getFileset().
+00015e70: 2020 2020 2020 2020 6966 2066 696c 6573          if files
+00015e80: 6574 2069 7320 6e6f 7420 4e6f 6e65 3a0a  et is not None:.
+00015e90: 2020 2020 2020 2020 2020 2020 6673 496d              fsIm
+00015ea0: 6773 203d 2066 696c 6573 6574 2e63 6f70  gs = fileset.cop
+00015eb0: 7949 6d61 6765 7328 290a 2020 2020 2020  yImages().      
+00015ec0: 2020 2020 2020 6673 496d 6773 2e73 6f72        fsImgs.sor
+00015ed0: 7428 6b65 793d 6c61 6d62 6461 2078 3a20  t(key=lambda x: 
+00015ee0: 782e 6765 744e 616d 6528 292e 6c6f 7765  x.getName().lowe
+00015ef0: 7228 2929 0a20 2020 2020 2020 2020 2020  r()).           
+00015f00: 2072 6574 7572 6e20 6673 496d 6773 0a20   return fsImgs. 
+00015f10: 2020 2020 2020 2072 6574 7572 6e20 5b5d         return []
+00015f20: 0a0a 2020 2020 6465 6620 6765 7449 6e70  ..    def getInp
+00015f30: 6c61 6365 496d 706f 7274 436d 6428 7365  laceImportCmd(se
+00015f40: 6c66 293a 0a20 2020 2020 2020 2022 2222  lf):.        """
+00015f50: 0a20 2020 2020 2020 2052 6574 7572 6e73  .        Returns
+00015f60: 2074 6865 2063 6f6d 6d61 6e64 2075 7365   the command use
+00015f70: 6420 746f 2064 6f20 696d 706f 7274 2074  d to do import t
+00015f80: 7261 6e73 6665 7220 666f 7220 7468 6973  ransfer for this
+00015f90: 2069 6d61 6765 2c0a 2020 2020 2020 2020   image,.        
+00015fa0: 452e 672e 2027 6c6e 272c 206f 7220 656d  E.g. 'ln', or em
+00015fb0: 7074 7920 7374 7269 6e67 2069 6620 6e6f  pty string if no
+00015fc0: 7420 696e 2d70 6c61 6365 2069 6d70 6f72  t in-place impor
+00015fd0: 7465 642e 0a20 2020 2020 2020 2022 2222  ted..        """
+00015fe0: 0a20 2020 2020 2020 2069 6e70 6c61 6365  .        inplace
+00015ff0: 203d 2073 656c 662e 6765 7449 6e70 6c61   = self.getInpla
+00016000: 6365 496d 706f 7274 2829 0a20 2020 2020  ceImport().     
+00016010: 2020 2069 6620 696e 706c 6163 6520 616e     if inplace an
+00016020: 6420 696e 706c 6163 6520 696e 2054 5241  d inplace in TRA
+00016030: 4e53 4645 5253 3a0a 2020 2020 2020 2020  NSFERS:.        
+00016040: 2020 2020 7265 7475 726e 2054 5241 4e53      return TRANS
+00016050: 4645 5253 5b69 6e70 6c61 6365 5d0a 2020  FERS[inplace].  
+00016060: 2020 2020 2020 7265 7475 726e 2022 220a        return "".
+00016070: 0a0a 6f6d 6572 6f2e 6761 7465 7761 792e  ..omero.gateway.
+00016080: 496d 6167 6557 7261 7070 6572 203d 2049  ImageWrapper = I
+00016090: 6d61 6765 5772 6170 7065 720a 0a0a 636c  mageWrapper...cl
+000160a0: 6173 7320 506c 6174 6557 7261 7070 6572  ass PlateWrapper
+000160b0: 284f 6d65 726f 5765 624f 626a 6563 7457  (OmeroWebObjectW
+000160c0: 7261 7070 6572 2c20 6f6d 6572 6f2e 6761  rapper, omero.ga
+000160d0: 7465 7761 792e 506c 6174 6557 7261 7070  teway.PlateWrapp
+000160e0: 6572 293a 0a0a 2020 2020 2222 220a 2020  er):..    """.  
+000160f0: 2020 6f6d 6572 6f5f 6d6f 6465 6c5f 506c    omero_model_Pl
+00016100: 6174 6549 2063 6c61 7373 2077 7261 7070  ateI class wrapp
+00016110: 6572 206f 7665 7277 7269 7465 206f 6d65  er overwrite ome
+00016120: 726f 2e67 6174 6577 6179 2e50 6c61 7465  ro.gateway.Plate
+00016130: 5772 6170 7065 720a 2020 2020 616e 6420  Wrapper.    and 
+00016140: 6578 7465 6e64 7320 4f6d 6572 6f57 6562  extends OmeroWeb
+00016150: 4f62 6a65 6374 5772 6170 7065 722e 0a20  ObjectWrapper.. 
+00016160: 2020 2022 2222 0a0a 2020 2020 616e 6e6f     """..    anno
+00016170: 7461 7469 6f6e 5f63 6f75 6e74 6572 203d  tation_counter =
+00016180: 204e 6f6e 650a 0a20 2020 2064 6566 205f   None..    def _
+00016190: 5f70 7265 7061 7265 5f5f 2873 656c 662c  _prepare__(self,
+000161a0: 202a 2a6b 7761 7267 7329 3a0a 2020 2020   **kwargs):.    
+000161b0: 2020 2020 7375 7065 7228 506c 6174 6557      super(PlateW
+000161c0: 7261 7070 6572 2c20 7365 6c66 292e 5f5f  rapper, self).__
+000161d0: 7072 6570 6172 655f 5f28 2a2a 6b77 6172  prepare__(**kwar
+000161e0: 6773 290a 2020 2020 2020 2020 6966 2022  gs).        if "
+000161f0: 616e 6e6f 7461 7469 6f6e 5f63 6f75 6e74  annotation_count
+00016200: 6572 2220 696e 206b 7761 7267 733a 0a20  er" in kwargs:. 
+00016210: 2020 2020 2020 2020 2020 2073 656c 662e             self.
+00016220: 616e 6e6f 7461 7469 6f6e 5f63 6f75 6e74  annotation_count
+00016230: 6572 203d 206b 7761 7267 735b 2261 6e6e  er = kwargs["ann
+00016240: 6f74 6174 696f 6e5f 636f 756e 7465 7222  otation_counter"
+00016250: 5d0a 2020 2020 2020 2020 6966 2022 6c69  ].        if "li
+00016260: 6e6b 2220 696e 206b 7761 7267 733a 0a20  nk" in kwargs:. 
+00016270: 2020 2020 2020 2020 2020 2073 656c 662e             self.
+00016280: 6c69 6e6b 203d 2022 6c69 6e6b 2220 696e  link = "link" in
+00016290: 206b 7761 7267 7320 616e 6420 6b77 6172   kwargs and kwar
+000162a0: 6773 5b22 6c69 6e6b 225d 206f 7220 4e6f  gs["link"] or No
+000162b0: 6e65 0a0a 0a6f 6d65 726f 2e67 6174 6577  ne...omero.gatew
+000162c0: 6179 2e50 6c61 7465 5772 6170 7065 7220  ay.PlateWrapper 
+000162d0: 3d20 506c 6174 6557 7261 7070 6572 0a0a  = PlateWrapper..
+000162e0: 0a63 6c61 7373 2057 656c 6c57 7261 7070  .class WellWrapp
+000162f0: 6572 284f 6d65 726f 5765 624f 626a 6563  er(OmeroWebObjec
+00016300: 7457 7261 7070 6572 2c20 6f6d 6572 6f2e  tWrapper, omero.
+00016310: 6761 7465 7761 792e 5765 6c6c 5772 6170  gateway.WellWrap
+00016320: 7065 7229 3a0a 2020 2020 2222 220a 2020  per):.    """.  
+00016330: 2020 6f6d 6572 6f5f 6d6f 6465 6c5f 496d    omero_model_Im
+00016340: 6167 6549 2063 6c61 7373 2077 7261 7070  ageI class wrapp
+00016350: 6572 206f 7665 7277 7269 7465 206f 6d65  er overwrite ome
+00016360: 726f 2e67 6174 6577 6179 2e49 6d61 6765  ro.gateway.Image
+00016370: 5772 6170 7065 720a 2020 2020 616e 6420  Wrapper.    and 
+00016380: 6578 7465 6e64 7320 4f6d 6572 6f57 6562  extends OmeroWeb
+00016390: 4f62 6a65 6374 5772 6170 7065 722e 0a20  ObjectWrapper.. 
+000163a0: 2020 2022 2222 0a0a 2020 2020 616e 6e6f     """..    anno
+000163b0: 7461 7469 6f6e 5f63 6f75 6e74 6572 203d  tation_counter =
+000163c0: 204e 6f6e 650a 0a20 2020 2064 6566 205f   None..    def _
+000163d0: 5f70 7265 7061 7265 5f5f 2873 656c 662c  _prepare__(self,
+000163e0: 202a 2a6b 7761 7267 7329 3a0a 2020 2020   **kwargs):.    
+000163f0: 2020 2020 7375 7065 7228 5765 6c6c 5772      super(WellWr
+00016400: 6170 7065 722c 2073 656c 6629 2e5f 5f70  apper, self).__p
+00016410: 7265 7061 7265 5f5f 282a 2a6b 7761 7267  repare__(**kwarg
+00016420: 7329 0a20 2020 2020 2020 2069 6620 2261  s).        if "a
+00016430: 6e6e 6f74 6174 696f 6e5f 636f 756e 7465  nnotation_counte
+00016440: 7222 2069 6e20 6b77 6172 6773 3a0a 2020  r" in kwargs:.  
+00016450: 2020 2020 2020 2020 2020 7365 6c66 2e61            self.a
+00016460: 6e6e 6f74 6174 696f 6e5f 636f 756e 7465  nnotation_counte
+00016470: 7220 3d20 6b77 6172 6773 5b22 616e 6e6f  r = kwargs["anno
+00016480: 7461 7469 6f6e 5f63 6f75 6e74 6572 225d  tation_counter"]
+00016490: 0a20 2020 2020 2020 2069 6620 226c 696e  .        if "lin
+000164a0: 6b22 2069 6e20 6b77 6172 6773 3a0a 2020  k" in kwargs:.  
+000164b0: 2020 2020 2020 2020 2020 7365 6c66 2e6c            self.l
+000164c0: 696e 6b20 3d20 226c 696e 6b22 2069 6e20  ink = "link" in 
+000164d0: 6b77 6172 6773 2061 6e64 206b 7761 7267  kwargs and kwarg
+000164e0: 735b 226c 696e 6b22 5d20 6f72 204e 6f6e  s["link"] or Non
+000164f0: 650a 0a0a 6f6d 6572 6f2e 6761 7465 7761  e...omero.gatewa
+00016500: 792e 5765 6c6c 5772 6170 7065 7220 3d20  y.WellWrapper = 
+00016510: 5765 6c6c 5772 6170 7065 720a 0a0a 636c  WellWrapper...cl
+00016520: 6173 7320 506c 6174 6541 6371 7569 7369  ass PlateAcquisi
+00016530: 7469 6f6e 5772 6170 7065 7228 0a20 2020  tionWrapper(.   
+00016540: 204f 6d65 726f 5765 624f 626a 6563 7457   OmeroWebObjectW
+00016550: 7261 7070 6572 2c20 6f6d 6572 6f2e 6761  rapper, omero.ga
+00016560: 7465 7761 792e 506c 6174 6541 6371 7569  teway.PlateAcqui
+00016570: 7369 7469 6f6e 5772 6170 7065 720a 293a  sitionWrapper.):
+00016580: 0a0a 2020 2020 2222 220a 2020 2020 6f6d  ..    """.    om
+00016590: 6572 6f5f 6d6f 6465 6c5f 506c 6174 6549  ero_model_PlateI
+000165a0: 2063 6c61 7373 2077 7261 7070 6572 206f   class wrapper o
+000165b0: 7665 7277 7269 7465 206f 6d65 726f 2e67  verwrite omero.g
+000165c0: 6174 6577 6179 2e50 6c61 7465 5772 6170  ateway.PlateWrap
+000165d0: 7065 720a 2020 2020 616e 6420 6578 7465  per.    and exte
+000165e0: 6e64 7320 4f6d 6572 6f57 6562 4f62 6a65  nds OmeroWebObje
+000165f0: 6374 5772 6170 7065 722e 0a20 2020 2022  ctWrapper..    "
+00016600: 2222 0a0a 2020 2020 616e 6e6f 7461 7469  ""..    annotati
+00016610: 6f6e 5f63 6f75 6e74 6572 203d 204e 6f6e  on_counter = Non
+00016620: 650a 0a20 2020 2064 6566 205f 5f70 7265  e..    def __pre
+00016630: 7061 7265 5f5f 2873 656c 662c 202a 2a6b  pare__(self, **k
+00016640: 7761 7267 7329 3a0a 2020 2020 2020 2020  wargs):.        
+00016650: 7375 7065 7228 506c 6174 6541 6371 7569  super(PlateAcqui
+00016660: 7369 7469 6f6e 5772 6170 7065 722c 2073  sitionWrapper, s
+00016670: 656c 6629 2e5f 5f70 7265 7061 7265 5f5f  elf).__prepare__
+00016680: 282a 2a6b 7761 7267 7329 0a20 2020 2020  (**kwargs).     
+00016690: 2020 2069 6620 2261 6e6e 6f74 6174 696f     if "annotatio
+000166a0: 6e5f 636f 756e 7465 7222 2069 6e20 6b77  n_counter" in kw
+000166b0: 6172 6773 3a0a 2020 2020 2020 2020 2020  args:.          
+000166c0: 2020 7365 6c66 2e61 6e6e 6f74 6174 696f    self.annotatio
+000166d0: 6e5f 636f 756e 7465 7220 3d20 6b77 6172  n_counter = kwar
+000166e0: 6773 5b22 616e 6e6f 7461 7469 6f6e 5f63  gs["annotation_c
+000166f0: 6f75 6e74 6572 225d 0a0a 0a6f 6d65 726f  ounter"]...omero
+00016700: 2e67 6174 6577 6179 2e50 6c61 7465 4163  .gateway.PlateAc
+00016710: 7175 6973 6974 696f 6e57 7261 7070 6572  quisitionWrapper
+00016720: 203d 2050 6c61 7465 4163 7175 6973 6974   = PlateAcquisit
+00016730: 696f 6e57 7261 7070 6572 0a0a 0a63 6c61  ionWrapper...cla
+00016740: 7373 2053 6372 6565 6e57 7261 7070 6572  ss ScreenWrapper
+00016750: 284f 6d65 726f 5765 624f 626a 6563 7457  (OmeroWebObjectW
+00016760: 7261 7070 6572 2c20 6f6d 6572 6f2e 6761  rapper, omero.ga
+00016770: 7465 7761 792e 5363 7265 656e 5772 6170  teway.ScreenWrap
+00016780: 7065 7229 3a0a 2020 2020 2222 220a 2020  per):.    """.  
+00016790: 2020 6f6d 6572 6f5f 6d6f 6465 6c5f 5363    omero_model_Sc
+000167a0: 7265 656e 4920 636c 6173 7320 7772 6170  reenI class wrap
+000167b0: 7065 7220 6f76 6572 7772 6974 6520 6f6d  per overwrite om
+000167c0: 6572 6f2e 6761 7465 7761 792e 5363 7265  ero.gateway.Scre
+000167d0: 656e 5772 6170 7065 720a 2020 2020 616e  enWrapper.    an
+000167e0: 6420 6578 7465 6e64 7320 4f6d 6572 6f57  d extends OmeroW
+000167f0: 6562 4f62 6a65 6374 5772 6170 7065 722e  ebObjectWrapper.
+00016800: 0a20 2020 2022 2222 0a0a 2020 2020 616e  .    """..    an
+00016810: 6e6f 7461 7469 6f6e 5f63 6f75 6e74 6572  notation_counter
+00016820: 203d 204e 6f6e 650a 0a20 2020 2064 6566   = None..    def
+00016830: 205f 5f70 7265 7061 7265 5f5f 2873 656c   __prepare__(sel
+00016840: 662c 202a 2a6b 7761 7267 7329 3a0a 2020  f, **kwargs):.  
+00016850: 2020 2020 2020 7375 7065 7228 5363 7265        super(Scre
+00016860: 656e 5772 6170 7065 722c 2073 656c 6629  enWrapper, self)
+00016870: 2e5f 5f70 7265 7061 7265 5f5f 282a 2a6b  .__prepare__(**k
+00016880: 7761 7267 7329 0a20 2020 2020 2020 2069  wargs).        i
+00016890: 6620 2261 6e6e 6f74 6174 696f 6e5f 636f  f "annotation_co
+000168a0: 756e 7465 7222 2069 6e20 6b77 6172 6773  unter" in kwargs
+000168b0: 3a0a 2020 2020 2020 2020 2020 2020 7365  :.            se
+000168c0: 6c66 2e61 6e6e 6f74 6174 696f 6e5f 636f  lf.annotation_co
+000168d0: 756e 7465 7220 3d20 6b77 6172 6773 5b22  unter = kwargs["
+000168e0: 616e 6e6f 7461 7469 6f6e 5f63 6f75 6e74  annotation_count
+000168f0: 6572 225d 0a0a 0a6f 6d65 726f 2e67 6174  er"]...omero.gat
+00016900: 6577 6179 2e53 6372 6565 6e57 7261 7070  eway.ScreenWrapp
+00016910: 6572 203d 2053 6372 6565 6e57 7261 7070  er = ScreenWrapp
+00016920: 6572 0a0a 0a63 6c61 7373 2045 7665 6e74  er...class Event
+00016930: 4c6f 6757 7261 7070 6572 286f 6d65 726f  LogWrapper(omero
+00016940: 2e67 6174 6577 6179 2e42 6c69 747a 4f62  .gateway.BlitzOb
+00016950: 6a65 6374 5772 6170 7065 7229 3a0a 2020  jectWrapper):.  
+00016960: 2020 2222 220a 2020 2020 6f6d 6572 6f5f    """.    omero_
+00016970: 6d6f 6465 6c5f 4576 656e 744c 6f67 4920  model_EventLogI 
+00016980: 636c 6173 7320 7772 6170 7065 7220 6578  class wrapper ex
+00016990: 7465 6e64 730a 2020 2020 6f6d 6572 6f2e  tends.    omero.
+000169a0: 6761 7465 7761 792e 426c 6974 7a4f 626a  gateway.BlitzObj
+000169b0: 6563 7457 7261 7070 6572 2e0a 2020 2020  ectWrapper..    
+000169c0: 2222 220a 0a20 2020 204c 494e 4b5f 434c  """..    LINK_CL
+000169d0: 4153 5320 3d20 2245 7665 6e74 4c6f 6722  ASS = "EventLog"
+000169e0: 0a0a 0a63 6c61 7373 2053 6861 7265 5772  ...class ShareWr
+000169f0: 6170 7065 7228 6f6d 6572 6f2e 6761 7465  apper(omero.gate
+00016a00: 7761 792e 426c 6974 7a4f 626a 6563 7457  way.BlitzObjectW
+00016a10: 7261 7070 6572 293a 0a20 2020 2022 2222  rapper):.    """
+00016a20: 0a20 2020 206f 6d65 726f 5f6d 6f64 656c  .    omero_model
+00016a30: 5f53 6861 7265 4920 636c 6173 7320 7772  _ShareI class wr
+00016a40: 6170 7065 7220 6578 7465 6e64 7320 426c  apper extends Bl
+00016a50: 6974 7a4f 626a 6563 7457 7261 7070 6572  itzObjectWrapper
+00016a60: 2e0a 2020 2020 2222 220a 0a20 2020 2064  ..    """..    d
+00016a70: 6566 2067 6574 5368 6172 6554 7970 6528  ef getShareType(
+00016a80: 7365 6c66 293a 0a20 2020 2020 2020 2069  self):.        i
+00016a90: 6620 7365 6c66 2e69 7465 6d43 6f75 6e74  f self.itemCount
+00016aa0: 203d 3d20 303a 0a20 2020 2020 2020 2020   == 0:.         
+00016ab0: 2020 2072 6574 7572 6e20 2244 6973 6375     return "Discu
+00016ac0: 7373 696f 6e22 0a20 2020 2020 2020 2065  ssion".        e
+00016ad0: 6c73 653a 0a20 2020 2020 2020 2020 2020  lse:.           
+00016ae0: 2072 6574 7572 6e20 2253 6861 7265 220a   return "Share".
+00016af0: 0a20 2020 2064 6566 2069 7345 6d70 7479  .    def isEmpty
+00016b00: 2873 656c 6629 3a0a 2020 2020 2020 2020  (self):.        
+00016b10: 6966 2073 656c 662e 6974 656d 436f 756e  if self.itemCoun
+00016b20: 7420 3d3d 2030 3a0a 2020 2020 2020 2020  t == 0:.        
+00016b30: 2020 2020 7265 7475 726e 2054 7275 650a      return True.
+00016b40: 2020 2020 2020 2020 7265 7475 726e 2046          return F
+00016b50: 616c 7365 0a0a 2020 2020 6465 6620 6765  alse..    def ge
+00016b60: 7445 7870 6972 6544 6174 6528 7365 6c66  tExpireDate(self
+00016b70: 293a 0a20 2020 2020 2020 2022 2222 0a20  ):.        """. 
+00016b80: 2020 2020 2020 2047 6574 7320 7468 6520         Gets the 
+00016b90: 656e 6420 6461 7465 2066 6f72 2074 6865  end date for the
+00016ba0: 2073 6861 7265 0a0a 2020 2020 2020 2020   share..        
+00016bb0: 4072 6574 7572 6e3a 2020 2020 456e 6420  @return:    End 
+00016bc0: 4461 7465 2d74 696d 650a 2020 2020 2020  Date-time.      
+00016bd0: 2020 4072 7479 7065 3a20 2020 2020 6461    @rtype:     da
+00016be0: 7465 7469 6d65 206f 626a 6563 740a 2020  tetime object.  
+00016bf0: 2020 2020 2020 2222 220a 0a20 2020 2020        """..     
+00016c00: 2020 2023 2077 6f72 6b61 726f 756e 6420     # workaround 
+00016c10: 666f 7220 7072 6f62 6c65 6d20 6f66 2079  for problem of y
+00016c20: 6561 7220 3230 3338 0a20 2020 2020 2020  ear 2038.       
+00016c30: 2074 7279 3a0a 2020 2020 2020 2020 2020   try:.          
+00016c40: 2020 6420 3d20 7365 6c66 2e73 7461 7274    d = self.start
+00016c50: 6564 202b 2073 656c 662e 7469 6d65 546f  ed + self.timeTo
+00016c60: 4c69 7665 0a20 2020 2020 2020 2020 2020  Live.           
+00016c70: 2069 6620 6420 3e20 3230 3531 3232 3234   if d > 20512224
+00016c80: 3030 3030 303a 0a20 2020 2020 2020 2020  00000:.         
+00016c90: 2020 2020 2020 2072 6574 7572 6e20 6461         return da
+00016ca0: 7465 7469 6d65 2832 3033 352c 2031 2c20  tetime(2035, 1, 
+00016cb0: 312c 2030 2c20 302c 2030 290a 2020 2020  1, 0, 0, 0).    
+00016cc0: 2020 2020 2020 2020 7265 7475 726e 2064          return d
+00016cd0: 6174 6574 696d 652e 6672 6f6d 7469 6d65  atetime.fromtime
+00016ce0: 7374 616d 7028 6420 2f20 3130 3030 290a  stamp(d / 1000).
+00016cf0: 2020 2020 2020 2020 6578 6365 7074 2045          except E
+00016d00: 7863 6570 7469 6f6e 3a0a 2020 2020 2020  xception:.      
+00016d10: 2020 2020 2020 6c6f 6767 6572 2e69 6e66        logger.inf
+00016d20: 6f28 7472 6163 6562 6163 6b2e 666f 726d  o(traceback.form
+00016d30: 6174 5f65 7863 2829 290a 2020 2020 2020  at_exc()).      
+00016d40: 2020 7265 7475 726e 204e 6f6e 650a 0a20    return None.. 
+00016d50: 2020 2064 6566 2067 6574 5374 6172 7444     def getStartD
+00016d60: 6174 6528 7365 6c66 293a 0a20 2020 2020  ate(self):.     
+00016d70: 2020 2022 2222 0a20 2020 2020 2020 2047     """.        G
+00016d80: 6574 7320 7468 6520 7374 6172 7420 6461  ets the start da
+00016d90: 7465 206f 6620 7468 6520 7368 6172 650a  te of the share.
+00016da0: 0a20 2020 2020 2020 2040 7265 7475 726e  .        @return
+00016db0: 3a20 2020 2053 7461 7274 2044 6174 652d  :    Start Date-
+00016dc0: 7469 6d65 0a20 2020 2020 2020 2040 7274  time.        @rt
+00016dd0: 7970 653a 2020 2020 2064 6174 6574 696d  ype:     datetim
+00016de0: 6520 6f62 6a65 6374 0a20 2020 2020 2020  e object.       
+00016df0: 2022 2222 0a0a 2020 2020 2020 2020 7265   """..        re
+00016e00: 7475 726e 2064 6174 6574 696d 652e 6672  turn datetime.fr
+00016e10: 6f6d 7469 6d65 7374 616d 7028 7365 6c66  omtimestamp(self
+00016e20: 2e67 6574 5374 6172 7465 6428 2920 2f20  .getStarted() / 
+00016e30: 3130 3030 290a 0a20 2020 2064 6566 2069  1000)..    def i
+00016e40: 7345 7870 6972 6564 2873 656c 6629 3a0a  sExpired(self):.
+00016e50: 2020 2020 2020 2020 2222 220a 2020 2020          """.    
+00016e60: 2020 2020 5265 7475 726e 7320 5472 7565      Returns True
+00016e70: 2069 6620 7765 2061 7265 2070 6173 7420   if we are past 
+00016e80: 7468 6520 656e 6420 6461 7465 206f 6620  the end date of 
+00016e90: 7468 6520 7368 6172 650a 0a20 2020 2020  the share..     
+00016ea0: 2020 2040 7265 7475 726e 3a20 2020 2054     @return:    T
+00016eb0: 7275 6520 6966 2073 6861 7265 2065 7870  rue if share exp
+00016ec0: 6972 6564 0a20 2020 2020 2020 2040 7274  ired.        @rt
+00016ed0: 7970 653a 2020 2020 2042 6f6f 6c65 616e  ype:     Boolean
+00016ee0: 0a20 2020 2020 2020 2022 2222 0a0a 2020  .        """..  
+00016ef0: 2020 2020 2020 2320 776f 726b 6172 6f75        # workarou
+00016f00: 6e64 2066 6f72 2070 726f 626c 656d 206f  nd for problem o
+00016f10: 6620 7965 6172 2032 3033 380a 2020 2020  f year 2038.    
+00016f20: 2020 2020 6e6f 7720 3d20 7469 6d65 2e74      now = time.t
+00016f30: 696d 6528 290a 2020 2020 2020 2020 7472  ime().        tr
+00016f40: 793a 0a20 2020 2020 2020 2020 2020 2064  y:.            d
+00016f50: 203d 2069 6e74 2873 656c 662e 7374 6172   = int(self.star
+00016f60: 7465 6420 2b20 7365 6c66 2e74 696d 6554  ted + self.timeT
+00016f70: 6f4c 6976 6529 0a20 2020 2020 2020 2020  oLive).         
+00016f80: 2020 2069 6620 2864 202f 2031 3030 3029     if (d / 1000)
+00016f90: 203e 206e 6f77 3a0a 2020 2020 2020 2020   > now:.        
+00016fa0: 2020 2020 2020 2020 7265 7475 726e 2046          return F
+00016fb0: 616c 7365 0a20 2020 2020 2020 2020 2020  alse.           
+00016fc0: 2072 6574 7572 6e20 5472 7565 0a20 2020   return True.   
+00016fd0: 2020 2020 2065 7863 6570 7420 4578 6365       except Exce
+00016fe0: 7074 696f 6e3a 0a20 2020 2020 2020 2020  ption:.         
+00016ff0: 2020 206c 6f67 6765 722e 696e 666f 2874     logger.info(t
+00017000: 7261 6365 6261 636b 2e66 6f72 6d61 745f  raceback.format_
+00017010: 6578 6328 2929 0a20 2020 2020 2020 2072  exc()).        r
+00017020: 6574 7572 6e20 4e6f 6e65 0a0a 2020 2020  eturn None..    
+00017030: 6465 6620 6973 4f77 6e65 6428 7365 6c66  def isOwned(self
+00017040: 293a 0a20 2020 2020 2020 2022 2222 0a20  ):.        """. 
+00017050: 2020 2020 2020 2052 6574 7572 6e73 2054         Returns T
+00017060: 7275 6520 6966 2073 6861 7265 2069 7320  rue if share is 
+00017070: 6f77 6e65 6420 6279 2074 6865 2063 7572  owned by the cur
+00017080: 7265 6e74 2075 7365 720a 0a20 2020 2020  rent user..     
+00017090: 2020 2040 7265 7475 726e 3a20 2020 2054     @return:    T
+000170a0: 7275 6520 6966 206f 776e 6564 0a20 2020  rue if owned.   
+000170b0: 2020 2020 2040 7274 7970 653a 2020 2020       @rtype:    
+000170c0: 2042 6f6f 6c65 616e 0a20 2020 2020 2020   Boolean.       
+000170d0: 2022 2222 0a0a 2020 2020 2020 2020 7472   """..        tr
+000170e0: 793a 0a20 2020 2020 2020 2020 2020 2069  y:.            i
+000170f0: 6620 7365 6c66 2e6f 776e 6572 2e69 642e  f self.owner.id.
+00017100: 7661 6c20 3d3d 2073 656c 662e 5f63 6f6e  val == self._con
+00017110: 6e2e 6765 7445 7665 6e74 436f 6e74 6578  n.getEventContex
+00017120: 7428 292e 7573 6572 4964 3a0a 2020 2020  t().userId:.    
+00017130: 2020 2020 2020 2020 2020 2020 7265 7475              retu
+00017140: 726e 2054 7275 650a 2020 2020 2020 2020  rn True.        
+00017150: 6578 6365 7074 2045 7863 6570 7469 6f6e  except Exception
+00017160: 3a0a 2020 2020 2020 2020 2020 2020 6c6f  :.            lo
+00017170: 6767 6572 2e65 7272 6f72 2874 7261 6365  gger.error(trace
+00017180: 6261 636b 2e66 6f72 6d61 745f 6578 6328  back.format_exc(
+00017190: 2929 0a20 2020 2020 2020 2072 6574 7572  )).        retur
+000171a0: 6e20 4661 6c73 650a 0a20 2020 2064 6566  n False..    def
+000171b0: 2067 6574 4f77 6e65 7228 7365 6c66 293a   getOwner(self):
+000171c0: 0a20 2020 2020 2020 2022 2222 0a20 2020  .        """.   
+000171d0: 2020 2020 2054 6865 206f 776e 6572 206f       The owner o
+000171e0: 6620 7468 6973 2073 6861 7265 0a0a 2020  f this share..  
+000171f0: 2020 2020 2020 4072 6574 7572 6e3a 2020        @return:  
+00017200: 2020 4f77 6e65 720a 2020 2020 2020 2020    Owner.        
+00017210: 4072 7479 7065 3a20 2020 2020 4c7b 4578  @rtype:     L{Ex
+00017220: 7065 7269 6d65 6e74 6572 5772 6170 7065  perimenterWrappe
+00017230: 727d 0a20 2020 2020 2020 2022 2222 0a0a  r}.        """..
+00017240: 2020 2020 2020 2020 7265 7475 726e 206f          return o
+00017250: 6d65 726f 2e67 6174 6577 6179 2e45 7870  mero.gateway.Exp
+00017260: 6572 696d 656e 7465 7257 7261 7070 6572  erimenterWrapper
+00017270: 2873 656c 662e 5f63 6f6e 6e2c 2073 656c  (self._conn, sel
+00017280: 662e 6f77 6e65 7229 0a0a 0a6f 6d65 726f  f.owner)...omero
+00017290: 2e67 6174 6577 6179 2e72 6566 7265 7368  .gateway.refresh
+000172a0: 5772 6170 7065 7273 2829 0a              Wrappers().
```

### Comparing `omero-web-5.9.1/omeroweb/webclient/webclient_utils.py` & `omero-web-5.9.2/omeroweb/webclient/webclient_utils.py`

 * *Files 0% similar despite different names*

```diff
@@ -26,15 +26,15 @@
 
 
 def getDateTime(timeString):
     return datetime.datetime.strptime(timeString, "%Y-%m-%d %H:%M:%S")
 
 
 def formatPercentFraction(value):
-    """ Formats a fraction as a percentage for display """
+    """Formats a fraction as a percentage for display"""
     value = value * 100
     if value < 1:
         # Handle python3 rounding 0.05 towards even numbers
         # Make sure it always rounds 0.05 up
         if (value * 10) % 1 == 0.5:
             value += 0.01
         value = "%.1f" % round(value, 1)
```

### Comparing `omero-web-5.9.1/omeroweb/webgateway/__init__.py` & `omero-web-5.9.2/omeroweb/webgateway/__init__.py`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/admin.py` & `omero-web-5.9.2/omeroweb/webgateway/admin.py`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/marshal.py` & `omero-web-5.9.2/omeroweb/webgateway/marshal.py`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/middleware.py` & `omero-web-5.9.2/omeroweb/webgateway/middleware.py`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/models.py` & `omero-web-5.9.2/omeroweb/webgateway/models.py`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/plategrid.py` & `omero-web-5.9.2/omeroweb/webgateway/plategrid.py`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/JQuerySpinBtn-1.3a/JQuerySpinBtn.css` & `omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/JQuerySpinBtn-1.3a/JQuerySpinBtn.css`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/JQuerySpinBtn-1.3a/JQuerySpinBtn.js` & `omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/JQuerySpinBtn-1.3a/JQuerySpinBtn.js`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/JQuerySpinBtn-1.3a/img/spinbtn_updn.gif` & `omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/JQuerySpinBtn-1.3a/img/spinbtn_updn.gif`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/aop-1.3.js` & `omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/aop-1.3.js`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/d3-3.5.17/LICENSE` & `omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/d3-3.5.17/LICENSE`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/d3-3.5.17/d3.js` & `omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/d3-3.5.17/d3.js`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/d3-3.5.17/d3.min.js` & `omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/d3-3.5.17/d3.min.js`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/farbtastic-1.2/farbtastic.css` & `omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/farbtastic-1.2/farbtastic.css`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/farbtastic-1.2/farbtastic.js` & `omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/farbtastic-1.2/farbtastic.js`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/farbtastic-1.2/marker.png` & `omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/farbtastic-1.2/marker.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/farbtastic-1.2/mask.png` & `omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/farbtastic-1.2/mask.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/farbtastic-1.2/wheel.png` & `omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/farbtastic-1.2/wheel.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/hammer-2.0.2/hammer.min.js` & `omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/hammer-2.0.2/hammer.min.js`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery-1.11.1.js` & `omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery-1.11.1.js`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/js/jquery-ui-1.10.4.js` & `omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/js/jquery-ui-1.10.4.js`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/js/jquery-ui-1.10.4.min.js` & `omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/js/jquery-ui-1.10.4.min.js`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/images/animated-overlay.gif` & `omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/images/animated-overlay.gif`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/images/ui-icons_222222_256x240.png` & `omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/images/ui-icons_222222_256x240.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/images/ui-icons_2e83ff_256x240.png` & `omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/images/ui-icons_2e83ff_256x240.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/images/ui-icons_454545_256x240.png` & `omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/images/ui-icons_454545_256x240.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/images/ui-icons_888888_256x240.png` & `omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/images/ui-icons_888888_256x240.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/images/ui-icons_cd0a0a_256x240.png` & `omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/images/ui-icons_cd0a0a_256x240.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/jquery-ui.css` & `omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/jquery-ui.css`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/jquery.ui.accordion.css` & `omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/jquery.ui.accordion.css`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/jquery.ui.base.css` & `omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/jquery.ui.base.css`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/jquery.ui.button.css` & `omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/jquery.ui.button.css`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/jquery.ui.core.css` & `omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/jquery.ui.core.css`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/jquery.ui.datepicker.css` & `omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/jquery.ui.datepicker.css`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/jquery.ui.dialog.css` & `omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/jquery.ui.dialog.css`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/jquery.ui.menu.css` & `omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/jquery.ui.menu.css`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/jquery.ui.progressbar.css` & `omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/jquery.ui.progressbar.css`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/jquery.ui.resizable.css` & `omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/jquery.ui.resizable.css`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/jquery.ui.slider.css` & `omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/jquery.ui.slider.css`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/jquery.ui.spinner.css` & `omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/jquery.ui.spinner.css`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/jquery.ui.tabs.css` & `omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/jquery.ui.tabs.css`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/jquery.ui.theme.css` & `omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/jquery.ui.theme.css`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/minified/images/animated-overlay.gif` & `omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/minified/images/animated-overlay.gif`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/minified/images/ui-icons_222222_256x240.png` & `omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/minified/images/ui-icons_222222_256x240.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/minified/images/ui-icons_2e83ff_256x240.png` & `omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/minified/images/ui-icons_2e83ff_256x240.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/minified/images/ui-icons_454545_256x240.png` & `omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/minified/images/ui-icons_454545_256x240.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/minified/images/ui-icons_888888_256x240.png` & `omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/minified/images/ui-icons_888888_256x240.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/minified/images/ui-icons_cd0a0a_256x240.png` & `omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/minified/images/ui-icons_cd0a0a_256x240.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/minified/jquery-ui.min.css` & `omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/minified/jquery-ui.min.css`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/minified/jquery.ui.accordion.min.css` & `omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/minified/jquery.ui.accordion.min.css`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/minified/jquery.ui.button.min.css` & `omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/minified/jquery.ui.button.min.css`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/minified/jquery.ui.core.min.css` & `omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/minified/jquery.ui.core.min.css`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/minified/jquery.ui.datepicker.min.css` & `omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/minified/jquery.ui.datepicker.min.css`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/minified/jquery.ui.dialog.min.css` & `omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/minified/jquery.ui.dialog.min.css`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/minified/jquery.ui.menu.min.css` & `omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/minified/jquery.ui.menu.min.css`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/minified/jquery.ui.resizable.min.css` & `omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/minified/jquery.ui.resizable.min.css`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/minified/jquery.ui.slider.min.css` & `omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/minified/jquery.ui.slider.min.css`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/minified/jquery.ui.spinner.min.css` & `omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/minified/jquery.ui.spinner.min.css`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/minified/jquery.ui.tabs.min.css` & `omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery-ui-1.10.4/themes/base/minified/jquery.ui.tabs.min.css`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery.blockUI-2.66.0.js` & `omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery.blockUI-2.66.0.js`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery.chosen-1.2.0/chosen-sprite.png` & `omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery.chosen-1.2.0/chosen-sprite.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery.chosen-1.2.0/chosen-sprite@2x.png` & `omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery.chosen-1.2.0/chosen-sprite@2x.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery.chosen-1.2.0/chosen.css` & `omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery.chosen-1.2.0/chosen.css`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery.chosen-1.2.0/chosen.jquery.js` & `omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery.chosen-1.2.0/chosen.jquery.js`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery.flot-0.7/API.txt` & `omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery.flot-0.7/API.txt`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery.flot-0.7/LICENSE.txt` & `omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery.flot-0.7/LICENSE.txt`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery.flot-0.7/PLUGINS.txt` & `omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery.flot-0.7/PLUGINS.txt`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery.flot-0.7/README.txt` & `omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery.flot-0.7/README.txt`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery.flot-0.7/excanvas.js` & `omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery.flot-0.7/excanvas.js`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery.flot-0.7/jquery.colorhelpers.js` & `omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery.flot-0.7/jquery.colorhelpers.js`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery.flot-0.7/jquery.flot.crosshair.js` & `omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery.flot-0.7/jquery.flot.crosshair.js`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery.flot-0.7/jquery.flot.fillbetween.js` & `omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery.flot-0.7/jquery.flot.fillbetween.js`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery.flot-0.7/jquery.flot.image.js` & `omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery.flot-0.7/jquery.flot.image.js`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery.flot-0.7/jquery.flot.js` & `omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery.flot-0.7/jquery.flot.js`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery.flot-0.7/jquery.flot.min.js` & `omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery.flot-0.7/jquery.flot.min.js`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery.flot-0.7/jquery.flot.navigate.js` & `omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery.flot-0.7/jquery.flot.navigate.js`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery.flot-0.7/jquery.flot.pie.js` & `omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery.flot-0.7/jquery.flot.pie.js`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery.flot-0.7/jquery.flot.resize.js` & `omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery.flot-0.7/jquery.flot.resize.js`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery.flot-0.7/jquery.flot.selection.js` & `omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery.flot-0.7/jquery.flot.selection.js`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery.flot-0.7/jquery.flot.stack.js` & `omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery.flot-0.7/jquery.flot.stack.js`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery.flot-0.7/jquery.flot.symbol.js` & `omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery.flot-0.7/jquery.flot.symbol.js`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery.flot-0.7/jquery.flot.threshold.js` & `omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery.flot-0.7/jquery.flot.threshold.js`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery.hotkeys-0.8.js` & `omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery.hotkeys-0.8.js`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery.jstree-3.0.8/jstree.js` & `omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery.jstree-3.0.8/jstree.js`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery.jstree-3.0.8/themes/default/32px.png` & `omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery.jstree-3.0.8/themes/default/32px.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery.jstree-3.0.8/themes/default/40px.png` & `omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery.jstree-3.0.8/themes/default/40px.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery.jstree-3.0.8/themes/default/throbber.gif` & `omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery.jstree-3.0.8/themes/default/throbber.gif`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery.mousewheel-3.0.6.js` & `omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery.mousewheel-3.0.6.js`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery.quicksearch-1.0.js` & `omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery.quicksearch-1.0.js`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery.selectboxes-2.2.6.js` & `omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery.selectboxes-2.2.6.js`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery.tablesorter-2.0.3/asc.gif` & `omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery.tablesorter-2.0.3/asc.gif`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery.tablesorter-2.0.3/desc.gif` & `omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery.tablesorter-2.0.3/desc.gif`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery.tablesorter-2.0.3/jquery.tablesorter.css` & `omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery.tablesorter-2.0.3/jquery.tablesorter.css`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery.tablesorter-2.0.3/jquery.tablesorter.js` & `omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery.tablesorter-2.0.3/jquery.tablesorter.js`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/jquery.ui.touch-punch-0.2.3.min.js` & `omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/jquery.ui.touch-punch-0.2.3.min.js`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/panojs-2.0.0/PanoJS.js` & `omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/panojs-2.0.0/PanoJS.js`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/panojs-2.0.0/control_info.js` & `omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/panojs-2.0.0/control_info.js`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/panojs-2.0.0/control_roi.js` & `omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/panojs-2.0.0/control_roi.js`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/panojs-2.0.0/control_scalebar.js` & `omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/panojs-2.0.0/control_scalebar.js`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/panojs-2.0.0/control_svg.js` & `omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/panojs-2.0.0/control_svg.js`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/panojs-2.0.0/control_thumbnail.js` & `omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/panojs-2.0.0/control_thumbnail.js`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/panojs-2.0.0/controls.js` & `omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/panojs-2.0.0/controls.js`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/panojs-2.0.0/extjs/ext-core.js` & `omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/panojs-2.0.0/extjs/ext-core.js`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/panojs-2.0.0/extjs/ext-core.jsb2` & `omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/panojs-2.0.0/extjs/ext-core.jsb2`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/panojs-2.0.0/images/16px_minus.png` & `omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/panojs-2.0.0/images/16px_minus.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/panojs-2.0.0/images/16px_plus.png` & `omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/panojs-2.0.0/images/16px_plus.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/panojs-2.0.0/images/32px_11.png` & `omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/panojs-2.0.0/images/32px_11.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/panojs-2.0.0/images/32px_minus.png` & `omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/panojs-2.0.0/images/32px_minus.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/panojs-2.0.0/images/32px_plus.png` & `omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/panojs-2.0.0/images/32px_plus.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/panojs-2.0.0/images/32px_show.png` & `omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/panojs-2.0.0/images/32px_show.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/panojs-2.0.0/images/64px_11.png` & `omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/panojs-2.0.0/images/64px_11.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/panojs-2.0.0/images/64px_minus.png` & `omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/panojs-2.0.0/images/64px_minus.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/panojs-2.0.0/images/64px_plus.png` & `omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/panojs-2.0.0/images/64px_plus.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/panojs-2.0.0/images/64px_show.png` & `omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/panojs-2.0.0/images/64px_show.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/panojs-2.0.0/images/progress.gif` & `omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/panojs-2.0.0/images/progress.gif`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/panojs-2.0.0/images/progress_128.gif` & `omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/panojs-2.0.0/images/progress_128.gif`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/panojs-2.0.0/images/progress_256.gif` & `omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/panojs-2.0.0/images/progress_256.gif`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/panojs-2.0.0/images/progress_512.gif` & `omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/panojs-2.0.0/images/progress_512.gif`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/panojs-2.0.0/panojs.css` & `omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/panojs-2.0.0/panojs.css`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/panojs-2.0.0/pyramid_Bisque.js` & `omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/panojs-2.0.0/pyramid_Bisque.js`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/panojs-2.0.0/pyramid_Zoomify.js` & `omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/panojs-2.0.0/pyramid_Zoomify.js`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/panojs-2.0.0/pyramid_imgcnv.js` & `omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/panojs-2.0.0/pyramid_imgcnv.js`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/panojs-2.0.0/utils.js` & `omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/panojs-2.0.0/utils.js`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/raphael-2.1.0/raphael-min.js` & `omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/raphael-2.1.0/raphael-min.js`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/raphael-2.1.0/raphael.js` & `omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/raphael-2.1.0/raphael.js`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/raphael-2.1.0/scale.raphael.js` & `omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/raphael-2.1.0/scale.raphael.js`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/3rdparty/underscore/underscore-1.8.3-min.js` & `omero-web-5.9.2/omeroweb/webgateway/static/3rdparty/underscore/underscore-1.8.3-min.js`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/webgateway/css/base.css` & `omero-web-5.9.2/omeroweb/webgateway/static/webgateway/css/base.css`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/webgateway/css/ome.body.css` & `omero-web-5.9.2/omeroweb/webgateway/static/webgateway/css/ome.body.css`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/webgateway/css/ome.colorbtn.css` & `omero-web-5.9.2/omeroweb/webgateway/static/webgateway/css/ome.colorbtn.css`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/webgateway/css/ome.gs_slider.css` & `omero-web-5.9.2/omeroweb/webgateway/static/webgateway/css/ome.gs_slider.css`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/webgateway/css/ome.header.css` & `omero-web-5.9.2/omeroweb/webgateway/static/webgateway/css/ome.header.css`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/webgateway/css/ome.iehacks.css` & `omero-web-5.9.2/omeroweb/webgateway/static/webgateway/css/ome.iehacks.css`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/webgateway/css/ome.jstree_theme.css` & `omero-web-5.9.2/omeroweb/webgateway/static/webgateway/css/ome.jstree_theme.css`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/webgateway/css/ome.login.css` & `omero-web-5.9.2/omeroweb/webgateway/static/webgateway/css/ome.login.css`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/webgateway/css/ome.login_notgoingtofly.css` & `omero-web-5.9.2/omeroweb/webgateway/static/webgateway/css/ome.login_notgoingtofly.css`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/webgateway/css/ome.plateview.css` & `omero-web-5.9.2/omeroweb/webgateway/static/webgateway/css/ome.plateview.css`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/webgateway/css/ome.postit.css` & `omero-web-5.9.2/omeroweb/webgateway/static/webgateway/css/ome.postit.css`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/webgateway/css/ome.snippet_header_logo.css` & `omero-web-5.9.2/omeroweb/webgateway/static/webgateway/css/ome.snippet_header_logo.css`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/webgateway/css/ome.table.css` & `omero-web-5.9.2/omeroweb/webgateway/static/webgateway/css/ome.table.css`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/webgateway/css/ome.toolbar.css` & `omero-web-5.9.2/omeroweb/webgateway/static/webgateway/css/ome.toolbar.css`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/webgateway/css/ome.viewport.css` & `omero-web-5.9.2/omeroweb/webgateway/static/webgateway/css/ome.viewport.css`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/webgateway/css/omero_image.css` & `omero-web-5.9.2/omeroweb/webgateway/static/webgateway/css/omero_image.css`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/webgateway/css/reset.css` & `omero-web-5.9.2/omeroweb/webgateway/static/webgateway/css/reset.css`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/webgateway/css/reset_old.css` & `omero-web-5.9.2/omeroweb/webgateway/static/webgateway/css/reset_old.css`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/1_1.gif` & `omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/1_1.gif`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/OME_logo_grey_110.png` & `omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/OME_logo_grey_110.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/activity_light_24.png` & `omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/activity_light_24.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/ajax-loader-ovl.gif` & `omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/ajax-loader-ovl.gif`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/ajax-loader.gif` & `omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/ajax-loader.gif`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/arrowDown_grey.png` & `omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/arrowDown_grey.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/arrowRight_grey.png` & `omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/arrowRight_grey.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/basket_light_24.png` & `omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/basket_light_24.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/bg2.png` & `omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/bg2.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/bg_thataintgonnafly.jpg` & `omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/bg_thataintgonnafly.jpg`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/broken.gif` & `omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/broken.gif`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/close.png` & `omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/close.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/colorpicker_16.png` & `omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/colorpicker_16.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/datepicker_next.png` & `omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/datepicker_next.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/datepicker_prev.png` & `omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/datepicker_prev.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/drag_handle_5.png` & `omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/drag_handle_5.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/dropdown_left_arrow.png` & `omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/dropdown_left_arrow.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/dropdown_left_arrow_hover.png` & `omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/dropdown_left_arrow_hover.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/ellipse16.png` & `omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/ellipse16.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/favicon.ico` & `omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/favicon.ico`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/folder16.png` & `omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/folder16.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/folder32.png` & `omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/folder32.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/folder_image16.png` & `omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/folder_image16.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/folder_image32.png` & `omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/folder_image32.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/folder_yellow16.png` & `omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/folder_yellow16.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/fs.gif` & `omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/fs.gif`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/glencoe_drop_logo.gif` & `omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/glencoe_drop_logo.gif`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/header_bg2.png` & `omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/header_bg2.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/header_bg_30.png` & `omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/header_bg_30.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/icon_activity.png` & `omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/icon_activity.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/icon_add.png` & `omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/icon_add.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/icon_basket.png` & `omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/icon_basket.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/icon_download.png` & `omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/icon_download.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/icon_download2.png` & `omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/icon_download2.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/icon_edit.png` & `omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/icon_edit.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/icon_external_link.svg` & `omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/icon_external_link.svg`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/icon_figure_scripts.png` & `omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/icon_figure_scripts.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/icon_filetype.png` & `omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/icon_filetype.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/icon_folder.png` & `omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/icon_folder.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/icon_fs_path.png` & `omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/icon_fs_path.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/icon_help.png` & `omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/icon_help.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/icon_help_hover.png` & `omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/icon_help_hover.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/icon_info.png` & `omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/icon_info.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/icon_link.png` & `omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/icon_link.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/icon_logout.png` & `omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/icon_logout.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/icon_logout_hover.png` & `omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/icon_logout_hover.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/icon_script.png` & `omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/icon_script.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/icon_script_dark.png` & `omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/icon_script_dark.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/icon_settings.png` & `omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/icon_settings.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/icon_settings_hover.png` & `omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/icon_settings_hover.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/icon_view.png` & `omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/icon_view.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/icon_view_error.png` & `omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/icon_view_error.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/iconmonstr-sitemap-6-icon-16.png` & `omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/iconmonstr-sitemap-6-icon-16.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/image128.png` & `omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/image128.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/knotes16.png` & `omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/knotes16.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/line16.png` & `omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/line16.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/login_ome.png` & `omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/login_ome.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/logo2.png` & `omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/logo2.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/logo_login2.png` & `omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/logo_login2.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/logout.png` & `omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/logout.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/luts_10.png` & `omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/luts_10.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/mail_send.png` & `omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/mail_send.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/mail_send_hover.png` & `omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/mail_send_hover.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/mask16.png` & `omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/mask16.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/message_nodata.png` & `omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/message_nodata.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/nuvola_encrypted_grey16_old.png` & `omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/nuvola_encrypted_grey16_old.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/ome.ico` & `omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/ome.ico`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/ome_text_109.png` & `omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/ome_text_109.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/personal32.png` & `omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/personal32.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/point16.png` & `omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/point16.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/polygon16.png` & `omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/polygon16.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/question.png` & `omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/question.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/rectangle16.png` & `omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/rectangle16.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/spinner)old.gif` & `omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/spinner)old.gif`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/spinner.gif` & `omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/spinner.gif`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/spinner_big.gif` & `omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/spinner_big.gif`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/spinner_big2.gif` & `omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/spinner_big2.gif`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/t_axis_revert.gif` & `omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/t_axis_revert.gif`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/table_arrow_down.png` & `omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/table_arrow_down.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/table_arrow_up.png` & `omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/table_arrow_up.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/text16.png` & `omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/text16.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/tray_collapse_left.png` & `omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/tray_collapse_left.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/tray_collapse_right.png` & `omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/tray_collapse_right.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/ui-anim_basic_16x16.gif` & `omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/ui-anim_basic_16x16.gif`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/upload_grey.png` & `omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/upload_grey.png`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/webgateway/img/z_axis_revert.gif` & `omero-web-5.9.2/omeroweb/webgateway/static/webgateway/img/z_axis_revert.gif`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/webgateway/js/jshint.json` & `omero-web-5.9.2/omeroweb/webgateway/static/webgateway/js/jshint.json`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/webgateway/js/ome.colorbtn.js` & `omero-web-5.9.2/omeroweb/webgateway/static/webgateway/js/ome.colorbtn.js`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/webgateway/js/ome.csrf.js` & `omero-web-5.9.2/omeroweb/webgateway/static/webgateway/js/ome.csrf.js`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/webgateway/js/ome.gs_slider.js` & `omero-web-5.9.2/omeroweb/webgateway/static/webgateway/js/ome.gs_slider.js`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/webgateway/js/ome.gs_utils.js` & `omero-web-5.9.2/omeroweb/webgateway/static/webgateway/js/ome.gs_utils.js`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/webgateway/js/ome.histogram.js` & `omero-web-5.9.2/omeroweb/webgateway/static/webgateway/js/ome.histogram.js`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/webgateway/js/ome.nav.js` & `omero-web-5.9.2/omeroweb/webgateway/static/webgateway/js/ome.nav.js`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/webgateway/js/ome.plateview.js` & `omero-web-5.9.2/omeroweb/webgateway/static/webgateway/js/ome.plateview.js`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/webgateway/js/ome.popup.js` & `omero-web-5.9.2/omeroweb/webgateway/static/webgateway/js/ome.popup.js`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/webgateway/js/ome.postit.js` & `omero-web-5.9.2/omeroweb/webgateway/static/webgateway/js/ome.postit.js`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/webgateway/js/ome.roidisplay.js` & `omero-web-5.9.2/omeroweb/webgateway/static/webgateway/js/ome.roidisplay.js`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/webgateway/js/ome.roiutils.js` & `omero-web-5.9.2/omeroweb/webgateway/static/webgateway/js/ome.roiutils.js`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/webgateway/js/ome.scalebardisplay.js` & `omero-web-5.9.2/omeroweb/webgateway/static/webgateway/js/ome.scalebardisplay.js`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/webgateway/js/ome.smartdialog.js` & `omero-web-5.9.2/omeroweb/webgateway/static/webgateway/js/ome.smartdialog.js`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/webgateway/js/ome.spwgridview.js` & `omero-web-5.9.2/omeroweb/webgateway/static/webgateway/js/ome.spwgridview.js`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/webgateway/js/ome.viewport.js` & `omero-web-5.9.2/omeroweb/webgateway/static/webgateway/js/ome.viewport.js`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/webgateway/js/ome.viewportImage.js` & `omero-web-5.9.2/omeroweb/webgateway/static/webgateway/js/ome.viewportImage.js`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/static/webgateway/js/omero_image.js` & `omero-web-5.9.2/omeroweb/webgateway/static/webgateway/js/omero_image.js`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/templates/webgateway/base/base_frame.html` & `omero-web-5.9.2/omeroweb/webgateway/templates/webgateway/base/base_frame.html`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/templates/webgateway/base/base_header.html` & `omero-web-5.9.2/omeroweb/webgateway/templates/webgateway/base/base_header.html`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/templates/webgateway/base/base_main.html` & `omero-web-5.9.2/omeroweb/webgateway/templates/webgateway/base/base_main.html`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/templates/webgateway/base/container2.html` & `omero-web-5.9.2/omeroweb/webgateway/templates/webgateway/base/container2.html`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/templates/webgateway/base/container3.html` & `omero-web-5.9.2/omeroweb/webgateway/templates/webgateway/base/container3.html`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/templates/webgateway/base/includes/css_link_body.html` & `omero-web-5.9.2/omeroweb/webgateway/templates/webgateway/base/includes/css_link_body.html`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/templates/webgateway/base/includes/jquery-ui.html` & `omero-web-5.9.2/omeroweb/webgateway/templates/webgateway/base/includes/jquery-ui.html`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/templates/webgateway/base/includes/post_form.html` & `omero-web-5.9.2/omeroweb/webgateway/templates/webgateway/base/includes/post_form.html`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/templates/webgateway/base/includes/script_src_jquery.html` & `omero-web-5.9.2/omeroweb/webgateway/templates/webgateway/base/includes/script_src_jquery.html`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/templates/webgateway/base/includes/script_src_popup.html` & `omero-web-5.9.2/omeroweb/webgateway/templates/webgateway/base/includes/script_src_popup.html`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/templates/webgateway/base/includes/shortcut_icon.html` & `omero-web-5.9.2/omeroweb/webgateway/templates/webgateway/base/includes/shortcut_icon.html`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/templates/webgateway/base_site.html` & `omero-web-5.9.2/omeroweb/webgateway/templates/webgateway/base_site.html`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/templates/webgateway/core_html.html` & `omero-web-5.9.2/omeroweb/webgateway/templates/webgateway/core_html.html`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/templates/webgateway/viewport/omero_image.html` & `omero-web-5.9.2/omeroweb/webgateway/templates/webgateway/viewport/omero_image.html`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/templatetags/common_filters.py` & `omero-web-5.9.2/omeroweb/webgateway/templatetags/common_filters.py`

 * *Files 0% similar despite different names*

```diff
@@ -56,15 +56,15 @@
     if value is None:
         value = str(random.random())[2:]
     return value
 
 
 @register.filter
 def random_if_minus_one(value):
-    """ Used for thumbnail versions """
+    """Used for thumbnail versions"""
     if value == -1:
         value = str(random.random())[2:]
     return value
 
 
 @register.filter
 def ago(value):
```

### Comparing `omero-web-5.9.1/omeroweb/webgateway/templatetags/common_tags.py` & `omero-web-5.9.2/omeroweb/webgateway/templatetags/common_tags.py`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/templatetags/defaulttags.py` & `omero-web-5.9.2/omeroweb/webgateway/templatetags/defaulttags.py`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/templatetags/wikitags.py` & `omero-web-5.9.2/omeroweb/webgateway/templatetags/wikitags.py`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/urls.py` & `omero-web-5.9.2/omeroweb/webgateway/urls.py`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/util.py` & `omero-web-5.9.2/omeroweb/webgateway/util.py`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webgateway/views.py` & `omero-web-5.9.2/omeroweb/webgateway/views.py`

 * *Files 1% similar despite different names*

```diff
@@ -116,15 +116,15 @@
     numpyInstalled = True
 except ImportError:
     logger.error("No numpy installed")
     numpyInstalled = False
 
 
 def index(request):
-    """ /webgateway/ index placeholder """
+    """/webgateway/ index placeholder"""
     return HttpResponse("Welcome to webgateway")
 
 
 def _safestr(s):
     return unicode(s).encode("utf-8")
 
 
@@ -143,15 +143,15 @@
         @type blitzcon:     L{omero.gateway.BlitzGateway}
         """
 
         self._blitzcon = blitzcon
         self.loggedIn = False
 
     def logIn(self):
-        """ Sets the loggedIn Flag to True """
+        """Sets the loggedIn Flag to True"""
 
         self.loggedIn = True
 
     def isAdmin(self):
         """
         True if the current user is an admin
 
@@ -753,15 +753,15 @@
     finally:
         rv.close()
     return HttpResponse(jpeg, content_type="image/jpeg")
 
 
 @login_required()
 def render_shape_mask(request, shapeId, conn=None, **kwargs):
-    """ Returns mask as a png (supports transparency) """
+    """Returns mask as a png (supports transparency)"""
 
     if not numpyInstalled:
         raise NotImplementedError("numpy not installed")
     params = omero.sys.Parameters()
     params.map = {"id": rlong(shapeId)}
     shape = conn.getQueryService().findByQuery(
         "select s from Shape s where s.id = :id", params, conn.SERVICE_OPTS
@@ -1591,15 +1591,15 @@
     rv = well.simpleMarshal(xtra=xtra)
     return rv
 
 
 @login_required()
 @jsonp
 def plateGrid_json(request, pid, field=0, conn=None, **kwargs):
-    """"""
+    """ """
     try:
         field = long(field or 0)
     except ValueError:
         field = 0
     prefix = kwargs.get("thumbprefix", "webgateway_render_thumbnail")
     thumbsize = getIntOrDefault(request, "size", None)
     logger.debug(thumbsize)
@@ -2930,14 +2930,15 @@
     r = conn.getSharedResources()
     t = r.openTable(omero.model.OriginalFileI(fileid), ctx)
     if not t:
         return dict(error="Table %s not found" % fileid)
 
     try:
         cols = t.getHeaders()
+        column_names = [col.name for col in cols]
         col_indices = range(len(cols))
         if col_names:
             enumerated_columns = (
                 [(i, j) for (i, j) in enumerate(cols) if j.name in col_names]
                 if col_names
                 else [(i, j) for (i, j) in enumerate(cols)]
             )
@@ -2968,15 +2969,20 @@
 
         if query == "*":
             hits = range(range_start, range_end)
             totalCount = rows
         else:
             match = re.match(r"^(\w+)-(\d+)", query)
             if match:
-                query = "(%s==%s)" % (match.group(1), match.group(2))
+                c_name = match.group(1)
+                if c_name in ("Image", "Roi", "Plate", "Well"):
+                    # older tables may have column named e.g. 'image'
+                    if c_name not in column_names and c_name.lower() in column_names:
+                        c_name = c_name.lower()
+                query = "(%s==%s)" % (c_name, match.group(2))
             try:
                 logger.info(query)
                 hits = t.getWhereList(query, None, 0, rows, 1)
                 totalCount = len(hits)
                 # paginate the hits
                 hits = hits[range_start:range_end]
             except Exception:
@@ -2997,15 +3003,15 @@
                 ]
 
         row_gen = row_generator(t, hits)
 
         rsp_data = {
             "data": {
                 "column_types": [col.__class__.__name__ for col in cols],
-                "columns": [col.name for col in cols],
+                "columns": column_names,
             },
             "meta": {
                 "rowCount": rows,
                 "totalCount": totalCount,
                 "limit": limit,
                 "offset": offset,
             },
@@ -3038,25 +3044,37 @@
     t = r.openTable(omero.model.OriginalFileI(fileid), ctx)
     if not t:
         return dict(error="Table %s not found" % fileid)
 
     try:
         cols = t.getHeaders()
         rows = t.getNumberOfRows()
+        allmeta = t.getAllMetadata()
 
+        user_metadata = {}
+        for k in allmeta:
+            if allmeta[k].__class__ == omero.rtypes.RStringI:
+                try:
+                    val = json.loads(allmeta[k].val)
+                    user_metadata[k] = val
+                except json.decoder.JSONDecodeError:
+                    user_metadata[k] = allmeta[k].val
+            else:
+                user_metadata[k] = allmeta[k].val
         rsp_data = {
             "columns": [
                 {
                     "name": col.name,
                     "description": col.description,
                     "type": col.__class__.__name__,
                 }
                 for col in cols
             ],
             "totalCount": rows,
+            "user_metadata": user_metadata,
         }
         return rsp_data
     finally:
         if not lazy:
             t.close()
```

### Comparing `omero-web-5.9.1/omeroweb/webgateway/webgateway_cache.py` & `omero-web-5.9.2/omeroweb/webgateway/webgateway_cache.py`

 * *Files 1% similar despite different names*

```diff
@@ -52,15 +52,15 @@
     """
     Caching base class - extended by L{FileCache} for file-based caching.
     Methods of this base class return None or False providing a no-caching
     implementation if needed
     """
 
     def __init__(self):
-        """ not implemented """
+        """not implemented"""
         pass
 
     def get(self, k):
         return None
 
     def set(self, k, v, t=0, invalidateGroup=None):
         return False
@@ -207,15 +207,15 @@
                 while dirname != self._dir:
                     os.rmdir(dirname)
                     dirname = os.path.dirname(fname)
             except (IOError, OSError):
                 pass
 
     def wipe(self):
-        """ Deletes everything in the cache """
+        """Deletes everything in the cache"""
 
         shutil.rmtree(self._dir)
         self._createdir()
         return True
 
     def _check_entry(self, fname):
         """
@@ -516,21 +516,21 @@
         Clears all the caches.
         """
         self._json_cache.wipe()
         self._img_cache.wipe()
         self._thumb_cache.wipe()
 
     def _cache_set(self, cache, key, obj):
-        """ Calls cache.set(key, obj) """
+        """Calls cache.set(key, obj)"""
 
         logger.debug("   set: %s" % key)
         cache.set(key, obj)
 
     def _cache_clear(self, cache, key):
-        """ Calls cache.delete(key) """
+        """Calls cache.delete(key)"""
 
         logger.debug(" clear: %s" % key)
         cache.delete(key)
 
     def invalidateObject(self, client_base, user_id, obj):
         """
         Invalidates all caches for this particular object
@@ -746,26 +746,26 @@
         self.clearThumb(r, client_base, user_id, img.getId())
         # and json data
         if not skipJson:
             self.clearJson(client_base, img)
         return True
 
     def setSplitChannelImage(self, r, client_base, img, z, t, obj):
-        """ Calls L{setImage} with '-sc' context """
+        """Calls L{setImage} with '-sc' context"""
         return self.setImage(r, client_base, img, z, t, obj, "-sc")
 
     def getSplitChannelImage(self, r, client_base, img, z, t):
         """
         Calls L{getImage} with '-sc' context
         @rtype:     String
         """
         return self.getImage(r, client_base, img, z, t, "-sc")
 
     def setOmeTiffImage(self, r, client_base, img, obj):
-        """ Calls L{setImage} with '-ometiff' context """
+        """Calls L{setImage} with '-ometiff' context"""
         return self.setImage(r, client_base, img, 0, 0, obj, "-ometiff")
 
     def getOmeTiffImage(self, r, client_base, img):
         """
         Calls L{getImage} with '-ometiff' context
         @rtype:     String
         """
@@ -879,29 +879,29 @@
 
 class AutoLockFile:
     """
     Class extends file to facilitate creation and deletion of lock file.
     """
 
     def __init__(self, fn, mode):
-        """ creates a '.lock' file with the specified file name and mode """
+        """creates a '.lock' file with the specified file name and mode"""
         # FIXME: AutoLockFile previously extended file object
         # super(AutoLockFile, self).__init__(fn, mode)
         self._lock = os.path.join(os.path.dirname(fn), ".lock")
         open(self._lock, "a").close()
 
     def __del__(self):
-        """ tries to delete the lock file """
+        """tries to delete the lock file"""
         try:
             os.remove(self._lock)
         except Exception:
             pass
 
     def close(self):
-        """ tries to delete the lock file and close the file """
+        """tries to delete the lock file and close the file"""
         try:
             os.remove(self._lock)
         except Exception:
             pass
         # FIXME: AutoLockFile previously extended file object
         # super(AutoLockFile, self).close()
```

### Comparing `omero-web-5.9.1/omeroweb/webredirect/urls.py` & `omero-web-5.9.2/omeroweb/webredirect/urls.py`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/webredirect/views.py` & `omero-web-5.9.2/omeroweb/webredirect/views.py`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/omeroweb/wsgi.py` & `omero-web-5.9.2/omeroweb/wsgi.py`

 * *Files identical despite different names*

### Comparing `omero-web-5.9.1/setup.py` & `omero-web-5.9.2/setup.py`

 * *Files identical despite different names*

